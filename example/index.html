<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
    /> -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="example.css" />
    <!-- IMPORT THE TOOLBOX -->
    <script src="lib/RemoteCalibrator.js"></script>
    <title>RemoteCalibrator | Demo</title>
    <!-- favicon -->
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üßê</text></svg>"
    />
  </head>
  <body>
    <div id="toolbox">
      <h1 id="toolbox-headline">RemoteCalibrator</h1>

      <h2>Functions</h2>

      <div id="functions" class="flex-wrapper"></div>

      <h2>Getters</h2>

      <div id="getters-exp" class="getters flex-wrapper"></div>
      <div id="getters-env" class="getters flex-wrapper"></div>
    </div>

    <div id="experiment">
      <h1>üî¨ Doing some experiment here.</h1>
    </div>

    <script src="example.js"></script>
    <script>
      /**
       * Programmatically add buttons for functions, getters, etc.
       */
      const functions = [
        // [name, actual function name, function name used in this demo]
        ['Initialization', 'init', 'initialization'],
        ['Measure display size', 'displaySize', 'measureDisplaySize'],
        ['Measure screen size', 'screenSize', 'measureScreenSize'],
        [
          'Measure viewing distance',
          'measureDistance',
          'measureViewingDistance',
        ],
        ['Track viewing distance', 'trackDistance', 'trackViewingDistance'],
        ['Gaze tracking', 'gazeTracking', 'startGazeTracking'],
        // Environment
        ['Environment', 'environment', 'getEnvironment'],
      ]
      const functionsElement = document.getElementById('functions')
      functions.forEach(f => {
        let b = document.createElement('button')

        if (f[1] === 'init') b.id = 'init-button'
        else b.className = 'disabled'

        b.onclick = () => eval(f[2] + '()')
        b.innerHTML = `${f[0]}<code>.${f[1]}()</code>`
        functionsElement.appendChild(b)
      })
      const gettersExp = [
        'displayWidthPX',
        'displayHeightPX',
        'windowWidthPX',
        'windowHeightPX',
        'screenWidthCM',
        'screenHeightCM',
        'screenDiagonalCM',
        'screenDiagonalIN',
        'screenPPI',
        'screenPhysicalPPI',
        'viewingDistanceCM',
        'gazePositionPX',
      ]

      const gettersEnv = [
        'browser',
        'browserVersion',
        'model',
        'manufacturer',
        'engine',
        'system',
        'systemFamily',
        'description',
        'fullDescription',
      ]

      function setGetters(gE, gS) {
        gS.forEach(getter => {
          let b = document.createElement('button')
          b.className = 'disabled'
          b.onclick = () =>
            printMessage(
              RemoteCalibrator[getter]
                ? `<code>${JSON.stringify(RemoteCalibrator[getter])}</code>`
                : 'nodata'
            )
          b.innerHTML = `<code>.${getter}</code>`
          gE.appendChild(b)
        })
      }

      setGetters(document.getElementById('getters-exp'), gettersExp)
      setGetters(document.getElementById('getters-env'), gettersEnv)
    </script>
    <!-- GitHub corner -->
    <div class="github-corner">
      <a
        href="https://github.com/peilingjiang/RemoteCalibrator"
        title="Fork me on GitHub"
        ><svg viewbox="0 0 100 100" fill="#24292e">
          <title>Fork me on GitHub</title>
          <path
            d="M0 0v100h100V0H0zm60 70.2h.2c1 2.7.3 4.7 0 5.2 1.4 1.4 2 3 2 5.2 0 7.4-4.4 9-8.7 9.5.7.7 1.3 2 1.3 3.7V99c0 .5 1.4 1 1.4 1H44s1.2-.5 1.2-1v-3.8c-3.5 1.4-5.2-.8-5.2-.8-1.5-2-3-2-3-2-2-.5-.2-1-.2-1 2-.7 3.5.8 3.5.8 2 1.7 4 1 5 .3.2-1.2.7-2 1.2-2.4-4.3-.4-8.8-2-8.8-9.4 0-2 .7-4 2-5.2-.2-.5-1-2.5.2-5 0 0 1.5-.6 5.2 1.8 1.5-.4 3.2-.6 4.8-.6 1.6 0 3.3.2 4.8.7 2.8-2 4.4-2 5-2z"
          ></path>
        </svg>
      </a>
    </div>
    <style>
      .github-corner {
        position: absolute;
        right: 0;
        top: 0;
        width: 100px;
        height: 100px;
        overflow: hidden;
      }
      .github-corner a {
        position: absolute;
        right: 0;
        top: 0;
        left: 0;
        bottom: 0;
        transform: translate(50%, -50%) rotate(45deg);
        color: #000000;
      }
    </style>
    <!-- GitHub corner END -->
  </body>
</html>
