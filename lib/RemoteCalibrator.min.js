/*! For license information please see RemoteCalibrator.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RemoteCalibrator=t():e.RemoteCalibrator=t()}(self,(()=>(()=>{var __webpack_modules__={6003:()=>{window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(e,1e3/60)},window.cancelRequestAnimFrame=window.cancelCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout},359:(e,t,n)=>{"use strict";n.d(t,{F:()=>r,a:()=>a});var s=n(9677);const r=(e,t,{go:n,cancel:r,custom:a},i,o=!0)=>{const l=document.createElement("div");let u,c,h;if(l.className="rc-buttons"+(o?" rc-absolute-buttons":""),l.id="rc-buttons",n&&(u=document.createElement("button"),u.className="rc-button rc-go-button",u.onclick=n,u.innerHTML=s.H.RC_ok[e],l.appendChild(u)),r&&i&&(c=document.createElement("button"),c.className="rc-button rc-cancel-button",c.onclick=r,c.innerHTML=s.H.RC_cancel[e],l.appendChild(c)),a){const{callback:e,content:t}=a;h=document.createElement("button"),h.className="rc-button rc-custom-button",h.onclick=e,h.innerHTML=t,l.appendChild(h)}return t.appendChild(l),[l,u,c,h]},a=e=>{e.querySelector("#rc-buttons").remove()}},2016:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>takeInput});var _buttons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(359),_keyBinder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9853),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9043);const takeInput=async(RC,extraFunction=null,extraFunctionOut=null,customButtonConfig=null)=>{const unit=RC.equipment.value.unit,unitDisplay=unit===RC._CONST.UNITS.CM?"cm":"in",unitIsFraction=unit===RC._CONST.UNITS.IN_F,formItem=`<div class="rc-form">\n  <div class="rc-form-inputs">\n  ${unitIsFraction?`<input type="text" class="rc-form-input rc-form-input-f-integer" placeholder="integer" /><input type="text" class="rc-form-input rc-form-input-f-fraction" placeholder="fraction (like 3/8) or 0" /><span>${unitDisplay}</span>`:`<input type="text" class="rc-form-input" /><span>${unitDisplay}</span>`}\n  </div>\n</div>`,instruction=RC.background.querySelector(".calibration-instruction");instruction.innerHTML+=formItem;const formElement=instruction.querySelector(".rc-form"),formInputElement=instruction.querySelector(".rc-form-input"),formInputElementFInteger=instruction.querySelector(".rc-form-input-f-integer"),formInputElementFFraction=instruction.querySelector(".rc-form-input-f-fraction");unitIsFraction?formInputElementFInteger.focus():formInputElement.focus();const addedButtons=(0,_buttons__WEBPACK_IMPORTED_MODULE_0__.F)(RC.L,formElement,{go:()=>{},custom:customButtonConfig||void 0},!0,!1),goButton=addedButtons[1],customButton=addedButtons[3];goButton.disabled=!0;const eleOkay=e=>{e.classList.remove("rc-input-error"),goButton.disabled=!1},eleError=e=>{isAcceptedSingleInput(e.value.slice(-1))?(e.classList.add("rc-input-error"),goButton.disabled=!0):e.value=e.value.substring(0,e.value.length-1)},setupEleOninput=(e,t)=>{e.oninput=()=>{t(e.value)?eleOkay(e):eleError(e)}},_validationForFraction=()=>{let e=!0;return validInputInteger(formInputElementFInteger.value)?eleOkay(formInputElementFInteger):(eleError(formInputElementFInteger),e=!1),validInputFraction(formInputElementFFraction.value)?eleOkay(formInputElementFFraction):(eleError(formInputElementFFraction),e=!1),e};return unitIsFraction?(formInputElementFInteger.oninput=_validationForFraction,formInputElementFFraction.oninput=_validationForFraction):setupEleOninput(formInputElement,validInput),(0,_utils__WEBPACK_IMPORTED_MODULE_2__.nB)(extraFunction),new Promise((resolve=>{const bFunction=()=>{removeInputElements(formElement,extraFunctionOut),(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.l)(bindKeysFunction),resolve(null)},fFunction=()=>{let valid=!1,numericalValue,inputValue;unitIsFraction&&validInputInteger(formInputElementFInteger.value)&&validInputFraction(formInputElementFFraction.value)?(valid=!0,numericalValue=parseInt(formInputElementFInteger.value)+eval(formInputElementFFraction.value),inputValue=formInputElementFInteger.value+" "+formInputElementFFraction.value):!unitIsFraction&&validInput(formInputElement.value)&&(valid=!0,numericalValue=Number(formInputElement.value)||Number(formInputElement.value.replace(",",".")),inputValue=formInputElement.value),valid&&(removeInputElements(formElement,extraFunctionOut),(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.l)(bindKeysFunction),resolve({value:{numerical:numericalValue,input:inputValue,unit},timestamp:performance.now()}))};goButton.onclick=fFunction,customButton.onclick=bFunction;const bindKeysFunction=(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.m)({Enter:fFunction,Escape:bFunction})}))},removeInputElements=(e,t)=>{(0,_buttons__WEBPACK_IMPORTED_MODULE_0__.a)(e);for(let t of e.children)t.remove();e.remove(),(0,_utils__WEBPACK_IMPORTED_MODULE_2__.nB)(t)},validInput=e=>e.length>0&&!e.includes(" ")&&(!isNaN(e)||!isNaN(e.replace(",","."))),validInputInteger=e=>!!validInput(e)&&(parseInt(e)===Number(e)&&Number(e)>0),validInputFraction=text=>{if("0"===text)return!0;if(!text.includes("/")||text.match(/\//g).length>1)return!1;const numbers=text.split("/");return validInputInteger(numbers[0])&&validInputInteger(numbers[1])&&(0,_utils__WEBPACK_IMPORTED_MODULE_2__.DW)(numbers[1])&&eval(text)<1},isAcceptedSingleInput=e=>/[0-9]/.test(e)||[".","/",","].includes(e)},9853:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,m:()=>r});var s=n(9043);function r(e,t="keydown"){const n=t=>{t.key in e&&(t.preventDefault(),(0,s.nB)(e[t.key],t))};return document.body.addEventListener(t,n),n}function a(e,t="keydown"){document.body.removeEventListener(t,e)}},2646:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,t:()=>r});var s=n(9677);function r(e){const t=Object.keys(s.H.EE_languageNameNative);if(t.includes(e))return a(e);const n=[];t.forEach((e=>{n.push(e.split("-")[0])}));const r=e.split("-")[0].toLowerCase();return n.includes(r)?a(t[n.indexOf(r)]):a("en-US")}function a(e){return{value:{language:e,languageNameEnglish:s.H.EE_languageNameEnglish[e],languageNameNative:s.H.EE_languageNameNative[e],languageDirection:s.H.EE_languageDirection[e],languagePhraseSource:s.H.EE_phraseSource[e]},timestamp:performance.now()}}function i(e){return"1"===s.H.EE_languageUseSpace[e]?" ":""}},477:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});const s="mocha"===n(7999)._;let r,a;if(!s){const e=n(9171);r=e.Synth,a=e.Volume}class i{triggerAttackRelease(){}}const o=s?new i:new r({oscillator:{type:"sine"},envelope:{attack:.001,decay:.001,sustain:1,release:.001}}).connect(new a(-17).toDestination()),l=s?new i:new r({oscillator:{type:"sine"}}).connect(new a(-5).toDestination()),u=(e=0)=>{switch(e){case 0:default:return void o.triggerAttackRelease(2e3,.05);case 1:return void o.triggerAttackRelease(500,.5);case 2:return void o.triggerAttackRelease(200,.6);case 3:return void l.triggerAttackRelease(200,.2)}}},9043:(e,t,n)=>{"use strict";function s(e,...t){if(e&&"function"==typeof e)return t.length?e(...t):e()}n.d(t,{$O:()=>l,$k:()=>w,AU:()=>u,Av:()=>y,DW:()=>d,Ew:()=>c,G8:()=>g,JZ:()=>m,KY:()=>v,Md:()=>r,Nh:()=>f,Sf:()=>i,aS:()=>o,k4:()=>p,ll:()=>h,ln:()=>b,nB:()=>s,yy:()=>a}),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var s=performance.now(),r=Math.max(0,16-(s-e)),a=window.setTimeout((function(){t(s+r)}),r);return e=s+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError;for(var t=Object(e),n=1;n<arguments.length;n++){var s=arguments[n];if(null!=s){s=Object(s);for(var r=Object.keys(Object(s)),a=0,i=r.length;a<i;a++){var o=r[a],l=Object.getOwnPropertyDescriptor(s,o);void 0!==l&&l.enumerable&&(t[o]=s[o])}}}return t}})}();const r=()=>{};function a(e){return new Promise((t=>setTimeout(t,e)))}function i(){if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled){const e=document.documentElement;return e.requestFullscreen?(e.requestFullscreen(),!0):e.mozRequestFullScreen?(e.mozRequestFullScreen(),!0):e.webkitRequestFullscreen?(e.webkitRequestFullscreen(),!0):!!e.msRequestFullscreen&&(e.msRequestFullscreen(),!0)}return!1}function o(){return Math.abs(window.innerHeight-screen.height)<5&&Math.abs(window.innerWidth-screen.width)<5&&window.screenX<5&&window.screenY<5}function l(e,t=null,n=!1,s=""){return`<div class="calibration-instruction${n?" calibration-instruction-scrollable":""}"><h1>${e}</h1>`+(t?`<p class="calibration-description${s.length?" "+s:""}">${t}</p></div>`:"")}function u(e,t,n){return e<t?t:e>n?n:e}function c(e,t,n,s,r){return s+1*(e-t)/(n-t)*(r-s)}function h(e,t,n,s){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-s,2))}function d(e){return e&&!(e&e-1)}function p(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function f(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}const m=e=>{const t=Math.floor(e.length/2),n=[...e].sort(((e,t)=>e-t));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},g=e=>e.reduce(((e,t)=>e+t))/e.length;function y(e,t,n=1){let s=0,r=0;for(;0===s;)s=Math.random();for(;0===r;)r=Math.random();let a=Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*r);return a=a/10+.5,a>1||a<0?a=y(e,t,n):(a=Math.pow(a,n),a*=t-e,a+=e),a}const b=e=>JSON.parse(JSON.stringify(e));function w(){"activeElement"in document&&document.activeElement.blur()}const v=e=>{if("touchstart"===e.type||"touchmove"===e.type){const t=e.touches[0];return{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}}},7999:(e,t,n)=>{"use strict";n.d(t,{A:()=>w,_:()=>y});var s=n(7503),r=n.n(s),a=n(115),i=n.n(a);const o=["tall","short","up","down","fancy","busy","loud","crazy","kind","nice","real","speedy","handy","active","alert","bold","brave","bright","calm","clever","cool","free","grand","great","happy","jolly","lucky","spicy","sunny","super","wise"],l=["bat","bear","bird","cat","cow","deer","dog","dove","dragon","duck","eagle","fish","fox","frog","goose","lion","mouse","owl","pig","rat","seal","shark","sheep","snake","spider","tiger","turkey","viper","whale","wolf","onion","carrot","pear","bean","corn","bread","apple","banana","fig","grape","lemon","lime","orange","peach","plum","dumpling","cake","pasta","pot","sushi"],u=["blue","bronze","fire","forest","gold","gray","green","navy","purple","red","silver","sky","yellow","neon","black","white","brown","aqua"];function c(e){return e[Math.floor(Math.random()*e.length)]}function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(){const e="000"+(new Date).getMilliseconds().toString();return h(c(o))+h(c(u))+h(c(l))+e.substring(e.length-3)}var p=n(782),f=n(9043),m=n(2646),g=n(9677);const y="production";class b{constructor(){window.console.log(`%c\nEasyEyes Remote Calibrator ${this.version.value}\n`,`color: ${this._CONST.COLOR.ORANGE}`),this._initialized=!1,this._id=null,this._lang=null,this._langData=[],this._panelStatus={hasPanel:!1,panelFinished:!1,panelResolveIntervals:[]},this._panel={panel:null,panelObserver:null,panelTasks:[],panelParent:null,panelOptions:{},panelCallback:null,panelResolve:null},this._participantCheckEquipment={has:null,equipment:null,unit:null},this._trackingSetupFinishedStatus={gaze:!0,distance:!0},this._trackingPaused={gaze:!1,distance:!1},this._trackingVideoFrameTimestamps={gaze:0,distance:0},this._distanceTrackNudging={distanceCorrecting:null,distanceCorrectEnabled:!1,distanceDesired:null,distanceAllowedRatio:null},this._gazeTrackNudging={isCorrectingGaze:!1},this._environmentData=[],this._displayData=[],this._screenData=[],this._viewingDistanceData=[],this._nearPointData=[],this._PDData=[],this._gazePositionData=[],this._gazeAccuracyData=[],this._performanceData=[],this._fullscreenData=[],this._equipmentData=[],this._checkData=[],this._background={element:null,instructionElement:null},this._nudger={element:null,gazeElement:null},this._params={backgroundColor:"#eee",videoOpacity:.8,showCancelButton:!0}}get background(){return this._background.element}get instructionElement(){return this._background.instructionElement}get nudger(){return this._nudger.element}get params(){return this._params}get id(){return this._id?{value:this._id.value,timestamp:this._id.timestamp,date:this._id.date}:null}_helper_get(e,t){if(!e.length)return null;let n=e[e.length-1];return t?{value:n.value[t],timestamp:n.timestamp}:n}get version(){return{value:"0.7.5"}}get supportedLanguages(){const e=[];for(let t in g.H.EE_languageNameEnglish)e.push({language:t,languageNameEnglish:g.H.EE_languageNameEnglish[t],languageNameNative:g.H.EE_languageNameNative[t]});return e}get L(){return this._lang}get LD(){return this.languageDirection.value}get language(){return this._helper_get(this._langData,"language")}get languageNameEnglish(){return this._helper_get(this._langData,"languageNameEnglish")}get languageNameNative(){return this._helper_get(this._langData,"languageNameNative")}get languageDirection(){return this._helper_get(this._langData,"languageDirection")}get languagePhraseSource(){return this._helper_get(this._langData,"languagePhraseSource")}get computeArrayFillMHz(){return this._helper_get(this._performanceData,"computeArrayFillMHz")}get computeRandomMHz(){return this._helper_get(this._performanceData,"computeRandomMHz")}get idealFps(){return this._helper_get(this._performanceData,"idealFps")}get stressFps(){return this._helper_get(this._performanceData,"stressFps")}get isFullscreen(){return this.fullscreenData.length&&i()((0,f.aS)(),this._helper_get(this._fullscreenData).value)||(this.newFullscreenData={value:(0,f.aS)(),timestamp:performance.now()}),this._helper_get(this._fullscreenData)}get concurrency(){return this._helper_get(this._environmentData,"concurrency")}get browser(){return this._helper_get(this._environmentData,"browser")}get browserVersion(){return this._helper_get(this._environmentData,"browserVersion")}get deviceType(){return this._helper_get(this._environmentData,"deviceType")}get isMobile(){const e=this._helper_get(this._environmentData,"deviceType");return{value:"desktop"!==e.value,timestamp:e.timestamp}}get model(){return this._helper_get(this._environmentData,"model")}get manufacturer(){return this._helper_get(this._environmentData,"manufacturer")}get engine(){return this._helper_get(this._environmentData,"engine")}get system(){return this._helper_get(this._environmentData,"system")}get systemFamily(){return this._helper_get(this._environmentData,"systemFamily")}get description(){return this._helper_get(this._environmentData,"description")}get fullDescription(){return this._helper_get(this._environmentData,"fullDescription")}get userLanguage(){return this._helper_get(this._environmentData,"userLanguage")}get equipment(){return this._helper_get(this._equipmentData)}get displayWidthPx(){return this._displaySize(),this._helper_get(this._displayData,"displayWidthPx")}get displayHeightPx(){return this._displaySize(),this._helper_get(this._displayData,"displayHeightPx")}get windowWidthPx(){return this._displaySize(),this._helper_get(this._displayData,"windowWidthPx")}get windowHeightPx(){return this._displaySize(),this._helper_get(this._displayData,"windowHeightPx")}get screenWidthCm(){return this._helper_get(this._screenData,"screenWidthCm")}get screenHeightCm(){return this._helper_get(this._screenData,"screenHeightCm")}get screenDiagonalCm(){return this._helper_get(this._screenData,"screenDiagonalCm")}get screenDiagonalIn(){return this._helper_get(this._screenData,"screenDiagonalIn")}get screenPpi(){return this._helper_get(this._screenData,"screenPpi")}get screenPhysicalPpi(){return this._helper_get(this._screenData,"screenPhysicalPpi")}get viewingDistanceCm(){return this._helper_get(this._viewingDistanceData)}get nearPointCm(){return this._helper_get(this._nearPointData)}get PDCm(){return this._helper_get(this._PDData)}get gazePositionPx(){return this._helper_get(this._gazePositionData)}get gazeAccuracyDeg(){return this._helper_get(this._gazeAccuracyData)}get displayData(){return this._displayData}get screenData(){return this._screenData}get viewingDistanceData(){return this._viewingDistanceData}get nearPointData(){return this._nearPointData}get PDData(){return this._PDData}get gazeData(){return this._gazePositionData}get performanceData(){return this._performanceData}get fullscreenData(){return this._fullscreenData}get environmentData(){return this._environmentData}get languageData(){return this._langData}get equipmentData(){return this._equipmentData}get checkData(){return this._checkData}set newDisplayData(e){this._displayData.push(e)}set newScreenData(e){this._screenData.push(e)}set newViewingDistanceData(e){this._viewingDistanceData.push(e)}set newNearPointData(e){this._nearPointData.push(e)}set newPDData(e){this._PDData.push(e)}set newGazePositionData(e){this._gazePositionData.push(e)}set newGazeAccuracyData(e){this._gazeAccuracyData.push(e)}set newEnvironmentData(e){this._environmentData.push(e)}set newPerformanceData(e){this._performanceData.push(e)}set newFullscreenData(e){this._fullscreenData.push(e)}set newLanguageData(e){this._langData.push(e)}set newEquipmentData(e){this._equipmentData.push(e)}set newCheckData(e){this._checkData.push(e)}}b.prototype.init=async function(e={},t){this._initialized||(this._initialized=!0,e=Object.assign({id:d(),language:"AUTO",languagePhrasesJSON:null,fullscreen:!1},e),await(async(e=null)=>{const{remoteCalibratorPhrases:t}=await import("https://cdn.jsdelivr.net/gh/EasyEyes/remote-calibrator-phrases@latest/phrases/main.js");Object.assign(g.H,t),e&&Object.assign(g.H,e)})(e.languagePhrasesJSON),e.fullscreen&&!p.Y&&(0,f.Sf)(),this._id={value:e.id,timestamp:performance.now(),date:new Date},this._environment(),this._displaySize(),this._CONST.S.AUTO===e.language?this.newLanguageData=(0,m.t)(this.userLanguage.value):this.newLanguageData=(0,m.t)(e.language),this._lang=this.language.value,(0,f.nB)(t,this._id))},b.prototype._environment=function(){if(this.checkInitialized()){(0,f.$k)();const e=e=>e.match(/Mobi/i)?"mobile":"desktop",t={value:{concurrency:window.navigator.hardwareConcurrency||-1,browser:r().name,browserVersion:r().version,deviceType:e(navigator.userAgent),model:r().product||"unknown",manufacturer:r().manufacturer||"unknown",engine:r().layout,system:`${r().os.family} ${r().os.version}`,systemFamily:r().os.family,description:r().description,fullDescription:r().ua,userLanguage:window.navigator.userLanguage||window.navigator.language},timestamp:this.id.timestamp};this.newEnvironmentData=t}},b.prototype.checkInitialized=function(){return!!this._initialized},b.prototype.getFullscreen=function(e=!0){return!!(0,f.aS)()||(this.newFullscreenData={value:!(!e||p.Y)&&(0,f.Sf)(),timestamp:performance.now()},this.isMobile.value&&window.scrollBy(0,1),this.isFullscreen)},b.prototype.newLanguage=function(e){if(this.checkInitialized()){let t;return this.newLanguageData=t=(0,m.t)(e),this._lang=this.language.value,t}},b.prototype._addBackground=function(e){if(null!==this.background)return;let t=document.getElementById("calibration-background");return t||(t=document.createElement("div"),t.id="calibration-background",t.className=`calibration-background rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(t),t.style.background=this.params.backgroundColor),e&&(t.innerHTML=e),this._background.element=t,this.background},b.prototype._replaceBackground=function(e){return null!==this.background&&this._removeBackground(),this._addBackground(e)},b.prototype._removeBackground=function(){let e=document.getElementById("calibration-background");return!!e&&(document.body.classList.remove("lock-view"),document.body.removeChild(e),this._background={element:null,instructionElement:null},!0)},b.prototype._addBackgroundText=function(e,t){let n=this.background.getElementsByClassName("calibration-instruction");for(let e=0;e<n.length;e++)this.background.removeChild(n[e]);this.background.innerHTML=(0,f.$O)(e,t)},b.prototype._constructFloatInstructionElement=function(e=null,t){if(null===this.background&&this._addBackground(),null!==this.instructionElement){if(this.instructionElement.id===e)return;this.background.removeChild(this.instructionElement),this._background.instructionElement=null}const n=document.createElement("p");return n.className="float-instruction",n.id=e||"float-instruction",n.innerHTML=t,this.background.appendChild(n),this._background.instructionElement=n},b.prototype._setFloatInstructionElementPos=function(e,t=16){const n=this.instructionElement.getBoundingClientRect();this.instructionElement.style.bottom=`calc(50% + ${t+10}px)`,this.instructionElement.style.textAlign="left","left"===e?(this.instructionElement.style.left=`max(10%, ${n.width/2}px)`,this.instructionElement.style.right="unset",this.instructionElement.style.transform=`translate(${-n.width/2}px, 0)`):"right"===e?(this.instructionElement.style.right=`max(10%, ${n.width/2}px)`,this.instructionElement.style.left="unset",this.instructionElement.style.transform=`translate(${n.width/2}px, 0)`):(this.instructionElement.style.left="50%",this.instructionElement.style.right="unset",this.instructionElement.style.top="unset",this.instructionElement.style.transform="translate(-50%, 0)",this.instructionElement.style.textAlign="center")},b.prototype._removeFloatInstructionElement=function(){return!!this.instructionElement&&(this.background.removeChild(this.instructionElement),this._background.instructionElement=null,this.background)},b.prototype._addCreditOnBackground=function(e){null===this.background&&this._addBackground();const t=document.createElement("p");return t.className="calibration-credit-text",t.id="calibration-credit-text",t.innerHTML=e,this.background.appendChild(t),t};const w=b},782:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});const s=!1},9677:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});const s={EE_languageDirection:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_languageUseSpace:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_languageUsesSpaces:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_languageFont:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_languageNameEnglish:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_languageNameNative:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_languageChoose:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_phraseSource:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibilityTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatible:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleBrowserDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleBrowserNotOSDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleBrowserOSDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleBrowserVersionDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleBrowserVersionNotOSDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleBrowserVersionOSDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleExceptForScreenResolution:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleNotBrowserDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleNotBrowserNotOSDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleNotBrowserOSDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleNotOSDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleOSDeviceCores:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleScreenHeight:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleScreenSize:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_compatibleScreenWidth:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_ok:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_or:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_refresh:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_describeDevice:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_describeScreenSize:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_IDRequested:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_noFileSelected:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_browseForID:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_ID_noLocalStorage:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_ID:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_ID_uploadOrValidID:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_ID_invalidID:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_ID_invalidFile:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_incompatible:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_incompatibleReturnToProlific:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_studyURL:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_angleDistanceIntro:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_angleDistanceTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_cancel:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTracking:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingCloseL:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingCloseR:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingGuide:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingIntroEnd:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingIntroStart:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingMoveCloser:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingMoveFurther:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingRedo:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_environment:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_errorCameraUseDenied:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_errorNoCamera:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_gazeTracking:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_gazeTrackingIntro:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_gazeTrackingNudge:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_gazeTrackingTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_ifStuckPleaseReturn:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_nearPointIntro:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_nearPointTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_ok:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelButton:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelIntro:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelIntroNext:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelTitleNext:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelUsesWebcam:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelUsesWebcamPhone:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_performance:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_performanceIntro:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_performanceTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_privacyCamera:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_privacyIphoneMicrophone:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_requestCamera:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_screenSize:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_screenSizeCredit:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_screenSizeCreditCard:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_screenSizeHave:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_screenSizeIntro:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_screenSizeTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_screenSizeUSBA:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_screenSizeUSBC:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_starting:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_viewingBlindSpotCredit:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_viewingBlindSpotRejected:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_viewingDistance:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_viewingDistanceIntro:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_viewingDistanceIntroTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_viewingDistanceIntroLiMethod:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_viewingDistanceRedo:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_viewingDistanceTitle:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""}}},7790:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>_setDebugControl});var _components_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9043);const _setDebugControl=(e,t,n,s)=>{const r=document.createElement("div");r.className="rc-panel-debug-control",r.innerHTML='<h2>DEBUG CONTROL</h2><p class="rc-panel-debug-bold-text">REMEMBER TO SET debug TO false FOR PRODUCTION MODE!</p>',t.appendChild(r);const a=[];for(let t of n){let n=t.name?t.name:t;const s=document.createElement("div");s.className="rc-panel-debug-control-task-row",s.id="rc-debugger-row-"+n;let i=e._debuggerDefault[n];if(i){r.innerHTML+=`<h3>${n}</h3>`;const e={n:"number",s:"string"};switch(n){case"screenSize":for(let t in i.value)s.innerHTML+=_createValueElement(n,t,i.value[t],".value."+t,e.n);break;case"measureDistance":s.innerHTML+=_createValueElement(n,"value",i.value,".value",e.n),s.innerHTML+=_createValueElement(n,"method",i.method,".method",e.s,!0);break;case"trackDistance":s.innerHTML+=_createValueElement(n,"viewingDistanceCm",i.value.viewingDistanceCm,".value",e.n),s.innerHTML+=_createValueElement(n,"PDCm",i.value.PDCm,".value",e.n),s.innerHTML+=_createValueElement(n,"nearPointCm.x",i.value.nearPointCm.x,".value.x",e.n),s.innerHTML+=_createValueElement(n,"nearPointCm.y",i.value.nearPointCm.y,".value.y",e.n),s.innerHTML+=_createValueElement(n,"latencyMs",i.value.latencyMs,".latencyMs",e.n),s.innerHTML+=_createValueElement(n,"method",i.method,".method",e.s,!0);break;case"trackGaze":s.innerHTML+=_createValueElement(n,"x",i.value.x,".value.x",e.n),s.innerHTML+=_createValueElement(n,"y",i.value.y,".value.y",e.n),s.innerHTML+=_createValueElement(n,"latencyMs",i.value.latencyMs,".value.latencyMs",e.n);break;case"performance":s.innerHTML+=_createValueElement(n,"computeArrayFillMHz",i.value.computeArrayFillMHz,".value.computeArrayFillMHz",e.n),s.innerHTML+=_createValueElement(n,"computeRandomMHz",i.value.computeRandomMHz,".value.computeRandomMHz",e.n),s.innerHTML+=_createValueElement(n,"idealFps",i.value.idealFps,".value.idealFps",e.n),s.innerHTML+=_createValueElement(n,"stressFps",i.value.stressFps,".value.stressFps",e.n)}r.appendChild(s),a.push(n)}}const i=document.createElement("button");i.className="rc-panel-debug-control-next",i.innerHTML="Simulate calibration and continue",i.onclick=()=>{_wrapValues(e,a),(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.nB)(s,{timestamp:performance.now()}),e._panelStatus.panelFinished=!0},r.appendChild(i)},_createValueElement=(e,t,n,s,r,a=!1)=>`<div class="value-element">\n  <input type="text" id="${e}-${t.replace(".","-")}" value="${n}" data-source="${s}" data-type="${r}"${a?"readonly":""} />\n  <p>${t}</p>\n</div>`,_wrapValues=(e,t)=>{for(let n of t){const t=document.querySelector("#rc-debugger-row-"+n),s={};switch(n){case"screenSize":s.value={},_putData(e,s,t),e.newScreenData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.ln)(s);break;case"measureDistance":_putData(e,s,t),e.newViewingDistanceData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.ln)(s);break;case"trackDistance":e.newViewingDistanceData={value:_get(t,"#trackDistance-viewingDistanceCm"),latencyMs:_get(t,"#trackDistance-latencyMs"),method:_get(t,"#trackDistance-method","string"),timestamp:e._debuggerDefault.timestamp},e.newNearPointData={value:{x:_get(t,"#trackDistance-nearPointCm-x"),y:_get(t,"#trackDistance-nearPointCm-y")},timestamp:e._debuggerDefault.timestamp},e.newPDData={value:_get(t,"#trackDistance-PDCm"),timestamp:e._debuggerDefault.timestamp};break;case"trackGaze":s.value={},_putData(e,s,t),e.newGazePositionData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.ln)(s);break;case"performance":s.value={},_putData(e,s,t),e.newPerformanceData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.ln)(s)}}},_get=(e,t)=>{const n=e.querySelector(t);return"number"===n.dataset.type?Number(n.value):n.value},_putData=(RC,newData,taskRow)=>{for(let ele of taskRow.childNodes){const eleInput=ele.querySelector("input");try{eval(`newData${eleInput.dataset.source} = eleInput.dataset.type === 'number' ? Number(eleInput.value) : eleInput.value`)}catch(e){}newData.timestamp=RC._debuggerDefault.timestamp}return newData}},2921:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,".animated{-webkit-animation-duration:var(--animate-duration);animation-duration:var(--animate-duration);-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animated.repeat-1{-webkit-animation-iteration-count:var(--animate-repeat);animation-iteration-count:var(--animate-repeat)}.animated.repeat-2{-webkit-animation-iteration-count:calc(var(--animate-repeat)*2);animation-iteration-count:calc(var(--animate-repeat)*2)}.animated.repeat-3{-webkit-animation-iteration-count:calc(var(--animate-repeat)*3);animation-iteration-count:calc(var(--animate-repeat)*3)}.animated.delay-1s{-webkit-animation-delay:var(--animate-delay);animation-delay:var(--animate-delay)}.animated.delay-2s{-webkit-animation-delay:calc(var(--animate-delay)*2);animation-delay:calc(var(--animate-delay)*2)}.animated.delay-3s{-webkit-animation-delay:calc(var(--animate-delay)*3);animation-delay:calc(var(--animate-delay)*3)}.animated.delay-4s{-webkit-animation-delay:calc(var(--animate-delay)*4);animation-delay:calc(var(--animate-delay)*4)}.animated.delay-5s{-webkit-animation-delay:calc(var(--animate-delay)*5);animation-delay:calc(var(--animate-delay)*5)}.animated.faster{-webkit-animation-duration:calc(var(--animate-duration)/2);animation-duration:calc(var(--animate-duration)/2)}.animated.fast{-webkit-animation-duration:calc(var(--animate-duration)*.8);animation-duration:calc(var(--animate-duration)*.8)}.animated.slow{-webkit-animation-duration:calc(var(--animate-duration)*2);animation-duration:calc(var(--animate-duration)*2)}.animated.slower{-webkit-animation-duration:calc(var(--animate-duration)*3);animation-duration:calc(var(--animate-duration)*3)}@media (prefers-reduced-motion:reduce),print{.animated{-webkit-animation-duration:1ms!important;animation-duration:1ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important;-webkit-transition-duration:1ms!important;transition-duration:1ms!important}.animated[class*=Out]{opacity:0}}","",{version:3,sources:["webpack://./node_modules/animate.css/source/_base.css"],names:[],mappings:"AAAA,UACE,kDAA2C,CAA3C,0CAA2C,CAC3C,gCAAyB,CAAzB,wBACF,CAEA,mBACE,0CAAmC,CAAnC,kCACF,CAEA,mBACE,uDAAgD,CAAhD,+CACF,CAEA,mBACE,+DAA0D,CAA1D,uDACF,CAEA,mBACE,+DAA0D,CAA1D,uDACF,CAEA,mBACE,4CAAqC,CAArC,oCACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,iBACE,0DAAqD,CAArD,kDACF,CAEA,eACE,2DAAuD,CAAvD,mDACF,CAEA,eACE,0DAAqD,CAArD,kDACF,CAEA,iBACE,0DAAqD,CAArD,kDACF,CAEA,6CACE,UACE,wCAAkC,CAAlC,gCAAkC,CAElC,6CAAuC,CAAvC,qCAAuC,CADvC,yCAAmC,CAAnC,iCAEF,CAEA,sBACE,SACF,CACF",sourcesContent:[".animated {\n  animation-duration: var(--animate-duration);\n  animation-fill-mode: both;\n}\n\n.animated.infinite {\n  animation-iteration-count: infinite;\n}\n\n.animated.repeat-1 {\n  animation-iteration-count: var(--animate-repeat);\n}\n\n.animated.repeat-2 {\n  animation-iteration-count: calc(var(--animate-repeat) * 2);\n}\n\n.animated.repeat-3 {\n  animation-iteration-count: calc(var(--animate-repeat) * 3);\n}\n\n.animated.delay-1s {\n  animation-delay: var(--animate-delay);\n}\n\n.animated.delay-2s {\n  animation-delay: calc(var(--animate-delay) * 2);\n}\n\n.animated.delay-3s {\n  animation-delay: calc(var(--animate-delay) * 3);\n}\n\n.animated.delay-4s {\n  animation-delay: calc(var(--animate-delay) * 4);\n}\n\n.animated.delay-5s {\n  animation-delay: calc(var(--animate-delay) * 5);\n}\n\n.animated.faster {\n  animation-duration: calc(var(--animate-duration) / 2);\n}\n\n.animated.fast {\n  animation-duration: calc(var(--animate-duration) * 0.8);\n}\n\n.animated.slow {\n  animation-duration: calc(var(--animate-duration) * 2);\n}\n\n.animated.slower {\n  animation-duration: calc(var(--animate-duration) * 3);\n}\n\n@media print, (prefers-reduced-motion: reduce) {\n  .animated {\n    animation-duration: 1ms !important;\n    transition-duration: 1ms !important;\n    animation-iteration-count: 1 !important;\n  }\n\n  .animated[class*='Out'] {\n    opacity: 0;\n  }\n}\n"],sourceRoot:""}]);const o=i},2636:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,":root{--animate-duration:1s;--animate-delay:1s;--animate-repeat:1}","",{version:3,sources:["webpack://./node_modules/animate.css/source/_vars.css"],names:[],mappings:"AAAA,MACE,qBAAsB,CACtB,kBAAmB,CACnB,kBACF",sourcesContent:[":root {\n  --animate-duration: 1s;\n  --animate-delay: 1s;\n  --animate-repeat: 1;\n}\n"],sourceRoot:""}]);const o=i},7271:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,"@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}","",{version:3,sources:["webpack://./node_modules/animate.css/source/fading_entrances/fadeInUp.css"],names:[],mappings:"AAAA,4BACE,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CAEA,GACE,SAAU,CACV,+BAA+B,CAA/B,uBACF,CACF,CAVA,oBACE,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CAEA,GACE,SAAU,CACV,+BAA+B,CAA/B,uBACF,CACF,CAEA,UACE,+BAAwB,CAAxB,uBACF",sourcesContent:["@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n.fadeInUp {\n  animation-name: fadeInUp;\n}\n"],sourceRoot:""}]);const o=i},2551:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,"@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}","",{version:3,sources:["webpack://./node_modules/animate.css/source/fading_exits/fadeOutDown.css"],names:[],mappings:"AAAA,+BACE,GACE,SACF,CAEA,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CACF,CATA,uBACE,GACE,SACF,CAEA,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CACF,CAEA,aACE,kCAA2B,CAA3B,0BACF",sourcesContent:["@keyframes fadeOutDown {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n}\n\n.fadeOutDown {\n  animation-name: fadeOutDown;\n}\n"],sourceRoot:""}]);const o=i},8470:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,'.swal2-popup.swal2-toast{background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:min-content auto min-content;overflow-y:hidden;padding:1em;pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{font-size:1em;margin:.5em 1em;padding:0;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{font-size:1em;height:2em;margin:.5em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{font-size:.8em;margin:.5em 0 0;padding:.5em 0 0}.swal2-popup.swal2-toast .swal2-close{align-self:center;font-size:2em;grid-column:3/3;grid-row:1/99;height:.8em;margin:0;width:.8em}.swal2-popup.swal2-toast .swal2-html-container{font-size:1em;margin:.5em 1em;overflow:initial;padding:0;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{align-self:center;grid-column:1;grid-row:1/99;height:2em;margin:.25em;width:2em}.swal2-popup.swal2-toast .swal2-icon{align-self:center;grid-column:1;grid-row:1/99;height:2em;margin:0 .5em 0 0;min-width:2em;width:2em}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{align-items:center;display:flex;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{height:2em;width:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{height:auto;justify-content:flex-start;margin:.5em 0 0;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{font-size:1em;margin:.25em .5em;padding:.4em .6em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{border-radius:50%;height:3em;position:absolute;width:1.6em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{border-radius:4em 0 0 4em;left:-.5em;top:-.8em;transform:rotate(-45deg);transform-origin:2em 2em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{border-radius:0 4em 4em 0;left:.9375em;top:-.25em;transform-origin:0 1.5em}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{height:2em;width:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{height:2.6875em;left:.4375em;top:0;width:.4375em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{left:.1875em;top:1.125em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{right:.1875em;top:.9375em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){box-sizing:border-box;display:grid;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;inset:0;overflow-x:hidden;padding:.625em;position:fixed;transition:background-color .1s;z-index:1060;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:transparent!important}div:where(.swal2-container).swal2-bottom-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}div:where(.swal2-container).swal2-bottom,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-top{grid-template-columns:auto minmax(0,1fr) auto}div:where(.swal2-container).swal2-bottom-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-left>.swal2-popup,div:where(.swal2-container).swal2-center-start>.swal2-popup{align-self:center;grid-row:2}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-left>.swal2-popup,div:where(.swal2-container).swal2-bottom-start>.swal2-popup{align-self:end;grid-column:1;grid-row:3}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup,div:where(.swal2-container).swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{align-self:stretch;grid-row:1/4}div:where(.swal2-container).swal2-no-transition{transition:none!important}div:where(.swal2-container) div:where(.swal2-popup){background:#fff;border:none;border-radius:5px;box-sizing:border-box;color:#545454;display:none;font-family:inherit;font-size:1rem;grid-template-columns:minmax(0,100%);max-width:100%;padding:0 0 1.25em;position:relative;width:32em}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){color:inherit;font-size:1.875em;font-weight:600;margin:0;max-width:100%;padding:.8em 1em 0;position:relative;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){align-items:center;box-sizing:border-box;display:flex;flex-wrap:wrap;justify-content:center;margin:1.25em auto 0;padding:0;width:auto;z-index:1}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}div:where(.swal2-container) div:where(.swal2-loader){align-items:center;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-color:#2778c4 transparent;border-radius:100%;border-style:solid;border-width:.25em;display:none;height:2.2em;justify-content:center;margin:0 1.875em;width:2.2em}div:where(.swal2-container) button:where(.swal2-styled){box-shadow:0 0 0 3px transparent;font-weight:500;margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{background:initial;background-color:#7066e0;border:0;border-radius:.25em;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{background:initial;background-color:#dc3741;border:0;border-radius:.25em;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{background:initial;background-color:#6e7881;border:0;border-radius:.25em;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px hsla(208,8%,47%,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){border-top:1px solid #eee;color:inherit;font-size:1em;margin:1em 0 0;padding:1em 1em 0;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{border-bottom-left-radius:5px;border-bottom-right-radius:5px;bottom:0;grid-column:auto!important;left:0;overflow:hidden;position:absolute;right:0}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){background:rgba(0,0,0,.2);height:.25em;width:100%}div:where(.swal2-container) img:where(.swal2-image){margin:2em auto 1em;max-width:100%}div:where(.swal2-container) button:where(.swal2-close){align-items:center;background:transparent;border:none;border-radius:5px;color:#ccc;cursor:pointer;font-family:monospace;font-size:2.5em;height:1.2em;justify-content:center;justify-self:end;margin-bottom:-1.2em;margin-right:0;margin-top:0;overflow:hidden;padding:0;transition:color .1s,box-shadow .1s;width:1.2em;z-index:2}div:where(.swal2-container) button:where(.swal2-close):hover{background:transparent;color:#f27474;transform:none}div:where(.swal2-container) button:where(.swal2-close):focus{box-shadow:inset 0 0 0 3px rgba(100,150,200,.5);outline:none}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{color:inherit;font-size:1.125em;font-weight:400;justify-content:center;line-height:normal;margin:1em 1.6em .3em;overflow:auto;padding:0;text-align:center;z-index:1;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) label:where(.swal2-checkbox),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) textarea:where(.swal2-textarea){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) textarea:where(.swal2-textarea){background:transparent;border:1px solid #d9d9d9;border-radius:.1875em;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;box-sizing:border-box;color:inherit;font-size:1.125em;transition:border-color .1s,box-shadow .1s;width:auto}div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5);outline:none}div:where(.swal2-container) input:where(.swal2-file)::-moz-placeholder,div:where(.swal2-container) input:where(.swal2-input)::-moz-placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::-moz-placeholder{color:#ccc}div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{background:#fff;margin:1em 2em 3px}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{color:inherit;font-weight:600;text-align:center;width:20%}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{font-size:1.125em;height:2.625em;line-height:2.625em;padding:0}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{background:transparent;font-size:1.125em;margin-left:auto;margin-right:auto;width:75%}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{background:transparent;color:inherit;font-size:1.125em;max-width:100%;min-width:50%;padding:.375em .625em}div:where(.swal2-container) .swal2-checkbox,div:where(.swal2-container) .swal2-radio{align-items:center;background:#fff;color:inherit;justify-content:center}div:where(.swal2-container) .swal2-checkbox label,div:where(.swal2-container) .swal2-radio label{font-size:1.125em;margin:0 .6em}div:where(.swal2-container) .swal2-checkbox input,div:where(.swal2-container) .swal2-radio input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;background:#f0f0f0;color:#666;font-size:1em;font-weight:300;justify-content:center;margin:1em 0 0;overflow:hidden;padding:.625em}div:where(.swal2-container) div:where(.swal2-validation-message):before{background-color:#f27474;border-radius:50%;color:#fff;content:"!";display:inline-block;font-weight:600;height:1.5em;line-height:1.5em;margin:0 .625em;min-width:1.5em;text-align:center;width:1.5em}div:where(.swal2-container) .swal2-progress-steps{align-items:center;background:transparent;flex-wrap:wrap;font-weight:600;margin:1.25em auto;max-width:100%;padding:0}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{background:#2778c4;border-radius:2em;color:#fff;flex-shrink:0;height:2em;line-height:2em;text-align:center;width:2em;z-index:20}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{background:#2778c4;flex-shrink:0;height:.4em;margin:0 -1px;width:2.5em;z-index:10}div:where(.swal2-icon){border:.25em solid #000;border-radius:50%;box-sizing:content-box;cursor:default;font-family:inherit;height:5em;justify-content:center;line-height:5em;margin:2.5em auto .6em;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:5em}div:where(.swal2-icon) .swal2-icon-content{align-items:center;display:flex;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{flex-grow:1;position:relative}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{background-color:#f27474;border-radius:.125em;display:block;height:.3125em;position:absolute;top:2.3125em;width:2.9375em}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{border-radius:50%;height:7.5em;position:absolute;width:3.75em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{border-radius:7.5em 0 0 7.5em;left:-2.0635em;top:-.4375em;transform:rotate(-45deg);transform-origin:3.75em 3.75em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{border-radius:0 7.5em 7.5em 0;left:1.875em;top:-.6875em;transform:rotate(-45deg);transform-origin:0 3.75em}div:where(.swal2-icon).swal2-success .swal2-success-ring{border:.25em solid hsla(98,55%,69%,.3);border-radius:50%;box-sizing:content-box;height:100%;left:-.25em;position:absolute;top:-.25em;width:100%;z-index:2}div:where(.swal2-icon).swal2-success .swal2-success-fix{height:5.625em;left:1.625em;position:absolute;top:.5em;transform:rotate(-45deg);width:.4375em;z-index:1}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{background-color:#a5dc86;border-radius:.125em;display:block;height:.3125em;position:absolute;z-index:2}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{left:.8125em;top:2.875em;transform:rotate(45deg);width:1.5625em}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{right:.5em;top:2.375em;transform:rotate(-45deg);width:2.9375em}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{height:50px;overflow:scroll;position:absolute;top:-9999px;width:50px}.swal2-rtl .swal2-close{margin-left:0;margin-right:0}.swal2-rtl .swal2-timer-progress-bar{left:auto;right:0}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotate(2deg)}33%{transform:translateY(0) rotate(-2deg)}66%{transform:translateY(.3125em) rotate(2deg)}to{transform:translateY(0) rotate(0deg)}}@keyframes swal2-toast-hide{to{opacity:0;transform:rotate(1deg)}}@keyframes swal2-toast-animate-success-line-tip{0%{left:.0625em;top:.5625em;width:0}54%{left:.125em;top:.125em;width:0}70%{left:-.25em;top:.625em;width:1.625em}84%{left:.75em;top:1.0625em;width:.5em}to{left:.1875em;top:1.125em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{right:1.375em;top:1.625em;width:0}65%{right:.9375em;top:1.25em;width:0}84%{right:0;top:.9375em;width:1.125em}to{right:.1875em;top:.9375em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}to{transform:scale(1)}}@keyframes swal2-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.5)}}@keyframes swal2-animate-success-line-tip{0%{left:.0625em;top:1.1875em;width:0}54%{left:.125em;top:1.0625em;width:0}70%{left:-.375em;top:2.1875em;width:3.125em}84%{left:1.3125em;top:3em;width:1.0625em}to{left:.8125em;top:2.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{right:2.875em;top:3.375em;width:0}65%{right:2.875em;top:3.375em;width:0}84%{right:0;top:2.1875em;width:3.4375em}to{right:.5em;top:2.375em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}to{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;opacity:0;transform:scale(.4)}50%{margin-top:1.625em;opacity:0;transform:scale(.4)}80%{margin-top:-.375em;transform:scale(1.15)}to{margin-top:0;opacity:1;transform:scale(1)}}@keyframes swal2-animate-error-icon{0%{opacity:0;transform:rotateX(100deg)}to{opacity:1;transform:rotateX(0deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-1turn)}to{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{opacity:0;transform:rotate(45deg)}25%{opacity:.4;transform:rotate(-25deg)}50%{opacity:.8;transform:rotate(15deg)}75%{opacity:1;transform:rotate(-5deg)}to{opacity:1;transform:rotateX(0)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent;box-sizing:border-box;max-width:100%;pointer-events:none;width:360px}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}',"",{version:3,sources:["webpack://./node_modules/sweetalert2/src/scss/_toasts.scss","webpack://./node_modules/sweetalert2/src/variables.scss","webpack://./node_modules/sweetalert2/src/scss/_core.scss","webpack://./node_modules/sweetalert2/src/scss/_icons.scss","webpack://./node_modules/sweetalert2/src/scss/_toasts-animations.scss","webpack://./node_modules/sweetalert2/src/scss/_animations.scss","webpack://./node_modules/sweetalert2/src/scss/_mixins.scss","webpack://./node_modules/sweetalert2/src/scss/_body.scss","webpack://./node_modules/sweetalert2/src/scss/_toasts-body.scss"],names:[],mappings:"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CCjCrB,gCDqCwB,CCtCxB,kBDqCyB,CCpCzB,kBDqCwB,CCrCxB,kBDqCwB,CC/CxB,YAAA,CAIA,YDqCkB,CCvClB,sBDqC2B,CClC3B,gBDqCkB,CCvClB,WD4CwB,CClC1B,wDAIE,gCDdsB,CCetB,eDduB,CCUvB,cDdkB,CCelB,oBDdmB,CCenB,yBDZuB,CCgBvB,wEACE,cAAA,CAGF,sEAIE,kBAAA,CACA,wBDfkC,CCYlC,QDdwB,CCexB,mBDd+B,CCiB/B,UDtNQ,CCuNR,aDf2B,CCiB3B,4EACE,yCDjBgC,CCqBpC,mEAIE,kBAAA,CACA,wBDpB+B,CCiB/B,QDnBqB,CCoBrB,mBDnB4B,CCsB5B,UDpOQ,CCqOR,aDpBwB,CCsBxB,yEACE,uCDtB6B,CC0BjC,qEAIE,kBAAA,CACA,wBDzBiC,CCsBjC,QDxBuB,CCyBvB,mBDxB8B,CC2B9B,UDlPQ,CCmPR,aDzB0B,CC2B1B,2EACE,wCD3B+B,CCgCjC,oFACE,yCD5DwB,CCgE5B,8DACE,YDlEuB,CCqEzB,0EACE,QAAA,CAIJ,qDAGE,yBAAA,CACA,aDpIiB,CCqIjB,aDpIqB,CCgIrB,cDpIkB,CCqIlB,iBDpImB,CCwInB,iBDpIsB,CCuIxB,gEAQE,6BD9QkB,CC6QlB,8BD7QkB,CCyQlB,QAAA,CAEA,0BAAA,CADA,MAAA,CAEA,eAAA,CALA,iBAAA,CACA,ODxQkB,CCiRpB,iEAGE,yBDjJkC,CCgJlC,YDjJ8B,CCgJ9B,UD/IkC,CCoJpC,oDAEE,mBDvPiB,CCsPjB,cDtPiB,CC0PnB,uDAGE,kBDxJ6B,CCqK7B,sBDxJ4B,CCqJ5B,WDxJwB,CCyJxB,iBD1SkB,CC6SlB,UDxJuB,CC2JvB,cAAA,CAFA,qBDxJ6B,CCyJ7B,eDxJ2B,CC2I3B,YDxJwB,CCsJxB,sBDxJiC,CCyKjC,gBD3K8B,CC+J9B,oBAAA,CADA,cDxJqB,CCuJrB,YDvJqB,CC2JrB,eAAA,CADA,SDzJyB,CC2JzB,mCDzJF,CCkJE,WDxJuB,CCqJvB,SDxJ8B,CC6K9B,6DAEE,sBDxJgC,CCyJhC,aD1RQ,CCwRR,cDxRQ,CC6RV,6DAEE,+CD1JgC,CCyJhC,YDzJgC,CC6JlC,yEACE,QAAA,CAIJ,kDAME,aDtRyB,CCuRzB,iBDtR6B,CCuR7B,eDtR+B,CCgR/B,sBDtRmC,CC6RnC,kBDtR+B,CCgR/B,qBDtR0B,CCwR1B,aDtR4B,CCqR5B,SDtR2B,CC4R3B,iBDtR8B,CC6Q9B,SAAA,CAUA,oBDtR6B,CCuR7B,qBDtR8B,CCyRhC,4UAME,kBD5RiB,CC+RnB,uKAQE,sBD7RqB,CC2RrB,wBDjSiB,CCkSjB,qBDjSwB,CCmSxB,gEDjSF,CC2RE,qBAAA,CAOA,aD9RgB,CC+RhB,iBDjSoB,CC2RpB,0CDvRF,CCsRE,UD1RoB,CCmSpB,0NACE,8BAAA,CACA,oCAAA,CAGF,yLACE,wBDjSqB,CCmSrB,yEDhSJ,CC+RI,YD/RJ,CCmSE,6NACE,UAAA,CADF,8MACE,UAAA,CAIJ,yCAEE,eDtYU,CCqYV,kBDrYU,CCwYV,+CACE,SAAA,CAGF,gDAEE,aD3Tc,CC4Td,eAAA,CACA,iBAAA,CAHA,SAGA,CAGF,+FAIE,iBDtUkB,CCoUlB,cD3Ue,CC8Uf,mBD9Ue,CC4Uf,SD5Ue,CCkVnB,yCACE,cDnViB,CCoVjB,eDnVkB,CCsVpB,wCAIE,sBDnVqB,CCoVrB,iBDrVoB,CCmVpB,gBAAA,CADA,iBAAA,CADA,SDjVoB,CCwVtB,4CACE,aD1UoB,CC2UpB,aD1UqB,CC6UvB,0CAIE,sBDhWqB,CCiWrB,aDhWgB,CCiWhB,iBDnWoB,CC+VpB,cAAA,CADA,aAAA,CAEA,qBDhWoB,CCsWtB,qFAEE,kBAAA,CAEA,eD3bU,CC4bV,aDzWgB,CCuWhB,sBDvWgB,CC2WhB,iGAEE,iBD/WkB,CC8WlB,aD9WkB,CCkXpB,iGACE,aAAA,CACA,aAAA,CAIJ,4DACE,YAAA,CACA,sBDtWgC,CCuWhC,iBDxWuB,CC2WzB,iEACE,kBDxWmC,CC6WnC,kBDzWkC,CC0WlC,UDzW6B,CC0W7B,aDzWiC,CC0WjC,eDzWmC,CCkWnC,sBDxWuC,CCyWvC,cDxW8B,CC0W9B,eAAA,CADA,cDpWmC,CC2WnC,wEASE,wBD3bQ,CC0bR,iBAAA,CAEA,UDpeQ,CC2dR,WAAA,CACA,oBAA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",sourcesContent:[".swal2-popup {\n  &.swal2-toast {\n    box-sizing: border-box;\n    grid-column: 1/4 !important;\n    grid-row: 1/4 !important;\n    grid-template-columns: min-content auto min-content;\n    padding: $swal2-toast-padding;\n    overflow-y: hidden;\n    background: $swal2-toast-background;\n    box-shadow: $swal2-toast-box-shadow;\n    pointer-events: all;\n\n    > * {\n      grid-column: 2;\n    }\n\n    .swal2-title {\n      margin: $swal2-toast-title-margin;\n      padding: $swal2-toast-title-padding;\n      font-size: $swal2-toast-title-font-size;\n      text-align: initial;\n    }\n\n    .swal2-loading {\n      justify-content: center;\n    }\n\n    .swal2-input {\n      height: $swal2-toast-input-height;\n      margin: $swal2-toast-input-margin;\n      font-size: $swal2-toast-input-font-size;\n    }\n\n    .swal2-validation-message {\n      font-size: $swal2-toast-validation-font-size;\n    }\n\n    .swal2-footer {\n      margin: $swal2-toast-footer-margin;\n      padding: $swal2-toast-footer-margin;\n      font-size: $swal2-toast-footer-font-size;\n    }\n\n    .swal2-close {\n      grid-column: 3/3;\n      grid-row: 1/99;\n      align-self: center;\n      width: $swal2-toast-close-button-width;\n      height: $swal2-toast-close-button-height;\n      margin: $swal2-toast-close-button-margin;\n      font-size: $swal2-toast-close-button-font-size;\n    }\n\n    .swal2-html-container {\n      margin: $swal2-toast-html-container-margin;\n      padding: $swal2-toast-html-container-padding;\n      overflow: initial;\n      font-size: $swal2-toast-html-container-font-size;\n      text-align: initial;\n\n      &:empty {\n        padding: 0;\n      }\n    }\n\n    .swal2-loader {\n      grid-column: 1;\n      grid-row: 1/99;\n      align-self: center;\n      width: 2em;\n      height: 2em;\n      margin: 0.25em;\n    }\n\n    .swal2-icon {\n      grid-column: 1;\n      grid-row: 1/99;\n      align-self: center;\n      width: 2em;\n      min-width: 2em;\n      height: 2em;\n      margin: 0 0.5em 0 0;\n\n      .swal2-icon-content {\n        display: flex;\n        align-items: center;\n        font-size: $swal2-toast-icon-font-size;\n        font-weight: bold;\n      }\n\n      &.swal2-success {\n        .swal2-success-ring {\n          width: 2em;\n          height: 2em;\n        }\n      }\n\n      &.swal2-error {\n        [class^='swal2-x-mark-line'] {\n          top: 0.875em;\n          width: 1.375em;\n\n          &[class$='left'] {\n            left: 0.3125em;\n          }\n\n          &[class$='right'] {\n            right: 0.3125em;\n          }\n        }\n      }\n    }\n\n    .swal2-actions {\n      justify-content: flex-start;\n      height: auto;\n      margin: 0;\n      margin-top: 0.5em;\n      padding: 0 0.5em;\n    }\n\n    .swal2-styled {\n      margin: 0.25em 0.5em;\n      padding: 0.4em 0.6em;\n      font-size: $swal2-toast-buttons-font-size;\n    }\n\n    .swal2-success {\n      border-color: $swal2-success;\n\n      [class^='swal2-success-circular-line'] {\n        // Emulate moving circular line\n        position: absolute;\n        width: 1.6em;\n        height: 3em;\n        border-radius: 50%;\n\n        &[class$='left'] {\n          top: -0.8em;\n          left: -0.5em;\n          transform: rotate(-45deg);\n          transform-origin: 2em 2em;\n          border-radius: 4em 0 0 4em;\n        }\n\n        &[class$='right'] {\n          top: -0.25em;\n          left: 0.9375em;\n          transform-origin: 0 1.5em;\n          border-radius: 0 4em 4em 0;\n        }\n      }\n\n      .swal2-success-ring {\n        width: 2em;\n        height: 2em;\n      }\n\n      .swal2-success-fix {\n        top: 0;\n        left: 0.4375em;\n        width: 0.4375em;\n        height: 2.6875em;\n      }\n\n      [class^='swal2-success-line'] {\n        height: 0.3125em;\n\n        &[class$='tip'] {\n          top: 1.125em;\n          left: 0.1875em;\n          width: 0.75em;\n        }\n\n        &[class$='long'] {\n          top: 0.9375em;\n          right: 0.1875em;\n          width: 1.375em;\n        }\n      }\n\n      &.swal2-icon-show {\n        @if $swal2-icon-animations {\n          .swal2-success-line-tip {\n            animation: swal2-toast-animate-success-line-tip 0.75s;\n          }\n\n          .swal2-success-line-long {\n            animation: swal2-toast-animate-success-line-long 0.75s;\n          }\n        }\n      }\n    }\n\n    &.swal2-show {\n      animation: $swal2-toast-show-animation;\n    }\n\n    &.swal2-hide {\n      animation: $swal2-toast-hide-animation;\n    }\n  }\n}\n","$swal2-white: #fff !default;\n$swal2-black: #000 !default;\n$swal2-outline-color: rgba(100, 150, 200, 0.5) !default;\n\n// CONTAINER\n$swal2-container-padding: 0.625em !default;\n\n// POPUP\n$swal2-width: 32em !default;\n$swal2-padding: 0 0 1.25em !default;\n$swal2-border: none !default;\n$swal2-color: lighten($swal2-black, 33) !default;\n$swal2-border-radius: 5px !default;\n$swal2-box-shadow: #d9d9d9 !default;\n\n// ANIMATIONS\n$swal2-show-animation: swal2-show 0.3s !default;\n$swal2-hide-animation: swal2-hide 0.15s forwards !default;\n\n// BACKGROUND\n$swal2-background: $swal2-white !default;\n\n// TYPOGRAPHY\n$swal2-font: inherit !default;\n$swal2-font-size: 1rem !default;\n\n// BACKDROP\n$swal2-backdrop: rgba($swal2-black, 0.4) !default;\n$swal2-backdrop-transition: background-color 0.1s !default;\n\n// ICONS\n$swal2-icon-size: 5em !default;\n$swal2-icon-animations: true !default;\n$swal2-icon-margin: 2.5em auto 0.6em !default;\n$swal2-icon-font-family: inherit !default;\n$swal2-icon-font-size: 3.75em !default;\n$swal2-icon-border-color: #000 !default;\n$swal2-icon-zoom: null !default;\n$swal2-success: #a5dc86 !default;\n$swal2-success-border: rgba($swal2-success, 0.3) !default;\n$swal2-error: #f27474 !default;\n$swal2-warning: #f8bb86 !default;\n$swal2-info: #3fc3ee !default;\n$swal2-question: #87adbd !default;\n\n// IMAGE\n$swal2-image-margin: 2em auto 1em !default;\n\n// TITLE\n$swal2-title-position: relative !default;\n$swal2-title-max-width: 100% !default;\n$swal2-title-margin: 0 !default;\n$swal2-title-padding: 0.8em 1em 0 !default;\n$swal2-title-color: inherit !default;\n$swal2-title-font-size: 1.875em !default;\n$swal2-title-font-weight: 600 !default;\n$swal2-title-text-align: center !default;\n\n// HTML CONTAINER\n$swal2-html-container-justify-content: center !default;\n$swal2-html-container-margin: 1em 1.6em 0.3em !default;\n$swal2-html-container-padding: 0 !default;\n$swal2-html-container-overflow: auto !default;\n$swal2-html-container-color: inherit !default;\n$swal2-html-container-font-size: 1.125em !default;\n$swal2-html-container-font-weight: normal !default;\n$swal2-html-container-line-height: normal !default;\n$swal2-html-container-text-align: center !default;\n$swal2-html-container-word-wrap: break-word !default;\n$swal2-html-container-word-break: break-word !default;\n\n// INPUT\n$swal2-input-margin: 1em 2em 3px !default;\n$swal2-input-width: auto !default;\n$swal2-input-height: 2.625em !default;\n$swal2-input-padding: 0 0.75em !default;\n$swal2-input-border: 1px solid lighten($swal2-black, 85) !default;\n$swal2-input-border-radius: 0.1875em !default;\n$swal2-input-box-shadow:\n  inset 0 1px 1px rgba($swal2-black, 0.06),\n  0 0 0 3px transparent !default;\n$swal2-input-font-size: 1.125em !default;\n$swal2-input-background: transparent !default;\n$swal2-input-color: inherit !default;\n$swal2-input-transition:\n  border-color 0.1s,\n  box-shadow 0.1s !default;\n\n// INPUT:FOCUS\n$swal2-input-focus-border: 1px solid #b4dbed !default;\n$swal2-input-focus-outline: none !default;\n$swal2-input-focus-box-shadow:\n  inset 0 1px 1px rgba($swal2-black, 0.06),\n  0 0 0 3px $swal2-outline-color !default;\n\n// TEXTAREA SPECIFIC VARIABLES\n$swal2-textarea-height: 6.75em !default;\n$swal2-textarea-padding: 0.75em !default;\n\n// INPUT LABEL\n$swal2-input-label-margin: 1em auto 0 !default;\n$swal2-input-label-justify-content: center !default;\n\n// VALIDATION MESSAGE\n$swal2-validation-message-align-items: center !default;\n$swal2-validation-message-justify-content: center !default;\n$swal2-validation-message-margin: 1em 0 0 !default;\n$swal2-validation-message-padding: 0.625em !default;\n$swal2-validation-message-background: lighten($swal2-black, 94) !default;\n$swal2-validation-message-color: lighten($swal2-black, 40) !default;\n$swal2-validation-message-font-size: 1em !default;\n$swal2-validation-message-font-weight: 300 !default;\n$swal2-validation-message-icon-background: $swal2-error !default;\n$swal2-validation-message-icon-color: $swal2-white !default;\n$swal2-validation-message-icon-zoom: null !default;\n\n// PROGRESS STEPS\n$swal2-progress-steps-flex-wrap: wrap !default;\n$swal2-progress-steps-align-items: center !default;\n$swal2-progress-steps-max-width: 100% !default;\n$swal2-progress-steps-background: transparent !default;\n$swal2-progress-steps-margin: 1.25em auto !default;\n$swal2-progress-steps-padding: 0 !default;\n$swal2-progress-steps-font-weight: 600 !default;\n$swal2-progress-steps-distance: 2.5em !default;\n$swal2-progress-step-width: 2em;\n$swal2-progress-step-height: 2em;\n$swal2-progress-step-border-radius: 2em;\n$swal2-progress-step-background: #add8e6 !default;\n$swal2-progress-step-color: $swal2-white !default;\n$swal2-active-step-background: #2778c4 !default;\n$swal2-active-step-color: $swal2-white !default;\n\n// FOOTER\n$swal2-footer-margin: 1em 0 0 !default;\n$swal2-footer-padding: 1em 1em 0 !default;\n$swal2-footer-border-color: #eee !default;\n$swal2-footer-color: inherit !default;\n$swal2-footer-font-size: 1em !default;\n$swal2-footer-text-align: center !default;\n\n// TIMER PROGRESS BAR\n$swal2-timer-progress-bar-height: 0.25em;\n$swal2-timer-progress-bar-background: rgba($swal2-black, 0.2) !default;\n\n// CLOSE BUTTON\n$swal2-close-button-justify-self: end !default;\n$swal2-close-button-align-items: center !default;\n$swal2-close-button-justify-content: center !default;\n$swal2-close-button-width: 1.2em !default;\n$swal2-close-button-height: 1.2em !default;\n$swal2-close-button-position: null !default;\n$swal2-close-button-gap: 0 !default;\n$swal2-close-button-padding: 0 !default;\n$swal2-close-button-transition:\n  color 0.1s,\n  box-shadow 0.1s !default;\n$swal2-close-button-border: none !default;\n$swal2-close-button-border-radius: $swal2-border-radius !default;\n$swal2-close-button-outline: null !default;\n$swal2-close-button-background: transparent !default;\n$swal2-close-button-color: #ccc !default;\n$swal2-close-button-font-family: monospace !default;\n$swal2-close-button-font-size: 2.5em !default;\n$swal2-close-button-box-shadow: inset 0 0 0 3px transparent !default;\n\n// CLOSE BUTTON:HOVER\n$swal2-close-button-hover-transform: none !default;\n$swal2-close-button-hover-color: $swal2-error !default;\n$swal2-close-button-hover-background: transparent !default;\n\n// CLOSE BUTTON:FOCUS\n$swal2-close-button-focus-outline: none !default;\n$swal2-close-button-focus-box-shadow: inset 0 0 0 3px $swal2-outline-color !default;\n\n// ACTIONS\n$swal2-actions-flex-wrap: wrap !default;\n$swal2-actions-align-items: center !default;\n$swal2-actions-justify-content: center !default;\n$swal2-actions-width: auto !default;\n$swal2-actions-margin: 1.25em auto 0 !default;\n$swal2-actions-padding: 0 !default;\n\n// COMMON VARIABLES FOR ALL ACTION BUTTONS\n$swal2-button-margin: 0.3125em !default;\n$swal2-button-padding: 0.625em 1.1em !default;\n$swal2-button-transition: box-shadow 0.1s !default;\n$swal2-button-box-shadow: 0 0 0 3px transparent !default;\n$swal2-button-font-weight: 500 !default;\n$swal2-button-darken-hover: rgba($swal2-black, 0.1) !default;\n$swal2-button-darken-active: rgba($swal2-black, 0.2) !default;\n$swal2-button-focus-outline: none !default;\n$swal2-button-focus-box-shadow: 0 0 0 3px $swal2-outline-color !default;\n\n// CONFIRM BUTTON\n$swal2-confirm-button-order: null !default;\n$swal2-confirm-button-border: 0 !default;\n$swal2-confirm-button-border-radius: 0.25em !default;\n$swal2-confirm-button-background-color: #7066e0 !default;\n$swal2-confirm-button-color: $swal2-white !default;\n$swal2-confirm-button-font-size: 1em !default;\n$swal2-confirm-button-focus-box-shadow: 0 0 0 3px rgba($swal2-confirm-button-background-color, 0.5) !default;\n\n// DENY BUTTON\n$swal2-deny-button-order: null !default;\n$swal2-deny-button-border: 0 !default;\n$swal2-deny-button-border-radius: 0.25em !default;\n$swal2-deny-button-background-color: #dc3741 !default;\n$swal2-deny-button-color: $swal2-white !default;\n$swal2-deny-button-font-size: 1em !default;\n$swal2-deny-button-focus-box-shadow: 0 0 0 3px rgba($swal2-deny-button-background-color, 0.5) !default;\n\n// CANCEL BUTTON\n$swal2-cancel-button-order: null !default;\n$swal2-cancel-button-border: 0 !default;\n$swal2-cancel-button-border-radius: 0.25em !default;\n$swal2-cancel-button-background-color: #6e7881 !default;\n$swal2-cancel-button-color: $swal2-white !default;\n$swal2-cancel-button-font-size: 1em !default;\n$swal2-cancel-button-focus-box-shadow: 0 0 0 3px rgba($swal2-cancel-button-background-color, 0.5) !default;\n\n// LOADER\n$swal2-loader-align-items: center !default;\n$swal2-loader-justify-content: center !default;\n$swal2-loader-width: 2.2em !default;\n$swal2-loader-height: 2.2em !default;\n$swal2-loader-margin: 0 1.875em !default;\n$swal2-loader-animation: swal2-rotate-loading 1.5s linear 0s infinite normal !default;\n$swal2-loader-border-width: 0.25em !default;\n$swal2-loader-border-style: solid !default;\n$swal2-loader-border-radius: 100% !default;\n$swal2-loader-border-color: #2778c4 transparent #2778c4 transparent !default;\n\n// TOASTS\n$swal2-toast-show-animation: swal2-toast-show 0.5s !default;\n$swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards !default;\n$swal2-toast-border: none !default;\n$swal2-toast-box-shadow:\n  0 0 1px hsl(0deg 0% 0% / 0.075),\n  0 1px 2px hsl(0deg 0% 0% / 0.075),\n  1px 2px 4px hsl(0deg 0% 0% / 0.075),\n  1px 3px 8px hsl(0deg 0% 0% / 0.075),\n  2px 4px 16px hsl(0deg 0% 0% / 0.075) !default;\n$swal2-toast-background: $swal2-white !default;\n$swal2-toast-close-button-width: 0.8em !default;\n$swal2-toast-close-button-height: 0.8em !default;\n$swal2-toast-close-button-margin: 0 !default;\n$swal2-toast-close-button-font-size: 2em !default;\n$swal2-toast-width: 360px !default;\n$swal2-toast-padding: 1em !default;\n$swal2-toast-title-margin: 0.5em 1em !default;\n$swal2-toast-title-padding: 0 !default;\n$swal2-toast-title-font-size: 1em !default;\n$swal2-toast-icon-font-size: 1.8em !default;\n$swal2-toast-html-container-margin: 0.5em 1em !default;\n$swal2-toast-html-container-padding: 0 !default;\n$swal2-toast-html-container-font-size: 1em !default;\n$swal2-toast-input-height: 2em !default;\n$swal2-toast-input-margin: 0.5em !default;\n$swal2-toast-input-font-size: 1em !default;\n$swal2-toast-validation-font-size: 1em !default;\n$swal2-toast-buttons-font-size: 1em !default;\n$swal2-toast-footer-margin: 0.5em 0 0 !default;\n$swal2-toast-footer-padding: 0.5em 0 0 !default;\n$swal2-toast-footer-font-size: 0.8em !default;\n","@use 'sass:math';\n\ndiv:where(.swal2-container) {\n  display: grid;\n  position: fixed;\n  z-index: 1060;\n  inset: 0;\n  box-sizing: border-box;\n  grid-template-areas:\n    'top-start     top            top-end'\n    'center-start  center         center-end'\n    'bottom-start  bottom-center  bottom-end';\n  grid-template-rows: minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);\n  height: 100%; // Safari\n  padding: $swal2-container-padding;\n  overflow-x: hidden;\n  transition: $swal2-backdrop-transition;\n\n  // sweetalert2/issues/905\n  -webkit-overflow-scrolling: touch;\n\n  &.swal2-backdrop-show,\n  &.swal2-noanimation {\n    background: $swal2-backdrop;\n  }\n\n  &.swal2-backdrop-hide {\n    background: transparent !important;\n  }\n\n  &.swal2-top-start,\n  &.swal2-center-start,\n  &.swal2-bottom-start {\n    grid-template-columns: minmax(0, 1fr) auto auto;\n  }\n\n  &.swal2-top,\n  &.swal2-center,\n  &.swal2-bottom {\n    grid-template-columns: auto minmax(0, 1fr) auto;\n  }\n\n  &.swal2-top-end,\n  &.swal2-center-end,\n  &.swal2-bottom-end {\n    grid-template-columns: auto auto minmax(0, 1fr);\n  }\n\n  &.swal2-top-start > .swal2-popup {\n    align-self: start;\n  }\n\n  &.swal2-top > .swal2-popup {\n    grid-column: 2;\n    place-self: start center;\n  }\n\n  &.swal2-top-end > .swal2-popup,\n  &.swal2-top-right > .swal2-popup {\n    grid-column: 3;\n    place-self: start end;\n  }\n\n  &.swal2-center-start > .swal2-popup,\n  &.swal2-center-left > .swal2-popup {\n    grid-row: 2;\n    align-self: center;\n  }\n\n  &.swal2-center > .swal2-popup {\n    grid-column: 2;\n    grid-row: 2;\n    place-self: center center;\n  }\n\n  &.swal2-center-end > .swal2-popup,\n  &.swal2-center-right > .swal2-popup {\n    grid-column: 3;\n    grid-row: 2;\n    place-self: center end;\n  }\n\n  &.swal2-bottom-start > .swal2-popup,\n  &.swal2-bottom-left > .swal2-popup {\n    grid-column: 1;\n    grid-row: 3;\n    align-self: end;\n  }\n\n  &.swal2-bottom > .swal2-popup {\n    grid-column: 2;\n    grid-row: 3;\n    place-self: end center;\n  }\n\n  &.swal2-bottom-end > .swal2-popup,\n  &.swal2-bottom-right > .swal2-popup {\n    grid-column: 3;\n    grid-row: 3;\n    place-self: end end;\n  }\n\n  &.swal2-grow-row > .swal2-popup,\n  &.swal2-grow-fullscreen > .swal2-popup {\n    grid-column: 1/4;\n    width: 100%;\n  }\n\n  &.swal2-grow-column > .swal2-popup,\n  &.swal2-grow-fullscreen > .swal2-popup {\n    grid-row: 1/4;\n    align-self: stretch;\n  }\n\n  &.swal2-no-transition {\n    transition: none !important;\n  }\n\n  div:where(.swal2-popup) {\n    display: none;\n    position: relative;\n    box-sizing: border-box;\n    grid-template-columns: minmax(0, 100%);\n    width: $swal2-width;\n    max-width: 100%;\n    padding: $swal2-padding;\n    border: $swal2-border;\n    border-radius: $swal2-border-radius;\n    background: $swal2-background;\n    color: $swal2-color;\n    font-family: $swal2-font;\n    font-size: $swal2-font-size;\n\n    &:focus {\n      outline: none;\n    }\n\n    &.swal2-loading {\n      overflow-y: hidden;\n    }\n  }\n\n  h2:where(.swal2-title) {\n    position: $swal2-title-position;\n    max-width: $swal2-title-max-width;\n    margin: $swal2-title-margin;\n    padding: $swal2-title-padding;\n    color: $swal2-title-color;\n    font-size: $swal2-title-font-size;\n    font-weight: $swal2-title-font-weight;\n    text-align: $swal2-title-text-align;\n    text-transform: none;\n    word-wrap: break-word;\n  }\n\n  div:where(.swal2-actions) {\n    display: flex;\n    z-index: 1; // prevent success icon from overlapping buttons\n    box-sizing: border-box;\n    flex-wrap: $swal2-actions-flex-wrap;\n    align-items: $swal2-actions-align-items;\n    justify-content: $swal2-actions-justify-content;\n    width: $swal2-actions-width;\n    margin: $swal2-actions-margin;\n    padding: $swal2-actions-padding;\n\n    &:not(.swal2-loading) {\n      .swal2-styled {\n        &[disabled] {\n          opacity: 0.4;\n        }\n\n        &:hover {\n          background-image: linear-gradient($swal2-button-darken-hover, $swal2-button-darken-hover);\n        }\n\n        &:active {\n          background-image: linear-gradient($swal2-button-darken-active, $swal2-button-darken-active);\n        }\n      }\n    }\n  }\n\n  div:where(.swal2-loader) {\n    display: none;\n    align-items: $swal2-loader-align-items;\n    justify-content: $swal2-loader-justify-content;\n    width: $swal2-loader-width;\n    height: $swal2-loader-height;\n    margin: $swal2-loader-margin;\n    animation: $swal2-loader-animation;\n    border-width: $swal2-loader-border-width;\n    border-style: $swal2-loader-border-style;\n    border-radius: $swal2-loader-border-radius;\n    border-color: $swal2-loader-border-color;\n  }\n\n  button:where(.swal2-styled) {\n    margin: $swal2-button-margin;\n    padding: $swal2-button-padding;\n    transition: $swal2-button-transition;\n    box-shadow: $swal2-button-box-shadow;\n    font-weight: $swal2-button-font-weight;\n\n    &:not([disabled]) {\n      cursor: pointer;\n    }\n\n    &.swal2-confirm {\n      order: $swal2-confirm-button-order;\n      border: $swal2-confirm-button-border;\n      border-radius: $swal2-confirm-button-border-radius;\n      background: initial;\n      background-color: $swal2-confirm-button-background-color;\n      color: $swal2-confirm-button-color;\n      font-size: $swal2-confirm-button-font-size;\n\n      &:focus {\n        box-shadow: $swal2-confirm-button-focus-box-shadow;\n      }\n    }\n\n    &.swal2-deny {\n      order: $swal2-deny-button-order;\n      border: $swal2-deny-button-border;\n      border-radius: $swal2-deny-button-border-radius;\n      background: initial;\n      background-color: $swal2-deny-button-background-color;\n      color: $swal2-deny-button-color;\n      font-size: $swal2-deny-button-font-size;\n\n      &:focus {\n        box-shadow: $swal2-deny-button-focus-box-shadow;\n      }\n    }\n\n    &.swal2-cancel {\n      order: $swal2-cancel-button-order;\n      border: $swal2-cancel-button-border;\n      border-radius: $swal2-cancel-button-border-radius;\n      background: initial;\n      background-color: $swal2-cancel-button-background-color;\n      color: $swal2-cancel-button-color;\n      font-size: $swal2-cancel-button-font-size;\n\n      &:focus {\n        box-shadow: $swal2-cancel-button-focus-box-shadow;\n      }\n    }\n\n    &.swal2-default-outline {\n      &:focus {\n        box-shadow: $swal2-button-focus-box-shadow;\n      }\n    }\n\n    &:focus {\n      outline: $swal2-button-focus-outline;\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n  }\n\n  div:where(.swal2-footer) {\n    margin: $swal2-footer-margin;\n    padding: $swal2-footer-padding;\n    border-top: 1px solid $swal2-footer-border-color;\n    color: $swal2-footer-color;\n    font-size: $swal2-footer-font-size;\n    text-align: $swal2-footer-text-align;\n  }\n\n  .swal2-timer-progress-bar-container {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    grid-column: auto !important;\n    overflow: hidden;\n    border-bottom-right-radius: $swal2-border-radius;\n    border-bottom-left-radius: $swal2-border-radius;\n  }\n\n  div:where(.swal2-timer-progress-bar) {\n    width: 100%;\n    height: $swal2-timer-progress-bar-height;\n    background: $swal2-timer-progress-bar-background;\n  }\n\n  img:where(.swal2-image) {\n    max-width: 100%;\n    margin: $swal2-image-margin;\n  }\n\n  button:where(.swal2-close) {\n    position: $swal2-close-button-position;\n    z-index: 2; // sweetalert2/issues/1617\n    align-items: $swal2-close-button-align-items;\n    justify-content: $swal2-close-button-justify-content;\n    width: $swal2-close-button-width;\n    height: $swal2-close-button-height;\n    margin-top: $swal2-close-button-gap;\n    margin-right: $swal2-close-button-gap;\n    margin-bottom: -$swal2-close-button-height;\n    padding: $swal2-close-button-padding;\n    overflow: hidden;\n    transition: $swal2-close-button-transition;\n    border: $swal2-close-button-border;\n    border-radius: $swal2-close-button-border-radius;\n    outline: $swal2-close-button-outline;\n    background: $swal2-close-button-background;\n    color: $swal2-close-button-color;\n    font-family: $swal2-close-button-font-family;\n    font-size: $swal2-close-button-font-size;\n    cursor: pointer;\n    justify-self: $swal2-close-button-justify-self;\n\n    &:hover {\n      transform: $swal2-close-button-hover-transform;\n      background: $swal2-close-button-hover-background;\n      color: $swal2-close-button-hover-color;\n    }\n\n    &:focus {\n      outline: $swal2-close-button-focus-outline;\n      box-shadow: $swal2-close-button-focus-box-shadow;\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n  }\n\n  .swal2-html-container {\n    z-index: 1; // prevent success icon overlapping the content\n    justify-content: $swal2-html-container-justify-content;\n    margin: $swal2-html-container-margin;\n    padding: $swal2-html-container-padding;\n    overflow: $swal2-html-container-overflow;\n    color: $swal2-html-container-color;\n    font-size: $swal2-html-container-font-size;\n    font-weight: $swal2-html-container-font-weight;\n    line-height: $swal2-html-container-line-height;\n    text-align: $swal2-html-container-text-align;\n    word-wrap: $swal2-html-container-word-wrap;\n    word-break: $swal2-html-container-word-break;\n  }\n\n  input:where(.swal2-input),\n  input:where(.swal2-file),\n  textarea:where(.swal2-textarea),\n  select:where(.swal2-select),\n  div:where(.swal2-radio),\n  label:where(.swal2-checkbox) {\n    margin: $swal2-input-margin;\n  }\n\n  input:where(.swal2-input),\n  input:where(.swal2-file),\n  textarea:where(.swal2-textarea) {\n    box-sizing: border-box;\n    width: $swal2-input-width;\n    transition: $swal2-input-transition;\n    border: $swal2-input-border;\n    border-radius: $swal2-input-border-radius;\n    background: $swal2-input-background;\n    box-shadow: $swal2-input-box-shadow;\n    color: $swal2-input-color;\n    font-size: $swal2-input-font-size;\n\n    &.swal2-inputerror {\n      border-color: $swal2-error !important;\n      box-shadow: 0 0 2px $swal2-error !important;\n    }\n\n    &:focus {\n      border: $swal2-input-focus-border;\n      outline: $swal2-input-focus-outline;\n      box-shadow: $swal2-input-focus-box-shadow;\n    }\n\n    &::placeholder {\n      color: #ccc;\n    }\n  }\n\n  .swal2-range {\n    margin: $swal2-input-margin;\n    background: $swal2-background;\n\n    input {\n      width: 80%;\n    }\n\n    output {\n      width: 20%;\n      color: $swal2-input-color;\n      font-weight: 600;\n      text-align: center;\n    }\n\n    input,\n    output {\n      height: $swal2-input-height;\n      padding: 0;\n      font-size: $swal2-input-font-size;\n      line-height: $swal2-input-height;\n    }\n  }\n\n  .swal2-input {\n    height: $swal2-input-height;\n    padding: $swal2-input-padding;\n  }\n\n  .swal2-file {\n    width: 75%;\n    margin-right: auto;\n    margin-left: auto;\n    background: $swal2-input-background;\n    font-size: $swal2-input-font-size;\n  }\n\n  .swal2-textarea {\n    height: $swal2-textarea-height;\n    padding: $swal2-textarea-padding;\n  }\n\n  .swal2-select {\n    min-width: 50%;\n    max-width: 100%;\n    padding: 0.375em 0.625em;\n    background: $swal2-input-background;\n    color: $swal2-input-color;\n    font-size: $swal2-input-font-size;\n  }\n\n  .swal2-radio,\n  .swal2-checkbox {\n    align-items: center;\n    justify-content: center;\n    background: $swal2-background;\n    color: $swal2-input-color;\n\n    label {\n      margin: 0 0.6em;\n      font-size: $swal2-input-font-size;\n    }\n\n    input {\n      flex-shrink: 0;\n      margin: 0 0.4em;\n    }\n  }\n\n  label:where(.swal2-input-label) {\n    display: flex;\n    justify-content: $swal2-input-label-justify-content;\n    margin: $swal2-input-label-margin;\n  }\n\n  div:where(.swal2-validation-message) {\n    align-items: $swal2-validation-message-align-items;\n    justify-content: $swal2-validation-message-justify-content;\n    margin: $swal2-validation-message-margin;\n    padding: $swal2-validation-message-padding;\n    overflow: hidden;\n    background: $swal2-validation-message-background;\n    color: $swal2-validation-message-color;\n    font-size: $swal2-validation-message-font-size;\n    font-weight: $swal2-validation-message-font-weight;\n\n    &::before {\n      content: '!';\n      display: inline-block;\n      width: 1.5em;\n      min-width: 1.5em;\n      height: 1.5em;\n      margin: 0 0.625em;\n      zoom: $swal2-validation-message-icon-zoom;\n      border-radius: 50%;\n      background-color: $swal2-validation-message-icon-background;\n      color: $swal2-validation-message-icon-color;\n      font-weight: 600;\n      line-height: 1.5em;\n      text-align: center;\n    }\n  }\n\n  .swal2-progress-steps {\n    flex-wrap: $swal2-progress-steps-flex-wrap;\n    align-items: $swal2-progress-steps-align-items;\n    max-width: $swal2-progress-steps-max-width;\n    margin: $swal2-progress-steps-margin;\n    padding: $swal2-progress-steps-padding;\n    background: $swal2-progress-steps-background;\n    font-weight: $swal2-progress-steps-font-weight;\n\n    li {\n      display: inline-block;\n      position: relative;\n    }\n\n    .swal2-progress-step {\n      z-index: 20;\n      flex-shrink: 0;\n      width: $swal2-progress-step-width;\n      height: $swal2-progress-step-height;\n      border-radius: $swal2-progress-step-border-radius;\n      background: $swal2-active-step-background;\n      color: $swal2-active-step-color;\n      line-height: $swal2-progress-step-height;\n      text-align: center;\n\n      &.swal2-active-progress-step {\n        background: $swal2-active-step-background;\n\n        ~ .swal2-progress-step {\n          background: $swal2-progress-step-background;\n          color: $swal2-progress-step-color;\n        }\n\n        ~ .swal2-progress-step-line {\n          background: $swal2-progress-step-background;\n        }\n      }\n    }\n\n    .swal2-progress-step-line {\n      z-index: 10;\n      flex-shrink: 0;\n      width: $swal2-progress-steps-distance;\n      height: 0.4em;\n      margin: 0 -1px;\n      background: $swal2-active-step-background;\n    }\n  }\n}\n\n@import 'icons';\n\n// github.com/sweetalert2/sweetalert2/issues/268\n[class^='swal2'] {\n  -webkit-tap-highlight-color: transparent;\n}\n\n.swal2-show {\n  animation: $swal2-show-animation;\n}\n\n.swal2-hide {\n  animation: $swal2-hide-animation;\n}\n\n.swal2-noanimation {\n  transition: none;\n}\n\n// Measure scrollbar width for padding body during modal show/hide\n.swal2-scrollbar-measure {\n  position: absolute;\n  top: -9999px;\n  width: 50px;\n  height: 50px;\n  overflow: scroll;\n}\n\n// Right-to-left support\n.swal2-rtl {\n  .swal2-close {\n    margin-right: initial;\n    margin-left: $swal2-close-button-gap;\n  }\n\n  .swal2-timer-progress-bar {\n    right: 0;\n    left: auto;\n  }\n}\n","// https://stackoverflow.com/a/12335841/1331425\n@function strip-units($number) {\n  @return math.div($number, ($number * 0 + 1));\n}\n$icon-zoom: math.div(strip-units($swal2-icon-size), 5);\n\ndiv:where(.swal2-icon) {\n  position: relative;\n  box-sizing: content-box;\n  justify-content: center;\n  width: $swal2-icon-size;\n  height: $swal2-icon-size;\n  margin: $swal2-icon-margin;\n  zoom: $swal2-icon-zoom;\n  border: #{0.25em * $icon-zoom} solid transparent;\n  border-radius: 50%;\n  border-color: $swal2-icon-border-color;\n  font-family: $swal2-icon-font-family;\n  line-height: $swal2-icon-size;\n  cursor: default;\n  user-select: none;\n\n  .swal2-icon-content {\n    display: flex;\n    align-items: center;\n    font-size: $swal2-icon-font-size;\n  }\n\n  &.swal2-error {\n    border-color: $swal2-error;\n    color: $swal2-error;\n\n    .swal2-x-mark {\n      position: relative;\n      flex-grow: 1;\n\n      @if $icon-zoom != 1 {\n        zoom: $icon-zoom;\n      }\n    }\n\n    [class^='swal2-x-mark-line'] {\n      display: block;\n      position: absolute;\n      top: 2.3125em;\n      width: 2.9375em;\n      height: 0.3125em;\n      border-radius: 0.125em;\n      background-color: $swal2-error;\n\n      &[class$='left'] {\n        left: 1.0625em;\n        transform: rotate(45deg);\n      }\n\n      &[class$='right'] {\n        right: 1em;\n        transform: rotate(-45deg);\n      }\n    }\n\n    // Error icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        animation: swal2-animate-error-icon 0.5s;\n\n        .swal2-x-mark {\n          animation: swal2-animate-error-x-mark 0.5s;\n        }\n      }\n    }\n  }\n\n  &.swal2-warning {\n    border-color: lighten($swal2-warning, 7);\n    color: $swal2-warning;\n\n    // Warning icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        animation: swal2-animate-error-icon 0.5s;\n\n        .swal2-icon-content {\n          animation: swal2-animate-i-mark 0.5s;\n        }\n      }\n    }\n  }\n\n  &.swal2-info {\n    border-color: lighten($swal2-info, 20);\n    color: $swal2-info;\n\n    // Info icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        animation: swal2-animate-error-icon 0.5s;\n\n        .swal2-icon-content {\n          animation: swal2-animate-i-mark 0.8s;\n        }\n      }\n    }\n  }\n\n  &.swal2-question {\n    border-color: lighten($swal2-question, 20);\n    color: $swal2-question;\n\n    // Question icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        animation: swal2-animate-error-icon 0.5s;\n\n        .swal2-icon-content {\n          animation: swal2-animate-question-mark 0.8s;\n        }\n      }\n    }\n  }\n\n  &.swal2-success {\n    border-color: $swal2-success;\n    color: $swal2-success;\n\n    [class^='swal2-success-circular-line'] {\n      // Emulate moving circular line\n      position: absolute;\n      width: 3.75em;\n      height: 7.5em;\n      border-radius: 50%;\n\n      &[class$='left'] {\n        top: -0.4375em;\n        left: -2.0635em;\n        transform: rotate(-45deg);\n        transform-origin: 3.75em 3.75em;\n        border-radius: 7.5em 0 0 7.5em;\n\n        @if $icon-zoom != 1 {\n          zoom: $icon-zoom;\n        }\n      }\n\n      &[class$='right'] {\n        top: -0.6875em;\n        left: 1.875em;\n        transform: rotate(-45deg);\n        transform-origin: 0 3.75em;\n        border-radius: 0 7.5em 7.5em 0;\n\n        @if $icon-zoom != 1 {\n          zoom: $icon-zoom;\n        }\n      }\n    }\n\n    .swal2-success-ring {\n      // Ring\n      position: absolute;\n      z-index: 2;\n      top: -0.25em;\n      left: -0.25em;\n      box-sizing: content-box;\n      width: 100%;\n      height: 100%;\n      border: 0.25em solid $swal2-success-border;\n      border-radius: 50%;\n\n      @if $icon-zoom != 1 {\n        zoom: $icon-zoom;\n      }\n    }\n\n    .swal2-success-fix {\n      // Hide corners left from animation\n      position: absolute;\n      z-index: 1;\n      top: 0.5em;\n      left: 1.625em;\n      width: 0.4375em;\n      height: 5.625em;\n      transform: rotate(-45deg);\n\n      @if $icon-zoom != 1 {\n        zoom: $icon-zoom;\n      }\n    }\n\n    [class^='swal2-success-line'] {\n      display: block;\n      position: absolute;\n      z-index: 2;\n      height: 0.3125em;\n      border-radius: 0.125em;\n      background-color: $swal2-success;\n\n      &[class$='tip'] {\n        top: 2.875em;\n        left: 0.8125em;\n        width: 1.5625em;\n        transform: rotate(45deg);\n      }\n\n      &[class$='long'] {\n        top: 2.375em;\n        right: 0.5em;\n        width: 2.9375em;\n        transform: rotate(-45deg);\n      }\n\n      @if $icon-zoom != 1 {\n        zoom: $icon-zoom;\n      }\n    }\n\n    // Success icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        .swal2-success-line-tip {\n          animation: swal2-animate-success-line-tip 0.75s;\n        }\n\n        .swal2-success-line-long {\n          animation: swal2-animate-success-line-long 0.75s;\n        }\n\n        .swal2-success-circular-line-right {\n          animation: swal2-rotate-success-circular-line 4.25s ease-in;\n        }\n      }\n    }\n  }\n}\n","// Animations\n@keyframes swal2-toast-show {\n  0% {\n    transform: translateY(-0.625em) rotateZ(2deg);\n  }\n\n  33% {\n    transform: translateY(0) rotateZ(-2deg);\n  }\n\n  66% {\n    transform: translateY(0.3125em) rotateZ(2deg);\n  }\n\n  100% {\n    transform: translateY(0) rotateZ(0deg);\n  }\n}\n\n@keyframes swal2-toast-hide {\n  100% {\n    transform: rotateZ(1deg);\n    opacity: 0;\n  }\n}\n\n@keyframes swal2-toast-animate-success-line-tip {\n  0% {\n    top: 0.5625em;\n    left: 0.0625em;\n    width: 0;\n  }\n\n  54% {\n    top: 0.125em;\n    left: 0.125em;\n    width: 0;\n  }\n\n  70% {\n    top: 0.625em;\n    left: -0.25em;\n    width: 1.625em;\n  }\n\n  84% {\n    top: 1.0625em;\n    left: 0.75em;\n    width: 0.5em;\n  }\n\n  100% {\n    top: 1.125em;\n    left: 0.1875em;\n    width: 0.75em;\n  }\n}\n\n@keyframes swal2-toast-animate-success-line-long {\n  0% {\n    top: 1.625em;\n    right: 1.375em;\n    width: 0;\n  }\n\n  65% {\n    top: 1.25em;\n    right: 0.9375em;\n    width: 0;\n  }\n\n  84% {\n    top: 0.9375em;\n    right: 0;\n    width: 1.125em;\n  }\n\n  100% {\n    top: 0.9375em;\n    right: 0.1875em;\n    width: 1.375em;\n  }\n}\n","@import 'toasts-animations';\n\n// Appearance animation\n@keyframes swal2-show {\n  0% {\n    transform: scale(0.7);\n  }\n\n  45% {\n    transform: scale(1.05);\n  }\n\n  80% {\n    transform: scale(0.95);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n// Disppearance animation\n@keyframes swal2-hide {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  100% {\n    transform: scale(0.5);\n    opacity: 0;\n  }\n}\n\n// Success icon animations\n@keyframes swal2-animate-success-line-tip {\n  0% {\n    top: 1.1875em;\n    left: 0.0625em;\n    width: 0;\n  }\n\n  54% {\n    top: 1.0625em;\n    left: 0.125em;\n    width: 0;\n  }\n\n  70% {\n    top: 2.1875em;\n    left: -0.375em;\n    width: 3.125em;\n  }\n\n  84% {\n    top: 3em;\n    left: 1.3125em;\n    width: 1.0625em;\n  }\n\n  100% {\n    top: 2.8125em;\n    left: 0.8125em;\n    width: 1.5625em;\n  }\n}\n\n@keyframes swal2-animate-success-line-long {\n  0% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0;\n  }\n\n  65% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0;\n  }\n\n  84% {\n    top: 2.1875em;\n    right: 0;\n    width: 3.4375em;\n  }\n\n  100% {\n    top: 2.375em;\n    right: 0.5em;\n    width: 2.9375em;\n  }\n}\n\n@keyframes swal2-rotate-success-circular-line {\n  0% {\n    transform: rotate(-45deg);\n  }\n\n  5% {\n    transform: rotate(-45deg);\n  }\n\n  12% {\n    transform: rotate(-405deg);\n  }\n\n  100% {\n    transform: rotate(-405deg);\n  }\n}\n\n// Error icon animations\n@keyframes swal2-animate-error-x-mark {\n  0% {\n    margin-top: 1.625em;\n    transform: scale(0.4);\n    opacity: 0;\n  }\n\n  50% {\n    margin-top: 1.625em;\n    transform: scale(0.4);\n    opacity: 0;\n  }\n\n  80% {\n    margin-top: -0.375em;\n    transform: scale(1.15);\n  }\n\n  100% {\n    margin-top: 0;\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes swal2-animate-error-icon {\n  0% {\n    transform: rotateX(100deg);\n    opacity: 0;\n  }\n\n  100% {\n    transform: rotateX(0deg);\n    opacity: 1;\n  }\n}\n\n@keyframes swal2-rotate-loading {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n// Question mark animation\n@keyframes swal2-animate-question-mark {\n  0% {\n    transform: rotateY(-360deg);\n  }\n\n  100% {\n    transform: rotateY(0);\n  }\n}\n\n// Info and Warning mark animation\n@keyframes swal2-animate-i-mark {\n  0% {\n    transform: rotateZ(45deg);\n    opacity: 0;\n  }\n\n  25% {\n    transform: rotateZ(-25deg);\n    opacity: 0.4;\n  }\n\n  50% {\n    transform: rotateZ(15deg);\n    opacity: 0.8;\n  }\n\n  75% {\n    transform: rotateZ(-5deg);\n    opacity: 1;\n  }\n\n  100% {\n    transform: rotateX(0);\n    opacity: 1;\n  }\n}\n","// https://stackoverflow.com/a/30250161\n@mixin not($ignor-list...) {\n  @if (length($ignor-list) == 1) {\n    $ignor-list: nth($ignor-list, 1);\n  }\n\n  $not-output: '';\n\n  @each $not in $ignor-list {\n    $not-output: $not-output + ':not(#{$not})'; // stylelint-disable-line scss/no-duplicate-dollar-variables\n  }\n\n  &#{$not-output} {\n    @content;\n  }\n}\n","@import 'toasts-body';\n\n@mixin sweetalert2-body() {\n  &.swal2-shown {\n    @include not('.swal2-no-backdrop', '.swal2-toast-shown') {\n      overflow: hidden; // not overflow-y because of Sarari, #1253\n    }\n  }\n\n  &.swal2-height-auto {\n    height: auto !important; // #781 #1107\n  }\n\n  &.swal2-no-backdrop {\n    .swal2-container {\n      background-color: transparent !important;\n      pointer-events: none;\n\n      .swal2-popup {\n        pointer-events: all;\n      }\n\n      .swal2-modal {\n        box-shadow: 0 0 10px $swal2-backdrop;\n      }\n    }\n  }\n\n  @media print {\n    &.swal2-shown {\n      @include not('.swal2-no-backdrop', '.swal2-toast-shown') {\n        overflow-y: scroll !important;\n\n        > [aria-hidden='true'] {\n          display: none;\n        }\n\n        .swal2-container {\n          position: static !important;\n        }\n      }\n    }\n  }\n}\n","@mixin sweetalert2-toasts-body() {\n  &.swal2-toast-shown {\n    .swal2-container {\n      box-sizing: border-box;\n      width: $swal2-toast-width;\n      max-width: 100%;\n      background-color: transparent;\n      pointer-events: none;\n\n      &.swal2-top {\n        inset: 0 auto auto 50%;\n        transform: translateX(-50%);\n      }\n\n      &.swal2-top-end,\n      &.swal2-top-right {\n        inset: 0 0 auto auto;\n      }\n\n      &.swal2-top-start,\n      &.swal2-top-left {\n        inset: 0 auto auto 0;\n      }\n\n      &.swal2-center-start,\n      &.swal2-center-left {\n        inset: 50% auto auto 0;\n        transform: translateY(-50%);\n      }\n\n      &.swal2-center {\n        inset: 50% auto auto 50%;\n        transform: translate(-50%, -50%);\n      }\n\n      &.swal2-center-end,\n      &.swal2-center-right {\n        inset: 50% 0 auto auto;\n        transform: translateY(-50%);\n      }\n\n      &.swal2-bottom-start,\n      &.swal2-bottom-left {\n        inset: auto auto 0 0;\n      }\n\n      &.swal2-bottom {\n        inset: auto auto 0 50%;\n        transform: translateX(-50%);\n      }\n\n      &.swal2-bottom-end,\n      &.swal2-bottom-right {\n        inset: auto 0 0 auto;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]);const o=i},663:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,".rc-buttons{z-index:10}.rc-absolute-buttons{bottom:1.25rem;position:fixed;right:1.25rem;text-align:right}.rc-button{border:none!important;border-radius:7px!important;cursor:pointer;font-size:1rem!important;font-weight:700!important;line-height:150%!important;margin:.25rem!important;padding:1rem 1.5rem!important;text-align:center!important}.rc-go-button{background:rgba(255,154,0,.667)!important;color:#fff!important}.rc-go-button:hover{background:#ff9a00!important}.rc-go-button:active{background:#d68200!important}.rc-cancel-button,.rc-custom-button{background:hsla(0,0%,100%,.933)!important;color:#333!important}.rc-cancel-button:hover,.rc-custom-button:hover{background:#ddd!important}.rc-cancel-button:active,.rc-custom-button:active{background:#aaa!important;color:#000!important}.rc-button:disabled{background:#ddd!important;color:#999!important;cursor:default!important}","",{version:3,sources:["webpack://./src/css/buttons.scss"],names:[],mappings:"AAAA,YACE,UAAA,CAGF,qBAGE,cAAA,CAFA,cAAA,CAGA,aAAA,CAFA,gBAEA,CAGF,WAEE,qBAAA,CAMA,2BAAA,CACA,cAAA,CALA,wBAAA,CACA,yBAAA,CAFA,0BAAA,CAIA,uBAAA,CADA,6BAAA,CALA,2BAQA,CAGF,cACE,yCAAA,CACA,oBAAA,CAEA,oBACE,4BAAA,CAGF,qBACE,4BAAA,CAIJ,oCAEE,yCAAA,CACA,oBAAA,CAEA,gDACE,yBAAA,CAGF,kDACE,yBAAA,CACA,oBAAA,CAIJ,oBACE,yBAAA,CACA,oBAAA,CACA,wBAAA",sourcesContent:[".rc-buttons {\n  z-index: 10;\n}\n\n.rc-absolute-buttons {\n  position: fixed;\n  text-align: right;\n  bottom: 1.25rem;\n  right: 1.25rem;\n}\n\n.rc-button {\n  text-align: center !important;\n  border: none !important;\n  line-height: 150% !important;\n  font-size: 1rem !important;\n  font-weight: 700 !important;\n  padding: 1rem 1.5rem !important;\n  margin: 0.25rem !important;\n  border-radius: 7px !important;\n  cursor: pointer;\n}\n\n.rc-go-button {\n  background: #ff9a00aa !important;\n  color: #fff !important;\n\n  &:hover {\n    background: #ff9a00 !important;\n  }\n\n  &:active {\n    background: #d68200 !important;\n  }\n}\n\n.rc-cancel-button,\n.rc-custom-button {\n  background: #ffffffee !important;\n  color: #333 !important;\n\n  &:hover {\n    background: #ddd !important;\n  }\n\n  &:active {\n    background: #aaa !important;\n    color: #000 !important;\n  }\n}\n\n.rc-button:disabled {\n  background: #ddd !important;\n  color: #999 !important;\n  cursor: default !important;\n}\n"],sourceRoot:""}]);const o=i},290:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,".my__swal2__container .swal2-select{border:2px solid #aaa!important;border-radius:5px!important;font-family:inherit!important;font-size:1.2rem!important;margin:auto 1.6rem!important;outline:none!important;padding-top:.5rem!important}.rc-form{font-family:inherit;font-size:2rem;pointer-events:auto!important}.rc-form .rc-form-inputs{display:flex;justify-content:space-between!important;margin:1rem 0}.rc-form .rc-form-inputs .rc-form-input,.rc-form .rc-form-inputs span{flex-grow:1;font-family:inherit;font-size:inherit;padding:.5rem}.rc-form .rc-form-inputs span{font-weight:700}.rc-form .rc-form-input{border:2px solid #aaa;border-radius:5px;outline:none;width:min(100%,10rem)}.rc-form .rc-form-input.rc-input-error{border-color:#ac0d0d!important;color:#ac0d0d!important}.rc-form .rc-form-input+.rc-form-input{margin-left:.5rem}.arrow-two-sided-svg{position:fixed}.arrow-two-sided-svg .arrow-two-sided{fill:#ff9a00}.arrow-two-sided-horizontal{bottom:10%;left:0;right:0;width:100%}.arrow-two-sided-vertical{bottom:0;height:100%;right:5%;top:0}","",{version:3,sources:["webpack://./src/css/check.scss"],names:[],mappings:"AAAA,oCAME,+BAAA,CADA,2BAAA,CADA,6BAAA,CAHA,0BAAA,CACA,4BAAA,CAKA,sBAAA,CAJA,2BAIA,CAOF,SAEE,mBAAA,CADA,cAAA,CAEA,6BAAA,CAEA,yBACE,YAAA,CACA,uCAAA,CACA,aAAA,CAEA,sEAEE,WAAA,CAEA,mBAAA,CACA,iBAAA,CAFA,aAEA,CAGF,8BACE,eAAA,CAIJ,wBACE,qBAAA,CAEA,iBAAA,CADA,YAAA,CAEA,qBAAA,CAEA,uCACE,8BAAA,CACA,uBAAA,CAIJ,uCACE,iBAAA,CAIJ,qBACE,cAAA,CAEA,sCACE,YAAA,CAIJ,4BAEE,UAAA,CACA,MAAA,CACA,OAAA,CAHA,UAGA,CAGF,0BAIE,QAAA,CAHA,WAAA,CACA,QAAA,CACA,KACA",sourcesContent:[".my__swal2__container .swal2-select {\n  font-size: 1.2rem !important;\n  margin: auto 1.6rem !important;\n  padding-top: 0.5rem !important;\n  font-family: inherit !important;\n  border-radius: 5px !important;\n  border: 2px solid #aaa !important;\n  outline: none !important;\n}\n\n/* -------------------------------------------------------------------------- */\n/*                                Measure Input                               */\n/* -------------------------------------------------------------------------- */\n\n.rc-form {\n  font-size: 2rem;\n  font-family: inherit;\n  pointer-events: auto !important;\n\n  .rc-form-inputs {\n    display: flex;\n    justify-content: space-between !important;\n    margin: 1rem 0;\n\n    .rc-form-input,\n    span {\n      flex-grow: 1;\n      padding: 0.5rem;\n      font-family: inherit;\n      font-size: inherit;\n    }\n\n    span {\n      font-weight: 700;\n    }\n  }\n\n  .rc-form-input {\n    border: 2px solid #aaa;\n    outline: none;\n    border-radius: 5px;\n    width: min(100%, 10rem);\n\n    &.rc-input-error {\n      border-color: #ac0d0d !important;\n      color: #ac0d0d !important;\n    }\n  }\n\n  .rc-form-input + .rc-form-input {\n    margin-left: 0.5rem;\n  }\n}\n\n.arrow-two-sided-svg {\n  position: fixed;\n\n  .arrow-two-sided {\n    fill: #ff9a00;\n  }\n}\n\n.arrow-two-sided-horizontal {\n  width: 100%;\n  bottom: 10%;\n  left: 0;\n  right: 0;\n}\n\n.arrow-two-sided-vertical {\n  height: 100%;\n  right: 5%;\n  top: 0;\n  bottom: 0;\n}\n"],sourceRoot:""}]);const o=i},2945:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,"#eye-side{font-weight:700}#blind-spot-canvas{bottom:0;display:block;left:0;margin:0;padding:0;position:fixed;right:0;top:0;z-index:-1}#blind-spot-instruction{max-width:unset!important}@media(min-width:641px){#blind-spot-instruction{font-size:1.1rem!important;width:65%!important}}@media(max-width:640px){#blind-spot-instruction{font-size:.9rem!important;width:90%!important}}#pip-video{display:none}#video-canvas{border-radius:6px;bottom:1rem;display:block;left:1rem;position:absolute;z-index:1000}#rc-ruler{cursor:pointer;max-height:120px;overflow:hidden;position:fixed;-webkit-user-select:none;-moz-user-select:none;user-select:none}#rc-ruler-scales{left:30px;pointer-events:none;position:absolute;top:0;z-index:1}#rc-ruler-scales #size-arrow{opacity:.5;transform:rotate(90deg) translateY(calc(50% + 3px))}#rc-ruler-scales .rc-ruler-scale-text{color:rgba(44,46,67,.667);font-weight:700;margin:0!important;padding:0;position:absolute;top:32px!important;transform:translate(-50%)!important}#rc-ruler-scales .rc-ruler-scale{display:block;position:absolute;top:0;transform:translate(-1px);width:2px;z-index:2}#rc-ruler-scales .rc-ruler-major{background-color:rgba(44,46,67,.933);height:30px}#rc-ruler-scales .rc-ruler-secondary{background-color:rgba(89,82,96,.867);height:24px}#rc-ruler-scales .rc-ruler-minor{background-color:rgba(89,82,96,.4);height:16px}.hide-nudger .calibration-nudger{display:none!important;opacity:0!important}.calibration-nudger,.gaze-nudger{bottom:0;box-sizing:border-box;height:100%;left:0;margin:0;overflow:hidden;position:fixed;right:0;scrollbar-width:none;text-align:center;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:999999999}.calibration-nudger *,.gaze-nudger *{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}#rc-distance-correct{margin:3rem auto auto;overflow-wrap:break-word;padding:2rem;text-align:center;width:100%}#rc-distance-correct #rc-distance-correct-instruction{font-size:7rem;font-weight:700;line-height:100%;margin:2rem auto}#rc-distance-correct #rc-distance-correct-guide{font-size:3rem;font-weight:500;line-height:150%}#rc-distance-correct #rc-distance-correct-guide .rc-distance-num{border-radius:7px!important;font-family:monospace!important;font-weight:700;padding:.5rem;vertical-align:middle}#rc-distance-correct #rc-distance-correct-guide .rc-distance-now{background-color:rgba(255,154,0,.4);border:2px solid #ff9a00}#rc-distance-correct #rc-distance-correct-guide .rc-distance-desired{background-color:rgba(52,144,222,.4);border:2px solid #3490de}","",{version:3,sources:["webpack://./src/css/distance.scss"],names:[],mappings:"AAAA,UACE,eAAA,CAGF,mBAME,QAAA,CAJA,aAAA,CAGA,MAAA,CAIA,QAAA,CADA,SAAA,CAPA,cAAA,CAMA,OAAA,CAHA,KAAA,CADA,UAMA,CAGF,wBAEE,yBAAA,CAGF,wBACE,wBAEE,0BAAA,CADA,mBACA,CAAA,CAIJ,wBACE,wBAEE,yBAAA,CADA,mBACA,CAAA,CAIJ,WACE,YAAA,CAGF,cAME,iBAAA,CAFA,WAAA,CADA,aAAA,CAEA,SAAA,CAHA,iBAAA,CADA,YAKA,CAKF,UAKE,cAAA,CAHA,gBAAA,CACA,eAAA,CAFA,cAAA,CAKA,wBAAA,CAAA,qBAAA,CAAA,gBAAA,CAGF,iBAGE,SAAA,CAEA,mBAAA,CAJA,iBAAA,CACA,KAAA,CAEA,SACA,CAEA,6BAEE,UAAA,CADA,mDACA,CAGF,sCAKE,yBAAA,CACA,eAAA,CAHA,kBAAA,CACA,SAAA,CAHA,iBAAA,CACA,kBAAA,CAKA,mCAAA,CAGF,iCAEE,aAAA,CADA,iBAAA,CAEA,KAAA,CAEA,yBAAA,CADA,SAAA,CAEA,SAAA,CAGF,iCACE,oCAAA,CACA,WAAA,CAGF,qCACE,oCAAA,CACA,WAAA,CAGF,iCACE,kCAAA,CACA,WAAA,CAOF,iCACE,sBAAA,CACA,mBAAA,CAIJ,iCASE,QAAA,CAIA,qBAAA,CARA,WAAA,CAEA,MAAA,CAGA,QAAA,CACA,eAAA,CARA,cAAA,CAKA,OAAA,CAOA,oBAAA,CADA,iBAAA,CARA,KAAA,CAMA,wBAAA,CAAA,qBAAA,CAAA,gBAAA,CARA,UAAA,CAFA,iBAaA,CAEA,qCACE,wHAAA,CAKJ,qBAGE,qBAAA,CAEA,wBAAA,CADA,YAAA,CAHA,iBAAA,CACA,UAGA,CAEA,sDAEE,cAAA,CADA,eAAA,CAGA,gBAAA,CADA,gBACA,CAGF,gDAEE,cAAA,CADA,eAAA,CAEA,gBAAA,CAEA,iEAEE,2BAAA,CAEA,+BAAA,CADA,eAAA,CAFA,aAAA,CAIA,qBAAA,CAGF,iEAEE,mCAAA,CADA,wBACA,CAGF,qEAEE,oCAAA,CADA,wBACA",sourcesContent:["#eye-side {\n  font-weight: bold;\n}\n\n#blind-spot-canvas {\n  position: fixed;\n  display: block;\n  z-index: -1;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n}\n\n#blind-spot-instruction {\n  // max-width: min(32rem, 100%) !important;\n  max-width: unset !important;\n}\n\n@media (min-width: 641px) {\n  #blind-spot-instruction {\n    width: 65% !important;\n    font-size: 1.1rem !important;\n  }\n}\n\n@media (max-width: 640px) {\n  #blind-spot-instruction {\n    width: 90% !important;\n    font-size: 0.9rem !important;\n  }\n}\n\n#pip-video {\n  display: none;\n}\n\n#video-canvas {\n  z-index: 1000;\n  position: absolute;\n  display: block;\n  bottom: 1rem;\n  left: 1rem;\n  border-radius: 6px;\n}\n\n/* ----------------------------------- PD ----------------------------------- */\n\n#rc-ruler {\n  position: fixed;\n  max-height: 120px;\n  overflow: hidden;\n\n  cursor: pointer;\n  user-select: none;\n}\n\n#rc-ruler-scales {\n  position: absolute;\n  top: 0;\n  left: 30px;\n  z-index: 1;\n  pointer-events: none;\n\n  #size-arrow {\n    transform: rotate(90deg) translate(0, calc(50% + 3px));\n    opacity: 0.5;\n  }\n\n  .rc-ruler-scale-text {\n    position: absolute;\n    top: 32px !important;\n    margin: 0 !important;\n    padding: 0;\n    color: #2c2e43aa;\n    font-weight: 700;\n    transform: translate(-50%, 0) !important;\n  }\n\n  .rc-ruler-scale {\n    position: absolute;\n    display: block;\n    top: 0;\n    width: 2px;\n    transform: translate(-1px, 0);\n    z-index: 2;\n  }\n\n  .rc-ruler-major {\n    background-color: #2c2e43ee;\n    height: 30px;\n  }\n\n  .rc-ruler-secondary {\n    background-color: #595260dd;\n    height: 24px;\n  }\n\n  .rc-ruler-minor {\n    background-color: #59526066;\n    height: 16px;\n  }\n}\n\n/* ---------------------------------- Check --------------------------------- */\n\n.hide-nudger {\n  .calibration-nudger {\n    display: none !important;\n    opacity: 0 !important;\n  }\n}\n\n.calibration-nudger,\n.gaze-nudger {\n  z-index: 999999999;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  overflow: hidden;\n  user-select: none;\n  box-sizing: border-box;\n  text-align: center;\n  scrollbar-width: none;\n\n  * {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n}\n\n#rc-distance-correct {\n  text-align: center;\n  width: 100%;\n  margin: 3rem auto auto auto;\n  padding: 2rem;\n  overflow-wrap: break-word;\n\n  #rc-distance-correct-instruction {\n    font-weight: 700;\n    font-size: 7rem;\n    margin: 2rem auto;\n    line-height: 100%;\n  }\n\n  #rc-distance-correct-guide {\n    font-weight: 500;\n    font-size: 3rem;\n    line-height: 150%;\n\n    .rc-distance-num {\n      padding: 0.5rem;\n      border-radius: 7px !important;\n      font-weight: 700;\n      font-family: monospace !important;\n      vertical-align: middle;\n    }\n\n    .rc-distance-now {\n      border: 2px solid #ff9a00;\n      background-color: #ff9a0066;\n    }\n\n    .rc-distance-desired {\n      border: 2px solid #3490de;\n      background-color: #3490de66;\n    }\n  }\n}\n"],sourceRoot:""}]);const o=i},4636:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,":root{--rc-panel-theme-color:#3490de;--rc-panel-darken-color:#185b94;--rc-panel-theme-color-semi:#3490de66;--rc-panel-darken-color-semi:#185b9488}.rc-panel{background-color:var(--rc-panel-theme-color);border-radius:10px!important;box-shadow:var(--rc-panel-darken-color-semi) 0 50px 100px -20px,var(--rc-panel-theme-color-semi) 0 30px 60px -30px!important;display:block;margin-left:auto!important;margin-right:auto!important;max-width:720px!important;overflow:hidden;padding:.75rem!important;position:relative;width:100%}.rc-panel *{box-sizing:border-box;outline:none;text-rendering:optimizeLegibility;vertical-align:baseline;-webkit-font-smoothing:auto;-moz-osx-font-smoothing:grayscale;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-kerning:normal;scrollbar-width:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.rc-panel .rc-panel-title{color:#fff!important;font-size:2rem!important;font-weight:600!important;margin:1rem 1rem 0!important}.rc-panel .rc-panel-description{color:hsla(0,0%,100%,.8)!important;font-size:1rem!important;font-weight:500!important;margin:.5rem 1rem 0!important}.rc-panel #rc-panel-language-parent{display:flex;flex-direction:row-reverse;margin:0;padding:0}.rc-panel #rc-panel-language-parent #rc-panel-lang-picker{background-color:hsla(0,0%,100%,.8)!important;border:none!important;border-radius:5px!important;display:block;font-size:1rem!important;font-weight:500!important;margin:.25rem .25rem 0!important;outline:none!important;padding:.25rem!important}.rc-panel .rc-panel-steps{margin:-3rem 0 0!important;padding-top:4rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-l,.rc-panel .rc-panel-steps.rc-panel-steps-s{display:flex!important;justify-content:space-between!important}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step{background:hsla(0,0%,100%,.8);flex-grow:1!important;margin:.25rem!important;padding:0!important;position:relative;text-align:center;transition:background-color .2s}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-use,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-use{font-size:1rem!important;line-height:170%!important;margin:0!important;padding:0 .3rem!important;position:absolute;right:0;top:0}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-use svg,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-use svg{height:1rem;width:1rem;fill:var(--rc-panel-darken-color)}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-name,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-name{color:var(--rc-panel-darken-color);font-size:1rem!important;font-weight:700!important;line-height:150%!important;white-space:nowrap}.rc-panel .rc-panel-steps.rc-panel-steps-l{flex-flow:row nowrap;max-width:100%;overflow-x:scroll}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step-name{margin:1.5rem .5rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step-use-tip{bottom:110%!important;display:flex!important;left:50%!important;position:absolute!important;transform:translate(-50%)!important}.rc-panel .rc-panel-steps.rc-panel-steps-s{flex-flow:column nowrap;overflow-x:hidden}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step{overflow-x:hidden;text-align:left;white-space:nowrap}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step-name{margin:1.2rem .75rem 1.2rem 1.5rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step-use-tip{display:inline-flex!important;position:relative!important}.rc-panel .rc-panel-steps .rc-panel-step{border:none!important;border-radius:7px!important}.rc-panel .rc-panel-steps .rc-panel-step .rc-panel-step-name{display:inline-block!important;position:relative!important}.rc-panel .rc-panel-steps .rc-panel-step-use-tip{align-items:center!important;background-color:rgba(255,154,0,.933)!important;border:none!important;border-radius:7px!important;color:#fff!important;font-size:.75rem!important;font-weight:500!important;justify-content:center!important;line-height:100%!important;margin:0!important;opacity:0;padding:.7rem .5rem!important;pointer-events:none;text-align:center!important;transition:opacity .2s;width:-moz-max-content!important;width:max-content!important;z-index:10!important}.rc-panel .rc-panel-steps .rc-panel-step-use-tip svg{height:.75rem;width:.75rem;fill:#fff}.rc-panel .rc-panel-steps .rc-panel-step-use-tip svg:last-of-type{margin-right:5px}.rc-panel .rc-panel-steps .rc-panel-step-todo:focus,.rc-panel .rc-panel-steps .rc-panel-step-todo:hover{background-color:#fff}.rc-panel .rc-panel-steps .rc-panel-step-todo:focus .rc-panel-step-use-tip,.rc-panel .rc-panel-steps .rc-panel-step-todo:hover .rc-panel-step-use-tip{opacity:1!important}.rc-panel .rc-panel-steps .rc-panel-step-todo:active{background-color:hsla(0,0%,93%,.8)}.rc-panel .rc-panel-steps .rc-panel-step-finished{background-color:hsla(0,0%,73%,.8)!important}.rc-panel .rc-panel-steps .rc-panel-step-inactive{opacity:.6;pointer-events:none}.rc-panel .rc-panel-steps .rc-panel-step-active{cursor:pointer;opacity:1}.rc-panel ::-webkit-scrollbar{display:none;width:0}.rc-panel .rc-panel-debug-control{background-color:hsla(0,0%,100%,.8);border:3px solid #e00;border-radius:7px;margin:1rem 0 0;overflow:hidden;padding:.5rem}.rc-panel .rc-panel-debug-control *{color:#ac0d0d}.rc-panel .rc-panel-debug-control h2,.rc-panel .rc-panel-debug-control h3,.rc-panel .rc-panel-debug-control p{margin:0!important}.rc-panel .rc-panel-debug-control h2{font-size:1.2rem!important;font-weight:700!important}.rc-panel .rc-panel-debug-control h3{font-size:.9rem;font-variant:small-caps;font-weight:500;padding-bottom:.3rem;padding-top:.5rem}.rc-panel .rc-panel-debug-control .rc-panel-debug-bold-text{font-size:1rem!important;font-weight:700}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-next{background-color:#e00;border:none;border-radius:5px;color:#fff;cursor:pointer;font-size:.9rem!important;margin:1rem 0 0;padding:.5rem 1.2rem!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-next:hover{background-color:#ac0d0d}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row{display:inline-flex;justify-content:flex-start!important;width:100%}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element{flex-grow:1;overflow-x:hidden;padding:0 .1rem;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element:first-of-type{padding-left:0}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element:last-of-type{padding-right:0}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element p{color:#ac0d0d;font-size:.65rem!important;line-height:150%!important;padding-left:1px!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element input{background-color:hsla(0,0%,100%,.8);border:1px solid #e99!important;border-radius:3px!important;font-size:.8rem;margin:0!important;padding:.3rem!important;pointer-events:auto;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;width:100%}","",{version:3,sources:["webpack://./src/css/panel.scss"],names:[],mappings:"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",sourcesContent:[":root {\n  --rc-panel-theme-color: #3490de;\n  --rc-panel-darken-color: #185b94;\n  --rc-panel-theme-color-semi: #3490de66;\n  --rc-panel-darken-color-semi: #185b9488;\n}\n\n.rc-panel {\n  position: relative;\n  display: block;\n  margin-left: auto !important;\n  margin-right: auto !important;\n  background-color: var(--rc-panel-theme-color);\n  width: 100%;\n  max-width: 720px !important;\n  padding: 0.75rem !important;\n  border-radius: 10px !important;\n  box-shadow:\n    var(--rc-panel-darken-color-semi) 0px 50px 100px -20px,\n    var(--rc-panel-theme-color-semi) 0px 30px 60px -30px !important;\n  overflow: hidden;\n\n  * {\n    outline: none;\n    vertical-align: baseline;\n    box-sizing: border-box;\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: auto;\n    -moz-osx-font-smoothing: grayscale;\n    font-kerning: normal;\n    user-select: none;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    scrollbar-width: none;\n  }\n\n  .rc-panel-title {\n    color: #fff !important;\n    margin: 1rem 1rem 0 1rem !important;\n    font-size: 2rem !important;\n    font-weight: 600 !important;\n  }\n\n  .rc-panel-description {\n    color: #ffffffcc !important;\n    margin: 0.5rem 1rem 0 1rem !important;\n    font-size: 1rem !important;\n    font-weight: 500 !important;\n  }\n\n  #rc-panel-language-parent {\n    display: flex;\n    flex-direction: row-reverse;\n    margin: 0;\n    padding: 0;\n\n    #rc-panel-lang-picker {\n      display: block;\n      background-color: #ffffffcc !important;\n      border: none !important;\n      outline: none !important;\n      margin: 0.25rem 0.25rem 0 0.25rem !important;\n      padding: 0.25rem !important;\n      font-size: 1rem !important;\n      font-weight: 500 !important;\n      border-radius: 5px !important;\n    }\n  }\n\n  .rc-panel-steps {\n    margin: -3rem 0 0 0 !important;\n    padding-top: 4rem !important;\n\n    &.rc-panel-steps-l,\n    &.rc-panel-steps-s {\n      display: flex !important;\n      justify-content: space-between !important;\n\n      .rc-panel-step {\n        position: relative;\n        flex-grow: 1 !important;\n        margin: 0.25rem !important;\n        text-align: center;\n        padding: 0 !important;\n        background: #ffffffcc;\n        transition: background-color 0.2s;\n\n        // &:focus {\n        //   outline: 3px solid black !important;\n        // }\n\n        .rc-panel-step-use {\n          position: absolute;\n          right: 0;\n          top: 0;\n          padding: 0 0.3rem !important;\n          margin: 0 !important;\n          font-size: 1rem !important;\n          line-height: 170% !important;\n\n          svg {\n            width: 1rem;\n            height: 1rem;\n            fill: var(--rc-panel-darken-color);\n          }\n        }\n\n        .rc-panel-step-name {\n          line-height: 150% !important;\n          font-size: 1rem !important;\n          font-weight: 700 !important;\n          color: var(--rc-panel-darken-color);\n          white-space: nowrap;\n        }\n      }\n    }\n\n    &.rc-panel-steps-l {\n      flex-flow: row nowrap;\n      max-width: 100%;\n      overflow-x: scroll;\n\n      .rc-panel-step-name {\n        margin: 1.5rem 0.5rem !important;\n      }\n\n      .rc-panel-step-use-tip {\n        position: absolute !important;\n        display: flex !important;\n        bottom: 110% !important;\n        left: 50% !important;\n        transform: translate(-50%, 0) !important;\n      }\n    }\n\n    &.rc-panel-steps-s {\n      flex-flow: column nowrap;\n      overflow-x: hidden;\n\n      .rc-panel-step {\n        text-align: left;\n        overflow-x: hidden;\n        white-space: nowrap;\n      }\n\n      .rc-panel-step-name {\n        margin: 1.2rem 0.75rem 1.2rem 1.5rem !important;\n      }\n\n      .rc-panel-step-use-tip {\n        position: relative !important;\n        display: inline-flex !important;\n      }\n    }\n\n    .rc-panel-step {\n      border-radius: 7px !important;\n      border: none !important;\n\n      .rc-panel-step-name {\n        position: relative !important;\n        display: inline-block !important;\n      }\n    }\n\n    // .rc-panel-next-button {\n    //   .rc-panel-step-name::after {\n    //     content: ' →' !important;\n    //   }\n    // }\n\n    .rc-panel-step-use-tip {\n      // visibility: hidden;\n      // backdrop-filter: blur(2px);\n      // box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 8px !important;\n      opacity: 0;\n      width: max-content !important;\n      background-color: #ff9a00ee !important;\n      color: #fff !important;\n      text-align: center !important;\n      justify-content: center !important;\n      align-items: center !important;\n      font-size: 0.75rem !important;\n      font-weight: 500 !important;\n      border-radius: 7px !important;\n      border: none !important;\n      padding: 0.7rem 0.5rem !important;\n      margin: 0 !important;\n      z-index: 10 !important;\n      line-height: 100% !important;\n      transition: opacity 0.2s;\n      pointer-events: none;\n\n      svg {\n        width: 0.75rem;\n        height: 0.75rem;\n        fill: #fff;\n      }\n\n      svg:last-of-type {\n        margin-right: 5px;\n      }\n    }\n\n    .rc-panel-step-todo {\n      &:hover,\n      &:focus {\n        background-color: #fff;\n\n        .rc-panel-step-use-tip {\n          // visibility: visible !important;\n          opacity: 1 !important;\n        }\n      }\n\n      &:active {\n        background-color: #eeeeeecc;\n      }\n    }\n\n    .rc-panel-step-finished {\n      background-color: #bbbbbbcc !important;\n    }\n\n    .rc-panel-step-inactive {\n      opacity: 0.6;\n      pointer-events: none;\n    }\n\n    .rc-panel-step-active {\n      opacity: 1;\n      cursor: pointer;\n    }\n  }\n\n  ::-webkit-scrollbar {\n    width: 0;\n    display: none;\n  }\n\n  /* ---------------------------------- DEBUG --------------------------------- */\n\n  .rc-panel-debug-control {\n    margin: 0;\n    margin-top: 1rem;\n    padding: 0.5rem;\n    border: 3px solid #ee0000;\n    border-radius: 7px;\n    background-color: #ffffffcc;\n    overflow: hidden;\n\n    * {\n      color: #ac0d0d;\n    }\n\n    h2,\n    h3,\n    p {\n      margin: 0 !important;\n    }\n\n    h2 {\n      font-weight: 700 !important;\n      font-size: 1.2rem !important;\n    }\n\n    h3 {\n      font-variant: small-caps;\n      font-size: 0.9rem;\n      font-weight: 500;\n      padding-top: 0.5rem;\n      padding-bottom: 0.3rem;\n    }\n\n    .rc-panel-debug-bold-text {\n      font-size: 1rem !important;\n      font-weight: bold;\n    }\n\n    .rc-panel-debug-control-next {\n      font-size: 0.9rem !important;\n      margin: 1rem 0 0 0;\n      color: #fff;\n      background-color: #ee0000;\n      padding: 0.5rem 1.2rem !important;\n      border-radius: 5px;\n      border: none;\n      cursor: pointer;\n\n      &:hover {\n        background-color: #ac0d0d;\n      }\n    }\n\n    .rc-panel-debug-control-task-row {\n      display: inline-flex;\n      justify-content: flex-start !important;\n      width: 100%;\n\n      .value-element {\n        flex-grow: 1;\n        padding: 0 0.1rem;\n        overflow-x: hidden;\n        white-space: nowrap;\n        // max-width: 10rem;\n        user-select: none;\n        pointer-events: none;\n\n        &:first-of-type {\n          padding-left: 0;\n        }\n\n        &:last-of-type {\n          padding-right: 0;\n        }\n\n        p {\n          padding-left: 1px !important;\n          line-height: 150% !important;\n          font-size: 0.65rem !important;\n          color: #ac0d0d;\n        }\n\n        input {\n          margin: 0 !important;\n          padding: 0.3rem !important;\n          font-size: 0.8rem;\n          width: 100%;\n          border: 1px solid #ee9999 !important;\n          border-radius: 3px !important;\n          background-color: #ffffffcc;\n          user-select: auto;\n          pointer-events: auto;\n        }\n      }\n    }\n  }\n}\n"],sourceRoot:""}]);const o=i},5151:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,"#size-card,#size-usba,#size-usbc{display:block;height:auto;left:2rem;position:absolute;z-index:2}#size-arrow{display:block;height:auto;position:absolute;width:70px;z-index:1}#size-arrow-fill{transition:fill .3s}.minor{transition:opacity .25s}.rc-slider:active~.size-obj .minor{opacity:0}#matching-obj{background-color:#fff;border:none;border-radius:7px;font-size:1.1rem;font-weight:600;margin-bottom:unset;margin-left:.3rem;margin-right:.3rem;margin-top:unset;padding-bottom:unset;padding-left:.3rem;padding-right:.3rem;padding-top:unset;pointer-events:auto!important;vertical-align:middle}@media(min-width:481px){.rc-size-obj-selection{display:inline-flex}}@media(max-width:480px){.rc-size-obj-selection{display:inline-block}}","",{version:3,sources:["webpack://./src/css/screenSize.scss"],names:[],mappings:"AAAA,iCAIE,aAAA,CAGA,WAAA,CADA,SAAA,CAHA,iBAAA,CAKA,SAAA,CAGF,YAEE,aAAA,CAGA,WAAA,CAJA,iBAAA,CAGA,UAAA,CAEA,SAAA,CAGF,iBACE,mBAAA,CAGF,OACE,uBAAA,CAIF,mCACE,SAAA,CAKF,cAGE,qBAAA,CADA,WAAA,CADA,iBAAA,CAMA,gBAAA,CADA,eAAA,CADA,mBAAA,CAAA,iBAAA,CAAA,kBAAA,CAAA,gBAAA,CADA,oBAAA,CAAA,kBAAA,CAAA,mBAAA,CAAA,iBAAA,CAKA,6BAAA,CADA,qBACA,CAGF,wBACE,uBACE,mBAAA,CAAA,CAIJ,wBACE,uBACE,oBAAA,CAAA",sourcesContent:["#size-card,\n#size-usba,\n#size-usbc {\n  position: absolute;\n  display: block;\n  /* top: calc(max(45%, 200px) + 50px); */\n  left: 2rem;\n  height: auto;\n  z-index: 2;\n}\n\n#size-arrow {\n  position: absolute;\n  display: block;\n  /* display: none; */\n  width: 70px;\n  height: auto;\n  z-index: 1;\n}\n\n#size-arrow-fill {\n  transition: fill 0.3s;\n}\n\n.minor {\n  transition: opacity 0.25s;\n}\n\n/* .rc-slider:hover ~ .size-obj .minor, */\n.rc-slider:active ~ .size-obj .minor {\n  opacity: 0;\n}\n\n/* -------------------------------------------------------------------------- */\n\n#matching-obj {\n  border-radius: 7px;\n  border: none;\n  background-color: #fff;\n  padding: unset 0.3rem;\n  margin: unset 0.3rem;\n  font-weight: 600;\n  font-size: 1.1rem;\n  vertical-align: middle;\n  pointer-events: auto !important;\n}\n\n@media (min-width: 481px) {\n  .rc-size-obj-selection {\n    display: inline-flex;\n  }\n}\n\n@media (max-width: 480px) {\n  .rc-size-obj-selection {\n    display: inline-block;\n  }\n}\n"],sourceRoot:""}]);const o=i},5319:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,".rc-slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:linear-gradient(90deg,#ffc772,#ffc772 60%,#fff 0);border-radius:5px;cursor:grab;direction:ltr!important;display:block;height:10px;left:2rem;opacity:1;position:absolute;transition:opacity .3s;width:calc(100% - 4rem);z-index:10}.rc-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}.rc-slider::-moz-range-thumb{-moz-appearance:none;appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}.rc-slider::-ms-thumb{appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}","",{version:3,sources:["webpack://./src/css/slider.scss"],names:[],mappings:"AAAA,WAGE,uBAAA,CAAA,oBAAA,CAAA,eAAA,CAGA,4DAAA,CAIA,iBAAA,CAEA,WAAA,CAEA,uBAAA,CAZA,aAAA,CAGA,WAAA,CAIA,SAAA,CAFA,SAAA,CANA,iBAAA,CAYA,sBAAA,CATA,uBAAA,CAOA,UAGA,CAkBF,iCAVE,uBAAA,CAAA,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA,CAOF,6BAdE,oBAAA,CAAA,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA,CAWF,sBAlBE,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA",sourcesContent:[".rc-slider {\n  position: absolute;\n  display: block;\n  appearance: none;\n  width: calc(100% - 4rem);\n  height: 10px;\n  background: linear-gradient(90deg, #ffc772, #ffc772 60%, #fff 60%);\n  opacity: 1;\n  /* top: max(45%, 200px); */\n  left: 2rem;\n  border-radius: 5px;\n  z-index: 10;\n  cursor: grab;\n  transition: opacity 0.3s;\n  direction: ltr !important;\n}\n\n// .rc-slider:hover {\n//   opacity: 1;\n// }\n\n@mixin thumb-style {\n  appearance: none;\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  border: 1px solid #cc7a00;\n  background: #ff9a00;\n  box-shadow: 0 0 12px 0 #88520033;\n  cursor: inherit;\n}\n\n.rc-slider::-webkit-slider-thumb {\n  @include thumb-style;\n}\n\n.rc-slider::-moz-range-thumb {\n  @include thumb-style;\n}\n\n.rc-slider::-ms-thumb {\n  @include thumb-style;\n}\n"],sourceRoot:""}]);const o=i},4889:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,"#webgazerVideoContainer .webgazer-videoinput-select{background:hsla(0,0%,100%,.8)!important;border:none!important;border-radius:.6rem!important;color:#666;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:.6rem;left:0;line-height:100%;margin:.3rem;outline:none!important;padding:.2rem .3rem;position:absolute;top:0;z-index:9}","",{version:3,sources:["webpack://./src/css/video.scss"],names:[],mappings:"AACE,oDAcE,uCAAA,CAHA,qBAAA,CAEA,6BAAA,CAEA,UAAA,CARA,wHAAA,CAEA,eAAA,CALA,MAAA,CAMA,gBAAA,CALA,YAAA,CAOA,sBAAA,CANA,mBAAA,CAJA,iBAAA,CACA,KAAA,CAFA,SAcA",sourcesContent:["#webgazerVideoContainer {\n  .webgazer-videoinput-select {\n    z-index: 9;\n    position: absolute;\n    top: 0;\n    left: 0;\n    margin: 0.3rem;\n    padding: 0.2rem 0.3rem;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 0.6rem;\n    line-height: 100%;\n    border: none !important;\n    outline: none !important;\n    border-radius: 0.6rem !important;\n    background: #ffffffcc !important;\n    color: #666;\n  }\n}\n"],sourceRoot:""}]);const o=i},9057:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,"#gaze-system-instruction{top:65%;white-space:pre}.gaze-nudge-instruction{top:65%}.gaze-calibration-dot{background:#ff005c80;cursor:auto;display:block;position:fixed!important;transition-timing-function:ease-in-out;transition:left .5s,right .5s,top .5s,bottom .5s;z-index:999999998}.gaze-calibration-dot-click{background:#ff005c;cursor:pointer;margin:auto;position:absolute;text-align:center;vertical-align:middle}.gaze-calibration-dot-click:active{opacity:.3}.gaze-calibration-dot-text{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:.9rem;font-weight:500;vertical-align:text-bottom}#webgazerGazeDot,#webgazerGazeDot-tempClone,.gaze-calibration-dot-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}#webgazerGazeDot,#webgazerGazeDot-tempClone{background-color:#111d5e;border-radius:5px;opacity:.5;position:fixed;z-index:9999999999}#webgazerVideoContainer{border-radius:5px;display:block;overflow:hidden;position:fixed!important;transform-origin:bottom left;z-index:999999997}#webgazerFaceFeedbackBox,#webgazerVideoContainer,#webgazerVideoContainer *{-webkit-user-select:none;-moz-user-select:none;user-select:none}#webgazerFaceFeedbackBox{border-radius:10px;box-sizing:border-box;opacity:.6;pointer-events:none}.rc-crosshair,.rc-gaze-nudger-arrows{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.rc-crosshair{border-radius:50%;cursor:pointer;display:block;height:40px;position:fixed!important;transition-timing-function:ease-in-out;transition:left .5s,right .5s,top .5s,bottom .5s;width:40px;z-index:999999999}.rc-crosshair-component{background-color:#000;left:50%;margin:auto;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none}","",{version:3,sources:["webpack://./src/css/gaze.css"],names:[],mappings:"AAAA,yBACE,OAAQ,CACR,eACF,CAEA,wBACE,OACF,CAEA,sBACE,oBAAqB,CAGrB,WAAe,CADf,aAAc,CADd,wBAA0B,CAI1B,sCAAuC,CACvC,gDAIa,CANb,iBAOF,CAEA,4BAEE,kBAAmB,CAEnB,cAAe,CADf,WAAY,CAFZ,iBAAkB,CAIlB,iBAAkB,CAClB,qBACF,CAEA,mCACE,UACF,CAEA,2BAIE,UAAW,CAHX,wHAC8D,CAG9D,eAAiB,CAFjB,eAAgB,CAGhB,0BAGF,CAIA,uEALE,mBAAoB,CADpB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAeF,CATA,4CAKE,wBAAyB,CACzB,iBAAkB,CAFlB,UAAY,CAFZ,cAAe,CACf,kBAMF,CAEA,wBAKE,iBAAkB,CAHlB,aAAc,CAKd,eAAgB,CAJhB,wBAA0B,CAC1B,4BAA6B,CAH7B,iBASF,CAMA,2EAPE,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAcF,CAPA,yBAGE,kBAAmB,CADnB,qBAAsB,CAEtB,UAAY,CACZ,mBAEF,CAIA,qCAEE,iBAAkB,CAIlB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBACF,CAEA,cAcE,iBAAkB,CARlB,cAAe,CAJf,aAAc,CAEd,WAAY,CAHZ,wBAA0B,CAM1B,sCAAuC,CACvC,gDAIa,CATb,UAAW,CAEX,iBAUF,CAEA,wBAQE,qBAAsB,CALtB,QAAS,CAET,WAAY,CACZ,mBAAoB,CALpB,iBAAkB,CAClB,OAAQ,CAER,8BAAgC,CAGhC,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAEF",sourcesContent:["#gaze-system-instruction {\n  top: 65%;\n  white-space: pre;\n}\n\n.gaze-nudge-instruction {\n  top: 65%;\n}\n\n.gaze-calibration-dot {\n  background: #ff005c80;\n  position: fixed !important;\n  display: block;\n  cursor: initial;\n  z-index: 999999998;\n  transition-timing-function: ease-in-out;\n  transition:\n    left 0.5s,\n    right 0.5s,\n    top 0.5s,\n    bottom 0.5s;\n}\n\n.gaze-calibration-dot-click {\n  position: absolute;\n  background: #ff005c;\n  margin: auto;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.gaze-calibration-dot-click:active {\n  opacity: 0.3;\n}\n\n.gaze-calibration-dot-text {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 500;\n  color: #fff;\n  font-size: 0.9rem;\n  vertical-align: text-bottom;\n  user-select: none;\n  pointer-events: none;\n}\n\n/* ----------------------------- WebGazer Native ---------------------------- */\n\n#webgazerGazeDot,\n#webgazerGazeDot-tempClone {\n  position: fixed;\n  z-index: 9999999999;\n  opacity: 0.5;\n  background-color: #111d5e;\n  border-radius: 5px;\n  pointer-events: none;\n  user-select: none;\n}\n\n#webgazerVideoContainer {\n  z-index: 999999997;\n  display: block;\n  position: fixed !important;\n  transform-origin: bottom left;\n  border-radius: 5px;\n  /* opacity: 0.8; */\n  overflow: hidden;\n  /* pointer-events: none; */\n  user-select: none;\n}\n\n#webgazerVideoContainer * {\n  user-select: none;\n}\n\n#webgazerFaceFeedbackBox {\n  /* TODO Set style in sub-module */\n  box-sizing: border-box;\n  border-radius: 10px;\n  opacity: 0.6;\n  pointer-events: none;\n  user-select: none;\n}\n\n/* ------------------------------- Gaze Nudger ------------------------------ */\n\n.rc-crosshair,\n.rc-gaze-nudger-arrows {\n  position: absolute;\n  /* top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%); */\n  user-select: none;\n}\n\n.rc-crosshair {\n  position: fixed !important;\n  display: block;\n  width: 40px;\n  height: 40px;\n  z-index: 999999999;\n  cursor: pointer;\n  transition-timing-function: ease-in-out;\n  transition:\n    left 0.5s,\n    right 0.5s,\n    top 0.5s,\n    bottom 0.5s;\n  /* filter: drop-shadow(0 0 3px #fff); */\n  border-radius: 50%;\n}\n\n.rc-crosshair-component {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: auto;\n  pointer-events: none;\n  user-select: none;\n  background-color: #000;\n}\n"],sourceRoot:""}]);const o=i},9725:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,"#calibration-background{bottom:0;box-sizing:border-box;height:100%;left:0;margin:0;overflow:hidden;overflow-y:scroll;position:fixed;right:0;scrollbar-width:none;text-align:center;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:999999990}#calibration-background::-webkit-scrollbar{display:none;width:0}#calibration-background *{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}#calibration-background p{line-height:150%}.calibration-instruction{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.calibration-instruction-scrollable{height:200%}.calibration-instruction h1{font-weight:700;min-width:360px}.calibration-instruction *{font-size:1.2rem;line-height:170%;margin:0;padding:0}.calibration-instruction p{margin-top:1rem;white-space:pre-line}.calibration-description{line-height:170%}.rc-hang-description{font-size:1rem!important;margin-top:50vh!important}@media (min-width:481px){.calibration-instruction{margin:2rem}.calibration-instruction h1{font-size:2.5rem!important;line-height:100%}.calibration-description{width:calc(100% - 4rem);width:max(min(100% - 4rem,960px),300px)}.calibration-description,.calibration-description *{font-size:1.2rem}.calibration-credit-text{font-size:.9rem!important}}@media (max-width:480px){.calibration-instruction{margin:1rem}.calibration-instruction h1{font-size:1.8rem!important;line-height:120%}.calibration-description{width:calc(100% - 1rem)}.calibration-description,.calibration-description *{font-size:1rem}.calibration-credit-text{font-size:.7rem!important}}.float-instruction{background:hsla(0,0%,100%,.9);border-radius:10px;font-size:1rem;font-weight:500;left:50%;margin:0;max-width:25rem;padding:10px 17px;position:fixed;text-align:center;transform:translate(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:999999991}.swal2-container{z-index:999999999!important}.calibration-credit-text{bottom:3px!important;color:#999!important;line-height:100%!important;margin:0!important;padding:0!important;position:fixed!important;text-align:center!important;width:100%!important}.lock-view{overflow:hidden!important}.rc-lang-ltr{direction:ltr!important;text-align:left!important}.rc-lang-rtl{direction:rtl!important;text-align:right!important}.cursor-grab{cursor:grab}.cursor-grabbing{cursor:grabbing}","",{version:3,sources:["webpack://./src/css/main.css"],names:[],mappings:"AACA,wBAQE,QAAS,CAMT,qBAAsB,CAVtB,WAAY,CAEZ,MAAO,CAGP,QAAS,CAET,eAAgB,CAChB,iBAAkB,CAVlB,cAAe,CAKf,OAAQ,CASR,oBAAqB,CADrB,iBAAkB,CAVlB,KAAM,CAQN,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAAiB,CAVjB,UAAW,CAFX,iBAgBF,CAEA,2CAEE,YAAa,CADb,OAEF,CAEA,0BACE,wHAEF,CAEA,0BACE,gBACF,CAEA,yBAGE,mBAAoB,CAFpB,iBAAkB,CAClB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAEF,CAEA,oCACE,WACF,CAEA,4BAEE,eAAgB,CADhB,eAEF,CAEA,2BACE,gBAAiB,CACjB,gBAAiB,CACjB,QAAS,CACT,SACF,CAEA,2BAEE,eAAgB,CADhB,oBAEF,CAEA,yBACE,gBACF,CAEA,qBAEE,wBAA0B,CAD1B,yBAEF,CAKA,yBACE,yBACE,WACF,CAEA,4BAEE,0BAA4B,CAD5B,gBAEF,CAEA,yBACE,uBAAwB,CACxB,uCACF,CAEA,oDAEE,gBACF,CAEA,yBACE,yBACF,CACF,CAEA,yBACE,yBACE,WACF,CAEA,4BAEE,0BAA4B,CAD5B,gBAEF,CAEA,yBACE,uBACF,CAEA,oDAEE,cACF,CAEA,yBACE,yBACF,CACF,CAEA,mBAIE,6BAAoC,CAMpC,kBAAmB,CACnB,cAAe,CACf,eAAgB,CALhB,QAAS,CADT,QAAS,CAET,eAAgB,CAHhB,iBAAkB,CAJlB,cAAe,CACf,iBAAkB,CAOlB,yBAA6B,CAN7B,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAAiB,CAUjB,iBACF,CAIA,iBACE,2BACF,CAIA,yBAGE,oBAAsB,CACtB,oBAAsB,CAGtB,0BAA4B,CAF5B,kBAAoB,CACpB,mBAAqB,CALrB,wBAA0B,CAO1B,2BAA6B,CAN7B,oBAOF,CAIA,WACE,yBACF,CAIA,aACE,uBAAyB,CACzB,yBACF,CAEA,aACE,uBAAyB,CACzB,0BACF,CAMA,aACE,WACF,CAEA,iBACE,eACF",sourcesContent:["/* background div */\n#calibration-background {\n  z-index: 999999990;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  /* background: #eee; */\n  overflow: hidden;\n  overflow-y: scroll;\n  user-select: none;\n  box-sizing: border-box;\n  text-align: center;\n  scrollbar-width: none;\n}\n\n#calibration-background::-webkit-scrollbar {\n  width: 0;\n  display: none;\n}\n\n#calibration-background * {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}\n\n#calibration-background p {\n  line-height: 150%;\n}\n\n.calibration-instruction {\n  position: absolute;\n  user-select: none;\n  pointer-events: none;\n}\n\n.calibration-instruction-scrollable {\n  height: 200%;\n}\n\n.calibration-instruction h1 {\n  min-width: 360px;\n  font-weight: 700;\n}\n\n.calibration-instruction * {\n  font-size: 1.2rem;\n  line-height: 170%;\n  margin: 0;\n  padding: 0;\n}\n\n.calibration-instruction p {\n  white-space: pre-line;\n  margin-top: 1rem;\n}\n\n.calibration-description {\n  line-height: 170%;\n}\n\n.rc-hang-description {\n  margin-top: 50vh !important;\n  font-size: 1rem !important;\n}\n\n/* -------------------------------------------------------------------------- */\n/* Screen size specific */\n\n@media (min-width: 481px) {\n  .calibration-instruction {\n    margin: 2rem;\n  }\n\n  .calibration-instruction h1 {\n    line-height: 100%;\n    font-size: 2.5rem !important;\n  }\n\n  .calibration-description {\n    width: calc(100% - 4rem);\n    width: max(min(100% - 4rem, 960px), 300px);\n  }\n\n  .calibration-description,\n  .calibration-description * {\n    font-size: 1.2rem;\n  }\n\n  .calibration-credit-text {\n    font-size: 0.9rem !important;\n  }\n}\n\n@media (max-width: 480px) {\n  .calibration-instruction {\n    margin: 1rem;\n  }\n\n  .calibration-instruction h1 {\n    line-height: 120%;\n    font-size: 1.8rem !important;\n  }\n\n  .calibration-description {\n    width: calc(100% - 1rem);\n  }\n\n  .calibration-description,\n  .calibration-description * {\n    font-size: 1rem;\n  }\n\n  .calibration-credit-text {\n    font-size: 0.7rem !important;\n  }\n}\n\n.float-instruction {\n  position: fixed;\n  text-align: center;\n  user-select: none;\n  background: rgba(255, 255, 255, 0.9);\n  padding: 10px 17px;\n  margin: 0;\n  left: 50%;\n  max-width: 25rem;\n  transform: translate(-50%, 0);\n  border-radius: 10px;\n  font-size: 1rem;\n  font-weight: 500;\n  z-index: 999999991;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.swal2-container {\n  z-index: 999999999 !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.calibration-credit-text {\n  position: fixed !important;\n  width: 100% !important;\n  bottom: 3px !important;\n  color: #999 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  line-height: 100% !important;\n  text-align: center !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.lock-view {\n  overflow: hidden !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.rc-lang-ltr {\n  direction: ltr !important;\n  text-align: left !important;\n}\n\n.rc-lang-rtl {\n  direction: rtl !important;\n  text-align: right !important;\n}\n\n/* -------------------------------------------------------------------------- */\n/* --------------------------------- CURSOR --------------------------------- */\n/* -------------------------------------------------------------------------- */\n\n.cursor-grab {\n  cursor: grab;\n}\n\n.cursor-grabbing {\n  cursor: grabbing;\n}\n"],sourceRoot:""}]);const o=i},2535:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),r=n.n(s),a=n(6314),i=n.n(a)()(r());i.push([e.id,".swal2-container{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif!important}.my__swal2__icon{font-weight:700!important;-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.my__swal2__icon *{color:#ff9a00!important}.my__swal2__title{color:#000!important;font-size:2rem!important;font-weight:700!important}.my__swal2__html,.my__swal2__title{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.my__swal2__html{color:#444!important;font-size:1.2rem!important;font-weight:400!important;line-height:150%!important;margin:1.6rem}.my__swal2__html__center{text-align:center!important}.animate__animated.animate__fadeInUp,.animate__animated.animate__fadeOutDown{--animate-duration:400ms!important;--animate-delay:0!important}.fadeInUp,.fadeOutDown{animation-delay:0!important;animation-duration:.4s!important}","",{version:3,sources:["webpack://./src/css/swal.css"],names:[],mappings:"AAAA,iBACE,kIAEF,CAEA,iBACE,yBAA4B,CAC5B,kCAA4B,CAA5B,+BAA4B,CAA5B,0BACF,CAEA,mBACE,uBACF,CAEA,kBACE,oBAAsB,CACtB,wBAA0B,CAC1B,yBAEF,CAEA,mCAHE,kCAA4B,CAA5B,+BAA4B,CAA5B,0BAUF,CAPA,iBAEE,oBAAsB,CACtB,0BAA4B,CAE5B,yBAA8B,CAD9B,0BAA4B,CAH5B,aAMF,CAEA,yBACE,2BACF,CAEA,6EAEE,kCAAoC,CACpC,2BACF,CAEA,uBAGE,2BAA6B,CAD7B,gCAEF",sourcesContent:[".swal2-container {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif !important;\n}\n\n.my__swal2__icon {\n  font-weight: bold !important;\n  user-select: none !important;\n}\n\n.my__swal2__icon * {\n  color: #ff9a00 !important;\n}\n\n.my__swal2__title {\n  color: #000 !important;\n  font-size: 2rem !important;\n  font-weight: bold !important;\n  user-select: none !important;\n}\n\n.my__swal2__html {\n  margin: 1.6rem;\n  color: #444 !important;\n  font-size: 1.2rem !important;\n  line-height: 150% !important;\n  font-weight: normal !important;\n  user-select: none !important;\n}\n\n.my__swal2__html__center {\n  text-align: center !important;\n}\n\n.animate__animated.animate__fadeInUp,\n.animate__animated.animate__fadeOutDown {\n  --animate-duration: 400ms !important;\n  --animate-delay: 0 !important;\n}\n\n.fadeInUp,\n.fadeOutDown {\n  animation-duration: 400ms !important;\n  animation-delay: 0 !important;\n}\n"],sourceRoot:""}]);const o=i},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);s&&i[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},1354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),a="/*# ".concat(r," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},7158:function(e){var t=function(){"use strict";var e,t,n,s,r,a,i,o,l,u,c,h,d,p,f,m,g,y,b,w,v,x,A,k="leader-line",C=1,S=2,E=3,_=4,I={top:C,right:S,bottom:E,left:_},T=1,N=2,O=3,R=4,D=5,M={straight:T,arc:N,fluid:O,magnet:R,grid:D},F="behind",B=k+"-defs",z='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',L={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},P={behind:F,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},V={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},W=[C,S,E,_],U="auto",G={x:"left",y:"top",width:"width",height:"height"},q=80,j=4,H=5,$=120,K=8,X=3.75,Z=10,Y=30,Q=.5522847,J=.25*Math.PI,ee=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,te="http://www.w3.org/2000/svg",ne="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,se=!ne&&!!document.uniqueID,re="MozAppearance"in document.documentElement.style,ae=!(ne||re||!window.chrome||!window.CSS),ie=!(ne||se||re||ae||window.chrome||!("WebkitAppearance"in document.documentElement.style)),oe=se||ne?.2:.1,le={path:O,lineColor:"coral",lineSize:4,plugSE:[F,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},ue=(v={}.toString,x={}.hasOwnProperty.toString,A=x.call(Object),function(e){var t,n;return e&&"[object Object]"===v.call(e)&&(!(t=Object.getPrototypeOf(e))||(n=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof n&&x.call(n)===A)}),ce=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},he=(p={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},f=1e3/60/2,m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,f)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},y=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},b=[],w=0,{add:function(e,t,n,s,r,a,i){var o,l,u,c,h,d,m,g,y,v,x,A,k,C=++w;function S(t,n){return{value:e(n),timeRatio:t,outputRatio:n}}if("string"==typeof r&&(r=p[r]),e=e||function(){},n<f)l=[S(0,0),S(1,1)];else{if(u=f/n,l=[S(0,0)],0===r[0]&&0===r[1]&&1===r[2]&&1===r[3])for(h=u;h<=1;h+=u)l.push(S(h,h));else for(d=c=(h=u)/10;d<=1;d+=c)void 0,v=(y=(g=d)*g)*g,k=3*(x=1-g)*y,h<=(m={x:(A=x*x*3*g)*r[0]+k*r[2]+v,y:A*r[1]+k*r[3]+v}).x&&(l.push(S(m.x,m.y)),h+=u);l.push(S(1,1))}return o={animId:C,frameCallback:t,duration:n,count:s,frames:l,reverse:!!a},b.push(o),!1!==i&&Ce(o,i),C},remove:function(e){var t;b.some((function(n,s){return n.animId===e&&(t=s,!(n.framesStart=null))}))&&b.splice(t,1)},start:function(e,t,n){b.some((function(s){return s.animId===e&&(s.reverse=!!t,Ce(s,n),!0)}))},stop:function(e,t){var n;return b.some((function(s){return s.animId===e&&(t?null!=s.lastFrame&&(n=s.frames[s.lastFrame].timeRatio):(n=(Date.now()-s.framesStart)/s.duration,s.reverse&&(n=1-n),n<0?n=0:1<n&&(n=1)),!(s.framesStart=null))})),n},validTiming:function(e){return"string"==typeof e?p[e]:Array.isArray(e)&&[0,1,2,3].every((function(t){return y(e[t])&&0<=e[t]&&e[t]<=1}))?[e[0],e[1],e[2],e[3]]:null}}),de=function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){function t(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var n={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},s=-1!==e.navigator.userAgent.indexOf("MSIE ");function r(e){if(!e||0===e.length)return[];var n=new t(e),s=[];if(n.initialCommandIsMoveTo())for(;n.hasMoreData();){var r=n.parseSegment();if(null===r)break;s.push(r)}return s}function a(e){return e.map((function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}}))}function i(e){var t=[],n=null,s=null,r=null,a=null,i=null,o=null,l=null;return e.forEach((function(e){var u,c,d,p,f,m,g,y,b,w,v,x,A,k,C;"M"===e.type?(k=e.values[0],C=e.values[1],t.push({type:"M",values:[k,C]}),a=o=k,i=l=C):"C"===e.type?(d=e.values[0],p=e.values[1],u=e.values[2],c=e.values[3],k=e.values[4],C=e.values[5],t.push({type:"C",values:[d,p,u,c,k,C]}),s=u,r=c,a=k,i=C):"L"===e.type?(k=e.values[0],C=e.values[1],t.push({type:"L",values:[k,C]}),a=k,i=C):"H"===e.type?(k=e.values[0],t.push({type:"L",values:[k,i]}),a=k):"V"===e.type?(C=e.values[0],t.push({type:"L",values:[a,C]}),i=C):"S"===e.type?(u=e.values[0],c=e.values[1],k=e.values[2],C=e.values[3],m="C"===n||"S"===n?(f=a+(a-s),i+(i-r)):(f=a,i),t.push({type:"C",values:[f,m,u,c,k,C]}),s=u,r=c,a=k,i=C):"T"===e.type?(k=e.values[0],C=e.values[1],p="Q"===n||"T"===n?(d=a+(a-s),i+(i-r)):(d=a,i),f=a+2*(d-a)/3,m=i+2*(p-i)/3,g=k+2*(d-k)/3,y=C+2*(p-C)/3,t.push({type:"C",values:[f,m,g,y,k,C]}),s=d,r=p,a=k,i=C):"Q"===e.type?(d=e.values[0],p=e.values[1],k=e.values[2],C=e.values[3],f=a+2*(d-a)/3,m=i+2*(p-i)/3,g=k+2*(d-k)/3,y=C+2*(p-C)/3,t.push({type:"C",values:[f,m,g,y,k,C]}),s=d,r=p,a=k,i=C):"A"===e.type?(b=e.values[0],w=e.values[1],v=e.values[2],x=e.values[3],A=e.values[4],k=e.values[5],C=e.values[6],0===b||0===w?(t.push({type:"C",values:[a,i,k,C,k,C]}),a=k,i=C):a===k&&i===C||h(a,i,k,C,b,w,v,x,A).forEach((function(e){t.push({type:"C",values:e}),a=k,i=C}))):"Z"===e.type&&(t.push(e),a=o,i=l),n=e.type})),t}t.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=n[e]?n[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var s=null,r=(this._prevCommand=t).toUpperCase();return"H"===r||"V"===r?s=[this._parseNumber()]:"M"===r||"L"===r||"T"===r?s=[this._parseNumber(),this._parseNumber()]:"S"===r||"Q"===r?s=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===r?s=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===r?s=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===r&&(this._skipOptionalSpaces(),s=[]),null===s||0<=s.indexOf(null)?null:{type:t,values:s}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return n[e]?n[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,s=0,r=1,a=1,i=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,r=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var o=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==o)for(var l=this._currentIndex-1,u=1;o<=l;)t+=u*(this._string[l]-"0"),--l,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,s+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==i&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,a=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var c=t+s;return c*=r,e&&(c*=Math.pow(10,a*e)),i===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),c)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};var o=e.SVGPathElement.prototype.setAttribute,l=e.SVGPathElement.prototype.removeAttribute,u=e.Symbol?e.Symbol():"__cachedPathData",c=e.Symbol?e.Symbol():"__cachedNormalizedPathData",h=function(e,t,n,s,r,a,i,o,l,u){function c(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}var d,p,f,m,g,y,b,w,v,x,A,k,C,S,E,_=(d=i,Math.PI*d/180),I=[];u?(S=u[0],E=u[1],k=u[2],C=u[3]):(e=(p=c(e,t,-_)).x,t=p.y,1<(y=(m=(e-(n=(f=c(n,s,-_)).x))/2)*m/(r*r)+(g=(t-(s=f.y))/2)*g/(a*a))&&(r*=y=Math.sqrt(y),a*=y),v=(b=r*r)*(w=a*a)-b*g*g-w*m*m,x=b*g*g+w*m*m,k=(A=(o===l?-1:1)*Math.sqrt(Math.abs(v/x)))*r*g/a+(e+n)/2,C=A*-a*m/r+(t+s)/2,S=Math.asin(parseFloat(((t-C)/a).toFixed(9))),E=Math.asin(parseFloat(((s-C)/a).toFixed(9))),e<k&&(S=Math.PI-S),n<k&&(E=Math.PI-E),S<0&&(S=2*Math.PI+S),E<0&&(E=2*Math.PI+E),l&&E<S&&(S-=2*Math.PI),!l&&S<E&&(E-=2*Math.PI));var T,N,O,R=E-S;Math.abs(R)>120*Math.PI/180&&(T=E,N=n,O=s,E=l&&S<E?S+120*Math.PI/180*1:S+120*Math.PI/180*-1,n=k+r*Math.cos(E),s=C+a*Math.sin(E),I=h(n,s,N,O,r,a,i,0,l,[E,T,k,C])),R=E-S;var D=Math.cos(S),M=Math.sin(S),F=Math.cos(E),B=Math.sin(E),z=Math.tan(R/4),L=4/3*r*z,P=4/3*a*z,V=[e,t],W=[e+L*M,t-P*D],U=[n+L*B,s-P*F],G=[n,s];if(W[0]=2*V[0]-W[0],W[1]=2*V[1]-W[1],u)return[W,U,G].concat(I);I=[W,U,G].concat(I).join().split(",");var q=[],j=[];return I.forEach((function(e,t){t%2?j.push(c(I[t-1],I[t],_).y):j.push(c(I[t],I[t+1],_).x),6===j.length&&(q.push(j),j=[])})),q};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[u]=null,this[c]=null),o.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[u]=null,this[c]=null),l.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[c])return a(this[c]);this[u]?d=a(this[u]):(d=r(this.getAttribute("d")||""),this[u]=a(d));var t=i((n=[],h=l=o=s=null,d.forEach((function(e){var t,r,a,i,u,c,d=e.type;"M"===d?(u=e.values[0],c=e.values[1],n.push({type:"M",values:[u,c]}),s=l=u,o=h=c):"m"===d?(u=s+e.values[0],c=o+e.values[1],n.push({type:"M",values:[u,c]}),s=l=u,o=h=c):"L"===d?(u=e.values[0],c=e.values[1],n.push({type:"L",values:[u,c]}),s=u,o=c):"l"===d?(u=s+e.values[0],c=o+e.values[1],n.push({type:"L",values:[u,c]}),s=u,o=c):"C"===d?(t=e.values[0],r=e.values[1],a=e.values[2],i=e.values[3],u=e.values[4],c=e.values[5],n.push({type:"C",values:[t,r,a,i,u,c]}),s=u,o=c):"c"===d?(t=s+e.values[0],r=o+e.values[1],a=s+e.values[2],i=o+e.values[3],u=s+e.values[4],c=o+e.values[5],n.push({type:"C",values:[t,r,a,i,u,c]}),s=u,o=c):"Q"===d?(t=e.values[0],r=e.values[1],u=e.values[2],c=e.values[3],n.push({type:"Q",values:[t,r,u,c]}),s=u,o=c):"q"===d?(t=s+e.values[0],r=o+e.values[1],u=s+e.values[2],c=o+e.values[3],n.push({type:"Q",values:[t,r,u,c]}),s=u,o=c):"A"===d?(u=e.values[5],c=e.values[6],n.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],u,c]}),s=u,o=c):"a"===d?(u=s+e.values[5],c=o+e.values[6],n.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],u,c]}),s=u,o=c):"H"===d?(u=e.values[0],n.push({type:"H",values:[u]}),s=u):"h"===d?(u=s+e.values[0],n.push({type:"H",values:[u]}),s=u):"V"===d?(c=e.values[0],n.push({type:"V",values:[c]}),o=c):"v"===d?(c=o+e.values[0],n.push({type:"V",values:[c]}),o=c):"S"===d?(a=e.values[0],i=e.values[1],u=e.values[2],c=e.values[3],n.push({type:"S",values:[a,i,u,c]}),s=u,o=c):"s"===d?(a=s+e.values[0],i=o+e.values[1],u=s+e.values[2],c=o+e.values[3],n.push({type:"S",values:[a,i,u,c]}),s=u,o=c):"T"===d?(u=e.values[0],c=e.values[1],n.push({type:"T",values:[u,c]}),s=u,o=c):"t"===d?(u=s+e.values[0],c=o+e.values[1],n.push({type:"T",values:[u,c]}),s=u,o=c):"Z"!==d&&"z"!==d||(n.push({type:"Z",values:[]}),s=l,o=h)})),n));return this[c]=a(t),t}if(this[u])return a(this[u]);var n,s,o,l,h,d=r(this.getAttribute("d")||"");return this[u]=a(d),d},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)s?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,r=e.length;n<r;n+=1){var a=e[n];0<n&&(t+=" "),t+=a.type,a.values&&0<a.values.length&&(t+=" "+a.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,s=this.width.baseVal.value,r=this.height.baseVal.value,a=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,o=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;s/2<a&&(a=s/2),r/2<o&&(o=r/2);var l=(l=[{type:"M",values:[t+a,n]},{type:"H",values:[t+s-a]},{type:"A",values:[a,o,0,0,1,t+s,n+o]},{type:"V",values:[n+r-o]},{type:"A",values:[a,o,0,0,1,t+s-a,n+r]},{type:"H",values:[t+a]},{type:"A",values:[a,o,0,0,1,t,n+r-o]},{type:"V",values:[n+o]},{type:"A",values:[a,o,0,0,1,t+a,n]},{type:"Z",values:[]}]).filter((function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]}));return e&&!0===e.normalize&&(l=i(l)),l},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,s=this.r.baseVal.value,r=[{type:"M",values:[t+s,n]},{type:"A",values:[s,s,0,0,1,t,n+s]},{type:"A",values:[s,s,0,0,1,t-s,n]},{type:"A",values:[s,s,0,0,1,t,n-s]},{type:"A",values:[s,s,0,0,1,t+s,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(r=i(r)),r},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,s=this.rx.baseVal.value,r=this.ry.baseVal.value,a=[{type:"M",values:[t+s,n]},{type:"A",values:[s,r,0,0,1,t,n+r]},{type:"A",values:[s,r,0,0,1,t-s,n]},{type:"A",values:[s,r,0,0,1,t,n-r]},{type:"A",values:[s,r,0,0,1,t+s,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(a=i(a)),a},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()},pe=(h={},Ae.m=c=[function(e,t,n){n.r(t);var s=[],r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},i=Date.now(),o=void 0;function l(){var e=void 0,t=void 0;o&&(a.call(window,o),o=null),s.forEach((function(t){var n;(n=t.event)&&(t.event=null,t.listener(n),e=!0)})),e?(i=Date.now(),t=!0):Date.now()-i<500&&(t=!0),t&&(o=r.call(window,l))}function u(e){var t=-1;return s.some((function(n,s){return n.listener===e&&(t=s,!0)})),t}var c={add:function(e){var t=void 0;return-1===u(e)?(s.push(t={listener:e}),function(e){t.event=e,o||l()}):null},remove:function(e){var t;-1<(t=u(e))&&(s.splice(t,1),!s.length&&o&&(a.call(window,o),o=null))}};t.default=c}],Ae.c=h,Ae.d=function(e,t,n){Ae.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},Ae.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},Ae.t=function(e,t){if(1&t&&(e=Ae(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(Ae.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)Ae.d(n,s,function(t){return e[t]}.bind(null,s));return n},Ae.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Ae.d(t,"a",t),t},Ae.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ae.p="",Ae(Ae.s=0).default),fe={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:F},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:F},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:F},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},me={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},ge="fade",ye=[],be={},we=0,ve={},xe=0;function Ae(e){if(h[e])return h[e].exports;var t=h[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,Ae),t.l=!0,t.exports}function ke(){var e=Date.now(),t=!1;d&&(g.call(window,d),d=null),b.forEach((function(n){var s,r,a;if(n.framesStart){if((s=e-n.framesStart)>=n.duration&&n.count&&n.loopsLeft<=1)return a=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(n.framesStart=null);if(s>n.duration){if(r=Math.floor(s/n.duration),n.count){if(r>=n.loopsLeft)return a=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(n.framesStart=null);n.loopsLeft-=r}n.framesStart+=n.duration*r,s=e-n.framesStart}n.reverse&&(s=n.duration-s),a=n.frames[n.lastFrame=Math.round(s/f)],!1!==n.frameCallback(a.value,!1,a.timeRatio,a.outputRatio)?t=!0:n.framesStart=null}})),t&&(d=m.call(window,ke))}function Ce(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,ke()}function Se(e,t){var n,s;return typeof e!=typeof t||(n=ue(e)?"obj":Array.isArray(e)?"array":"")!=(ue(t)?"obj":Array.isArray(t)?"array":"")||("obj"===n?Se(s=Object.keys(e).sort(),Object.keys(t).sort())||s.some((function(n){return Se(e[n],t[n])})):"array"===n?e.length!==t.length||e.some((function(e,n){return Se(e,t[n])})):e!==t)}function Ee(e){return e?ue(e)?Object.keys(e).reduce((function(t,n){return t[n]=Ee(e[n]),t}),{}):Array.isArray(e)?e.map(Ee):e:e}function _e(e){var t,n,s,r=1,a=e=(e+"").trim();function i(e){var t=1,n=ee.exec(e);return n&&(t=parseFloat(n[1]),n[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),s=t[2].trim().split(/\s*,\s*/),"rgba"===n&&4===s.length?(r=i(s[3]),a="rgb("+s.slice(0,3).join(", ")+")"):"hsla"===n&&4===s.length?(r=i(s[3]),a="hsl("+s.slice(0,3).join(", ")+")"):"hwb"===n&&4===s.length?(r=i(s[3]),a="hwb("+s.slice(0,3).join(", ")+")"):"gray"===n&&2===s.length?(r=i(s[1]),a="gray("+s[0]+")"):"device-cmyk"===n&&5<=s.length&&(r=i(s[4]),a="device-cmyk("+s.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?a=t[1]?(r=parseInt(t[2],16)/255,"#"+t[1]):(r=parseInt(t[4]+t[4],16)/255,"#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(r=0),[r,a]}function Ie(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function Te(e,t){var n,s,r,a,i={};if(!(r=e.ownerDocument))return null;if(e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_DISCONNECTED)return null;for(s in n=e.getBoundingClientRect())i[s]=n[s];if(!t){if(!(a=r.defaultView))return null;i.left+=a.pageXOffset,i.right+=a.pageXOffset,i.top+=a.pageYOffset,i.bottom+=a.pageYOffset}return i}function Ne(e,t){var n,s,r=[],a=e;for(t=t||window;;){if(!(n=a.ownerDocument))return null;if(!(s=n.defaultView))return null;if(s===t)break;if(!(a=s.frameElement))return null;r.unshift(a)}return r}function Oe(e,t){var n,s,r=0,a=0;return(s=Ne(e,t=t||window))?s.length?(s.forEach((function(e,t){var n,s,i=Te(e,0<t);r+=i.left,a+=i.top,s=(n=e).ownerDocument.defaultView.getComputedStyle(n,""),i={left:n.clientLeft+parseFloat(s.paddingLeft),top:n.clientTop+parseFloat(s.paddingTop)},r+=i.left,a+=i.top})),(n=Te(e,!0)).left+=r,n.right+=r,n.top+=a,n.bottom+=a,n):Te(e):null}function Re(e,t){var n=e.x-t.x,s=e.y-t.y;return Math.sqrt(n*n+s*s)}function De(e,t,n){var s=t.x-e.x,r=t.y-e.y;return{x:e.x+s*n,y:e.y+r*n,angle:Math.atan2(r,s)/(Math.PI/180)}}function Me(e,t,n){var s=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(s)*n,y:t.y+Math.sin(s)*n*-1}}function Fe(e,t,n,s,r){var a=r*r,i=a*r,o=1-r,l=o*o,u=l*o,c=u*e.x+3*l*r*t.x+3*o*a*n.x+i*s.x,h=u*e.y+3*l*r*t.y+3*o*a*n.y+i*s.y,d=e.x+2*r*(t.x-e.x)+a*(n.x-2*t.x+e.x),p=e.y+2*r*(t.y-e.y)+a*(n.y-2*t.y+e.y),f=t.x+2*r*(n.x-t.x)+a*(s.x-2*n.x+t.x),m=t.y+2*r*(n.y-t.y)+a*(s.y-2*n.y+t.y),g=o*e.x+r*t.x,y=o*e.y+r*t.y,b=o*n.x+r*s.x,w=o*n.y+r*s.y,v=90-180*Math.atan2(d-f,p-m)/Math.PI;return{x:c,y:h,fromP2:{x:d,y:p},toP1:{x:f,y:m},fromP1:{x:g,y},toP2:{x:b,y:w},angle:v+=180<v?-180:180}}function Be(e,t,n,s,r){function a(e,t,n,s,r){return e*(e*(-3*t+9*n-9*s+3*r)+6*t-12*n+6*s)-3*t+3*n}var i,o,l,u,c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,d=(r=null==r||1<r?1:r<0?0:r)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach((function(r,p){o=a(i=d*r+d,e.x,t.x,n.x,s.x),l=a(i,e.y,t.y,n.y,s.y),u=o*o+l*l,h+=c[p]*Math.sqrt(u)})),d*h}function ze(e,t,n,s,r){for(var a,i=.5,o=1-i;a=Be(e,t,n,s,o),!(Math.abs(a-r)<=.01);)o+=(a<r?1:-1)*(i/=2);return o}function Le(e,t){var n;return e.forEach((function(e){var s=t?e.map((function(e){var n={x:e.x,y:e.y};return t(n),n})):e;(n=n||[{type:"M",values:[s[0].x,s[0].y]}]).push(s.length?2===s.length?{type:"L",values:[s[1].x,s[1].y]}:{type:"C",values:[s[1].x,s[1].y,s[2].x,s[2].y,s[3].x,s[3].y]}:{type:"Z",values:[]})})),n}function Pe(e){var t=[],n=0;return e.forEach((function(e){var s=(2===e.length?Re:Be).apply(null,e);t.push(s),n+=s})),{segsLen:t,lenAll:n}}function Ve(e,t){return null==e||null==t||e.length!==t.length||e.some((function(e,n){var s=t[n];return e.type!==s.type||e.values.some((function(e,t){return e!==s.values[t]}))}))}function We(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function Ue(e,t,n){var s;e.events[t]&&-1<(s=e.events[t].indexOf(n))&&e.events[t].splice(s,1)}function Ge(e){i&&clearTimeout(i),ye.push(e),i=setTimeout((function(){ye.forEach((function(e){e()})),ye=[]}),0)}function qe(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function je(e){e.reflowTargets.forEach((function(e){var t;t=e,setTimeout((function(){var e=t.parentNode,n=t.nextSibling;e.insertBefore(e.removeChild(t),n)}),0)})),e.reflowTargets=[]}function He(e,t,n,s,r,a,i){var l,u,c;"auto-start-reverse"===n?("boolean"!=typeof o&&(t.setAttribute("orient","auto-start-reverse"),o=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),o?t.setAttribute("orient",n):((l=r.createSVGTransform()).setRotate(180,0,0),a.transform.baseVal.appendItem(l),t.setAttribute("orient","auto"),c=!0)):(t.setAttribute("orient",n),!1===o&&a.transform.baseVal.clear()),u=t.viewBox.baseVal,c?(u.x=-s.right,u.y=-s.bottom):(u.x=s.left,u.y=s.top),u.width=s.width,u.height=s.height,se&&qe(e,i)}function $e(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function Ke(e,t){Object.keys(t).forEach((function(n){var s=t[n];e[n]=null!=s.iniValue?s.hasSE?[s.iniValue,s.iniValue]:s.iniValue:s.hasSE?s.hasProps?[{},{}]:[]:s.hasProps?{}:null}))}function Xe(e,t,n,s,r){return s!==t[n]&&(t[n]=s,r&&r.forEach((function(t){t(e,s,n)})),!0)}function Ze(e){function t(e,t){return e+parseFloat(t)}var n=e.document,s=e.getComputedStyle(n.documentElement,""),r=e.getComputedStyle(n.body,""),a={x:0,y:0};return"static"!==r.position?(a.x-=[s.marginLeft,s.borderLeftWidth,s.paddingLeft,r.marginLeft,r.borderLeftWidth].reduce(t,0),a.y-=[s.marginTop,s.borderTopWidth,s.paddingTop,r.marginTop,r.borderTopWidth].reduce(t,0)):"static"!==s.position&&(a.x-=[s.marginLeft,s.borderLeftWidth].reduce(t,0),a.y-=[s.marginTop,s.borderTopWidth].reduce(t,0)),a}function Ye(e){var t,n=e.document;n.getElementById(B)||(t=(new e.DOMParser).parseFromString(z,"image/svg+xml"),n.body.appendChild(t.documentElement),de(e))}function Qe(e){var t,n,s,r,a,i,o,l,u,c,h,d,p,f,m,g,y,b,w,v=e.options,x=e.curStats,A=e.aplStats,k=x.position_socketXYSE,I=!1;function M(e,t){var n=t===C?{x:e.left+e.width/2,y:e.top}:t===S?{x:e.right,y:e.top+e.height/2}:t===E?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2};return n.socketId=t,n}function F(e){return{x:e.x,y:e.y}}if(x.position_path=v.path,x.position_lineStrokeWidth=x.line_strokeWidth,x.position_socketGravitySE=t=Ee(v.socketGravitySE),n=[0,1].map((function(t){var n,s,r,a=v.anchorSE[t],i=e.optionIsAttach.anchorSE[t],o=!1!==i?ve[a._id]:null,l=!1!==i&&o.conf.getStrokeWidth?o.conf.getStrokeWidth(o,e):0,u=!1!==i&&o.conf.getBBoxNest?o.conf.getBBoxNest(o,e,l):Oe(a,e.baseWindow);return x.capsMaskAnchor_pathDataSE[t]=!1!==i&&o.conf.getPathData?o.conf.getPathData(o,e,l):(s=null!=(n=u).right?n.right:n.left+n.width,r=null!=n.bottom?n.bottom:n.top+n.height,[{type:"M",values:[n.left,n.top]},{type:"L",values:[s,n.top]},{type:"L",values:[s,r]},{type:"L",values:[n.left,r]},{type:"Z",values:[]}]),x.capsMaskAnchor_strokeWidthSE[t]=l,u})),o=-1,v.socketSE[0]&&v.socketSE[1]?(k[0]=M(n[0],v.socketSE[0]),k[1]=M(n[1],v.socketSE[1])):(v.socketSE[0]||v.socketSE[1]?(i=v.socketSE[0]?(a=0,1):(a=1,0),k[a]=M(n[a],v.socketSE[a]),(r=W.map((function(e){return M(n[i],e)}))).forEach((function(e){var t=Re(e,k[a]);(t<o||-1===o)&&(k[i]=e,o=t)}))):(r=W.map((function(e){return M(n[1],e)})),W.map((function(e){return M(n[0],e)})).forEach((function(e){r.forEach((function(t){var n=Re(e,t);(n<o||-1===o)&&(k[0]=e,k[1]=t,o=n)}))}))),[0,1].forEach((function(e){var t,s;v.socketSE[e]||(n[e].width||n[e].height?n[e].width||k[e].socketId!==_&&k[e].socketId!==S?n[e].height||k[e].socketId!==C&&k[e].socketId!==E||(k[e].socketId=0<=k[e?0:1].y-n[e].top?E:C):k[e].socketId=0<=k[e?0:1].x-n[e].left?S:_:(t=k[e?0:1].x-n[e].left,s=k[e?0:1].y-n[e].top,k[e].socketId=Math.abs(t)>=Math.abs(s)?0<=t?S:_:0<=s?E:C))}))),x.position_path!==A.position_path||x.position_lineStrokeWidth!==A.position_lineStrokeWidth||[0,1].some((function(e){return x.position_plugOverheadSE[e]!==A.position_plugOverheadSE[e]||(a=k[e],i=A.position_socketXYSE[e],a.x!==i.x||a.y!==i.y||a.socketId!==i.socketId)||(n=t[e],s=A.position_socketGravitySE[e],(r=null==n?"auto":Array.isArray(n)?"array":"number")!=(null==s?"auto":Array.isArray(s)?"array":"number")||("array"==r?n[0]!==s[0]||n[1]!==s[1]:n!==s));var n,s,r,a,i}))){switch(e.pathList.baseVal=s=[],e.pathList.animVal=null,x.position_path){case T:s.push([F(k[0]),F(k[1])]);break;case N:d="number"==typeof t[0]&&0<t[0]||"number"==typeof t[1]&&0<t[1],m=(p=J*(d?-1:1))-(f=Math.atan2(k[1].y-k[0].y,k[1].x-k[0].x)),g=Math.PI-f-p,y=Re(k[0],k[1])/Math.sqrt(2)*Q,b={x:k[0].x+Math.cos(m)*y,y:k[0].y+Math.sin(m)*y*-1},w={x:k[1].x+Math.cos(g)*y,y:k[1].y+Math.sin(g)*y*-1},s.push([F(k[0]),b,w,F(k[1])]);break;case O:case R:u=[t[0],x.position_path===R?0:t[1]],c=[],h=[],k.forEach((function(e,t){var n,s,r,a,i=u[t],o=Array.isArray(i)?{x:i[0],y:i[1]}:"number"==typeof i?e.socketId===C?{x:0,y:-i}:e.socketId===S?{x:i,y:0}:e.socketId===E?{x:0,y:i}:{x:-i,y:0}:(n=k[t?0:1],r=0<(s=x.position_plugOverheadSE[t])?$+(K<s?(s-K)*X:0):q+(x.position_lineStrokeWidth>j?(x.position_lineStrokeWidth-j)*H:0),e.socketId===C?((a=(e.y-n.y)/2)<r&&(a=r),{x:0,y:-a}):e.socketId===S?((a=(n.x-e.x)/2)<r&&(a=r),{x:a,y:0}):e.socketId===E?((a=(n.y-e.y)/2)<r&&(a=r),{x:0,y:a}):((a=(e.x-n.x)/2)<r&&(a=r),{x:-a,y:0}));c[t]=e.x+o.x,h[t]=e.y+o.y})),s.push([F(k[0]),{x:c[0],y:h[0]},{x:c[1],y:h[1]},F(k[1])]);break;case D:!function(){var e,n=1,r=2,a=3,i=4,o=[[],[]],l=[];function u(e){return e===n?a:e===r?i:e===a?n:r}function c(e){return e===r||e===i?"x":"y"}function h(e,t,s){var i={x:e.x,y:e.y};if(s){if(s===u(e.dirId))throw new Error("Invalid dirId: "+s);i.dirId=s}else i.dirId=e.dirId;return i.dirId===n?i.y-=t:i.dirId===r?i.x+=t:i.dirId===a?i.y+=t:i.x-=t,i}function d(e,t){return t.dirId===n?e.y<=t.y:t.dirId===r?e.x>=t.x:t.dirId===a?e.y>=t.y:e.x<=t.x}function p(e,t){return t.dirId===n||t.dirId===a?e.x===t.x:e.y===t.y}function f(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function m(e,t,n){return Math.abs(t[n]-e[n])}function g(e,t,s){return"x"===s?e.x<t.x?r:i:e.y<t.y?a:n}for(k.forEach((function(e,s){var c,d=F(e),p=t[s];c=Array.isArray(p)?p[0]<0?[i,-p[0]]:0<p[0]?[r,p[0]]:p[1]<0?[n,-p[1]]:0<p[1]?[a,p[1]]:[e.socketId,0]:"number"!=typeof p?[e.socketId,Y]:0<=p?[e.socketId,p]:[u(e.socketId),-p],d.dirId=c[0],p=c[1],o[s].push(d),l[s]=h(d,p)}));function(){var e,t,n,s,i=[d(l[1],l[0]),d(l[0],l[1])],u=[c(l[0].dirId),c(l[1].dirId)];if(u[0]===u[1]){if(i[0]&&i[1])return void(p(l[1],l[0])||(l[0][u[0]]===l[1][u[1]]?(o[0].push(l[0]),o[1].push(l[1])):(e=l[0][u[0]]+(l[1][u[1]]-l[0][u[0]])/2,o[0].push(h(l[0],Math.abs(e-l[0][u[0]]))),o[1].push(h(l[1],Math.abs(e-l[1][u[1]]))))));i[0]!==i[1]?(t=f(i),(n=m(l[t.notContain],l[t.contain],u[t.notContain]))<Y&&(l[t.notContain]=h(l[t.notContain],Y-n)),o[t.notContain].push(l[t.notContain]),l[t.notContain]=h(l[t.notContain],Y,p(l[t.contain],l[t.notContain])?"x"===u[t.notContain]?a:r:g(l[t.notContain],l[t.contain],"x"===u[t.notContain]?"y":"x"))):(n=m(l[0],l[1],"x"===u[0]?"y":"x"),o.forEach((function(e,t){var s=0===t?1:0;e.push(l[t]),l[t]=h(l[t],Y,2*Y<=n?g(l[t],l[s],"x"===u[t]?"y":"x"):"x"===u[t]?a:r)})))}else{if(i[0]&&i[1])return void(p(l[1],l[0])?o[1].push(l[1]):p(l[0],l[1])?o[0].push(l[0]):o[0].push("x"===u[0]?{x:l[1].x,y:l[0].y}:{x:l[0].x,y:l[1].y}));i[0]!==i[1]?(t=f(i),o[t.notContain].push(l[t.notContain]),l[t.notContain]=h(l[t.notContain],Y,m(l[t.notContain],l[t.contain],u[t.contain])>=Y?g(l[t.notContain],l[t.contain],u[t.contain]):l[t.contain].dirId)):(s=[{x:l[0].x,y:l[0].y},{x:l[1].x,y:l[1].y}],o.forEach((function(e,t){var n=0===t?1:0,r=m(s[t],s[n],u[t]);r<Y&&(l[t]=h(l[t],Y-r)),e.push(l[t]),l[t]=h(l[t],Y,g(l[t],l[n],u[n]))})))}return 1}(););o[1].reverse(),o[0].concat(o[1]).forEach((function(t,n){var r={x:t.x,y:t.y};0<n&&s.push([e,r]),e=r}))}()}l=[],x.position_plugOverheadSE.forEach((function(e,t){var r,a,i,o,u,c,h,d,p,f,m,g=!t;0<e?2===(r=s[a=g?0:s.length-1]).length?(l[a]=l[a]||Re.apply(null,r),l[a]>Z&&(l[a]-e<Z&&(e=l[a]-Z),i=De(r[0],r[1],(g?e:l[a]-e)/l[a]),s[a]=g?[i,r[1]]:[r[0],i],l[a]-=e)):(l[a]=l[a]||Be.apply(null,r),l[a]>Z&&(l[a]-e<Z&&(e=l[a]-Z),i=Fe(r[0],r[1],r[2],r[3],ze(r[0],r[1],r[2],r[3],g?e:l[a]-e)),u=g?(o=r[0],i.toP1):(o=r[3],i.fromP2),c=Math.atan2(o.y-i.y,i.x-o.x),h=Re(i,u),i.x=o.x+Math.cos(c)*e,i.y=o.y+Math.sin(c)*e*-1,u.x=i.x+Math.cos(c)*h,u.y=i.y+Math.sin(c)*h*-1,s[a]=g?[i,i.toP1,i.toP2,r[3]]:[r[0],i.fromP1,i.fromP2,i],l[a]=null)):e<0&&(r=s[a=g?0:s.length-1],d=k[t].socketId,p=d===_||d===S?"x":"y",e<(m=-n[t]["x"==p?"width":"height"])&&(e=m),f=e*(d===_||d===C?-1:1),2===r.length?r[g?0:r.length-1][p]+=f:(g?[0,1]:[r.length-2,r.length-1]).forEach((function(e){r[e][p]+=f})),l[a]=null)})),A.position_socketXYSE=Ee(k),A.position_plugOverheadSE=Ee(x.position_plugOverheadSE),A.position_path=x.position_path,A.position_lineStrokeWidth=x.position_lineStrokeWidth,A.position_socketGravitySE=Ee(t),I=!0,e.events.apl_position&&e.events.apl_position.forEach((function(t){t(e,s)}))}return I}function Je(e,t){t!==e.isShown&&(!!t!=!!e.isShown&&(e.svg.style.visibility=t?"":"hidden"),e.isShown=t,e.events&&e.events.svgShow&&e.events.svgShow.forEach((function(n){n(e,t)})))}function et(t,n){var s,r,a,i,o,l,u,c,h,d,p,f,m,g,y,b,w,v,x,A,k,C,S,E,_,I,T,N,O,R,D,M,B,z,P,W,U,q,j,H,$,K,X,Z,Y,Q,J,ee,te,ne,ue,ce,he={};n.line&&(he.line=(r=(s=t).options,a=s.curStats,i=s.events,o=!1,o=Xe(s,a,"line_color",r.lineColor,i.cur_line_color)||o,o=Xe(s,a,"line_colorTra",_e(a.line_color)[0]<1)||o,o=Xe(s,a,"line_strokeWidth",r.lineSize,i.cur_line_strokeWidth)||o)),(n.plug||he.line)&&(he.plug=(u=(l=t).options,c=l.curStats,h=l.events,d=!1,[0,1].forEach((function(e){var t,n,s,r,a,i,o,p,f=u.plugSE[e];d=Xe(l,c.plug_enabledSE,e,f!==F)||d,d=Xe(l,c.plug_plugSE,e,f)||d,d=Xe(l,c.plug_colorSE,e,p=u.plugColorSE[e]||c.line_color,h.cur_plug_colorSE)||d,d=Xe(l,c.plug_colorTraSE,e,_e(p)[0]<1)||d,f!==F&&(r=n=(t=L[V[f]]).widthR*u.plugSizeSE[e],a=s=t.heightR*u.plugSizeSE[e],ie&&(r*=c.line_strokeWidth,a*=c.line_strokeWidth),d=Xe(l,c.plug_markerWidthSE,e,r)||d,d=Xe(l,c.plug_markerHeightSE,e,a)||d,c.capsMaskMarker_markerWidthSE[e]=n,c.capsMaskMarker_markerHeightSE[e]=s),c.plugOutline_plugSE[e]=c.capsMaskMarker_plugSE[e]=f,c.plug_enabledSE[e]?(p=c.line_strokeWidth/le.lineSize*u.plugSizeSE[e],c.position_plugOverheadSE[e]=t.overhead*p,c.viewBox_plugBCircleSE[e]=t.bCircle*p,i=t.sideLen*p,o=t.backLen*p):(c.position_plugOverheadSE[e]=-c.line_strokeWidth/2,c.viewBox_plugBCircleSE[e]=i=o=0),Xe(l,c.attach_plugSideLenSE,e,i,h.cur_attach_plugSideLenSE),Xe(l,c.attach_plugBackLenSE,e,o,h.cur_attach_plugBackLenSE),c.capsMaskAnchor_enabledSE[e]=!c.plug_enabledSE[e]})),d=Xe(l,c,"plug_enabled",c.plug_enabledSE[0]||c.plug_enabledSE[1])||d)),(n.lineOutline||he.line)&&(he.lineOutline=(m=(p=t).options,y=!1,y=Xe(p,g=p.curStats,"lineOutline_enabled",m.lineOutlineEnabled)||y,y=Xe(p,g,"lineOutline_color",m.lineOutlineColor)||y,y=Xe(p,g,"lineOutline_colorTra",_e(g.lineOutline_color)[0]<1)||y,f=g.line_strokeWidth*m.lineOutlineSize,y=Xe(p,g,"lineOutline_strokeWidth",g.line_strokeWidth-2*f)||y,y=Xe(p,g,"lineOutline_inStrokeWidth",g.lineOutline_colorTra?g.lineOutline_strokeWidth+2*oe:g.line_strokeWidth-f)||y)),(n.plugOutline||he.line||he.plug||he.lineOutline)&&(he.plugOutline=(w=(b=t).options,v=b.curStats,x=!1,[0,1].forEach((function(e){var t,n=v.plugOutline_plugSE[e],s=n!==F?L[V[n]]:null;x=Xe(b,v.plugOutline_enabledSE,e,w.plugOutlineEnabledSE[e]&&v.plug_enabled&&v.plug_enabledSE[e]&&!!s&&!!s.outlineBase)||x,x=Xe(b,v.plugOutline_colorSE,e,t=w.plugOutlineColorSE[e]||v.lineOutline_color)||x,x=Xe(b,v.plugOutline_colorTraSE,e,_e(t)[0]<1)||x,s&&s.outlineBase&&((t=w.plugOutlineSizeSE[e])>s.outlineMax&&(t=s.outlineMax),t*=2*s.outlineBase,x=Xe(b,v.plugOutline_strokeWidthSE,e,t)||x,x=Xe(b,v.plugOutline_inStrokeWidthSE,e,v.plugOutline_colorTraSE[e]?t-oe/(v.line_strokeWidth/le.lineSize)/w.plugSizeSE[e]*2:t/2)||x)})),x)),(n.faces||he.line||he.plug||he.lineOutline||he.plugOutline)&&(he.faces=(C=(A=t).curStats,S=A.aplStats,E=A.events,_=!1,!C.line_altColor&&Xe(A,S,"line_color",k=C.line_color,E.apl_line_color)&&(A.lineFace.style.stroke=k,_=!0),Xe(A,S,"line_strokeWidth",k=C.line_strokeWidth,E.apl_line_strokeWidth)&&(A.lineShape.style.strokeWidth=k+"px",_=!0,(re||se)&&(qe(A,A.lineShape),se&&(qe(A,A.lineFace),qe(A,A.lineMaskCaps)))),Xe(A,S,"lineOutline_enabled",k=C.lineOutline_enabled,E.apl_lineOutline_enabled)&&(A.lineOutlineFace.style.display=k?"inline":"none",_=!0),C.lineOutline_enabled&&(Xe(A,S,"lineOutline_color",k=C.lineOutline_color,E.apl_lineOutline_color)&&(A.lineOutlineFace.style.stroke=k,_=!0),Xe(A,S,"lineOutline_strokeWidth",k=C.lineOutline_strokeWidth,E.apl_lineOutline_strokeWidth)&&(A.lineOutlineMaskShape.style.strokeWidth=k+"px",_=!0,se&&(qe(A,A.lineOutlineMaskCaps),qe(A,A.lineOutlineFace))),Xe(A,S,"lineOutline_inStrokeWidth",k=C.lineOutline_inStrokeWidth,E.apl_lineOutline_inStrokeWidth)&&(A.lineMaskShape.style.strokeWidth=k+"px",_=!0,se&&(qe(A,A.lineOutlineMaskCaps),qe(A,A.lineOutlineFace)))),Xe(A,S,"plug_enabled",k=C.plug_enabled,E.apl_plug_enabled)&&(A.plugsFace.style.display=k?"inline":"none",_=!0),C.plug_enabled&&[0,1].forEach((function(e){var t=C.plug_plugSE[e],n=t!==F?L[V[t]]:null,s=$e(e,n);Xe(A,S.plug_enabledSE,e,k=C.plug_enabledSE[e],E.apl_plug_enabledSE)&&(A.plugsFace.style[s.prop]=k?"url(#"+A.plugMarkerIdSE[e]+")":"none",_=!0),C.plug_enabledSE[e]&&(Xe(A,S.plug_plugSE,e,t,E.apl_plug_plugSE)&&(A.plugFaceSE[e].href.baseVal="#"+n.elmId,He(A,A.plugMarkerSE[e],s.orient,n.bBox,A.svg,A.plugMarkerShapeSE[e],A.plugsFace),_=!0,re&&qe(A,A.plugsFace)),Xe(A,S.plug_colorSE,e,k=C.plug_colorSE[e],E.apl_plug_colorSE)&&(A.plugFaceSE[e].style.fill=k,_=!0,(ae||ie||se)&&!C.line_colorTra&&qe(A,se?A.lineMaskCaps:A.capsMaskLine)),["markerWidth","markerHeight"].forEach((function(t){var n="plug_"+t+"SE";Xe(A,S[n],e,k=C[n][e],E["apl_"+n])&&(A.plugMarkerSE[e][t].baseVal.value=k,_=!0)})),Xe(A,S.plugOutline_enabledSE,e,k=C.plugOutline_enabledSE[e],E.apl_plugOutline_enabledSE)&&(k?(A.plugFaceSE[e].style.mask="url(#"+A.plugMaskIdSE[e]+")",A.plugOutlineFaceSE[e].style.display="inline"):(A.plugFaceSE[e].style.mask="none",A.plugOutlineFaceSE[e].style.display="none"),_=!0),C.plugOutline_enabledSE[e]&&(Xe(A,S.plugOutline_plugSE,e,t,E.apl_plugOutline_plugSE)&&(A.plugOutlineFaceSE[e].href.baseVal=A.plugMaskShapeSE[e].href.baseVal=A.plugOutlineMaskShapeSE[e].href.baseVal="#"+n.elmId,[A.plugMaskSE[e],A.plugOutlineMaskSE[e]].forEach((function(e){e.x.baseVal.value=n.bBox.left,e.y.baseVal.value=n.bBox.top,e.width.baseVal.value=n.bBox.width,e.height.baseVal.value=n.bBox.height})),_=!0),Xe(A,S.plugOutline_colorSE,e,k=C.plugOutline_colorSE[e],E.apl_plugOutline_colorSE)&&(A.plugOutlineFaceSE[e].style.fill=k,_=!0,se&&(qe(A,A.lineMaskCaps),qe(A,A.lineOutlineMaskCaps))),Xe(A,S.plugOutline_strokeWidthSE,e,k=C.plugOutline_strokeWidthSE[e],E.apl_plugOutline_strokeWidthSE)&&(A.plugOutlineMaskShapeSE[e].style.strokeWidth=k+"px",_=!0),Xe(A,S.plugOutline_inStrokeWidthSE,e,k=C.plugOutline_inStrokeWidthSE[e],E.apl_plugOutline_inStrokeWidthSE)&&(A.plugMaskShapeSE[e].style.strokeWidth=k+"px",_=!0)))})),_)),(n.position||he.line||he.plug)&&(he.position=Qe(t)),(n.path||he.position)&&(he.path=(N=(I=t).curStats,O=I.aplStats,R=I.pathList.animVal||I.pathList.baseVal,D=N.path_edge,M=!1,R&&(D.x1=D.x2=R[0][0].x,D.y1=D.y2=R[0][0].y,N.path_pathData=T=Le(R,(function(e){e.x<D.x1&&(D.x1=e.x),e.y<D.y1&&(D.y1=e.y),e.x>D.x2&&(D.x2=e.x),e.y>D.y2&&(D.y2=e.y)})),Ve(T,O.path_pathData)&&(I.linePath.setPathData(T),O.path_pathData=T,M=!0,se?(qe(I,I.plugsFace),qe(I,I.lineMaskCaps)):re&&qe(I,I.linePath),I.events.apl_path&&I.events.apl_path.forEach((function(e){e(I,T)})))),M)),he.viewBox=(z=(B=t).curStats,P=B.aplStats,W=z.path_edge,U=z.viewBox_bBox,q=P.viewBox_bBox,j=B.svg.viewBox.baseVal,H=B.svg.style,$=!1,K=Math.max(z.line_strokeWidth/2,z.viewBox_plugBCircleSE[0]||0,z.viewBox_plugBCircleSE[1]||0),X={x1:W.x1-K,y1:W.y1-K,x2:W.x2+K,y2:W.y2+K},B.events.new_edge4viewBox&&B.events.new_edge4viewBox.forEach((function(e){e(B,X)})),U.x=z.lineMask_x=z.lineOutlineMask_x=z.maskBGRect_x=X.x1,U.y=z.lineMask_y=z.lineOutlineMask_y=z.maskBGRect_y=X.y1,U.width=X.x2-X.x1,U.height=X.y2-X.y1,["x","y","width","height"].forEach((function(e){var t;(t=U[e])!==q[e]&&(j[e]=q[e]=t,H[G[e]]=t+("x"===e||"y"===e?B.bodyOffset[e]:0)+"px",$=!0)})),$),he.mask=(Q=(Z=t).curStats,J=Z.aplStats,ee=!1,Q.plug_enabled?[0,1].forEach((function(e){Q.capsMaskMarker_enabledSE[e]=Q.plug_enabledSE[e]&&Q.plug_colorTraSE[e]||Q.plugOutline_enabledSE[e]&&Q.plugOutline_colorTraSE[e]})):Q.capsMaskMarker_enabledSE[0]=Q.capsMaskMarker_enabledSE[1]=!1,Q.capsMaskMarker_enabled=Q.capsMaskMarker_enabledSE[0]||Q.capsMaskMarker_enabledSE[1],Q.lineMask_outlineMode=Q.lineOutline_enabled,Q.caps_enabled=Q.capsMaskMarker_enabled||Q.capsMaskAnchor_enabledSE[0]||Q.capsMaskAnchor_enabledSE[1],Q.lineMask_enabled=Q.caps_enabled||Q.lineMask_outlineMode,(Q.lineMask_enabled&&!Q.lineMask_outlineMode||Q.lineOutline_enabled)&&["x","y"].forEach((function(e){var t="maskBGRect_"+e;Xe(Z,J,t,Y=Q[t])&&(Z.maskBGRect[e].baseVal.value=Y,ee=!0)})),Xe(Z,J,"lineMask_enabled",Y=Q.lineMask_enabled)&&(Z.lineFace.style.mask=Y?"url(#"+Z.lineMaskId+")":"none",ee=!0,ie&&qe(Z,Z.lineMask)),Q.lineMask_enabled&&(Xe(Z,J,"lineMask_outlineMode",Y=Q.lineMask_outlineMode)&&(Y?(Z.lineMaskBG.style.display="none",Z.lineMaskShape.style.display="inline"):(Z.lineMaskBG.style.display="inline",Z.lineMaskShape.style.display="none"),ee=!0),["x","y"].forEach((function(e){var t="lineMask_"+e;Xe(Z,J,t,Y=Q[t])&&(Z.lineMask[e].baseVal.value=Y,ee=!0)})),Xe(Z,J,"caps_enabled",Y=Q.caps_enabled)&&(Z.lineMaskCaps.style.display=Z.lineOutlineMaskCaps.style.display=Y?"inline":"none",ee=!0,ie&&qe(Z,Z.capsMaskLine)),Q.caps_enabled&&([0,1].forEach((function(e){var t;Xe(Z,J.capsMaskAnchor_enabledSE,e,Y=Q.capsMaskAnchor_enabledSE[e])&&(Z.capsMaskAnchorSE[e].style.display=Y?"inline":"none",ee=!0,ie&&qe(Z,Z.lineMask)),Q.capsMaskAnchor_enabledSE[e]&&(Ve(t=Q.capsMaskAnchor_pathDataSE[e],J.capsMaskAnchor_pathDataSE[e])&&(Z.capsMaskAnchorSE[e].setPathData(t),J.capsMaskAnchor_pathDataSE[e]=t,ee=!0),Xe(Z,J.capsMaskAnchor_strokeWidthSE,e,Y=Q.capsMaskAnchor_strokeWidthSE[e])&&(Z.capsMaskAnchorSE[e].style.strokeWidth=Y+"px",ee=!0))})),Xe(Z,J,"capsMaskMarker_enabled",Y=Q.capsMaskMarker_enabled)&&(Z.capsMaskLine.style.display=Y?"inline":"none",ee=!0),Q.capsMaskMarker_enabled&&[0,1].forEach((function(e){var t=Q.capsMaskMarker_plugSE[e],n=t!==F?L[V[t]]:null,s=$e(e,n);Xe(Z,J.capsMaskMarker_enabledSE,e,Y=Q.capsMaskMarker_enabledSE[e])&&(Z.capsMaskLine.style[s.prop]=Y?"url(#"+Z.lineMaskMarkerIdSE[e]+")":"none",ee=!0),Q.capsMaskMarker_enabledSE[e]&&(Xe(Z,J.capsMaskMarker_plugSE,e,t)&&(Z.capsMaskMarkerShapeSE[e].href.baseVal="#"+n.elmId,He(Z,Z.capsMaskMarkerSE[e],s.orient,n.bBox,Z.svg,Z.capsMaskMarkerShapeSE[e],Z.capsMaskLine),ee=!0,re&&(qe(Z,Z.capsMaskLine),qe(Z,Z.lineFace))),["markerWidth","markerHeight"].forEach((function(t){var n="capsMaskMarker_"+t+"SE";Xe(Z,J[n],e,Y=Q[n][e])&&(Z.capsMaskMarkerSE[e][t].baseVal.value=Y,ee=!0)})))})))),Q.lineOutline_enabled&&["x","y"].forEach((function(e){var t="lineOutlineMask_"+e;Xe(Z,J,t,Y=Q[t])&&(Z.lineOutlineMask[e].baseVal.value=Y,ee=!0)})),ee),n.effect&&(ue=(te=t).curStats,ce=te.aplStats,Object.keys(e).forEach((function(t){var n=e[t],s=t+"_enabled",r=t+"_options",a=ue[r];Xe(te,ce,s,ne=ue[s])?(ne&&(ce[r]=Ee(a)),n[ne?"init":"remove"](te)):ne&&Se(a,ce[r])&&(n.remove(te),ce[s]=!0,ce[r]=Ee(a),n.init(te))}))),(ae||ie)&&he.line&&!he.path&&qe(t,t.lineShape),ae&&he.plug&&!he.line&&qe(t,t.plugsFace),je(t)}function tt(e,t){return{duration:ce(e.duration)&&0<e.duration?e.duration:t.duration,timing:he.validTiming(e.timing)?e.timing:Ee(t.timing)}}function nt(e,n,s,r){var a,i=e.curStats,o=e.aplStats,l={};function u(){["show_on","show_effect","show_animOptions"].forEach((function(e){o[e]=i[e]}))}i.show_on=n,s&&t[s]&&(i.show_effect=s,i.show_animOptions=tt(ue(r)?r:{},t[s].defaultAnimOptions)),l.show_on=i.show_on!==o.show_on,l.show_effect=i.show_effect!==o.show_effect,l.show_animOptions=Se(i.show_animOptions,o.show_animOptions),l.show_effect||l.show_animOptions?i.show_inAnim?(a=l.show_effect?t[o.show_effect].stop(e,!0,!0):t[o.show_effect].stop(e),u(),t[o.show_effect].init(e,a)):l.show_on&&(o.show_effect&&l.show_effect&&t[o.show_effect].stop(e,!0,!0),u(),t[o.show_effect].init(e)):l.show_on&&(u(),t[o.show_effect].start(e))}function st(e,t,n){var s={props:e,optionName:n};return e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,s))&&(e.attachments.push(t),t.boundTargets.push(s),1)}function rt(e,t,n){var s=e.attachments.indexOf(t);-1<s&&e.attachments.splice(s,1),t.boundTargets.some((function(n,r){return n.props===e&&(t.conf.unbind&&t.conf.unbind(t,n),s=r,!0)}))&&(t.boundTargets.splice(s,1),n||Ge((function(){t.boundTargets.length||a(t)})))}function at(a,i){var o,l,u,c,h,d,p,f,m,g,y,b,w,v,x,A,C,S=a.options,E={};function _(e,t,n,s,r){var a={};return n?null!=s?(a.container=e[n],a.key=s):(a.container=e,a.key=n):(a.container=e,a.key=t),a.default=r,a.acceptsAuto=null==a.default,a}function T(e,t,n,s,r,a,i){var o,l,u,c=_(e,n,r,a,i);return null!=t[n]&&(l=(t[n]+"").toLowerCase())&&(c.acceptsAuto&&l===U||(u=s[l]))&&u!==c.container[c.key]&&(c.container[c.key]=u,o=!0),null!=c.container[c.key]||c.acceptsAuto||(c.container[c.key]=c.default,o=!0),o}function N(e,t,n,s,r,a,i,o,l){var u,c,h,d,p=_(e,n,r,a,i);if(!s){if(null==p.default)throw new Error("Invalid `type`: "+n);s=typeof p.default}return null!=t[n]&&(p.acceptsAuto&&(t[n]+"").toLowerCase()===U||(h=c=t[n],("number"===(d=s)?ce(h):typeof h===d)&&(c=l&&"string"===s&&c?c.trim():c,1)&&(!o||o(c))))&&c!==p.container[p.key]&&(p.container[p.key]=c,u=!0),null!=p.container[p.key]||p.acceptsAuto||(p.container[p.key]=p.default,u=!0),u}if(i=i||{},["start","end"].forEach((function(e,t){var n=i[e],s=!1;if(n&&(Ie(n)||(s=r(n,"anchor")))&&n!==S.anchorSE[t]){if(!1!==a.optionIsAttach.anchorSE[t]&&rt(a,ve[S.anchorSE[t]._id]),s&&!st(a,ve[n._id],e))throw new Error("Can't bind attachment");S.anchorSE[t]=n,a.optionIsAttach.anchorSE[t]=s,l=E.position=!0}})),!S.anchorSE[0]||!S.anchorSE[1]||S.anchorSE[0]===S.anchorSE[1])throw new Error("`start` and `end` are required.");function O(e){var t=d.appendChild(A.createElementNS(te,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),t}function R(e){var t=d.appendChild(A.createElementNS(te,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function D(e){return[e.width,e.height].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)})),e}l&&(o=function(e,t){var n,s,r;if(!(n=Ne(e))||!(s=Ne(t)))throw new Error("Cannot get frames.");return n.length&&s.length&&(n.reverse(),s.reverse(),n.some((function(e){return s.some((function(t){return t===e&&(r=t.contentWindow,!0)}))}))),r||window}(!1!==a.optionIsAttach.anchorSE[0]?ve[S.anchorSE[0]._id].element:S.anchorSE[0],!1!==a.optionIsAttach.anchorSE[1]?ve[S.anchorSE[1]._id].element:S.anchorSE[1]))!==a.baseWindow&&(c=o,x=(u=a).aplStats,A=c.document,C=k+"-"+u._id,u.pathList={},Ke(x,fe),Object.keys(e).forEach((function(t){var n=t+"_enabled";x[n]&&(e[t].remove(u),x[n]=!1)})),u.baseWindow&&u.svg&&u.baseWindow.document.body.removeChild(u.svg),Ye(u.baseWindow=c),u.bodyOffset=Ze(c),u.svg=h=A.createElementNS(te,"svg"),h.className.baseVal=k,h.viewBox.baseVal||h.setAttribute("viewBox","0 0 0 0"),u.defs=d=h.appendChild(A.createElementNS(te,"defs")),u.linePath=f=d.appendChild(A.createElementNS(te,"path")),f.id=m=C+"-line-path",f.className.baseVal=k+"-line-path",ie&&(f.style.fill="none"),u.lineShape=f=d.appendChild(A.createElementNS(te,"use")),f.id=g=C+"-line-shape",f.href.baseVal="#"+m,(p=d.appendChild(A.createElementNS(te,"g"))).id=y=C+"-caps",u.capsMaskAnchorSE=[0,1].map((function(){var e=p.appendChild(A.createElementNS(te,"path"));return e.className.baseVal=k+"-caps-mask-anchor",e})),u.lineMaskMarkerIdSE=[C+"-caps-mask-marker-0",C+"-caps-mask-marker-1"],u.capsMaskMarkerSE=[0,1].map((function(e){return R(u.lineMaskMarkerIdSE[e])})),u.capsMaskMarkerShapeSE=[0,1].map((function(e){var t=u.capsMaskMarkerSE[e].appendChild(A.createElementNS(te,"use"));return t.className.baseVal=k+"-caps-mask-marker-shape",t})),u.capsMaskLine=f=p.appendChild(A.createElementNS(te,"use")),f.className.baseVal=k+"-caps-mask-line",f.href.baseVal="#"+g,u.maskBGRect=f=D(d.appendChild(A.createElementNS(te,"rect"))),f.id=b=C+"-mask-bg-rect",f.className.baseVal=k+"-mask-bg-rect",ie&&(f.style.fill="white"),u.lineMask=D(O(u.lineMaskId=C+"-line-mask")),u.lineMaskBG=f=u.lineMask.appendChild(A.createElementNS(te,"use")),f.href.baseVal="#"+b,u.lineMaskShape=f=u.lineMask.appendChild(A.createElementNS(te,"use")),f.className.baseVal=k+"-line-mask-shape",f.href.baseVal="#"+m,f.style.display="none",u.lineMaskCaps=f=u.lineMask.appendChild(A.createElementNS(te,"use")),f.href.baseVal="#"+y,u.lineOutlineMask=D(O(w=C+"-line-outline-mask")),(f=u.lineOutlineMask.appendChild(A.createElementNS(te,"use"))).href.baseVal="#"+b,u.lineOutlineMaskShape=f=u.lineOutlineMask.appendChild(A.createElementNS(te,"use")),f.className.baseVal=k+"-line-outline-mask-shape",f.href.baseVal="#"+m,u.lineOutlineMaskCaps=f=u.lineOutlineMask.appendChild(A.createElementNS(te,"use")),f.href.baseVal="#"+y,u.face=h.appendChild(A.createElementNS(te,"g")),u.lineFace=f=u.face.appendChild(A.createElementNS(te,"use")),f.href.baseVal="#"+g,u.lineOutlineFace=f=u.face.appendChild(A.createElementNS(te,"use")),f.href.baseVal="#"+g,f.style.mask="url(#"+w+")",f.style.display="none",u.plugMaskIdSE=[C+"-plug-mask-0",C+"-plug-mask-1"],u.plugMaskSE=[0,1].map((function(e){return O(u.plugMaskIdSE[e])})),u.plugMaskShapeSE=[0,1].map((function(e){var t=u.plugMaskSE[e].appendChild(A.createElementNS(te,"use"));return t.className.baseVal=k+"-plug-mask-shape",t})),v=[],u.plugOutlineMaskSE=[0,1].map((function(e){return O(v[e]=C+"-plug-outline-mask-"+e)})),u.plugOutlineMaskShapeSE=[0,1].map((function(e){var t=u.plugOutlineMaskSE[e].appendChild(A.createElementNS(te,"use"));return t.className.baseVal=k+"-plug-outline-mask-shape",t})),u.plugMarkerIdSE=[C+"-plug-marker-0",C+"-plug-marker-1"],u.plugMarkerSE=[0,1].map((function(e){var t=R(u.plugMarkerIdSE[e]);return ie&&(t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),t})),u.plugMarkerShapeSE=[0,1].map((function(e){return u.plugMarkerSE[e].appendChild(A.createElementNS(te,"g"))})),u.plugFaceSE=[0,1].map((function(e){return u.plugMarkerShapeSE[e].appendChild(A.createElementNS(te,"use"))})),u.plugOutlineFaceSE=[0,1].map((function(e){var t=u.plugMarkerShapeSE[e].appendChild(A.createElementNS(te,"use"));return t.style.mask="url(#"+v[e]+")",t.style.display="none",t})),u.plugsFace=f=u.face.appendChild(A.createElementNS(te,"use")),f.className.baseVal=k+"-plugs-face",f.href.baseVal="#"+g,f.style.display="none",u.curStats.show_inAnim?(u.isShown=1,t[x.show_effect].stop(u,!0)):u.isShown||(h.style.visibility="hidden"),A.body.appendChild(h),[0,1,2].forEach((function(e){var t,n=u.options.labelSEM[e];n&&r(n,"label")&&(t=ve[n._id]).conf.initSvg&&t.conf.initSvg(t,u)})),E.line=E.plug=E.lineOutline=E.plugOutline=E.faces=E.effect=!0),E.position=T(S,i,"path",M,null,null,le.path)||E.position,E.position=T(S,i,"startSocket",I,"socketSE",0)||E.position,E.position=T(S,i,"endSocket",I,"socketSE",1)||E.position,[i.startSocketGravity,i.endSocketGravity].forEach((function(e,t){var n,s,r=!1;null!=e&&(Array.isArray(e)?ce(e[0])&&ce(e[1])&&(r=[e[0],e[1]],Array.isArray(S.socketGravitySE[t])&&(n=r,s=S.socketGravitySE[t],n.length===s.length&&n.every((function(e,t){return e===s[t]})))&&(r=!1)):((e+"").toLowerCase()===U?r=null:ce(e)&&0<=e&&(r=e),r===S.socketGravitySE[t]&&(r=!1)),!1!==r&&(S.socketGravitySE[t]=r,E.position=!0))})),E.line=N(S,i,"color",null,"lineColor",null,le.lineColor,null,!0)||E.line,E.line=N(S,i,"size",null,"lineSize",null,le.lineSize,(function(e){return 0<e}))||E.line,["startPlug","endPlug"].forEach((function(e,t){E.plug=T(S,i,e,P,"plugSE",t,le.plugSE[t])||E.plug,E.plug=N(S,i,e+"Color","string","plugColorSE",t,null,null,!0)||E.plug,E.plug=N(S,i,e+"Size",null,"plugSizeSE",t,le.plugSizeSE[t],(function(e){return 0<e}))||E.plug})),E.lineOutline=N(S,i,"outline",null,"lineOutlineEnabled",null,le.lineOutlineEnabled)||E.lineOutline,E.lineOutline=N(S,i,"outlineColor",null,"lineOutlineColor",null,le.lineOutlineColor,null,!0)||E.lineOutline,E.lineOutline=N(S,i,"outlineSize",null,"lineOutlineSize",null,le.lineOutlineSize,(function(e){return 0<e&&e<=.48}))||E.lineOutline,["startPlugOutline","endPlugOutline"].forEach((function(e,t){E.plugOutline=N(S,i,e,null,"plugOutlineEnabledSE",t,le.plugOutlineEnabledSE[t])||E.plugOutline,E.plugOutline=N(S,i,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||E.plugOutline,E.plugOutline=N(S,i,e+"Size",null,"plugOutlineSizeSE",t,le.plugOutlineSizeSE[t],(function(e){return 1<=e}))||E.plugOutline})),["startLabel","endLabel","middleLabel"].forEach((function(e,t){var o,l,u,c=i[e],h=S.labelSEM[t]&&!a.optionIsAttach.labelSEM[t]?ve[S.labelSEM[t]._id].text:S.labelSEM[t],d=!1;if((o="string"==typeof c)&&(c=c.trim()),(o||c&&(d=r(c,"label")))&&c!==h){if(S.labelSEM[t]&&(rt(a,ve[S.labelSEM[t]._id]),S.labelSEM[t]=""),c){if(d?(l=ve[(u=c)._id]).boundTargets.slice().forEach((function(e){l.conf.removeOption(l,e)})):u=new s(n.captionLabel,[c]),!st(a,ve[u._id],e))throw new Error("Can't bind attachment");S.labelSEM[t]=u}a.optionIsAttach.labelSEM[t]=d}})),Object.keys(e).forEach((function(t){var n,s,r=e[t],o=t+"_enabled",l=t+"_options";function u(e){var t={};return r.optionsConf.forEach((function(n){var s=n[0],r=n[3];null==n[4]||t[r]||(t[r]=[]),("function"==typeof s?s:"id"===s?T:N).apply(null,[t,e].concat(n.slice(1)))})),t}function c(e){var n,s=t+"_animOptions";return e.hasOwnProperty("animation")?ue(e.animation)?n=a.curStats[s]=tt(e.animation,r.defaultAnimOptions):(n=!!e.animation,a.curStats[s]=n?tt({},r.defaultAnimOptions):null):(n=!!r.defaultEnabled,a.curStats[s]=n?tt({},r.defaultAnimOptions):null),n}i.hasOwnProperty(t)&&(n=i[t],ue(n)?(a.curStats[o]=!0,s=a.curStats[l]=u(n),r.anim&&(a.curStats[l].animation=c(n))):(s=a.curStats[o]=!!n)&&(a.curStats[l]=u({}),r.anim&&(a.curStats[l].animation=c({}))),Se(s,S[t])&&(S[t]=s,E.effect=!0))})),et(a,E)}function it(n,s,r){var a={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Ke(a.curStats,fe),Ke(a.aplStats,fe),Object.keys(e).forEach((function(t){var n=e[t].stats;Ke(a.curStats,n),Ke(a.aplStats,n),a.options[t]=!1})),Ke(a.curStats,me),Ke(a.aplStats,me),a.curStats.show_effect=ge,a.curStats.show_animOptions=Ee(t[ge].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++we}),a._id=this._id,be[this._id]=a,1===arguments.length&&(r=n,n=null),r=r||{},(n||s)&&(r=Ee(r),n&&(r.start=n),s&&(r.end=s)),a.isShown=a.aplStats.show_on=!r.hide,this.setOptions(r)}function ot(e){return function(t){var n={};n[e]=t,this.setOptions(n)}}function lt(e,t){var n,s={conf:e,curStats:{},aplStats:{},boundTargets:[]},r={};e.argOptions.every((function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0]))||(r[e.optionName]=t.shift(),0))})),n=t.length&&ue(t[0])?Ee(t[0]):{},Object.keys(r).forEach((function(e){n[e]=r[e]})),e.stats&&(Ke(s.curStats,e.stats),Ke(s.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++xe}),Object.defineProperty(this,"isRemoved",{get:function(){return!ve[this._id]}}),s._id=this._id,e.init&&!e.init(s,n)||(ve[this._id]=s)}return e={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(t){We(t,"apl_line_strokeWidth",e.dash.update),t.lineFace.style.strokeDashoffset=0,e.dash.update(t)},remove:function(t){var n=t.curStats;Ue(t,"apl_line_strokeWidth",e.dash.update),n.dash_animId&&(he.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDasharray="none",t.lineFace.style.strokeDashoffset=0,Ke(t.aplStats,e.dash.stats)},update:function(e){var t,n=e.curStats,s=e.aplStats,r=s.dash_options,a=!1;n.dash_len=r.len||2*s.line_strokeWidth,n.dash_gap=r.gap||s.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,a=Xe(e,s,"dash_len",n.dash_len)||a,(a=Xe(e,s,"dash_gap",n.dash_gap)||a)&&(e.lineFace.style.strokeDasharray=s.dash_len+","+s.dash_gap),n.dash_animOptions?(a=Xe(e,s,"dash_maxOffset",n.dash_maxOffset),s.dash_animOptions&&(a||Se(n.dash_animOptions,s.dash_animOptions))&&(n.dash_animId&&(t=he.stop(n.dash_animId),he.remove(n.dash_animId)),s.dash_animOptions=null),s.dash_animOptions||(n.dash_animId=he.add((function(e){return(1-e)*s.dash_maxOffset+"px"}),(function(t){e.lineFace.style.strokeDashoffset=t}),n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,t),s.dash_animOptions=Ee(n.dash_animOptions))):s.dash_animOptions&&(n.dash_animId&&(he.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDashoffset=0,s.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(t){var n,s=t.baseWindow.document,r=t.defs,a=k+"-"+t._id+"-gradient";t.efc_gradient_gradient=n=r.appendChild(s.createElementNS(te,"linearGradient")),n.id=a,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),t.efc_gradient_stopSE=[0,1].map((function(e){var n=t.efc_gradient_gradient.appendChild(s.createElementNS(te,"stop"));try{n.offset.baseVal=e}catch(t){if(t.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw t;n.setAttribute("offset",e)}return n})),We(t,"cur_plug_colorSE",e.gradient.update),We(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!0,t.lineFace.style.stroke="url(#"+a+")",e.gradient.update(t)},remove:function(t){t.efc_gradient_gradient&&(t.defs.removeChild(t.efc_gradient_gradient),t.efc_gradient_gradient=t.efc_gradient_stopSE=null),Ue(t,"cur_plug_colorSE",e.gradient.update),Ue(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!1,t.lineFace.style.stroke=t.curStats.line_color,Ke(t.aplStats,e.gradient.stats)},update:function(e){var t,n,s=e.curStats,r=e.aplStats,a=r.gradient_options,i=e.pathList.animVal||e.pathList.baseVal;[0,1].forEach((function(e){s.gradient_colorSE[e]=a.colorSE[e]||s.plug_colorSE[e]})),n=i[0][0],s.gradient_pointSE[0]={x:n.x,y:n.y},n=(t=i[i.length-1])[t.length-1],s.gradient_pointSE[1]={x:n.x,y:n.y},[0,1].forEach((function(t){var n;Xe(e,r.gradient_colorSE,t,n=s.gradient_colorSE[t])&&(ie?(n=_e(n),e.efc_gradient_stopSE[t].style.stopColor=n[1],e.efc_gradient_stopSE[t].style.stopOpacity=n[0]):e.efc_gradient_stopSE[t].style.stopColor=n),["x","y"].forEach((function(a){(n=s.gradient_pointSE[t][a])!==r.gradient_pointSE[t][a]&&(e.efc_gradient_gradient[a+(t+1)].baseVal.value=r.gradient_pointSE[t][a]=n)}))}))}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var n,s,r,a,i,o=t.baseWindow.document,l=t.defs,c=k+"-"+t._id+"-dropShadow",h=(n=o,s=c,i={},"boolean"!=typeof u&&(u=!!window.SVGFEDropShadowElement&&!ie),i.elmsAppend=[i.elmFilter=r=n.createElementNS(te,"filter")],r.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,r.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),r.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),r.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),r.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),r.id=s,u?(i.elmOffset=i.elmBlur=a=r.appendChild(n.createElementNS(te,"feDropShadow")),i.styleFlood=a.style):(i.elmBlur=r.appendChild(n.createElementNS(te,"feGaussianBlur")),i.elmOffset=a=r.appendChild(n.createElementNS(te,"feOffset")),a.result.baseVal="offsetblur",a=r.appendChild(n.createElementNS(te,"feFlood")),i.styleFlood=a.style,(a=r.appendChild(n.createElementNS(te,"feComposite"))).in2.baseVal="offsetblur",a.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(a=r.appendChild(n.createElementNS(te,"feMerge"))).appendChild(n.createElementNS(te,"feMergeNode")),a.appendChild(n.createElementNS(te,"feMergeNode")).in1.baseVal="SourceGraphic"),i);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach((function(e){t["efc_dropShadow_"+e]=h[e]})),h.elmsAppend.forEach((function(e){l.appendChild(e)})),t.face.setAttribute("filter","url(#"+c+")"),We(t,"new_edge4viewBox",e.dropShadow.adjustEdge),e.dropShadow.update(t)},remove:function(t){var n=t.defs;t.efc_dropShadow_elmsAppend&&(t.efc_dropShadow_elmsAppend.forEach((function(e){n.removeChild(e)})),t.efc_dropShadow_elmFilter=t.efc_dropShadow_elmOffset=t.efc_dropShadow_elmBlur=t.efc_dropShadow_styleFlood=t.efc_dropShadow_elmsAppend=null),Ue(t,"new_edge4viewBox",e.dropShadow.adjustEdge),et(t,{}),t.face.removeAttribute("filter"),Ke(t.aplStats,e.dropShadow.stats)},update:function(e){var t,n,s=e.curStats,r=e.aplStats,a=r.dropShadow_options;s.dropShadow_dx=t=a.dx,Xe(e,r,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),s.dropShadow_dy=t=a.dy,Xe(e,r,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),s.dropShadow_blur=t=a.blur,Xe(e,r,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&et(e,{}),s.dropShadow_color=t=a.color,Xe(e,r,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),s.dropShadow_opacity=t=a.opacity,Xe(e,r,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(e,t){var n,s,r=e.curStats,a=e.aplStats;null!=r.dropShadow_dx&&(n=3*r.dropShadow_blur,(s={x1:t.x1-n+r.dropShadow_dx,y1:t.y1-n+r.dropShadow_dy,x2:t.x2+n+r.dropShadow_dx,y2:t.y2+n+r.dropShadow_dy}).x1<t.x1&&(t.x1=s.x1),s.y1<t.y1&&(t.y1=s.y1),s.x2>t.x2&&(t.x2=s.x2),s.y2>t.y2&&(t.y2=s.y2),["x","y"].forEach((function(n){var s,i="dropShadow_"+n;r[i]=s=t[n+"1"],Xe(e,a,i,s)&&(e.efc_dropShadow_elmFilter[n].baseVal.value=s)})))}}},Object.keys(e).forEach((function(t){var n=e[t],s=n.stats;s[t+"_enabled"]={iniValue:!1},s[t+"_options"]={hasProps:!0},n.anim&&(s[t+"_animOptions"]={},s[t+"_animId"]={})})),t={none:{defaultAnimOptions:{},init:function(e,n){var s=e.curStats;s.show_animId&&(he.remove(s.show_animId),s.show_animId=null),t.none.start(e,n)},start:function(e,n){t.none.stop(e,!0)},stop:function(e,t,n){var s=e.curStats;return n=null!=n?n:e.aplStats.show_on,s.show_inAnim=!1,t&&Je(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(e,n){var s=e.curStats,r=e.aplStats;s.show_animId&&he.remove(s.show_animId),s.show_animId=he.add((function(e){return e}),(function(n,s){s?t.fade.stop(e,!0):(e.svg.style.opacity=n+"",se&&(qe(e,e.svg),je(e)))}),r.show_animOptions.duration,1,r.show_animOptions.timing,null,!1),t.fade.start(e,n)},start:function(e,t){var n,s=e.curStats;s.show_inAnim&&(n=he.stop(s.show_animId)),Je(e,1),s.show_inAnim=!0,he.start(s.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var s,r=e.curStats;return n=null!=n?n:e.aplStats.show_on,s=r.show_inAnim?he.stop(r.show_animId):n?1:0,r.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",Je(e,n)),s}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(e,n){var s=e.curStats,r=e.aplStats,a=e.pathList.baseVal,i=Pe(a),o=i.segsLen,l=i.lenAll;s.show_animId&&he.remove(s.show_animId),s.show_animId=he.add((function(e){var t,n,s,r,i=-1;if(0===e)n=[[a[0][0],a[0][0]]];else if(1===e)n=a;else{for(t=l*e,n=[];t>=o[++i];)n.push(a[i]),t-=o[i];t&&(2===(s=a[i]).length?n.push([s[0],De(s[0],s[1],t/o[i])]):(r=Fe(s[0],s[1],s[2],s[3],ze(s[0],s[1],s[2],s[3],t)),n.push([s[0],r.fromP1,r.fromP2,r])))}return n}),(function(n,s){s?t.draw.stop(e,!0):(e.pathList.animVal=n,et(e,{path:!0}))}),r.show_animOptions.duration,1,r.show_animOptions.timing,null,!1),t.draw.start(e,n)},start:function(e,n){var s,r=e.curStats;r.show_inAnim&&(s=he.stop(r.show_animId)),Je(e,1),r.show_inAnim=!0,We(e,"apl_position",t.draw.update),he.start(r.show_animId,!e.aplStats.show_on,null!=n?n:s)},stop:function(e,t,n){var s,r=e.curStats;return n=null!=n?n:e.aplStats.show_on,s=r.show_inAnim?he.stop(r.show_animId):n?1:0,r.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],et(e,{path:!0}),Je(e,n)),s},update:function(e){Ue(e,"apl_position",t.draw.update),e.curStats.show_inAnim?t.draw.init(e,t.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach((function(e){var t=e[0],n=e[1],s=e[2];Object.defineProperty(it.prototype,t,{get:function(){var e=null!=s?be[this._id].options[n][s]:n?be[this._id].options[n]:be[this._id].options[t];return null==e?U:Ee(e)},set:ot(t),enumerable:!0})})),[["path",M],["startSocket",I,"socketSE",0],["endSocket",I,"socketSE",1],["startPlug",P,"plugSE",0],["endPlug",P,"plugSE",1]].forEach((function(e){var t=e[0],n=e[1],s=e[2],r=e[3];Object.defineProperty(it.prototype,t,{get:function(){var e,a=null!=r?be[this._id].options[s][r]:s?be[this._id].options[s]:be[this._id].options[t];return a?Object.keys(n).some((function(t){return n[t]===a&&(e=t,!0)}))?e:new Error("It's broken"):U},set:ot(t),enumerable:!0})})),Object.keys(e).forEach((function(t){var n=e[t];Object.defineProperty(it.prototype,t,{get:function(){var e,s,r=be[this._id].options[t];return ue(r)?(e=r,s=n.optionsConf.reduce((function(t,n){var s,r=n[0],a=n[1],i=n[2],o=n[3],l=n[4],u=null!=l?e[o][l]:o?e[o]:e[a];return t[a]="id"===r?u?Object.keys(i).some((function(e){return i[e]===u&&(s=e,!0)}))?s:new Error("It's broken"):U:null==u?U:Ee(u),t}),{}),n.anim&&(s.animation=Ee(e.animation)),s):r},set:ot(t),enumerable:!0})})),["startLabel","endLabel","middleLabel"].forEach((function(e,t){Object.defineProperty(it.prototype,e,{get:function(){var e=be[this._id],n=e.options;return n.labelSEM[t]&&!e.optionIsAttach.labelSEM[t]?ve[n.labelSEM[t]._id].text:n.labelSEM[t]||""},set:ot(e),enumerable:!0})})),it.prototype.setOptions=function(e){return at(be[this._id],e),this},it.prototype.position=function(){return et(be[this._id],{position:!0}),this},it.prototype.remove=function(){var t=be[this._id],n=t.curStats;Object.keys(e).forEach((function(e){var t=e+"_animId";n[t]&&he.remove(n[t])})),n.show_animId&&he.remove(n.show_animId),t.attachments.slice().forEach((function(e){rt(t,e)})),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete be[this._id]},it.prototype.show=function(e,t){return nt(be[this._id],!0,e,t),this},it.prototype.hide=function(e,t){return nt(be[this._id],!1,e,t),this},a=function(e){e&&ve[e._id]&&(e.boundTargets.slice().forEach((function(t){rt(t.props,e,!0)})),e.conf.remove&&e.conf.remove(e),delete ve[e._id])},lt.prototype.remove=function(){var e=this,t=ve[e._id];t&&(t.boundTargets.slice().forEach((function(e){t.conf.removeOption(t,e)})),Ge((function(){var t=ve[e._id];t&&a(t)})))},s=lt,window.LeaderLineAttachment=s,r=function(e,t){return e instanceof s&&(!(e.isRemoved||t&&ve[e._id].conf.type!==t)||null)},n={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie}],init:function(e,t){return e.element=n.pointAnchor.checkElement(t.element),e.x=n.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=n.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var r=t.props,a={},i=e.element,o=r.options.anchorSE["start"===t.optionName?1:0];i===o&&(i=o===document.body?new s(n.pointAnchor,[i]):document.body),a[t.optionName]=i,at(r,a)},getBBoxNest:function(e,t){var n=Oe(e.element,t.baseWindow),s=n.width,r=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?s:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?r:1),n},parsePercent:function(e,t){var n,s,r=!1;return ce(e)?s=e:"string"==typeof e&&(n=ee.exec(e))&&n[2]&&(r=0!=(s=parseFloat(n[1])/100)),null!=s&&(t||0<=s)?[s,r]:null},checkElement:function(e){if(null==e)e=document.body;else if(!Ie(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(e,t){var s,r,a,i=[];return e.element=n.pointAnchor.checkElement(t.element),"string"==typeof t.color&&(e.color=t.color.trim()),"string"==typeof t.fillColor&&(e.fill=t.fillColor.trim()),ce(t.size)&&0<=t.size&&(e.size=t.size),t.dash&&(e.dash=!0,ce(t.dash.len)&&0<t.dash.len&&(e.dashLen=t.dash.len),ce(t.dash.gap)&&0<t.dash.gap&&(e.dashGap=t.dash.gap)),"circle"===t.shape?e.shape=t.shape:"polygon"===t.shape&&Array.isArray(t.points)&&3<=t.points.length&&t.points.every((function(t){var s={};return!(!(s.x=n.pointAnchor.parsePercent(t[0],!0))||!(s.y=n.pointAnchor.parsePercent(t[1],!0))||(i.push(s),(s.x[1]||s.y[1])&&(e.hasRatio=!0),0))}))?(e.shape=t.shape,e.points=i):(e.shape="rect",e.radius=ce(t.radius)&&0<=t.radius?t.radius:0),"rect"!==e.shape&&"circle"!==e.shape||(e.x=n.pointAnchor.parsePercent(t.x,!0)||[-.05,!0],e.y=n.pointAnchor.parsePercent(t.y,!0)||[-.05,!0],e.width=n.pointAnchor.parsePercent(t.width)||[1.1,!0],e.height=n.pointAnchor.parsePercent(t.height)||[1.1,!0],(e.x[1]||e.y[1]||e.width[1]||e.height[1])&&(e.hasRatio=!0)),s=e.element.ownerDocument,e.svg=r=s.createElementNS(te,"svg"),r.className.baseVal=k+"-areaAnchor",r.viewBox.baseVal||r.setAttribute("viewBox","0 0 0 0"),e.path=r.appendChild(s.createElementNS(te,"path")),e.path.style.fill=e.fill||"none",e.isShown=!1,r.style.visibility="hidden",s.body.appendChild(r),Ye(a=s.defaultView),e.bodyOffset=Ze(a),e.updateColor=function(){var t,n=e.curStats,s=e.aplStats,r=e.boundTargets.length?e.boundTargets[0].props.curStats:null;n.color=t=e.color||(r?r.line_color:le.lineColor),Xe(e,s,"color",t)&&(e.path.style.stroke=t)},e.updateShow=function(){Je(e,e.boundTargets.some((function(e){return!0===e.props.isShown})))},!0},bind:function(e,t){var n=t.props;return e.color||We(n,"cur_line_color",e.updateColor),We(n,"svgShow",e.updateShow),Ge((function(){e.updateColor(),e.updateShow()})),!0},unbind:function(e,t){var s=t.props;e.color||Ue(s,"cur_line_color",e.updateColor),Ue(s,"svgShow",e.updateShow),1<e.boundTargets.length&&Ge((function(){e.updateColor(),e.updateShow(),n.areaAnchor.update(e)&&e.boundTargets.forEach((function(e){et(e.props,{position:!0})}))}))},removeOption:function(e,t){n.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.areaAnchor.unbind(e,t)})),e.svg.parentNode.removeChild(e.svg)},getStrokeWidth:function(e,t){return n.areaAnchor.update(e)&&1<e.boundTargets.length&&Ge((function(){e.boundTargets.forEach((function(e){e.props!==t&&et(e.props,{position:!0})}))})),e.curStats.strokeWidth},getPathData:function(e,t){var n=Oe(e.element,t.baseWindow);return Le(e.curStats.pathListRel,(function(e){e.x+=n.left,e.y+=n.top}))},getBBoxNest:function(e,t){var n=Oe(e.element,t.baseWindow),s=e.curStats.bBoxRel;return{left:s.left+n.left,top:s.top+n.top,right:s.right+n.left,bottom:s.bottom+n.top,width:s.width,height:s.height}},update:function(e){var t,n,s,r,a,i,o,l,u,c,h,d,p,f,m,g,y,b,w,v,x,A,k,C,S,E,_,I,T,N,O,R,D=e.curStats,M=e.aplStats,F=e.boundTargets.length?e.boundTargets[0].props.curStats:null,B={};if(B.strokeWidth=Xe(e,D,"strokeWidth",null!=e.size?e.size:F?F.line_strokeWidth:le.lineSize),t=Te(e.element),B.elementWidth=Xe(e,D,"elementWidth",t.width),B.elementHeight=Xe(e,D,"elementHeight",t.height),B.elementLeft=Xe(e,D,"elementLeft",t.left),B.elementTop=Xe(e,D,"elementTop",t.top),B.strokeWidth||e.hasRatio&&(B.elementWidth||B.elementHeight)){switch(e.shape){case"rect":(I={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).right=I.left+I.width,I.bottom=I.top+I.height,k=D.strokeWidth/2,x=(A=Math.min(I.width,I.height))?A/2*Math.SQRT2+k:0,E=(v=e.radius?e.radius<=x?e.radius:x:0)?(S=v-(C=(v-k)/Math.SQRT2),_=v*Q,E=[{x:I.left-S,y:I.top+C},{x:I.left+C,y:I.top-S},{x:I.right-C,y:I.top-S},{x:I.right+S,y:I.top+C},{x:I.right+S,y:I.bottom-C},{x:I.right-C,y:I.bottom+S},{x:I.left+C,y:I.bottom+S},{x:I.left-S,y:I.bottom-C}],D.pathListRel=[[E[0],{x:E[0].x,y:E[0].y-_},{x:E[1].x-_,y:E[1].y},E[1]]],E[1].x!==E[2].x&&D.pathListRel.push([E[1],E[2]]),D.pathListRel.push([E[2],{x:E[2].x+_,y:E[2].y},{x:E[3].x,y:E[3].y-_},E[3]]),E[3].y!==E[4].y&&D.pathListRel.push([E[3],E[4]]),D.pathListRel.push([E[4],{x:E[4].x,y:E[4].y+_},{x:E[5].x+_,y:E[5].y},E[5]]),E[5].x!==E[6].x&&D.pathListRel.push([E[5],E[6]]),D.pathListRel.push([E[6],{x:E[6].x-_,y:E[6].y},{x:E[7].x,y:E[7].y+_},E[7]]),E[7].y!==E[0].y&&D.pathListRel.push([E[7],E[0]]),D.pathListRel.push([]),S=v-C+D.strokeWidth/2,[{x:I.left-S,y:I.top-S},{x:I.right+S,y:I.bottom+S}]):(S=D.strokeWidth/2,E=[{x:I.left-S,y:I.top-S},{x:I.right+S,y:I.bottom+S}],D.pathListRel=[[E[0],{x:E[1].x,y:E[0].y}],[{x:E[1].x,y:E[0].y},E[1]],[E[1],{x:E[0].x,y:E[1].y}],[]],[{x:I.left-D.strokeWidth,y:I.top-D.strokeWidth},{x:I.right+D.strokeWidth,y:I.bottom+D.strokeWidth}]),D.bBoxRel={left:E[0].x,top:E[0].y,right:E[1].x,bottom:E[1].y,width:E[1].x-E[0].x,height:E[1].y-E[0].y};break;case"circle":(w={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).width||w.height||(w.width=w.height=10),w.width||(w.width=w.height),w.height||(w.height=w.width),w.right=w.left+w.width,w.bottom=w.top+w.height,o=w.left+w.width/2,l=w.top+w.height/2,p=D.strokeWidth/2,f=w.width/2,m=w.height/2,u=f*Math.SQRT2+p,c=m*Math.SQRT2+p,h=u*Q,d=c*Q,b=[{x:o-u,y:l},{x:o,y:l-c},{x:o+u,y:l},{x:o,y:l+c}],D.pathListRel=[[b[0],{x:b[0].x,y:b[0].y-d},{x:b[1].x-h,y:b[1].y},b[1]],[b[1],{x:b[1].x+h,y:b[1].y},{x:b[2].x,y:b[2].y-d},b[2]],[b[2],{x:b[2].x,y:b[2].y+d},{x:b[3].x+h,y:b[3].y},b[3]],[b[3],{x:b[3].x-h,y:b[3].y},{x:b[0].x,y:b[0].y+d},b[0]],[]],g=u-f+D.strokeWidth/2,y=c-m+D.strokeWidth/2,b=[{x:w.left-g,y:w.top-y},{x:w.right+g,y:w.bottom+y}],D.bBoxRel={left:b[0].x,top:b[0].y,right:b[1].x,bottom:b[1].y,width:b[1].x-b[0].x,height:b[1].y-b[0].y};break;case"polygon":e.points.forEach((function(e){var n=e.x[0]*(e.x[1]?t.width:1),a=e.y[0]*(e.y[1]?t.height:1);s?(n<s.left&&(s.left=n),n>s.right&&(s.right=n),a<s.top&&(s.top=a),a>s.bottom&&(s.bottom=a)):s={left:n,right:n,top:a,bottom:a},r?D.pathListRel.push([r,{x:n,y:a}]):D.pathListRel=[],r={x:n,y:a}})),D.pathListRel.push([]),a=D.strokeWidth/2,i=[{x:s.left-a,y:s.top-a},{x:s.right+a,y:s.bottom+a}],D.bBoxRel={left:i[0].x,top:i[0].y,right:i[1].x,bottom:i[1].y,width:i[1].x-i[0].x,height:i[1].y-i[0].y}}B.pathListRel=B.bBoxRel=!0}return(B.pathListRel||B.elementLeft||B.elementTop)&&(D.pathData=Le(D.pathListRel,(function(e){e.x+=t.left,e.y+=t.top}))),Xe(e,M,"strokeWidth",n=D.strokeWidth)&&(e.path.style.strokeWidth=n+"px"),Ve(n=D.pathData,M.pathData)&&(e.path.setPathData(n),M.pathData=n,B.pathData=!0),e.dash&&(!B.pathData&&(!B.strokeWidth||e.dashLen&&e.dashGap)||(D.dashLen=e.dashLen||2*D.strokeWidth,D.dashGap=e.dashGap||D.strokeWidth),B.dash=Xe(e,M,"dashLen",D.dashLen)||B.dash,B.dash=Xe(e,M,"dashGap",D.dashGap)||B.dash,B.dash&&(e.path.style.strokeDasharray=M.dashLen+","+M.dashGap)),T=D.viewBoxBBox,N=M.viewBoxBBox,O=e.svg.viewBox.baseVal,R=e.svg.style,T.x=D.bBoxRel.left+t.left,T.y=D.bBoxRel.top+t.top,T.width=D.bBoxRel.width,T.height=D.bBoxRel.height,["x","y","width","height"].forEach((function(t){(n=T[t])!==N[t]&&(O[t]=N[t]=n,R[G[t]]=n+("x"===t||"y"===t?e.bodyOffset[t]:0)+"px")})),B.strokeWidth||B.pathListRel||B.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(e,s){var r,a,i,o,l,u,c,h,d,p,f,m=n.mouseHoverAnchor,g={};if(e.element=n.pointAnchor.checkElement(s.element),!((p=(h=e.element).ownerDocument)&&(d=p.defaultView)&&d.HTMLElement&&h instanceof d.HTMLElement))throw new Error("`element` must be HTML element");return m.style.backgroundSize=m.backgroundSize.width+"px "+m.backgroundSize.height+"px",["style","hoverStyle"].forEach((function(t){var n=m[t];e[t]=Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),{})})),"inline"===(r=e.element.ownerDocument.defaultView.getComputedStyle(e.element,"")).display?e.style.display="inline-block":"none"===r.display&&(e.style.display="block"),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n=t[0],s="padding"+t[1];parseFloat(r[s])<m.padding[n]&&(e.style[s]=m.padding[n]+"px")})),e.style.display&&(o=e.element.style.display,e.element.style.display=e.style.display),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n="padding"+t[1];e.style[n]&&(g[n]=e.element.style[n],e.element.style[n]=e.style[n])})),(i=e.element.getBoundingClientRect()).height<m.minHeight&&(se?(f=m.minHeight,"content-box"===r.boxSizing?f-=parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth)+parseFloat(r.paddingTop)+parseFloat(r.paddingBottom):"padding-box"===r.boxSizing&&(f-=parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth)),e.style.height=f+"px"):e.style.height=parseFloat(r.height)+(m.minHeight-i.height)+"px"),e.style.backgroundPosition=ie?i.width-m.backgroundSize.width-m.backgroundPosition.right+"px "+m.backgroundPosition.top+"px":"right "+m.backgroundPosition.right+"px top "+m.backgroundPosition.top+"px",e.style.display&&(e.element.style.display=o),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n="padding"+t[1];e.style[n]&&(e.element.style[n]=g[n])})),["style","hoverStyle"].forEach((function(t){var n=e[t],r=s[t];ue(r)&&Object.keys(r).forEach((function(e){"string"==typeof r[e]||ce(r[e])?n[e]=r[e]:null==r[e]&&delete n[e]}))})),"function"==typeof s.onSwitch&&(c=s.onSwitch),s.showEffectName&&t[s.showEffectName]&&(e.showEffectName=l=s.showEffectName),u=s.animOptions,e.elmStyle=a=e.element.style,e.mouseenter=function(t){e.hoverStyleSave=m.getStyles(a,Object.keys(e.hoverStyle)),m.setStyles(a,e.hoverStyle),e.boundTargets.forEach((function(e){nt(e.props,!0,l,u)})),c&&c(t)},e.mouseleave=function(t){m.setStyles(a,e.hoverStyleSave),e.boundTargets.forEach((function(e){nt(e.props,!1,l,u)})),c&&c(t)},!0},bind:function(e,t){var s,r,a,i,o;return t.props.svg?n.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):Ge((function(){n.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)})),e.enabled||(e.styleSave=n.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),n.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(s=e.element,r=e.mouseenter,a=e.mouseleave,"onmouseenter"in s&&"onmouseleave"in s?(s.addEventListener("mouseenter",r,!1),s.addEventListener("mouseleave",a,!1),function(){s.removeEventListener("mouseenter",r,!1),s.removeEventListener("mouseleave",a,!1)}):(i=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||r.apply(this,arguments)},s.addEventListener("mouseover",i),o=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)},s.addEventListener("mouseout",o),function(){s.removeEventListener("mouseover",i,!1),s.removeEventListener("mouseout",o,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),n.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),n.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){n.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.mouseHoverAnchor.unbind(e,t)}))},getBBoxNest:function(e,t){return Oe(e.element,t.baseWindow)},llShow:function(e,n,s){t[s||e.curStats.show_effect].stop(e,!0,n),e.aplStats.show_on=n},getStyles:function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})},setStyles:function(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&ce(t.offset[0])&&ce(t.offset[1])&&(e.offset={x:t.offset[0],y:t.offset[1]}),ce(t.lineOffset)&&(e.lineOffset=t.lineOffset),n.captionLabel.textStyleProps.forEach((function(n){null!=t[n]&&(e[n]=t[n])})),e.updateColor=function(t){n.captionLabel.updateColor(e,t)},e.updateSocketXY=function(t){var n,s,r,a,i=e.curStats,o=e.aplStats,l=t.curStats,u=l.position_socketXYSE[e.socketIndex];null!=u.x&&(e.offset?(i.x=u.x+e.offset.x,i.y=u.y+e.offset.y):(n=e.height/2,s=Math.max(l.attach_plugSideLenSE[e.socketIndex]||0,l.line_strokeWidth/2),r=l.position_socketXYSE[e.socketIndex?0:1],u.socketId===_||u.socketId===S?(i.x=u.socketId===_?u.x-n-e.width:u.x+n,i.y=r.y<u.y?u.y+s+n:u.y-s-n-e.height):(i.x=r.x<u.x?u.x+s+n:u.x-s-n-e.width,i.y=u.socketId===C?u.y-n-e.height:u.y+n)),Xe(e,o,"x",a=i.x)&&(e.elmPosition.x.baseVal.getItem(0).value=a),Xe(e,o,"y",a=i.y)&&(e.elmPosition.y.baseVal.getItem(0).value=a+e.height))},e.updatePath=function(t){var s,r,a=e.curStats,i=e.aplStats,o=t.pathList.animVal||t.pathList.baseVal;o&&(s=n.captionLabel.getMidPoint(o,e.lineOffset),a.x=s.x-e.width/2,a.y=s.y-e.height/2,Xe(e,i,"x",r=a.x)&&(e.elmPosition.x.baseVal.getItem(0).value=r),Xe(e,i,"y",r=a.y)&&(e.elmPosition.y.baseVal.getItem(0).value=r+e.height))},e.updateShow=function(t){n.captionLabel.updateShow(e,t)},ie&&(e.adjustEdge=function(t,s){var r=e.curStats;null!=r.x&&n.captionLabel.adjustEdge(s,{x:r.x,y:r.y,width:e.width,height:e.height},e.strokeWidth/2)}),!0)},updateColor:function(e,t){var n,s=e.curStats,r=e.aplStats,a=t.curStats;s.color=n=e.color||a.line_color,Xe(e,r,"color",n)&&(e.styleFill.fill=n)},updateShow:function(e,t){var n=!0===t.isShown;n!==e.isShown&&(e.styleShow.visibility=n?"":"hidden",e.isShown=n)},adjustEdge:function(e,t,n){var s={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};s.x1<e.x1&&(e.x1=s.x1),s.y1<e.y1&&(e.y1=s.y1),s.x2>e.x2&&(e.x2=s.x2),s.y2>e.y2&&(e.y2=s.y2)},newText:function(e,t,n,s,r){var a,i,o,u,c,h=t.createElementNS(te,"text");return h.textContent=e,[h.x,h.y].forEach((function(e){var t=n.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)})),"boolean"!=typeof l&&(l="paintOrder"in h.style),r&&!l?(i=t.createElementNS(te,"defs"),h.id=s,i.appendChild(h),(u=(a=t.createElementNS(te,"g")).appendChild(t.createElementNS(te,"use"))).href.baseVal="#"+s,(o=a.appendChild(t.createElementNS(te,"use"))).href.baseVal="#"+s,(c=u.style).strokeLinejoin="round",{elmPosition:h,styleText:h.style,styleFill:o.style,styleStroke:c,styleShow:a.style,elmsAppend:[i,a]}):(c=h.style,r&&(c.strokeLinejoin="round",c.paintOrder="stroke"),{elmPosition:h,styleText:c,styleFill:c,styleStroke:r?c:null,styleShow:c,elmsAppend:[h]})},getMidPoint:function(e,t){var n,s,r=Pe(e),a=r.segsLen,i=r.lenAll,o=-1,l=i/2+(t||0);if(l<=0)return 2===(n=e[0]).length?De(n[0],n[1],0):Fe(n[0],n[1],n[2],n[3],0);if(i<=l)return 2===(n=e[e.length-1]).length?De(n[0],n[1],1):Fe(n[0],n[1],n[2],n[3],1);for(s=[];l>a[++o];)s.push(e[o]),l-=a[o];return 2===(n=e[o]).length?De(n[0],n[1],l/a[o]):Fe(n[0],n[1],n[2],n[3],ze(n[0],n[1],n[2],n[3],l))},initSvg:function(e,t){var s,r,a=n.captionLabel.newText(e.text,t.baseWindow.document,t.svg,k+"-captionLabel-"+e._id,e.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach((function(t){e[t]=a[t]})),e.isShown=!1,e.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach((function(t){null!=e[t]&&(a.styleText[t]=e[t])})),a.elmsAppend.forEach((function(e){t.svg.appendChild(e)})),s=a.elmPosition.getBBox(),e.width=s.width,e.height=s.height,e.outlineColor&&(r=10<(r=s.height/9)?10:r<2?2:r,a.styleStroke.strokeWidth=r+"px",a.styleStroke.stroke=e.outlineColor),e.strokeWidth=r||0,Ke(e.aplStats,n.captionLabel.stats),e.updateColor(t),e.refSocketXY?e.updateSocketXY(t):e.updatePath(t),ie&&et(t,{}),e.updateShow(t)},bind:function(e,t){var s=t.props;return e.color||We(s,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,We(s,"apl_position",e.updateSocketXY),e.offset||(We(s,"cur_attach_plugSideLenSE",e.updateSocketXY),We(s,"cur_line_strokeWidth",e.updateSocketXY))):We(s,"apl_path",e.updatePath),We(s,"svgShow",e.updateShow),ie&&We(s,"new_edge4viewBox",e.adjustEdge),n.captionLabel.initSvg(e,s),!0},unbind:function(e,t){var s=t.props;e.elmsAppend&&(e.elmsAppend.forEach((function(e){s.svg.removeChild(e)})),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),Ke(e.curStats,n.captionLabel.stats),Ke(e.aplStats,n.captionLabel.stats),e.color||Ue(s,"cur_line_color",e.updateColor),e.refSocketXY?(Ue(s,"apl_position",e.updateSocketXY),e.offset||(Ue(s,"cur_attach_plugSideLenSE",e.updateSocketXY),Ue(s,"cur_line_strokeWidth",e.updateSocketXY))):Ue(s,"apl_path",e.updatePath),Ue(s,"svgShow",e.updateShow),ie&&(Ue(s,"new_edge4viewBox",e.adjustEdge),et(s,{}))},removeOption:function(e,t){var n=t.props,s={};s[t.optionName]="",at(n,s)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.captionLabel.unbind(e,t)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",ce(t.lineOffset)&&(e.lineOffset=t.lineOffset),n.captionLabel.textStyleProps.forEach((function(n){null!=t[n]&&(e[n]=t[n])})),e.updateColor=function(t){n.captionLabel.updateColor(e,t)},e.updatePath=function(t){var s,r=e.curStats,a=e.aplStats,i=t.curStats,o=t.pathList.animVal||t.pathList.baseVal;o&&(r.pathData=s=n.pathLabel.getOffsetPathData(o,i.line_strokeWidth/2+e.strokeWidth/2+e.height/4,1.25*e.height),Ve(s,a.pathData)&&(e.elmPath.setPathData(s),a.pathData=s,e.bBox=e.elmPosition.getBBox(),e.updateStartOffset(t)))},e.updateStartOffset=function(t){var n,s,r,a,i=e.curStats,o=e.aplStats,l=t.curStats;i.pathData&&(2===e.semIndex&&!e.lineOffset||(r=i.pathData.reduce((function(e,t){var n,r=t.values;switch(t.type){case"M":s={x:r[0],y:r[1]};break;case"L":n={x:r[0],y:r[1]},s&&(e+=Re(s,n)),s=n;break;case"C":n={x:r[4],y:r[5]},s&&(e+=Be(s,{x:r[0],y:r[1]},{x:r[2],y:r[3]},n)),s=n}return e}),0),a=0===e.semIndex?0:1===e.semIndex?r:r/2,2!==e.semIndex&&(n=Math.max(l.attach_plugBackLenSE[e.semIndex]||0,l.line_strokeWidth/2)+e.strokeWidth/2+e.height/4,a=(a+=0===e.semIndex?n:-n)<0?0:r<a?r:a),e.lineOffset&&(a=(a+=e.lineOffset)<0?0:r<a?r:a),i.startOffset=a,Xe(e,o,"startOffset",a)&&(e.elmOffset.startOffset.baseVal.value=a)))},e.updateShow=function(t){n.captionLabel.updateShow(e,t)},ie&&(e.adjustEdge=function(t,s){e.bBox&&n.captionLabel.adjustEdge(s,e.bBox,e.strokeWidth/2)}),!0)},getOffsetPathData:function(e,t,n){var s,r,a=[];function i(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach((function(e){var n,r,o,l,u,c,h,d,p,f,m,g,y,b,w,v,x,A,k,C,S;2===e.length?(A=e[0],k=e[1],C=t,S=Math.atan2(A.y-k.y,k.x-A.x)+.5*Math.PI,n=[{x:A.x+Math.cos(S)*C,y:A.y+Math.sin(S)*C*-1},{x:k.x+Math.cos(S)*C,y:k.y+Math.sin(S)*C*-1}],s?(o=s.points,0<=(l=Math.atan2(o[1].y-o[0].y,o[0].x-o[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&l<=Math.PI?r={type:"line",points:n,inside:!0}:(c=Me(o[0],o[1],t),u=Me(n[1],n[0],t),d=o[0],f=u,m=n[1],g=(p=c).x-d.x,y=p.y-d.y,b=m.x-f.x,w=m.y-f.y,v=(-y*(d.x-f.x)+g*(d.y-f.y))/(-b*y+g*w),x=(b*(d.y-f.y)-w*(d.x-f.x))/(-b*y+g*w),r=(h=0<=v&&v<=1&&0<=x&&x<=1?{x:d.x+x*g,y:d.y+x*y}:null)?{type:"line",points:[o[1]=h,n[1]]}:(o[1]=i(u,c)?u:c,{type:"line",points:[u,n[1]]}),s.len=Re(o[0],o[1]))):r={type:"line",points:n},r.len=Re(r.points[0],r.points[1]),a.push(s=r)):(a.push({type:"cubic",points:function(e,t,n,s,r,a){for(var i,o,l=Be(e,t,n,s)/16,u=1/(16<r?r/16*l:l),c=[],h=0;o=(90-(i=Fe(e,t,n,s,h)).angle)*(Math.PI/180),c.push({x:i.x+Math.cos(o)*r,y:i.y+Math.sin(o)*r*-1}),!(1<=h);)1<(h+=u)&&(h=1);return c}(e[0],e[1],e[2],e[3],t)}),s=null)})),s=null,a.forEach((function(e){var r;s="line"===e.type?(e.inside&&(s.len>t?((r=s.points)[1]=Me(r[0],r[1],-t),s.len=Re(r[0],r[1])):(s.points=null,s.len=0),e.len>t+n?((r=e.points)[0]=Me(r[1],r[0],-(t+n)),e.len=Re(r[0],r[1])):(e.points=null,e.len=0)),e):null})),a.reduce((function(e,t){var n=t.points;return n&&(r&&i(n[0],r)||e.push({type:"M",values:[n[0].x,n[0].y]}),"line"===t.type?e.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach((function(t){e.push({type:"L",values:[t.x,t.y]})}))),r=n[n.length-1]),e}),[])},newText:function(e,t,n,s){var r,a,i,o,u,c,h,d,p=t.createElementNS(te,"defs"),f=p.appendChild(t.createElementNS(te,"path"));return f.id=r=n+"-path",(o=(i=t.createElementNS(te,"text")).appendChild(t.createElementNS(te,"textPath"))).href.baseVal="#"+r,o.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.textContent=e,"boolean"!=typeof l&&(l="paintOrder"in i.style),s&&!l?(i.id=a=n+"-text",p.appendChild(i),(h=(u=t.createElementNS(te,"g")).appendChild(t.createElementNS(te,"use"))).href.baseVal="#"+a,(c=u.appendChild(t.createElementNS(te,"use"))).href.baseVal="#"+a,(d=h.style).strokeLinejoin="round",{elmPosition:i,elmPath:f,elmOffset:o,styleText:i.style,styleFill:c.style,styleStroke:d,styleShow:u.style,elmsAppend:[p,u]}):(d=i.style,s&&(d.strokeLinejoin="round",d.paintOrder="stroke"),{elmPosition:i,elmPath:f,elmOffset:o,styleText:d,styleFill:d,styleStroke:s?d:null,styleShow:d,elmsAppend:[p,i]})},initSvg:function(e,t){var s,r,a=n.pathLabel.newText(e.text,t.baseWindow.document,k+"-pathLabel-"+e._id,e.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach((function(t){e[t]=a[t]})),e.isShown=!1,e.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach((function(t){null!=e[t]&&(a.styleText[t]=e[t])})),a.elmsAppend.forEach((function(e){t.svg.appendChild(e)})),a.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),s=a.elmPosition.getBBox(),a.styleText.textAnchor=["start","end","middle"][e.semIndex],2!==e.semIndex||e.lineOffset||a.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),e.height=s.height,e.outlineColor&&(r=10<(r=s.height/9)?10:r<2?2:r,a.styleStroke.strokeWidth=r+"px",a.styleStroke.stroke=e.outlineColor),e.strokeWidth=r||0,Ke(e.aplStats,n.pathLabel.stats),e.updateColor(t),e.updatePath(t),e.updateStartOffset(t),ie&&et(t,{}),e.updateShow(t)},bind:function(e,t){var s=t.props;return e.color||We(s,"cur_line_color",e.updateColor),We(s,"cur_line_strokeWidth",e.updatePath),We(s,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,2===e.semIndex&&!e.lineOffset||We(s,"cur_attach_plugBackLenSE",e.updateStartOffset),We(s,"svgShow",e.updateShow),ie&&We(s,"new_edge4viewBox",e.adjustEdge),n.pathLabel.initSvg(e,s),!0},unbind:function(e,t){var s=t.props;e.elmsAppend&&(e.elmsAppend.forEach((function(e){s.svg.removeChild(e)})),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),Ke(e.curStats,n.pathLabel.stats),Ke(e.aplStats,n.pathLabel.stats),e.color||Ue(s,"cur_line_color",e.updateColor),Ue(s,"cur_line_strokeWidth",e.updatePath),Ue(s,"apl_path",e.updatePath),2===e.semIndex&&!e.lineOffset||Ue(s,"cur_attach_plugBackLenSE",e.updateStartOffset),Ue(s,"svgShow",e.updateShow),ie&&(Ue(s,"new_edge4viewBox",e.adjustEdge),et(s,{}))},removeOption:function(e,t){var n=t.props,s={};s[t.optionName]="",at(n,s)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.pathLabel.unbind(e,t)}))}}},Object.keys(n).forEach((function(e){it[e]=function(){return new s(n[e],Array.prototype.slice.call(arguments))}})),it.positionByWindowResize=!0,window.addEventListener("resize",pe.add((function(){it.positionByWindowResize&&Object.keys(be).forEach((function(e){et(be[e],{position:!0})}))})),!1),it}();e.exports=t},7503:function(e,t,n){var s;e=n.nmd(e),function(){"use strict";var r={function:!0,object:!0},a=r[typeof window]&&window||this,i=r[typeof t]&&t,o=r.object&&e&&!e.nodeType&&e,l=i&&o&&"object"==typeof n.g&&n.g;!l||l.global!==l&&l.window!==l&&l.self!==l||(a=l);var u=Math.pow(2,53)-1,c=/\bOpera/,h=Object.prototype,d=h.hasOwnProperty,p=h.toString;function f(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=v(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:f(e)}function g(e,t){for(var n in e)d.call(e,n)&&t(e[n],n,e)}function y(e){return null==e?f(e):p.call(e).slice(8,-1)}function b(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function w(e,t){var n=null;return function(e,t){var n=-1,s=e?e.length:0;if("number"==typeof s&&s>-1&&s<=u)for(;++n<s;)t(e[n],n,e);else g(e,t)}(e,(function(s,r){n=t(n,s,r,e)})),n}function v(e){return String(e).replace(/^ +| +$/g,"")}var x=function e(t){var n=a,s=t&&"object"==typeof t&&"String"!=y(t);s&&(n=t,t=null);var r=n.navigator||{},i=r.userAgent||"";t||(t=i);var o,l,u,h,d,f=s?!!r.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),x="Object",A=s?x:"ScriptBridgingProxyObject",k=s?x:"Environment",C=s&&n.java?"JavaPackage":y(n.java),S=s?x:"RuntimeObject",E=/\bJava/.test(C)&&n.java,_=E&&y(n.environment)==k,I=E?"a":"α",T=E?"b":"β",N=n.document||{},O=n.operamini||n.opera,R=c.test(R=s&&O?O["[[Class]]"]:y(O))?R:O=null,D=t,M=[],F=null,B=t==i,z=B&&O&&"function"==typeof O.version&&O.version(),L=w([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})),P=function(e){return w(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),V=G([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(e){return w(e,(function(e,n,s){return e||(n[V]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(V)]||RegExp("\\b"+b(s)+"(?:\\b|\\w*\\d)","i").exec(t))&&s}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),U=function(e){return w(e,(function(e,n){var s=n.pattern||b(n);return!e&&(e=RegExp("\\b"+s+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var s={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(s=s[/[\d.]+$/.exec(e)])&&(e="Windows "+s),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,s,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function G(e){return w(e,(function(e,n){var s=n.pattern||b(n);return!e&&(e=RegExp("\\b"+s+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+s+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+s+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(s,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(s,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function q(e){return w(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(L&&(L=[L]),/\bAndroid\b/.test(U)&&!V&&(o=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(V=v(o[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),W&&!V?V=G([W]):W&&V&&(V=V.replace(RegExp("^("+b(W)+")[-_.\\s]","i"),W+" ").replace(RegExp("^("+b(W)+")[-_.]?(\\w)","i"),W+" $2")),(o=/\bGoogle TV\b/.exec(V))&&(V=o[0]),/\bSimulator\b/i.test(t)&&(V=(V?V+" ":"")+"Simulator"),"Opera Mini"==P&&/\bOPiOS\b/.test(t)&&M.push("running in Turbo/Uncompressed mode"),"IE"==P&&/\blike iPhone OS\b/.test(t)?(W=(o=e(t.replace(/like iPhone OS/,""))).manufacturer,V=o.product):/^iP/.test(V)?(P||(P="Safari"),U="iOS"+((o=/ OS ([\d_]+)/i.exec(t))?" "+o[1].replace(/_/g,"."):"")):"Konqueror"==P&&/^Linux\b/i.test(U)?U="Kubuntu":W&&"Google"!=W&&(/Chrome/.test(P)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(V))||/\bAndroid\b/.test(U)&&/^Chrome/.test(P)&&/\bVersion\//i.test(t)?(P="Android Browser",U=/\bAndroid\b/.test(U)?U:"Android"):"Silk"==P?(/\bMobi/i.test(t)||(U="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&M.unshift("accelerated")):"UC Browser"==P&&/\bUCWEB\b/.test(t)?M.push("speed mode"):"PaleMoon"==P&&(o=/\bFirefox\/([\d.]+)\b/.exec(t))?M.push("identifying as Firefox "+o[1]):"Firefox"==P&&(o=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(U||(U="Firefox OS"),V||(V=o[1])):!P||(o=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(P))?(P&&!V&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(o+"/")+8))&&(P=null),(o=V||W||U)&&(V||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(U))&&(P=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(U)?U:o)+" Browser")):"Electron"==P&&(o=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&M.push("Chromium "+o),z||(z=q(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",b(P),"(?:Firefox|Minefield|NetFront)"])),(o=("iCab"==L&&parseFloat(z)>3?"WebKit":/\bOpera\b/.test(P)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(L)&&"WebKit"||!L&&/\bMSIE\b/i.test(t)&&("Mac OS"==U?"Tasman":"Trident")||"WebKit"==L&&/\bPlayStation\b(?! Vita\b)/i.test(P)&&"NetFront")&&(L=[o]),"IE"==P&&(o=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(P+=" Mobile",U="Windows Phone "+(/\+$/.test(o)?o:o+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(P="IE Mobile",U="Windows Phone 8.x",M.unshift("desktop mode"),z||(z=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=P&&"Trident"==L&&(o=/\brv:([\d.]+)/.exec(t))&&(P&&M.push("identifying as "+P+(z?" "+z:"")),P="IE",z=o[1]),B){if(h="global",d=null!=(u=n)?typeof u[h]:"number",/^(?:boolean|number|string|undefined)$/.test(d)||"object"==d&&!u[h])y(o=n.runtime)==A?(P="Adobe AIR",U=o.flash.system.Capabilities.os):y(o=n.phantom)==S?(P="PhantomJS",z=(o=o.version||null)&&o.major+"."+o.minor+"."+o.patch):"number"==typeof N.documentMode&&(o=/\bTrident\/(\d+)/i.exec(t))?(z=[z,N.documentMode],(o=+o[1]+4)!=z[1]&&(M.push("IE "+z[1]+" mode"),L&&(L[1]=""),z[1]=o),z="IE"==P?String(z[1].toFixed(1)):z[0]):"number"==typeof N.documentMode&&/^(?:Chrome|Firefox)\b/.test(P)&&(M.push("masking as "+P+" "+z),P="IE",z="11.0",L=["Trident"],U="Windows");else if(E&&(D=(o=E.lang.System).getProperty("os.arch"),U=U||o.getProperty("os.name")+" "+o.getProperty("os.version")),_){try{z=n.require("ringo/engine").version.join("."),P="RingoJS"}catch(e){(o=n.system)&&o.global.system==n.system&&(P="Narwhal",U||(U=o[0].os||null))}P||(P="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(o=n.process)&&("object"==typeof o.versions&&("string"==typeof o.versions.electron?(M.push("Node "+o.versions.node),P="Electron",z=o.versions.electron):"string"==typeof o.versions.nw&&(M.push("Chromium "+z,"Node "+o.versions.node),P="NW.js",z=o.versions.nw)),P||(P="Node.js",D=o.arch,U=o.platform,z=(z=/[\d.]+/.exec(o.version))?z[0]:null));U=U&&m(U)}if(z&&(o=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(z)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(B&&r.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(F=/b/i.test(o)?"beta":"alpha",z=z.replace(RegExp(o+"\\+?$"),"")+("beta"==F?T:I)+(/\d+\+?/.exec(o)||"")),"Fennec"==P||"Firefox"==P&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(U))P="Firefox Mobile";else if("Maxthon"==P&&z)z=z.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(V))"Xbox 360"==V&&(U=null),"Xbox 360"==V&&/\bIEMobile\b/.test(t)&&M.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(P)&&(!P||V||/Browser|Mobi/.test(P))||"Windows CE"!=U&&!/Mobi/i.test(t))if("IE"==P&&B)try{null===n.external&&M.unshift("platform preview")}catch(e){M.unshift("embedded")}else(/\bBlackBerry\b/.test(V)||/\bBB10\b/.test(t))&&(o=(RegExp(V.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||z)?(U=((o=[o,/BB10/.test(t)])[1]?(V=null,W="BlackBerry"):"Device Software")+" "+o[0],z=null):this!=g&&"Wii"!=V&&(B&&O||/Opera/.test(P)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==P&&/\bOS X (?:\d+\.){2,}/.test(U)||"IE"==P&&(U&&!/^Win/.test(U)&&z>5.5||/\bWindows XP\b/.test(U)&&z>8||8==z&&!/\bTrident\b/.test(t)))&&!c.test(o=e.call(g,t.replace(c,"")+";"))&&o.name&&(o="ing as "+o.name+((o=o.version)?" "+o:""),c.test(P)?(/\bIE\b/.test(o)&&"Mac OS"==U&&(U=null),o="identify"+o):(o="mask"+o,P=R?m(R.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(o)&&(U=null),B||(z=null)),L=["Presto"],M.push(o));else P+=" Mobile";(o=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(o=[parseFloat(o.replace(/\.(\d)$/,".0$1")),o],"Safari"==P&&"+"==o[1].slice(-1)?(P="WebKit Nightly",F="alpha",z=o[1].slice(0,-1)):z!=o[1]&&z!=(o[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(z=null),o[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==o[0]&&537.36==o[2]&&parseFloat(o[1])>=28&&"WebKit"==L&&(L=["Blink"]),B&&(f||o[1])?(L&&(L[1]="like Chrome"),o=o[1]||((o=o[0])<530?1:o<532?2:o<532.05?3:o<533?4:o<534.03?5:o<534.07?6:o<534.1?7:o<534.13?8:o<534.16?9:o<534.24?10:o<534.3?11:o<535.01?12:o<535.02?"13+":o<535.07?15:o<535.11?16:o<535.19?17:o<536.05?18:o<536.1?19:o<537.01?20:o<537.11?"21+":o<537.13?23:o<537.18?24:o<537.24?25:o<537.36?26:"Blink"!=L?"27":"28")):(L&&(L[1]="like Safari"),o=(o=o[0])<400?1:o<500?2:o<526?3:o<533?4:o<534?"4+":o<535?5:o<537?6:o<538?7:o<601?8:o<602?9:o<604?10:o<606?11:o<608?12:"12"),L&&(L[1]+=" "+(o+="number"==typeof o?".x":/[.+]/.test(o)?"":"+")),"Safari"==P&&(!z||parseInt(z)>45)?z=o:"Chrome"==P&&/\bHeadlessChrome/i.test(t)&&M.unshift("headless")),"Opera"==P&&(o=/\bzbov|zvav$/.exec(U))?(P+=" ",M.unshift("desktop mode"),"zvav"==o?(P+="Mini",z=null):P+="Mobile",U=U.replace(RegExp(" *"+o+"$"),"")):"Safari"==P&&/\bChrome\b/.exec(L&&L[1])?(M.unshift("desktop mode"),P="Chrome Mobile",z=null,/\bOS X\b/.test(U)?(W="Apple",U="iOS 4.3+"):U=null):/\bSRWare Iron\b/.test(P)&&!z&&(z=q("Chrome")),z&&0==z.indexOf(o=/[\d.]+$/.exec(U))&&t.indexOf("/"+o+"-")>-1&&(U=v(U.replace(o,""))),U&&-1!=U.indexOf(P)&&!RegExp(P+" OS").test(U)&&(U=U.replace(RegExp(" *"+b(P)+" *"),"")),L&&!/\b(?:Avant|Nook)\b/.test(P)&&(/Browser|Lunascape|Maxthon/.test(P)||"Safari"!=P&&/^iOS/.test(U)&&/\bSafari\b/.test(L[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(P)&&L[1])&&(o=L[L.length-1])&&M.push(o),M.length&&(M=["("+M.join("; ")+")"]),W&&V&&V.indexOf(W)<0&&M.push("on "+W),V&&M.push((/^on /.test(M[M.length-1])?"":"on ")+V),U&&(o=/ ([\d.+]+)$/.exec(U),l=o&&"/"==U.charAt(U.length-o[0].length-1),U={architecture:32,family:o&&!l?U.replace(o[0],""):U,version:o?o[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(o=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(D))&&!/\bi686\b/i.test(D)?(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+o),"")),P&&(/\bWOW64\b/i.test(t)||B&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(t))&&M.unshift("32-bit")):U&&/^OS X/.test(U.family)&&"Chrome"==P&&parseFloat(z)>=39&&(U.architecture=64),t||(t=null);var j={};return j.description=t,j.layout=L&&L[0],j.manufacturer=W,j.name=P,j.prerelease=F,j.product=V,j.ua=t,j.version=P&&z,j.os=U||{architecture:null,family:null,version:null,toString:function(){return"null"}},j.parse=e,j.toString=function(){return this.description||""},j.version&&M.unshift(z),j.name&&M.unshift(P),U&&P&&(U!=String(U).split(" ")[0]||U!=P.split(" ")[0]&&!V)&&M.push(V?"("+U+")":"on "+U),M.length&&(j.description=M.join(" ")),j}();a.platform=x,void 0===(s=function(){return x}.call(t,n,t,e))||(e.exports=s)}.call(this)},115:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,s="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var o,l,u,c;if(Array.isArray(e)){if((o=e.length)!=i.length)return!1;for(l=o;0!=l--;)if(!a(e[l],i[l]))return!1;return!0}if(n&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!i.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!a(l.value[1],i.get(l.value[0])))return!1;return!0}if(s&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((o=e.length)!=i.length)return!1;for(l=o;0!=l--;)if(e[l]!==i[l])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof i.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof i.toString)return e.toString()===i.toString();if((o=(u=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(i,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!a(e[u[l]],i[u[l]]))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return!1;throw e}}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var a={},i=[],o=0;o<e.length;o++){var l=e[o],u=s.base?l[0]+s.base:l[0],c=a[u]||0,h="".concat(u," ").concat(c);a[u]=c+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=r(p,s);s.byIndex=o,t.splice(o,0,{identifier:h,updater:f,references:1})}i.push(h)}return i}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=s(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var o=n(a[i]);t[o].references--}for(var l=s(e,r),u=0;u<a.length;u++){var c=n(a[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,r&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},402:e=>{e.exports='<svg class="size-obj" id="size-arrow" viewBox="0 0 110 100" xmlns="http://www.w3.org/2000/svg"><path id="size-arrow-fill" d="m60 25v-25l-60 50 60 50v-25h50v-50z"></path></svg>'},3389:e=>{e.exports='<svg class="size-obj" id="size-card" viewBox="0 0 242.65 153.01" xmlns="http://www.w3.org/2000/svg"><rect fill="#555" height="153.01" rx="9" width="242.65"></rect><g fill="#595959"><path d="m0 12.79h242.65v1h-242.65z"></path><path d="m0 15.96h242.65v1h-242.65z"></path><path d="m0 19.12h242.65v1h-242.65z"></path><path d="m0 22.28h242.65v1h-242.65z"></path><path d="m0 25.44h242.65v1h-242.65z"></path><path d="m0 28.6h242.65v1h-242.65z"></path><path d="m0 31.76h242.65v1h-242.65z"></path><path d="m0 34.92h242.65v1h-242.65z"></path><path d="m0 38.08h242.65v1h-242.65z"></path><path d="m0 41.24h242.65v1h-242.65z"></path><path d="m0 44.4h242.65v1h-242.65z"></path><path d="m0 47.56h242.65v1h-242.65z"></path><path d="m0 50.72h242.65v1h-242.65z"></path><path d="m0 53.88h242.65v1h-242.65z"></path><path d="m0 57.04h242.65v1h-242.65z"></path><path d="m0 60.2h242.65v1h-242.65z"></path><path d="m0 63.36h242.65v1h-242.65z"></path><path d="m0 66.53h242.65v1h-242.65z"></path><path d="m0 69.69h242.65v1h-242.65z"></path><path d="m0 72.85h242.65v1h-242.65z"></path><path d="m0 76.01h242.65v1h-242.65z"></path><path d="m0 79.17h242.65v1h-242.65z"></path><path d="m0 82.33h242.65v1h-242.65z"></path><path d="m0 85.49h242.65v1h-242.65z"></path><path d="m0 88.65h242.65v1h-242.65z"></path><path d="m0 91.81h242.65v1h-242.65z"></path><path d="m0 94.97h242.65v1h-242.65z"></path><path d="m0 98.13h242.65v1h-242.65z"></path><path d="m0 101.29h242.65v1h-242.65z"></path><path d="m0 104.45h242.65v1h-242.65z"></path><path d="m0 107.61h242.65v1h-242.65z"></path><path d="m0 110.77h242.65v1h-242.65z"></path><path d="m0 113.93h242.65v1h-242.65z"></path><path d="m0 117.1h242.65v1h-242.65z"></path><path d="m0 120.26h242.65v1h-242.65z"></path><path d="m0 123.42h242.65v1h-242.65z"></path><path d="m0 126.58h242.65v1h-242.65z"></path><path d="m0 129.74h242.65v1h-242.65z"></path><path d="m0 132.9h242.65v1h-242.65z"></path><path d="m0 136.06h242.65v1h-242.65z"></path><path d="m0 139.22h242.65v1h-242.65z"></path></g><rect fill="#aaa" height="24.09" rx="4.25" width="34.02" x="20.27" y="53.15"></rect><path d="m28.27 102.89a4.28 4.28 0 0 1 -.8 1.58 3.5 3.5 0 0 1 -1.3 1 4.78 4.78 0 0 1 -3.49 0 3.28 3.28 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.5 0 3.64 3.64 0 0 1 1.31 1 4.45 4.45 0 0 1 .8 1.6 7.48 7.48 0 0 1 .29 2.16v3a7.55 7.55 0 0 1 -.29 2.17zm-1.38-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.77 1.77 0 0 0 .72.45 3.08 3.08 0 0 0 1.93 0 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m39.08 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.44 4.44 0 0 1 1.75-.34 4.37 4.37 0 0 1 1.79.38 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.32 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 2 2 0 0 0 -.76.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 .95.15 2.72 2.72 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m49.88 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .85-1.56 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.31 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1.02-.14 2.66 2.66 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.63 6.63 0 0 0 .18-1.64z" fill="#eee"></path><path d="m60.68 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.43 3.43 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.93 7.93 0 0 1 -.28-2.17v-3a7.86 7.86 0 0 1 .33-2.16 4.48 4.48 0 0 1 .82-1.6 3.52 3.52 0 0 1 1.3-1 4.35 4.35 0 0 1 1.74-.34 4.45 4.45 0 0 1 1.76.34 3.61 3.61 0 0 1 1.3 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .27 2.16v3a7.56 7.56 0 0 1 -.32 2.17zm-1.39-6.32a5 5 0 0 0 -.29-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.69 2.69 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 .95.15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.6 6.6 0 0 0 .19-1.64z" fill="#eee"></path><path d="m82.28 102.89a4.15 4.15 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.32 3.32 0 0 1 -1.3-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.5 0 3.52 3.52 0 0 1 1.3 1 4.31 4.31 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.28 2.17zm-1.39-6.32a4.5 4.5 0 0 0 -.25-1.12 2.39 2.39 0 0 0 -.48-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.36 2.36 0 0 0 .52.81 1.91 1.91 0 0 0 .72.45 2.87 2.87 0 0 0 1 .15 2.78 2.78 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.6 2.6 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m93.09 102.89a4.45 4.45 0 0 1 -.81 1.58 3.5 3.5 0 0 1 -1.3 1 4.35 4.35 0 0 1 -1.74.33 4.4 4.4 0 0 1 -1.75-.33 3.28 3.28 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.53.04 3.64 3.64 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.31 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.84 1.84 0 0 0 .72.45 3.08 3.08 0 0 0 1.93 0 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m103.89 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .84-1.56 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.3 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 2 2 0 0 0 -.76.52 3 3 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.72 2.72 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m114.69 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.93 7.93 0 0 1 -.28-2.17v-3a7.86 7.86 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.28 2.17zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.6 6.6 0 0 0 .19-1.64z" fill="#eee"></path><path d="m132.19 105.62v-10.73l-3.35 1.28v-1.49l4.84-1.86h.13v12.8z" fill="#eee"></path><path d="m138.81 105.62v-1.17l4.19-4.66c.37-.42.69-.79.94-1.11a7.55 7.55 0 0 0 .61-.9 3.18 3.18 0 0 0 .32-.76 3.23 3.23 0 0 0 .1-.76 2.42 2.42 0 0 0 -.16-.89 2 2 0 0 0 -.44-.72 2.14 2.14 0 0 0 -.72-.49 2.35 2.35 0 0 0 -.94-.18 3.07 3.07 0 0 0 -1.11.18 2.09 2.09 0 0 0 -.78.52 2.19 2.19 0 0 0 -.47.83 3.6 3.6 0 0 0 -.16 1.08h-1.63a4.12 4.12 0 0 1 .28-1.53 3.73 3.73 0 0 1 2.16-2.06 4.55 4.55 0 0 1 1.75-.32 4.64 4.64 0 0 1 1.63.27 3.62 3.62 0 0 1 1.22.74 3.16 3.16 0 0 1 .77 1.13 3.62 3.62 0 0 1 .27 1.41 3.39 3.39 0 0 1 -.19 1.13 5.86 5.86 0 0 1 -.52 1.11 9.25 9.25 0 0 1 -.77 1.07c-.29.36-.6.71-.92 1.06l-3.43 3.73h6.42v1.33z" fill="#eee"></path><path d="m153.2 98.43a3.33 3.33 0 0 0 1.09-.16 2.35 2.35 0 0 0 .79-.46 1.89 1.89 0 0 0 .49-.69 2.35 2.35 0 0 0 .16-.89 3 3 0 0 0 -.15-1 1.78 1.78 0 0 0 -.44-.71 1.75 1.75 0 0 0 -.69-.4 2.85 2.85 0 0 0 -1-.14 2.81 2.81 0 0 0 -.94.15 2 2 0 0 0 -.73.45 2 2 0 0 0 -.47.69 2.38 2.38 0 0 0 -.17.91h-1.63a3.34 3.34 0 0 1 1.09-2.51 3.68 3.68 0 0 1 1.24-.75 4.35 4.35 0 0 1 1.61-.28 4.94 4.94 0 0 1 1.58.24 3.26 3.26 0 0 1 1.22.69 3.07 3.07 0 0 1 .79 1.13 4 4 0 0 1 .28 1.56 3 3 0 0 1 -.11.77 2.93 2.93 0 0 1 -.36.76 2.88 2.88 0 0 1 -.61.71 3.27 3.27 0 0 1 -.89.55 3.18 3.18 0 0 1 1 .53 2.73 2.73 0 0 1 1 1.58 3.86 3.86 0 0 1 .1.89 4 4 0 0 1 -.3 1.59 3.36 3.36 0 0 1 -.86 1.17 3.71 3.71 0 0 1 -1.29.73 4.84 4.84 0 0 1 -1.6.25 5.08 5.08 0 0 1 -1.58-.24 3.63 3.63 0 0 1 -1.29-.69 3.29 3.29 0 0 1 -.87-1.12 3.44 3.44 0 0 1 -.32-1.5h1.63a2.24 2.24 0 0 0 .17.91 1.85 1.85 0 0 0 .49.71 2.24 2.24 0 0 0 .77.45 3.52 3.52 0 0 0 2 0 2.16 2.16 0 0 0 .77-.44 2.08 2.08 0 0 0 .49-.75 3 3 0 0 0 .17-1 2.49 2.49 0 0 0 -.2-1 2.1 2.1 0 0 0 -.55-.73 2.53 2.53 0 0 0 -.87-.43 4.21 4.21 0 0 0 -1.11-.14h-1.1v-1.39z" fill="#eee"></path><path d="m169.32 101.32v1.32h-1.78v3h-1.63v-3h-5.83v-1l5.73-8.87h1.73v8.5zm-3.41 0v-6.32l-.26.49-3.77 5.85z" fill="#eee"></path><path d="m183.77 92.82h6.57v1.58h-5.2l-.36 3.41a4.87 4.87 0 0 1 .91-.39 4.1 4.1 0 0 1 1.22-.16 4 4 0 0 1 1.59.3 3.37 3.37 0 0 1 1.19.87 3.86 3.86 0 0 1 .76 1.35 5.42 5.42 0 0 1 .26 1.76 5.7 5.7 0 0 1 -.24 1.69 3.76 3.76 0 0 1 -.74 1.35 3.31 3.31 0 0 1 -1.26.89 4.55 4.55 0 0 1 -1.77.32 4.78 4.78 0 0 1 -1.48-.22 3.49 3.49 0 0 1 -1.23-.66 3.38 3.38 0 0 1 -.89-1.11 4.26 4.26 0 0 1 -.44-1.55h1.55a2.54 2.54 0 0 0 .8 1.65 2.48 2.48 0 0 0 1.69.56 2.43 2.43 0 0 0 1-.2 2.08 2.08 0 0 0 .75-.6 2.5 2.5 0 0 0 .45-.91 4.1 4.1 0 0 0 .16-1.2 3.63 3.63 0 0 0 -.17-1.11 2.77 2.77 0 0 0 -.5-.91 2.25 2.25 0 0 0 -.8-.59 2.53 2.53 0 0 0 -1.09-.22 4.68 4.68 0 0 0 -.7 0 2.54 2.54 0 0 0 -.53.17 2.09 2.09 0 0 0 -.44.25c-.14.1-.28.21-.43.34l-1.3-.33z" fill="#eee"></path><path d="m199.34 94.27h-.14a5.15 5.15 0 0 0 -2 .33 3.77 3.77 0 0 0 -1.34.88 3.88 3.88 0 0 0 -.84 1.38 6.13 6.13 0 0 0 -.34 1.65 3.21 3.21 0 0 1 .53-.51 4 4 0 0 1 .65-.41 4.33 4.33 0 0 1 .74-.27 3.86 3.86 0 0 1 .84-.1 3.41 3.41 0 0 1 1.65.37 3.27 3.27 0 0 1 1.15 1 4 4 0 0 1 .66 1.35 5.8 5.8 0 0 1 0 3.23 3.86 3.86 0 0 1 -.76 1.38 3.43 3.43 0 0 1 -1.24.94 4 4 0 0 1 -1.72.34 3.71 3.71 0 0 1 -1.73-.39 4.1 4.1 0 0 1 -1.26-1 4.82 4.82 0 0 1 -.85-1.62 6.31 6.31 0 0 1 -.28-1.86v-.77a13.29 13.29 0 0 1 .38-3.14 5.41 5.41 0 0 1 1.48-2.65 4.9 4.9 0 0 1 1.83-1.14 7.46 7.46 0 0 1 2.45-.38h.14zm-2.92 4.44a2.73 2.73 0 0 0 -.72.37 2.45 2.45 0 0 0 -.59.57 2.81 2.81 0 0 0 -.41.74v.54a4.94 4.94 0 0 0 .21 1.5 3.32 3.32 0 0 0 .54 1.1 2.3 2.3 0 0 0 .79.68 2 2 0 0 0 .94.24 2.31 2.31 0 0 0 1-.22 2.13 2.13 0 0 0 .75-.61 2.69 2.69 0 0 0 .45-.93 4 4 0 0 0 .16-1.17 4.34 4.34 0 0 0 -.14-1.09 3.17 3.17 0 0 0 -.43-1 2.42 2.42 0 0 0 -.73-.66 2.15 2.15 0 0 0 -1-.24 2.4 2.4 0 0 0 -.82.18z" fill="#eee"></path><path d="m207 105.62h-1.71l5.28-11.38h-6.92v-1.42h8.65v.91z" fill="#eee"></path><path d="m222.58 97.36a3 3 0 0 1 -.66 1 4.15 4.15 0 0 1 -.44.38 4.6 4.6 0 0 1 -.48.26 4.33 4.33 0 0 1 .89.52 3.36 3.36 0 0 1 .69.72 3.45 3.45 0 0 1 .44.88 3.33 3.33 0 0 1 .15 1 3.64 3.64 0 0 1 -.32 1.55 3.26 3.26 0 0 1 -.87 1.13 3.85 3.85 0 0 1 -1.29.71 5.08 5.08 0 0 1 -1.58.24 5.22 5.22 0 0 1 -1.61-.24 3.54 3.54 0 0 1 -1.28-.7 3.15 3.15 0 0 1 -.87-1.13 3.65 3.65 0 0 1 -.32-1.56 3.33 3.33 0 0 1 .15-1 3.19 3.19 0 0 1 .43-.89 3.5 3.5 0 0 1 .68-.71 3.74 3.74 0 0 1 .89-.53 3.4 3.4 0 0 1 -.77-.5 3.07 3.07 0 0 1 -.58-.67 3 3 0 0 1 -.37-.79 3 3 0 0 1 -.13-.9 3.7 3.7 0 0 1 .28-1.49 3.05 3.05 0 0 1 .78-1.1 3.37 3.37 0 0 1 1.18-.69 4.87 4.87 0 0 1 3 0 3.56 3.56 0 0 1 1.2.69 3 3 0 0 1 .8 1.1 3.7 3.7 0 0 1 .29 1.49 3.18 3.18 0 0 1 -.28 1.23zm-1.27 3.78a2.38 2.38 0 0 0 -.5-.77 2.25 2.25 0 0 0 -.78-.49 2.84 2.84 0 0 0 -2 0 2.2 2.2 0 0 0 -.77.49 2.18 2.18 0 0 0 -.48.77 2.64 2.64 0 0 0 -.17 1 2.61 2.61 0 0 0 .17 1 2 2 0 0 0 .48.73 2.29 2.29 0 0 0 .77.46 3.22 3.22 0 0 0 1 .15 3.05 3.05 0 0 0 1-.15 2.33 2.33 0 0 0 .78-.46 2.18 2.18 0 0 0 .49-.73 2.61 2.61 0 0 0 .18-1 2.64 2.64 0 0 0 -.17-1zm-.31-5.84a2.24 2.24 0 0 0 -.44-.71 2.17 2.17 0 0 0 -.69-.45 2.21 2.21 0 0 0 -.87-.14 2.39 2.39 0 0 0 -.86.15 1.93 1.93 0 0 0 -.67.45 2 2 0 0 0 -.43.7 2.64 2.64 0 0 0 0 1.81 2 2 0 0 0 .44.68 1.91 1.91 0 0 0 .67.44 2.57 2.57 0 0 0 1.73 0 2.08 2.08 0 0 0 .69-.44 2.21 2.21 0 0 0 .44-.69 2.57 2.57 0 0 0 .15-.9 2.3 2.3 0 0 0 -.16-.9z" fill="#eee"></path><path d="m134.18 130.55a3.06 3.06 0 0 1 -.54 1 2.31 2.31 0 0 1 -.86.66 2.87 2.87 0 0 1 -1.17.22 2.94 2.94 0 0 1 -1.17-.22 2.15 2.15 0 0 1 -.87-.66 2.75 2.75 0 0 1 -.54-1 5 5 0 0 1 -.19-1.45v-2a4.88 4.88 0 0 1 .19-1.44 2.92 2.92 0 0 1 .54-1.07 2.34 2.34 0 0 1 .87-.65 3.07 3.07 0 0 1 2.33 0 2.43 2.43 0 0 1 .87.65 3.26 3.26 0 0 1 .54 1.07 5.25 5.25 0 0 1 .18 1.44v2a5.33 5.33 0 0 1 -.18 1.45zm-.93-4.21a3 3 0 0 0 -.17-.75 1.44 1.44 0 0 0 -.32-.54 1.31 1.31 0 0 0 -.49-.34 2 2 0 0 0 -.67-.11 1.76 1.76 0 0 0 -.68.12 1.29 1.29 0 0 0 -.5.35 1.78 1.78 0 0 0 -.37.74 4.1 4.1 0 0 0 -.12 1v2zm0 1.78v-.75l-3.25 2.54a2.66 2.66 0 0 0 .19.75 1.49 1.49 0 0 0 .35.54 1.31 1.31 0 0 0 .48.3 1.81 1.81 0 0 0 .63.1 1.69 1.69 0 0 0 .66-.11 1.23 1.23 0 0 0 .48-.32 1.79 1.79 0 0 0 .4-.75 4.37 4.37 0 0 0 .12-1.09z" fill="#aaa"></path><path d="m138.25 127.58a2.27 2.27 0 0 0 .72-.11 1.61 1.61 0 0 0 .53-.31 1.39 1.39 0 0 0 .33-.46 1.63 1.63 0 0 0 .11-.59 2.2 2.2 0 0 0 -.1-.67 1.19 1.19 0 0 0 -.3-.47 1.17 1.17 0 0 0 -.46-.27 2.11 2.11 0 0 0 -.64-.09 1.81 1.81 0 0 0 -.63.1 1.31 1.31 0 0 0 -.48.3 1.27 1.27 0 0 0 -.32.46 1.64 1.64 0 0 0 -.11.6h-1.09a2.4 2.4 0 0 1 .19-.92 2.47 2.47 0 0 1 .54-.75 2.56 2.56 0 0 1 .83-.5 3 3 0 0 1 1.07-.18 3.46 3.46 0 0 1 1.05.15 2.27 2.27 0 0 1 .82.46 2.06 2.06 0 0 1 .52.76 2.61 2.61 0 0 1 .19 1 1.59 1.59 0 0 1 -.08.51 1.67 1.67 0 0 1 -.23.51 2.23 2.23 0 0 1 -.41.47 2 2 0 0 1 -.59.37 2 2 0 0 1 .69.35 1.73 1.73 0 0 1 .45.49 1.7 1.7 0 0 1 .23.56 2.46 2.46 0 0 1 .07.6 2.57 2.57 0 0 1 -.21 1.06 2.29 2.29 0 0 1 -.56.78 2.58 2.58 0 0 1 -.86.48 3.12 3.12 0 0 1 -1.07.17 3.32 3.32 0 0 1 -1.06-.16 2.45 2.45 0 0 1 -.86-.46 2.24 2.24 0 0 1 -.79-1.75h1.09a1.48 1.48 0 0 0 .11.61 1.31 1.31 0 0 0 .32.47 1.58 1.58 0 0 0 .52.3 2 2 0 0 0 .67.11 2.35 2.35 0 0 0 .67-.1 1.29 1.29 0 0 0 .83-.79 1.86 1.86 0 0 0 .12-.7 1.6 1.6 0 0 0 -.14-.69 1.32 1.32 0 0 0 -.36-.48 1.58 1.58 0 0 0 -.58-.29 2.83 2.83 0 0 0 -.74-.09h-.77v-.88z" fill="#aaa"></path><path d="m143.87 132.48 3.56-9.26h1l-3.56 9.26z" fill="#aaa"></path><path d="m150.26 132.48v-.78l2.79-3.1c.25-.28.46-.53.63-.74a6.22 6.22 0 0 0 .4-.6 2.18 2.18 0 0 0 .22-.51 2.07 2.07 0 0 0 .06-.5 1.72 1.72 0 0 0 -.1-.6 1.5 1.5 0 0 0 -.3-.48 1.43 1.43 0 0 0 -.47-.33 1.61 1.61 0 0 0 -.63-.12 1.82 1.82 0 0 0 -.74.13 1.27 1.27 0 0 0 -.52.34 1.5 1.5 0 0 0 -.32.55 2.37 2.37 0 0 0 -.1.72h-1.09a2.63 2.63 0 0 1 .19-1 2.47 2.47 0 0 1 .54-.84 2.63 2.63 0 0 1 .87-.57 3.35 3.35 0 0 1 2.25 0 2.31 2.31 0 0 1 .82.5 2.17 2.17 0 0 1 .51.75 2.42 2.42 0 0 1 .18.94 2.15 2.15 0 0 1 -.13.75 3.78 3.78 0 0 1 -.34.74 6.49 6.49 0 0 1 -.52.72c-.19.23-.39.47-.61.7l-2.29 2.49h4.28v.88z" fill="#aaa"></path><path d="m163 130.55a2.75 2.75 0 0 1 -.54 1 2.23 2.23 0 0 1 -.86.66 3.19 3.19 0 0 1 -2.33 0 2.09 2.09 0 0 1 -.87-.66 2.91 2.91 0 0 1 -.55-1 5.31 5.31 0 0 1 -.19-1.45v-2a5.23 5.23 0 0 1 .19-1.44 3.09 3.09 0 0 1 .55-1.07 2.31 2.31 0 0 1 .86-.65 3.07 3.07 0 0 1 2.33 0 2.43 2.43 0 0 1 .87.65 2.92 2.92 0 0 1 .54 1.07 4.88 4.88 0 0 1 .19 1.44v2a5 5 0 0 1 -.19 1.45zm-.92-4.21a3.47 3.47 0 0 0 -.17-.75 1.45 1.45 0 0 0 -.33-.54 1.23 1.23 0 0 0 -.49-.34 1.92 1.92 0 0 0 -.67-.11 1.83 1.83 0 0 0 -.68.12 1.37 1.37 0 0 0 -.5.35 1.91 1.91 0 0 0 -.37.74 4.1 4.1 0 0 0 -.12 1v2zm0 1.78v-.75l-3.32 2.54a3 3 0 0 0 .19.75 1.63 1.63 0 0 0 .35.54 1.31 1.31 0 0 0 .48.3 1.83 1.83 0 0 0 .64.1 1.67 1.67 0 0 0 .65-.11 1.34 1.34 0 0 0 .49-.32 1.68 1.68 0 0 0 .39-.75 3.92 3.92 0 0 0 .13-1.09z" fill="#aaa"></path><path d="m21.35 128.88v3.48h-1.08v-8.53h2.5a4.45 4.45 0 0 1 1.12.17 2.83 2.83 0 0 1 .93.48 2.21 2.21 0 0 1 .62.79 2.6 2.6 0 0 1 .22 1.12 2.35 2.35 0 0 1 -.12.77 2.3 2.3 0 0 1 -.33.62 2.37 2.37 0 0 1 -.5.5 3 3 0 0 1 -.65.37l1.82 3.64v.07h-1.15l-1.68-3.48zm1.45-.88a2.15 2.15 0 0 0 .68-.11 1.74 1.74 0 0 0 .57-.31 1.48 1.48 0 0 0 .38-.51 1.45 1.45 0 0 0 .14-.68 1.81 1.81 0 0 0 -.13-.72 1.48 1.48 0 0 0 -.38-.51 1.57 1.57 0 0 0 -.57-.31 2.36 2.36 0 0 0 -.72-.12h-1.42v3.27z" fill="#aaa"></path><path d="m29.17 131.07a.8.8 0 0 1 .63-.25.81.81 0 0 1 .65.25.88.88 0 0 1 .22.59.8.8 0 0 1 -.23.58.83.83 0 0 1 -.64.24.79.79 0 0 1 -.63-.24.85.85 0 0 1 -.22-.58.88.88 0 0 1 .22-.59z" fill="#aaa"></path><path d="m46 130.89a2.7 2.7 0 0 1 -.59.84 2.82 2.82 0 0 1 -.87.56 3.1 3.1 0 0 1 -1.12.19 2.93 2.93 0 0 1 -1-.15 2.78 2.78 0 0 1 -.76-.41 2.63 2.63 0 0 1 -.58-.62 3.2 3.2 0 0 1 -.4-.78 5.07 5.07 0 0 1 -.25-.89 5.74 5.74 0 0 1 -.08-.93v-1.19a5.86 5.86 0 0 1 .08-.94 5.33 5.33 0 0 1 .25-.89 3.2 3.2 0 0 1 .4-.78 2.45 2.45 0 0 1 .58-.62 2.53 2.53 0 0 1 .76-.41 2.93 2.93 0 0 1 1-.15 3.19 3.19 0 0 1 1.15.19 2.51 2.51 0 0 1 .86.56 2.92 2.92 0 0 1 .59.86 4.28 4.28 0 0 1 .29 1.12h-1.12a2.71 2.71 0 0 0 -.18-.72 1.92 1.92 0 0 0 -.35-.59 1.52 1.52 0 0 0 -.53-.4 1.84 1.84 0 0 0 -.74-.14 1.62 1.62 0 0 0 -.68.13 1.52 1.52 0 0 0 -.51.34 2.06 2.06 0 0 0 -.36.5 4 4 0 0 0 -.23.61 3.82 3.82 0 0 0 -.12.66 5 5 0 0 0 0 .66v1.2a4.82 4.82 0 0 0 0 .65 3.82 3.82 0 0 0 .12.66 3.67 3.67 0 0 0 .23.61 1.68 1.68 0 0 0 .36.51 1.54 1.54 0 0 0 .51.35 1.76 1.76 0 0 0 .68.12 1.85 1.85 0 0 0 .74-.13 1.47 1.47 0 0 0 .53-.38 1.82 1.82 0 0 0 .35-.57 2.71 2.71 0 0 0 .18-.72h1.09a4.29 4.29 0 0 1 -.28 1.09z" fill="#aaa"></path><path d="m51.65 132.06c0-.13 0-.25 0-.39a2.25 2.25 0 0 1 -.37.31 2.13 2.13 0 0 1 -.44.26 2.9 2.9 0 0 1 -.52.18 2.74 2.74 0 0 1 -.59.06 2.9 2.9 0 0 1 -.91-.14 2.32 2.32 0 0 1 -.69-.4 1.69 1.69 0 0 1 -.44-.59 1.85 1.85 0 0 1 -.15-.74 2 2 0 0 1 .2-.92 1.84 1.84 0 0 1 .59-.65 2.75 2.75 0 0 1 .92-.39 5 5 0 0 1 1.2-.13h1.18v-.52a1.19 1.19 0 0 0 -.1-.51 1.08 1.08 0 0 0 -.3-.4 1.6 1.6 0 0 0 -.47-.24 2.2 2.2 0 0 0 -1.21 0 1.58 1.58 0 0 0 -.43.22 1.18 1.18 0 0 0 -.27.32.86.86 0 0 0 -.1.38h-1.14a1.72 1.72 0 0 1 .18-.68 2.16 2.16 0 0 1 .5-.6 2.6 2.6 0 0 1 .79-.43 3.19 3.19 0 0 1 1.06-.16 3.56 3.56 0 0 1 1 .13 2.39 2.39 0 0 1 .8.39 1.92 1.92 0 0 1 .53.67 2.12 2.12 0 0 1 .2.93v2.98a5.29 5.29 0 0 0 0 .67 3.07 3.07 0 0 0 .17.62v.09h-1.08a1 1 0 0 1 -.11-.32zm-1.22-.6a2.61 2.61 0 0 0 .51-.22 1.66 1.66 0 0 0 .38-.31 1.27 1.27 0 0 0 .26-.36v-1.28h-1a4.1 4.1 0 0 0 -1 .1 1.55 1.55 0 0 0 -.66.29.94.94 0 0 0 -.27.33 1 1 0 0 0 -.09.44 1.23 1.23 0 0 0 .08.44.88.88 0 0 0 .24.34 1.06 1.06 0 0 0 .39.23 1.89 1.89 0 0 0 .56.08 2.21 2.21 0 0 0 .6-.08z" fill="#aaa"></path><path d="m57.84 123.36v8.07h2.07v.93h-5.31v-.93h2.16v-7.12h-2.16v-1z" fill="#aaa"></path><path d="m64.68 126v5.41h2.07v.93h-5.31v-.93h2.16v-4.41h-2.16v-1zm-1.18-1.9a.46.46 0 0 1 .14-.21.56.56 0 0 1 .2-.12.75.75 0 0 1 .54 0 .52.52 0 0 1 .19.12.48.48 0 0 1 .14.2.76.76 0 0 1 .05.27.61.61 0 0 1 -.16.44.64.64 0 0 1 -.49.18.63.63 0 0 1 -.49-.18.61.61 0 0 1 -.16-.44.75.75 0 0 1 .04-.26z" fill="#aaa"></path><path d="m73.43 130.06a3.79 3.79 0 0 1 -.18.72 3.12 3.12 0 0 1 -.42.79 2.24 2.24 0 0 1 -.61.58 2.15 2.15 0 0 1 -.56.24 2.41 2.41 0 0 1 -.67.09 2.57 2.57 0 0 1 -.75-.1 1.86 1.86 0 0 1 -.6-.29 2.43 2.43 0 0 1 -.25-.2 1.79 1.79 0 0 1 -.22-.25v.72h-1v-9h1.03v3.34a2.13 2.13 0 0 1 .3-.3 1.74 1.74 0 0 1 .36-.24 1.93 1.93 0 0 1 .51-.19 2.93 2.93 0 0 1 .61-.06 2.33 2.33 0 0 1 .76.11 2.08 2.08 0 0 1 1.07.76 3.53 3.53 0 0 1 .36.6 4.41 4.41 0 0 1 .24.82 5.58 5.58 0 0 1 .08.94v.12a5.1 5.1 0 0 1 -.06.8zm-1.06-1.5a4.28 4.28 0 0 0 -.12-.54 3 3 0 0 0 -.27-.57 1.38 1.38 0 0 0 -.8-.56 1.65 1.65 0 0 0 -1.4.21 1.44 1.44 0 0 0 -.33.32 2 2 0 0 0 -.25.39v2.77a3.73 3.73 0 0 0 .25.39 1.93 1.93 0 0 0 .33.31 1.56 1.56 0 0 0 .43.21 1.61 1.61 0 0 0 .51.07 1.49 1.49 0 0 0 .49-.07 1.24 1.24 0 0 0 .4-.19 1.46 1.46 0 0 0 .4-.42 2.87 2.87 0 0 0 .25-.56 2.61 2.61 0 0 0 .11-.5 5.12 5.12 0 0 0 0-.56v-.12a5.49 5.49 0 0 0 0-.58z" fill="#aaa"></path><path d="m79.73 126a1.89 1.89 0 0 1 .49.11l-.14 1.06a4.69 4.69 0 0 0 -.6-.1 5.74 5.74 0 0 0 -.6 0 2.73 2.73 0 0 0 -.72.09 1.75 1.75 0 0 0 -.56.29 1.61 1.61 0 0 0 -.38.4 2.2 2.2 0 0 0 -.27.53v4.06h-1.09v-6.44h1v.85.15a2.9 2.9 0 0 1 .93-.82 2.49 2.49 0 0 1 1.23-.3 4.4 4.4 0 0 1 .71.12z" fill="#aaa"></path><path d="m85.86 132.06c0-.13 0-.25-.06-.39a2.17 2.17 0 0 1 -.36.31 2.43 2.43 0 0 1 -.44.26 3 3 0 0 1 -.53.18 2.65 2.65 0 0 1 -.58.06 2.85 2.85 0 0 1 -.91-.14 2.32 2.32 0 0 1 -.69-.4 1.76 1.76 0 0 1 -.6-1.33 1.92 1.92 0 0 1 .21-.92 1.75 1.75 0 0 1 .59-.65 2.66 2.66 0 0 1 .92-.39 4.82 4.82 0 0 1 1.19-.13h1.19v-.52a1.19 1.19 0 0 0 -.11-.51 1.08 1.08 0 0 0 -.3-.4 1.48 1.48 0 0 0 -.47-.24 2 2 0 0 0 -.62-.09 2 2 0 0 0 -.58.08 1.58 1.58 0 0 0 -.43.22.91.91 0 0 0 -.27.32.75.75 0 0 0 -.1.38h-1.09a1.44 1.44 0 0 1 .18-.68 1.86 1.86 0 0 1 .5-.6 2.48 2.48 0 0 1 .79-.43 3.15 3.15 0 0 1 1.06-.16 3.56 3.56 0 0 1 1 .13 2.49 2.49 0 0 1 .8.39 2 2 0 0 1 .53.67 2.12 2.12 0 0 1 .19.93v2.99a4 4 0 0 0 .06.67 3.1 3.1 0 0 0 .16.62v.09h-1.09a1.5 1.5 0 0 1 -.14-.32zm-1.22-.6a2.52 2.52 0 0 0 .5-.22 1.72 1.72 0 0 0 .39-.31 1.5 1.5 0 0 0 .26-.36v-1.28h-1a4 4 0 0 0 -1 .1 1.66 1.66 0 0 0 -.67.29 1 1 0 0 0 -.26.33 1 1 0 0 0 -.09.44 1.23 1.23 0 0 0 .07.44 1.16 1.16 0 0 0 .24.34 1.2 1.2 0 0 0 .4.23 1.89 1.89 0 0 0 .56.08 2.21 2.21 0 0 0 .6-.08z" fill="#aaa"></path><path d="m91.2 126h2.42v.84h-2.42v3.45a1.77 1.77 0 0 0 .1.61 1 1 0 0 0 .26.38.89.89 0 0 0 .37.2 1.76 1.76 0 0 0 .46.06h.36.37l.33-.06.26-.06.15.77a1.7 1.7 0 0 1 -.33.15l-.42.1-.48.07h-.51a2.52 2.52 0 0 1 -.79-.12 1.73 1.73 0 0 1 -.64-.38 1.87 1.87 0 0 1 -.42-.67 3 3 0 0 1 -.16-1v-3.45h-1.66v-.89h1.66v-1.53h1.09z" fill="#aaa"></path><path d="m95.37 127.86a3.19 3.19 0 0 1 .58-1 2.53 2.53 0 0 1 .9-.68 3 3 0 0 1 2.41 0 2.56 2.56 0 0 1 .91.68 3 3 0 0 1 .57 1 4 4 0 0 1 .2 1.28v.12a4 4 0 0 1 -.2 1.28 3 3 0 0 1 -.57 1 2.82 2.82 0 0 1 -.91.68 2.86 2.86 0 0 1 -1.2.24 2.94 2.94 0 0 1 -1.21-.24 2.78 2.78 0 0 1 -.9-.68 3.19 3.19 0 0 1 -.58-1 4 4 0 0 1 -.2-1.28v-.12a4 4 0 0 1 .2-1.28zm1 2.3a2.33 2.33 0 0 0 .34.75 1.82 1.82 0 0 0 .56.51 1.82 1.82 0 0 0 1.58 0 1.82 1.82 0 0 0 .56-.51 2.57 2.57 0 0 0 .34-.75 3.7 3.7 0 0 0 .11-.9v-.12a3.24 3.24 0 0 0 -.12-.89 2.55 2.55 0 0 0 -.33-.75 2 2 0 0 0 -.57-.51 1.54 1.54 0 0 0 -.79-.19 1.5 1.5 0 0 0 -.78.19 1.71 1.71 0 0 0 -.56.51 2.33 2.33 0 0 0 -.34.75 3.68 3.68 0 0 0 -.11.89v.12a3.7 3.7 0 0 0 .11.9z" fill="#aaa"></path><path d="m107.1 126a1.89 1.89 0 0 1 .49.11l-.15 1.06a4.69 4.69 0 0 0 -.6-.1 5.68 5.68 0 0 0 -.59 0 2.63 2.63 0 0 0 -.72.09 1.7 1.7 0 0 0 -.57.29 1.57 1.57 0 0 0 -.37.4 2.2 2.2 0 0 0 -.27.53v4.06h-1.09v-6.44h1v.85.15a2.9 2.9 0 0 1 .93-.82 2.5 2.5 0 0 1 1.24-.3 4.59 4.59 0 0 1 .7.12z" fill="#aaa"></path></svg>'},627:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"></path><circle cx="12" cy="12" r="3"></circle><path d="M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></svg>'},8110:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0z" fill="none"></path><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></svg>'},980:e=>{e.exports='<svg class="arrow-two-sided-svg arrow-two-sided-horizontal" viewBox="0 0 1440 163" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="arrow-two-sided" fill-rule="evenodd" clip-rule="evenodd" d="M3.49996 88.7818C-0.795805 84.486 -0.795805 77.5212 3.49996 73.2254L73.5035 3.22183C77.7993 -1.07393 84.7641 -1.07393 89.0599 3.22183C93.3557 7.5176 93.3557 14.4824 89.0599 18.7782L37.8345 70.0036L1402.17 70.0036L1350.94 18.7782C1346.64 14.4824 1346.64 7.5176 1350.94 3.22183C1355.24 -1.07394 1362.2 -1.07394 1366.5 3.22183L1436.5 73.2254C1440.8 77.5212 1440.8 84.486 1436.5 88.7817L1366.5 158.785C1362.2 163.081 1355.24 163.081 1350.94 158.785C1346.64 154.49 1346.64 147.525 1350.94 143.229L1402.17 92.0036L37.8345 92.0036L89.0599 143.229C93.3557 147.525 93.3557 154.49 89.0599 158.785C84.7641 163.081 77.7993 163.081 73.5035 158.785L3.49996 88.7818Z"></path></svg>'},3890:e=>{e.exports='<svg class="arrow-two-sided-svg arrow-two-sided-vertical" viewBox="0 0 164 900" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="arrow-two-sided" fill-rule="evenodd" clip-rule="evenodd" d="M74.2218 4C78.5175 -0.295771 85.4824 -0.295771 89.7781 4L159.782 74.0036C164.077 78.2993 164.077 85.2641 159.782 89.5599C155.486 93.8557 148.521 93.8557 144.225 89.5599L93 38.3345L93 861.665L144.225 810.44C148.521 806.144 155.486 806.144 159.782 810.44C164.078 814.736 164.078 821.701 159.782 825.996L89.7782 896C85.4824 900.296 78.5176 900.296 74.2218 896L4.21825 825.996C-0.0775169 821.701 -0.0775172 814.736 4.21825 810.44C8.51402 806.144 15.4788 806.144 19.7746 810.44L71 861.665L71 38.3345L19.7746 89.5599C15.4788 93.8557 8.51397 93.8557 4.2182 89.5599C-0.0775644 85.2642 -0.0775647 78.2993 4.2182 74.0036L74.2218 4Z"></path></svg>'},880:e=>{e.exports='<svg class="size-obj" id="size-usba" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 56.69 90.71"><defs><linearGradient id="a" x1="11.34" y1="17.01" x2="45.35" y2="17.01" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4d4d4d"></stop><stop offset="0" stop-color="#565656"></stop><stop offset="0.02" stop-color="#757575"></stop><stop offset="0.04" stop-color="#919191"></stop><stop offset="0.05" stop-color="#a7a7a7"></stop><stop offset="0.08" stop-color="#b8b8b8"></stop><stop offset="0.1" stop-color="#c3c3c3"></stop><stop offset="0.14" stop-color="#cacaca"></stop><stop offset="0.25" stop-color="#ccc"></stop><stop offset="0.75" stop-color="#ccc"></stop><stop offset="0.86" stop-color="#cacaca"></stop><stop offset="0.9" stop-color="#c3c3c3"></stop><stop offset="0.92" stop-color="#b8b8b8"></stop><stop offset="0.95" stop-color="#a7a7a7"></stop><stop offset="0.96" stop-color="#919191"></stop><stop offset="0.98" stop-color="#757575"></stop><stop offset="1" stop-color="#565656"></stop><stop offset="1" stop-color="#4d4d4d"></stop></linearGradient></defs><path d="M45.35,34h-34V.71A.71.71,0,0,1,12.05,0h32.6a.7.7,0,0,1,.7.71Z" style="fill:url(#a)"></path><path d="M28.35,34V28.59a.71.71,0,0,0-.86-.69l-2.81.62a.71.71,0,0,1-.86-.69V23.19a.71.71,0,0,1,.86-.69l2.81.62a.71.71,0,0,0,.86-.69V11.59a.71.71,0,0,0-.86-.7l-2.81.62a.71.71,0,0,1-.86-.69V6.19a.7.7,0,0,1,.86-.69l2.81.61a.7.7,0,0,0,.86-.69V0" style="fill:none;stroke:#999;stroke-miterlimit:10;stroke-width:0.30000000000000004px"></path><rect x="16.3" y="14.6" width="7.09" height="4.82" rx="0.71" style="fill:#fff;stroke:#666;stroke-miterlimit:10;stroke-width:0.1px"></rect><rect x="33.31" y="14.6" width="7.09" height="4.82" rx="0.71" style="fill:#fff;stroke:#666;stroke-miterlimit:10;stroke-width:0.1px"></rect><g class="minor"><rect y="34.02" width="56.69" height="56.69" style="fill:#666"></rect><path d="M12.55,84.88a3.87,3.87,0,0,1-.28,1.49,3.68,3.68,0,0,1-.77,1.21,3.61,3.61,0,0,1-1.17.83,3.69,3.69,0,0,1-1.5.3,3.65,3.65,0,0,1-1.5-.3,3.48,3.48,0,0,1-1.17-.82,3.74,3.74,0,0,1-.75-1.21,4.17,4.17,0,0,1-.29-1.5l0-7.7H6.51l0,7.7a3,3,0,0,0,.16,1,2.45,2.45,0,0,0,.44.83,2,2,0,0,0,.7.57,2.08,2.08,0,0,0,1,.22,2.17,2.17,0,0,0,1-.21,2.24,2.24,0,0,0,.71-.58,2.62,2.62,0,0,0,.43-.83,3.6,3.6,0,0,0,.17-1l0-7.7h1.4Z" style="fill:#fff"></path><path d="M20.71,84.79a2.18,2.18,0,0,0-.61-.6,3.7,3.7,0,0,0-.82-.41l-.87-.3c-.4-.13-.81-.29-1.22-.47a6,6,0,0,1-1.13-.67,3.42,3.42,0,0,1-.84-.94,2.51,2.51,0,0,1-.32-1.28,2.7,2.7,0,0,1,.32-1.31,3.33,3.33,0,0,1,.85-1,3.92,3.92,0,0,1,1.19-.6A4.35,4.35,0,0,1,18.59,77a4.06,4.06,0,0,1,1.43.25,3.75,3.75,0,0,1,1.22.69A3.21,3.21,0,0,1,22.09,79a3.12,3.12,0,0,1,.34,1.41H20.94a3,3,0,0,0-.24-.89,2.46,2.46,0,0,0-.47-.7,2.07,2.07,0,0,0-.71-.44,2.49,2.49,0,0,0-.93-.16,2.82,2.82,0,0,0-.81.11,2.42,2.42,0,0,0-.7.35,1.83,1.83,0,0,0-.49.58,1.71,1.71,0,0,0-.18.8,1.34,1.34,0,0,0,.25.83,2.12,2.12,0,0,0,.61.58,5,5,0,0,0,.8.39l.82.27c.42.13.84.29,1.27.47a5,5,0,0,1,1.15.71,2.92,2.92,0,0,1,.83,1,2.73,2.73,0,0,1,.32,1.33A2.54,2.54,0,0,1,22.12,87a3,3,0,0,1-.88.94,3.82,3.82,0,0,1-1.22.58,4.88,4.88,0,0,1-2.95-.08,4.21,4.21,0,0,1-1.37-.79,3.44,3.44,0,0,1-.81-1.05,3.22,3.22,0,0,1-.33-1.33H16a2.47,2.47,0,0,0,.29.94,2,2,0,0,0,.56.69,2.27,2.27,0,0,0,.79.44,3.41,3.41,0,0,0,1,.14,3.31,3.31,0,0,0,.83-.1,2.09,2.09,0,0,0,.74-.34,1.82,1.82,0,0,0,.52-.55,1.62,1.62,0,0,0,.2-.81A1.58,1.58,0,0,0,20.71,84.79Z" style="fill:#fff"></path><path d="M24.58,77.18H28a5.26,5.26,0,0,1,1.37.18,3.86,3.86,0,0,1,1.2.54,2.68,2.68,0,0,1,.83.94,2.8,2.8,0,0,1,.31,1.37,2.54,2.54,0,0,1-.15.81,2.13,2.13,0,0,1-.37.66,2.77,2.77,0,0,1-.53.5,4.63,4.63,0,0,1-.71.38v0a2.55,2.55,0,0,1,.83.37,3.16,3.16,0,0,1,.66.59,2.6,2.6,0,0,1,.42.79,2.85,2.85,0,0,1,.15.94,2.93,2.93,0,0,1-.3,1.41,3.05,3.05,0,0,1-.84,1,3.84,3.84,0,0,1-1.2.64,4.83,4.83,0,0,1-1.41.22H24.58ZM28.05,82a3.11,3.11,0,0,0,.8-.13,2.21,2.21,0,0,0,.7-.36A1.77,1.77,0,0,0,30,81a1.61,1.61,0,0,0,.19-.78,1.67,1.67,0,0,0-.19-.81,1.56,1.56,0,0,0-.49-.56,2.19,2.19,0,0,0-.71-.31,3.77,3.77,0,0,0-.83-.11H26V82Zm-2,5.3h2.22a2.68,2.68,0,0,0,.86-.16,2.3,2.3,0,0,0,.72-.4,1.82,1.82,0,0,0,.5-.63,2.23,2.23,0,0,0,0-1.71,1.75,1.75,0,0,0-.46-.64,1.94,1.94,0,0,0-.7-.4,2.63,2.63,0,0,0-.86-.16H26Z" style="fill:#fff"></path><path d="M34.55,84.17V83h6v1.19Z" style="fill:#fff"></path><path d="M45.44,85.61l-.92,2.94H43.08l3.67-11.37H48l3.61,11.37H50.13l-.9-2.94Zm3.41-1.26-1.5-4.94-1.52,4.94Z" style="fill:#fff"></path></g></svg>'},3282:e=>{e.exports='<svg class="size-obj" id="size-usbc" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 56.69 75.54"><defs><linearGradient id="aaa" x1="16.44" y1="9.43" x2="40.25" y2="9.43" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4d4d4d"></stop><stop offset="0.01" stop-color="#565656"></stop><stop offset="0.03" stop-color="#757575"></stop><stop offset="0.06" stop-color="#919191"></stop><stop offset="0.09" stop-color="#a7a7a7"></stop><stop offset="0.12" stop-color="#b8b8b8"></stop><stop offset="0.17" stop-color="#c3c3c3"></stop><stop offset="0.23" stop-color="#cacaca"></stop><stop offset="0.4" stop-color="#ccc"></stop><stop offset="0.6" stop-color="#ccc"></stop><stop offset="0.77" stop-color="#cacaca"></stop><stop offset="0.83" stop-color="#c3c3c3"></stop><stop offset="0.88" stop-color="#b8b8b8"></stop><stop offset="0.91" stop-color="#a7a7a7"></stop><stop offset="0.94" stop-color="#919191"></stop><stop offset="0.97" stop-color="#757575"></stop><stop offset="0.99" stop-color="#565656"></stop><stop offset="1" stop-color="#4d4d4d"></stop></linearGradient></defs><g><path d="M40.25,18.85H16.44V.71A.71.71,0,0,1,17.15,0H39.54a.71.71,0,0,1,.71.71Z" style="fill:url(#aaa)"></path></g><g class="minor"><rect y="18.85" width="56.69" height="56.69" style="fill:#333"></rect><path d="M12.75,69.72a3.9,3.9,0,0,1-1.05,2.7,3.59,3.59,0,0,1-1.17.82,3.69,3.69,0,0,1-1.5.3,3.82,3.82,0,0,1-1.5-.29,3.48,3.48,0,0,1-1.17-.82,4,4,0,0,1-.76-1.22,4.29,4.29,0,0,1-.28-1.49l0-7.71H6.71l0,7.71a3.19,3.19,0,0,0,.17,1,2.45,2.45,0,0,0,.44.83,2.09,2.09,0,0,0,.7.58,2.21,2.21,0,0,0,1,.22,2.05,2.05,0,0,0,1-.22,2.11,2.11,0,0,0,.71-.58,2.62,2.62,0,0,0,.43-.83,4,4,0,0,0,.17-1l0-7.71h1.4Z" style="fill:#fff"></path><path d="M20.91,69.63A2.21,2.21,0,0,0,20.3,69a4.19,4.19,0,0,0-.82-.41l-.87-.29a11,11,0,0,1-1.22-.48,5.49,5.49,0,0,1-1.13-.66,3.46,3.46,0,0,1-.84-1A2.37,2.37,0,0,1,15.1,65a2.63,2.63,0,0,1,.32-1.32,3.17,3.17,0,0,1,.85-1,3.72,3.72,0,0,1,1.19-.61,4.66,4.66,0,0,1,1.33-.2,4.29,4.29,0,0,1,1.43.24,4.16,4.16,0,0,1,1.22.69,3.45,3.45,0,0,1,.85,1.08,3.13,3.13,0,0,1,.34,1.42H21.14a3.13,3.13,0,0,0-.24-.9,2.14,2.14,0,0,0-.48-.69,2.11,2.11,0,0,0-.7-.45,2.49,2.49,0,0,0-.93-.16,2.84,2.84,0,0,0-.81.12,2.19,2.19,0,0,0-.7.35,1.83,1.83,0,0,0-.49.58,1.68,1.68,0,0,0-.19.79,1.52,1.52,0,0,0,.25.84,2.42,2.42,0,0,0,.62.57,3.71,3.71,0,0,0,.8.39c.29.11.56.2.82.27a10.82,10.82,0,0,1,1.26.48,4.84,4.84,0,0,1,1.16.7,3.26,3.26,0,0,1,.83,1,2.77,2.77,0,0,1,.32,1.34,2.51,2.51,0,0,1-.34,1.33,3.08,3.08,0,0,1-.88,1,4.14,4.14,0,0,1-1.22.57,4.85,4.85,0,0,1-1.36.19,4.93,4.93,0,0,1-1.6-.27,4.09,4.09,0,0,1-1.36-.79,3.43,3.43,0,0,1-.82-1,3.22,3.22,0,0,1-.32-1.33h1.48a2.59,2.59,0,0,0,.29.94,2.21,2.21,0,0,0,.56.69,2.25,2.25,0,0,0,.79.43,3.1,3.1,0,0,0,1,.15,3.32,3.32,0,0,0,.83-.11,2.12,2.12,0,0,0,.73-.33,1.77,1.77,0,0,0,.53-.56,1.62,1.62,0,0,0,.2-.81A1.54,1.54,0,0,0,20.91,69.63Z" style="fill:#fff"></path><path d="M24.78,62h3.39a5.73,5.73,0,0,1,1.37.19,3.45,3.45,0,0,1,1.2.54,2.59,2.59,0,0,1,.83.94A2.76,2.76,0,0,1,31.88,65a2.66,2.66,0,0,1-.15.82,2.2,2.2,0,0,1-.37.65,2.49,2.49,0,0,1-.53.5,3.37,3.37,0,0,1-.71.38v0a2.55,2.55,0,0,1,.83.37,2.83,2.83,0,0,1,.65.58,2.64,2.64,0,0,1,.43.79,2.91,2.91,0,0,1,.15,1,2.86,2.86,0,0,1-.3,1.4,3,3,0,0,1-.84,1,4,4,0,0,1-1.21.63,4.73,4.73,0,0,1-1.41.23H24.78Zm3.47,4.85a2.44,2.44,0,0,0,.8-.13,2,2,0,0,0,.69-.35,1.79,1.79,0,0,0,.5-.56,1.66,1.66,0,0,0,.18-.78,1.74,1.74,0,0,0-.18-.82,1.52,1.52,0,0,0-.49-.55,2.07,2.07,0,0,0-.71-.31,3.32,3.32,0,0,0-.83-.11h-2v3.61Zm-2,5.3h2.22a2.68,2.68,0,0,0,.86-.15,2.52,2.52,0,0,0,.72-.4,2,2,0,0,0,.5-.64,1.93,1.93,0,0,0,.18-.85,1.91,1.91,0,0,0-.62-1.5,2.29,2.29,0,0,0-.7-.4,2.92,2.92,0,0,0-.86-.15h-2.3Z" style="fill:#fff"></path><path d="M34.74,69V67.82h6V69Z" style="fill:#fff"></path><path d="M51,71.41a3.53,3.53,0,0,1-.79,1.13,3.25,3.25,0,0,1-1.16.74,3.9,3.9,0,0,1-1.48.26,3.7,3.7,0,0,1-1.28-.2,3.35,3.35,0,0,1-1-.55,3.8,3.8,0,0,1-.78-.82,5.35,5.35,0,0,1-.53-1,5.89,5.89,0,0,1-.33-1.18,7.45,7.45,0,0,1-.11-1.25V66.91a7.45,7.45,0,0,1,.11-1.25,5.89,5.89,0,0,1,.33-1.18,5.35,5.35,0,0,1,.53-1,3.63,3.63,0,0,1,.78-.83,3.41,3.41,0,0,1,1-.55,3.72,3.72,0,0,1,1.29-.2,4.08,4.08,0,0,1,1.52.26,3.34,3.34,0,0,1,1.16.74A3.57,3.57,0,0,1,51,64a4.94,4.94,0,0,1,.39,1.49H49.92a3.56,3.56,0,0,0-.24-1,2.69,2.69,0,0,0-.46-.79,2,2,0,0,0-.71-.52,2.26,2.26,0,0,0-1-.19,2.31,2.31,0,0,0-.91.16,2.2,2.2,0,0,0-.68.46,2.72,2.72,0,0,0-.48.67,4.67,4.67,0,0,0-.31.81A6.51,6.51,0,0,0,45,66c0,.3,0,.59,0,.87V68.5c0,.28,0,.57,0,.87a6.51,6.51,0,0,0,.17.88,4.47,4.47,0,0,0,.31.82,2.45,2.45,0,0,0,.47.67,2,2,0,0,0,.68.46,2.19,2.19,0,0,0,.92.17,2.42,2.42,0,0,0,1-.18,1.93,1.93,0,0,0,.71-.51,2.31,2.31,0,0,0,.46-.76,3.58,3.58,0,0,0,.24-1h1.45A4.8,4.8,0,0,1,51,71.41Z" style="fill:#fff"></path></g></svg>'},8465:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t,n){return t=f(t),y(e,a()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function n(t,n){return t.get(e(t,n))}function s(t,n,s){return t.set(e(t,n),s),s}function r(e,t,n){if(a())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var r=new(e.bind.apply(e,s));return n&&m(r,n.prototype),r}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function i(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,a,i,o=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=a.call(n)).done)&&(o.push(s.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return o}}function o(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){var t=o(e,"string");return"symbol"==typeof t?t:t+""}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,l(s.key),s)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var s=b(e,t);if(s){var r=Object.getOwnPropertyDescriptor(s,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},w.apply(this,arguments)}function v(e,t){return k(e)||i(e,t)||S(e,t)||I()}function x(e){return A(e)||C(e)||S(e)||_()}function A(e){if(Array.isArray(e))return E(e)}function k(e){if(Array.isArray(e))return e}function C(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function N(e,t,n){T(e,t),t.set(e,n)}var O=100,R={},D=function(){R.previousActiveElement instanceof HTMLElement?(R.previousActiveElement.focus(),R.previousActiveElement=null):document.body&&document.body.focus()},M=function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,s=window.scrollY;R.restoreFocusTimeout=setTimeout((function(){D(),t()}),O),window.scrollTo(n,s)}))},F="swal2-",B=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(e,t){return e[t]=F+t,e}),{}),z=["success","warning","info","question","error"].reduce((function(e,t){return e[t]=F+t,e}),{}),L=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},P=function(e){},V=function(e){},W=[],U=function(e){W.includes(e)||(W.push(e),P(e))},G=function(e,t){U('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},q=function(e){return"function"==typeof e?e():e},j=function(e){return e&&"function"==typeof e.toPromise},H=function(e){return j(e)?e.toPromise():Promise.resolve(e)},$=function(e){return e&&Promise.resolve(e)===e},K=function(){return document.body.querySelector(".".concat(B.container))},X=function(e){var t=K();return t?t.querySelector(e):null},Z=function(e){return X(".".concat(e))},Y=function(){return Z(B.popup)},Q=function(){return Z(B.icon)},J=function(){return Z(B["icon-content"])},ee=function(){return Z(B.title)},te=function(){return Z(B["html-container"])},ne=function(){return Z(B.image)},se=function(){return Z(B["progress-steps"])},re=function(){return Z(B["validation-message"])},ae=function(){return X(".".concat(B.actions," .").concat(B.confirm))},ie=function(){return X(".".concat(B.actions," .").concat(B.cancel))},oe=function(){return X(".".concat(B.actions," .").concat(B.deny))},le=function(){return Z(B["input-label"])},ue=function(){return X(".".concat(B.loader))},ce=function(){return Z(B.actions)},he=function(){return Z(B.footer)},de=function(){return Z(B["timer-progress-bar"])},pe=function(){return Z(B.close)},fe='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',me=function(){var e=Y();if(!e)return[];var t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")||"0"),s=parseInt(t.getAttribute("tabindex")||"0");return n>s?1:n<s?-1:0})),s=e.querySelectorAll(fe),r=Array.from(s).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return x(new Set(n.concat(r))).filter((function(e){return Fe(e)}))},ge=function(){return ve(document.body,B.shown)&&!ve(document.body,B["toast-shown"])&&!ve(document.body,B["no-backdrop"])},ye=function(){var e=Y();return!!e&&ve(e,B.toast)},be=function(){var e=Y();return!!e&&e.hasAttribute("data-loading")},we=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html"),s=n.querySelector("head");s&&Array.from(s.childNodes).forEach((function(t){e.appendChild(t)}));var r=n.querySelector("body");r&&Array.from(r.childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},ve=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),s=0;s<n.length;s++)if(!e.classList.contains(n[s]))return!1;return!0},xe=function(e,t){Array.from(e.classList).forEach((function(n){Object.values(B).includes(n)||Object.values(z).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))},Ae=function(e,t,n){if(xe(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return void P("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(u(t.customClass[n]),'"'));Ee(e,t.customClass[n])}},ke=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(B.popup," > .").concat(B[t]));case"checkbox":return e.querySelector(".".concat(B.popup," > .").concat(B.checkbox," input"));case"radio":return e.querySelector(".".concat(B.popup," > .").concat(B.radio," input:checked"))||e.querySelector(".".concat(B.popup," > .").concat(B.radio," input:first-child"));case"range":return e.querySelector(".".concat(B.popup," > .").concat(B.range," input"));default:return e.querySelector(".".concat(B.popup," > .").concat(B.input))}},Ce=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},Se=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},Ee=function(e,t){Se(e,t,!0)},_e=function(e,t){Se(e,t,!1)},Ie=function(e,t){for(var n=Array.from(e.children),s=0;s<n.length;s++){var r=n[s];if(r instanceof HTMLElement&&ve(r,t))return r}},Te=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"==typeof n?"".concat(n,"px"):n):e.style.removeProperty(t)},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},Oe=function(e){e&&(e.style.display="none")},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((function(){Me(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},De=function(e,t,n,s){var r=e.querySelector(t);r&&r.style.setProperty(n,s)},Me=function(e,t){t?Ne(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Oe(e)},Fe=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},Be=function(){return!Fe(ae())&&!Fe(oe())&&!Fe(ie())},ze=function(e){return!!(e.scrollHeight>e.clientHeight)},Le=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),s=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||s>0},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=de();n&&Fe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},Ve=function(){var e=de();if(e){var t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")}},We=function(){return"undefined"==typeof window||"undefined"==typeof document},Ue='\n <div aria-labelledby="'.concat(B.title,'" aria-describedby="').concat(B["html-container"],'" class="').concat(B.popup,'" tabindex="-1">\n   <button type="button" class="').concat(B.close,'"></button>\n   <ul class="').concat(B["progress-steps"],'"></ul>\n   <div class="').concat(B.icon,'"></div>\n   <img class="').concat(B.image,'" />\n   <h2 class="').concat(B.title,'" id="').concat(B.title,'"></h2>\n   <div class="').concat(B["html-container"],'" id="').concat(B["html-container"],'"></div>\n   <input class="').concat(B.input,'" id="').concat(B.input,'" />\n   <input type="file" class="').concat(B.file,'" />\n   <div class="').concat(B.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(B.select,'" id="').concat(B.select,'"></select>\n   <div class="').concat(B.radio,'"></div>\n   <label class="').concat(B.checkbox,'">\n     <input type="checkbox" id="').concat(B.checkbox,'" />\n     <span class="').concat(B.label,'"></span>\n   </label>\n   <textarea class="').concat(B.textarea,'" id="').concat(B.textarea,'"></textarea>\n   <div class="').concat(B["validation-message"],'" id="').concat(B["validation-message"],'"></div>\n   <div class="').concat(B.actions,'">\n     <div class="').concat(B.loader,'"></div>\n     <button type="button" class="').concat(B.confirm,'"></button>\n     <button type="button" class="').concat(B.deny,'"></button>\n     <button type="button" class="').concat(B.cancel,'"></button>\n   </div>\n   <div class="').concat(B.footer,'"></div>\n   <div class="').concat(B["timer-progress-bar-container"],'">\n     <div class="').concat(B["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ge=function(){var e=K();return!!e&&(e.remove(),_e([document.documentElement,document.body],[B["no-backdrop"],B["toast-shown"],B["has-column"]]),!0)},qe=function(){R.currentInstance.resetValidationMessage()},je=function(){var e=Y(),t=Ie(e,B.input),n=Ie(e,B.file),s=e.querySelector(".".concat(B.range," input")),r=e.querySelector(".".concat(B.range," output")),a=Ie(e,B.select),i=e.querySelector(".".concat(B.checkbox," input")),o=Ie(e,B.textarea);t.oninput=qe,n.onchange=qe,a.onchange=qe,i.onchange=qe,o.oninput=qe,s.oninput=function(){qe(),r.value=s.value},s.onchange=function(){qe(),r.value=s.value}},He=function(e){return"string"==typeof e?document.querySelector(e):e},$e=function(e){var t=Y();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ke=function(e){"rtl"===window.getComputedStyle(e).direction&&Ee(K(),B.rtl)},Xe=function(e){var t=Ge();if(We())V("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=B.container,t&&Ee(n,B["no-transition"]),we(n,Ue);var s=He(e.target);s.appendChild(n),$e(e),Ke(s),je()}},Ze=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===u(e)?Ye(e,t):e&&we(t,e)},Ye=function(e,t){e.jquery?Qe(t,e):we(t,e.toString())},Qe=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Je=function(){if(We())return!1;var e=document.createElement("div");return void 0!==e.style.webkitAnimation?"webkitAnimationEnd":void 0!==e.style.animation&&"animationend"}(),et=function(e,t){var n=ce(),s=ue();n&&s&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?Ne(n):Oe(n),Ae(n,t,"actions"),tt(n,s,t),we(s,t.loaderHtml||""),Ae(s,t,"loader"))};function tt(e,t,n){var s=ae(),r=oe(),a=ie();s&&r&&a&&(st(s,"confirm",n),st(r,"deny",n),st(a,"cancel",n),nt(s,r,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,s),e.insertBefore(r,s)):(e.insertBefore(a,t),e.insertBefore(r,t),e.insertBefore(s,t))))}function nt(e,t,n,s){s.buttonsStyling?(Ee([e,t,n],B.styled),s.confirmButtonColor&&(e.style.backgroundColor=s.confirmButtonColor,Ee(e,B["default-outline"])),s.denyButtonColor&&(t.style.backgroundColor=s.denyButtonColor,Ee(t,B["default-outline"])),s.cancelButtonColor&&(n.style.backgroundColor=s.cancelButtonColor,Ee(n,B["default-outline"]))):_e([e,t,n],B.styled)}function st(e,t,n){var s=L(t);Me(e,n["show".concat(s,"Button")],"inline-block"),we(e,n["".concat(t,"ButtonText")]||""),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]||""),e.className=B[t],Ae(e,n,"".concat(t,"Button"))}var rt=function(e,t){var n=pe();n&&(we(n,t.closeButtonHtml||""),Ae(n,t,"closeButton"),Me(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},at=function(e,t){var n=K();n&&(it(n,t.backdrop),ot(n,t.position),lt(n,t.grow),Ae(n,t,"container"))};function it(e,t){"string"==typeof t?e.style.background=t:t||Ee([document.documentElement,document.body],B["no-backdrop"])}function ot(e,t){t&&(t in B?Ee(e,B[t]):(P('The "position" parameter is not valid, defaulting to "center"'),Ee(e,B.center)))}function lt(e,t){t&&Ee(e,B["grow-".concat(t)])}var ut={innerParams:new WeakMap,domCache:new WeakMap},ct=["input","file","range","select","radio","checkbox","textarea"],ht=function(e,t){var n=Y();if(n){var s=ut.innerParams.get(e),r=!s||t.input!==s.input;ct.forEach((function(e){var s=Ie(n,B[e]);s&&(ft(e,t.inputAttributes),s.className=B[e],r&&Oe(s))})),t.input&&(r&&dt(t),mt(t))}},dt=function(e){if(e.input)if(vt[e.input]){var t=bt(e.input),n=vt[e.input](t,e);Ne(t),e.inputAutoFocus&&setTimeout((function(){Ce(n)}))}else V("Unexpected type of input! Expected ".concat(Object.keys(vt).join(" | "),', got "').concat(e.input,'"'))},pt=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},ft=function(e,t){var n=ke(Y(),e);if(n)for(var s in pt(n),t)n.setAttribute(s,t[s])},mt=function(e){var t=bt(e.input);"object"===u(e.customClass)&&Ee(t,e.customClass.input)},gt=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},yt=function(e,t,n){if(n.inputLabel){var s=document.createElement("label"),r=B["input-label"];s.setAttribute("for",e.id),s.className=r,"object"===u(n.customClass)&&Ee(s,n.customClass.inputLabel),s.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",s)}},bt=function(e){return Ie(Y(),B[e]||B.input)},wt=function(e,t){["string","number"].includes(u(t))?e.value="".concat(t):$(t)||P('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(u(t),'"'))},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=function(e,t){return wt(e,t.inputValue),yt(e,e,t),gt(e,t),e.type=t.input,e},vt.file=function(e,t){return yt(e,e,t),gt(e,t),e},vt.range=function(e,t){var n=e.querySelector("input"),s=e.querySelector("output");return wt(n,t.inputValue),n.type=t.input,wt(s,t.inputValue),yt(n,e,t),e},vt.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");we(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return yt(e,e,t),e},vt.radio=function(e){return e.textContent="",e},vt.checkbox=function(e,t){var n=ke(Y(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);var s=e.querySelector("span");return we(s,t.inputPlaceholder),n},vt.textarea=function(e,t){wt(e,t.inputValue),gt(e,t),yt(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var s=parseInt(window.getComputedStyle(Y()).width);new MutationObserver((function(){if(document.body.contains(e)){var r=e.offsetWidth+n(e);r>s?Y().style.width="".concat(r,"px"):Te(Y(),"width",t.width)}})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var xt=function(e,t){var n=te();n&&(Re(n),Ae(n,t,"htmlContainer"),t.html?(Ze(t.html,n),Ne(n,"block")):t.text?(n.textContent=t.text,Ne(n,"block")):Oe(n),ht(e,t))},At=function(e,t){var n=he();n&&(Re(n),Me(n,t.footer,"block"),t.footer&&Ze(t.footer,n),Ae(n,t,"footer"))},kt=function(e,t){var n=ut.innerParams.get(e),s=Q();if(s){if(n&&t.icon===n.icon)return It(s,t),void Ct(s,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(z).indexOf(t.icon))return V('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void Oe(s);Ne(s),It(s,t),Ct(s,t),Ee(s,t.showClass&&t.showClass.icon)}else Oe(s)}},Ct=function(e,t){for(var n=0,s=Object.entries(z);n<s.length;n++){var r=v(s[n],2),a=r[0],i=r[1];t.icon!==a&&_e(e,i)}Ee(e,t.icon&&z[t.icon]),Tt(e,t),St(),Ae(e,t,"icon")},St=function(){var e=Y();if(e)for(var t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),s=0;s<n.length;s++)n[s].style.backgroundColor=t},Et='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',_t='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',It=function(e,t){if(t.icon||t.iconHtml){var n=e.innerHTML,s="";t.iconHtml?s=Nt(t.iconHtml):"success"===t.icon?(s=Et,n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?s=_t:t.icon&&(s=Nt({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==s.trim()&&we(e,s)}},Tt=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,s=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<s.length;n++){var r=s[n];De(e,r,"background-color",t.iconColor)}De(e,".swal2-success-ring","border-color",t.iconColor)}},Nt=function(e){return'<div class="'.concat(B["icon-content"],'">').concat(e,"</div>")},Ot=function(e,t){var n=ne();n&&(t.imageUrl?(Ne(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Te(n,"width",t.imageWidth),Te(n,"height",t.imageHeight),n.className=B.image,Ae(n,t,"image")):Oe(n))},Rt=function(e,t){var n=K(),s=Y();if(n&&s){if(t.toast){Te(n,"width",t.width),s.style.width="100%";var r=ue();r&&s.insertBefore(r,Q())}else Te(s,"width",t.width);Te(s,"padding",t.padding),t.color&&(s.style.color=t.color),t.background&&(s.style.background=t.background),Oe(re()),Dt(s,t)}},Dt=function(e,t){var n=t.showClass||{};e.className="".concat(B.popup," ").concat(Fe(e)?n.popup:""),t.toast?(Ee([document.documentElement,document.body],B["toast-shown"]),Ee(e,B.toast)):Ee(e,B.modal),Ae(e,t,"popup"),"string"==typeof t.customClass&&Ee(e,t.customClass),t.icon&&Ee(e,B["icon-".concat(t.icon)])},Mt=function(e,t){var n=se();if(n){var s=t.progressSteps,r=t.currentProgressStep;s&&0!==s.length&&void 0!==r?(Ne(n),n.textContent="",r>=s.length&&P("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((function(e,a){var i=Ft(e);if(n.appendChild(i),a===r&&Ee(i,B["active-progress-step"]),a!==s.length-1){var o=Bt(t);n.appendChild(o)}}))):Oe(n)}},Ft=function(e){var t=document.createElement("li");return Ee(t,B["progress-step"]),we(t,e),t},Bt=function(e){var t=document.createElement("li");return Ee(t,B["progress-step-line"]),e.progressStepsDistance&&Te(t,"width",e.progressStepsDistance),t},zt=function(e,t){var n=ee();n&&(Re(n),Me(n,t.title||t.titleText,"block"),t.title&&Ze(t.title,n),t.titleText&&(n.innerText=t.titleText),Ae(n,t,"title"))},Lt=function(e,t){Rt(e,t),at(e,t),Mt(e,t),kt(e,t),Ot(e,t),zt(e,t),rt(e,t),xt(e,t),et(e,t),At(e,t);var n=Y();"function"==typeof t.didRender&&n&&t.didRender(n)},Pt=function(){return Fe(Y())},Vt=function(){var e;return null===(e=ae())||void 0===e?void 0:e.click()},Wt=function(){var e;return null===(e=oe())||void 0===e?void 0:e.click()},Ut=function(){var e;return null===(e=ie())||void 0===e?void 0:e.click()},Gt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),qt=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},jt=function(e,t,n){qt(e),t.toast||(e.keydownHandler=function(e){return Xt(t,e,n)},e.keydownTarget=t.keydownListenerCapture?window:Y(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Ht=function(e,t){var n,s=me();if(s.length)return(e+=t)===s.length?e=0:-1===e&&(e=s.length-1),void s[e].focus();null===(n=Y())||void 0===n||n.focus()},$t=["ArrowRight","ArrowDown"],Kt=["ArrowLeft","ArrowUp"],Xt=function(e,t,n){e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Zt(t,e):"Tab"===t.key?Yt(t):[].concat($t,Kt).includes(t.key)?Qt(t.key):"Escape"===t.key&&Jt(t,e,n)))},Zt=function(e,t){if(q(t.allowEnterKey)){var n=ke(Y(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Vt(),e.preventDefault()}}},Yt=function(e){for(var t=e.target,n=me(),s=-1,r=0;r<n.length;r++)if(t===n[r]){s=r;break}e.shiftKey?Ht(s,-1):Ht(s,1),e.stopPropagation(),e.preventDefault()},Qt=function(e){var t=ce(),n=ae(),s=oe(),r=ie();if(t&&n&&s&&r){var a=[n,s,r];if(!(document.activeElement instanceof HTMLElement)||a.includes(document.activeElement)){var i=$t.includes(e)?"nextElementSibling":"previousElementSibling",o=document.activeElement;if(o){for(var l=0;l<t.children.length;l++){if(!(o=o[i]))return;if(o instanceof HTMLButtonElement&&Fe(o))break}o instanceof HTMLButtonElement&&o.focus()}}}},Jt=function(e,t,n){q(t.allowEscapeKey)&&(e.preventDefault(),n(Gt.esc))},en={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},tn=function(){var e=K();Array.from(document.body.children).forEach((function(t){t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))},nn=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},sn="undefined"!=typeof window&&!!window.GestureEvent,rn=function(){if(sn&&!ve(document.body,B.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),Ee(document.body,B.iosfix),an()}},an=function(){var e,t=K();t&&(t.ontouchstart=function(t){e=on(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())})},on=function(e){var t=e.target,n=K(),s=te();return!(!n||!s||ln(e)||un(e)||t!==n&&(ze(n)||!(t instanceof HTMLElement)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||ze(s)&&s.contains(t)))},ln=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},un=function(e){return e.touches&&e.touches.length>1},cn=function(){if(ve(document.body,B.iosfix)){var e=parseInt(document.body.style.top,10);_e(document.body,B.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},hn=function(){var e=document.createElement("div");e.className=B["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},dn=null,pn=function(e){null===dn&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(dn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(dn+hn(),"px"))},fn=function(){null!==dn&&(document.body.style.paddingRight="".concat(dn,"px"),dn=null)};function mn(e,t,n,s){ye()?Cn(e,s):(M(n).then((function(){return Cn(e,s)})),qt(R)),sn?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),ge()&&(fn(),cn(),nn()),gn()}function gn(){_e([document.documentElement,document.body],[B.shown,B["height-auto"],B["no-backdrop"],B["toast-shown"]])}function yn(e){e=xn(e);var t=en.swalPromiseResolve.get(this),n=bn(this);this.isAwaitingPromise?e.isDismissed||(vn(this),t(e)):n&&t(e)}var bn=function(e){var t=Y();if(!t)return!1;var n=ut.innerParams.get(e);if(!n||ve(t,n.hideClass.popup))return!1;_e(t,n.showClass.popup),Ee(t,n.hideClass.popup);var s=K();return _e(s,n.showClass.backdrop),Ee(s,n.hideClass.backdrop),An(e,t,n),!0};function wn(e){var t=en.swalPromiseReject.get(this);vn(this),t&&t(e)}var vn=function(e){e.isAwaitingPromise&&(delete e.isAwaitingPromise,ut.innerParams.get(e)||e._destroy())},xn=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},An=function(e,t,n){var s=K(),r=Je&&Le(t);"function"==typeof n.willClose&&n.willClose(t),r?kn(e,t,s,n.returnFocus,n.didClose):mn(e,s,n.returnFocus,n.didClose)},kn=function(e,t,n,s,r){Je&&(R.swalCloseEventFinishedCallback=mn.bind(null,e,n,s,r),t.addEventListener(Je,(function(e){e.target===t&&(R.swalCloseEventFinishedCallback(),delete R.swalCloseEventFinishedCallback)})))},Cn=function(e,t){setTimeout((function(){"function"==typeof t&&t.bind(e.params)(),e._destroy&&e._destroy()}))},Sn=function(e){var t=Y();if(t||new Er,t=Y()){var n=ue();ye()?Oe(Q()):En(t,e),Ne(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()}},En=function(e,t){var n=ce(),s=ue();n&&s&&(!t&&Fe(ae())&&(t=ae()),Ne(n),t&&(Oe(t),s.setAttribute("data-button-to-replace",t.className),n.insertBefore(s,t)),Ee([e,n],B.loading))},_n=function(e,t){"select"===t.input||"radio"===t.input?Rn(e,t):["text","email","number","tel","textarea"].some((function(e){return e===t.input}))&&(j(t.inputValue)||$(t.inputValue))&&(Sn(ae()),Dn(e,t))},In=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return Tn(n);case"radio":return Nn(n);case"file":return On(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Tn=function(e){return e.checked?1:0},Nn=function(e){return e.checked?e.value:null},On=function(e){return e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},Rn=function(e,t){var n=Y();if(n){var s=function(e){"select"===t.input?Mn(n,Bn(e),t):"radio"===t.input&&Fn(n,Bn(e),t)};j(t.inputOptions)||$(t.inputOptions)?(Sn(ae()),H(t.inputOptions).then((function(t){e.hideLoading(),s(t)}))):"object"===u(t.inputOptions)?s(t.inputOptions):V("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(u(t.inputOptions)))}},Dn=function(e,t){var n=e.getInput();n&&(Oe(n),H(t.inputValue).then((function(s){n.value="number"===t.input?"".concat(parseFloat(s)||0):"".concat(s),Ne(n),n.focus(),e.hideLoading()})).catch((function(t){V("Error in inputValue promise: ".concat(t)),n.value="",Ne(n),n.focus(),e.hideLoading()})))};function Mn(e,t,n){var s=Ie(e,B.select);if(s){var r=function(e,t,s){var r=document.createElement("option");r.value=s,we(r,t),r.selected=zn(s,n.inputValue),e.appendChild(r)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,s.appendChild(a),n.forEach((function(e){return r(a,e[1],e[0])}))}else r(s,n,t)})),s.focus()}}function Fn(e,t,n){var s=Ie(e,B.radio);if(s){t.forEach((function(e){var t=e[0],r=e[1],a=document.createElement("input"),i=document.createElement("label");a.type="radio",a.name=B.radio,a.value=t,zn(t,n.inputValue)&&(a.checked=!0);var o=document.createElement("span");we(o,r),o.className=B.label,i.appendChild(a),i.appendChild(o),s.appendChild(i)}));var r=s.querySelectorAll("input");r.length&&r[0].focus()}}var Bn=function e(t){var n=[];return t instanceof Map?t.forEach((function(t,s){var r=t;"object"===u(r)&&(r=e(r)),n.push([s,r])})):Object.keys(t).forEach((function(s){var r=t[s];"object"===u(r)&&(r=e(r)),n.push([s,r])})),n},zn=function(e,t){return!!t&&t.toString()===e.toString()},Ln=void 0,Pn=function(e){var t=ut.innerParams.get(e);e.disableButtons(),t.input?Un(e,"confirm"):$n(e,!0)},Vn=function(e){var t=ut.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Un(e,"deny"):qn(e,!1)},Wn=function(e,t){e.disableButtons(),t(Gt.cancel)},Un=function(e,t){var n=ut.innerParams.get(e);if(n.input){var s=e.getInput(),r=In(e,n);n.inputValidator?Gn(e,r,t):s&&!s.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||s.validationMessage)):"deny"===t?qn(e,r):$n(e,r)}else V('The "input" parameter is needed to be set when using returnInputValueOn'.concat(L(t)))},Gn=function(e,t,n){var s=ut.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return H(s.inputValidator(t,s.validationMessage))})).then((function(s){e.enableButtons(),e.enableInput(),s?e.showValidationMessage(s):"deny"===n?qn(e,t):$n(e,t)}))},qn=function(e,t){var n=ut.innerParams.get(e||Ln);n.showLoaderOnDeny&&Sn(oe()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((function(){return H(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?(e.hideLoading(),vn(e)):e.close({isDenied:!0,value:void 0===n?t:n})})).catch((function(t){return Hn(e||Ln,t)}))):e.close({isDenied:!0,value:t})},jn=function(e,t){e.close({isConfirmed:!0,value:t})},Hn=function(e,t){e.rejectPromise(t)},$n=function(e,t){var n=ut.innerParams.get(e||Ln);n.showLoaderOnConfirm&&Sn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((function(){return H(n.preConfirm(t,n.validationMessage))})).then((function(n){Fe(re())||!1===n?(e.hideLoading(),vn(e)):jn(e,void 0===n?t:n)})).catch((function(t){return Hn(e||Ln,t)}))):jn(e,t)};function Kn(){var e=ut.innerParams.get(this);if(e){var t=ut.domCache.get(this);Oe(t.loader),ye()?e.icon&&Ne(Q()):Xn(t),_e([t.popup,t.actions],B.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var Xn=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Ne(t[0],"inline-block"):Be()&&Oe(e.actions)};function Zn(){var e=ut.innerParams.get(this),t=ut.domCache.get(this);return t?ke(t.popup,e.input):null}function Yn(e,t,n){var s=ut.domCache.get(e);t.forEach((function(e){s[e].disabled=n}))}function Qn(e,t){var n=Y();if(n&&e)if("radio"===e.type)for(var s=n.querySelectorAll('[name="'.concat(B.radio,'"]')),r=0;r<s.length;r++)s[r].disabled=t;else e.disabled=t}function Jn(){Yn(this,["confirmButton","denyButton","cancelButton"],!1)}function es(){Yn(this,["confirmButton","denyButton","cancelButton"],!0)}function ts(){Qn(this.getInput(),!1)}function ns(){Qn(this.getInput(),!0)}function ss(e){var t=ut.domCache.get(this),n=ut.innerParams.get(this);we(t.validationMessage,e),t.validationMessage.className=B["validation-message"],n.customClass&&n.customClass.validationMessage&&Ee(t.validationMessage,n.customClass.validationMessage),Ne(t.validationMessage);var s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",B["validation-message"]),Ce(s),Ee(s,B.inputerror))}function rs(){var e=ut.domCache.get(this);e.validationMessage&&Oe(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),_e(t,B.inputerror))}var as={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},is=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],os={},ls=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],us=function(e){return Object.prototype.hasOwnProperty.call(as,e)},cs=function(e){return-1!==is.indexOf(e)},hs=function(e){return os[e]},ds=function(e){us(e)||P('Unknown parameter "'.concat(e,'"'))},ps=function(e){ls.includes(e)&&P('The parameter "'.concat(e,'" is incompatible with toasts'))},fs=function(e){var t=hs(e);t&&G(e,t)},ms=function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&P('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)ds(t),e.toast&&ps(t),fs(t)};function gs(e){var t=Y(),n=ut.innerParams.get(this);if(t&&!ve(t,n.hideClass.popup)){var s=ys(e),r=Object.assign({},n,s);Lt(this,r),ut.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}else P("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var ys=function(e){var t={};return Object.keys(e).forEach((function(n){cs(n)?t[n]=e[n]:P("Invalid parameter to update: ".concat(n))})),t};function bs(){var e=ut.domCache.get(this),t=ut.innerParams.get(this);t?(e.popup&&R.swalCloseEventFinishedCallback&&(R.swalCloseEventFinishedCallback(),delete R.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),ws(this)):vs(this)}var ws=function(e){vs(e),delete e.params,delete R.keydownHandler,delete R.keydownTarget,delete R.currentInstance},vs=function(e){e.isAwaitingPromise?(xs(ut,e),e.isAwaitingPromise=!0):(xs(en,e),xs(ut,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},xs=function(e,t){for(var n in e)e[n].delete(t)},As=Object.freeze({__proto__:null,_destroy:bs,close:yn,closeModal:yn,closePopup:yn,closeToast:yn,disableButtons:es,disableInput:ns,disableLoading:Kn,enableButtons:Jn,enableInput:ts,getInput:Zn,handleAwaitingPromise:vn,hideLoading:Kn,rejectPromise:wn,resetValidationMessage:rs,showValidationMessage:ss,update:gs}),ks=function(e,t,n){e.toast?Cs(e,t,n):(_s(t),Is(t),Ts(e,t,n))},Cs=function(e,t,n){t.popup.onclick=function(){e&&(Ss(e)||e.timer||e.input)||n(Gt.close)}},Ss=function(e){return!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton)},Es=!1,_s=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=function(){},t.target===e.container&&(Es=!0)}}},Is=function(e){e.container.onmousedown=function(t){t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=function(){},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(Es=!0)}}},Ts=function(e,t,n){t.container.onclick=function(s){Es?Es=!1:s.target===t.container&&q(e.allowOutsideClick)&&n(Gt.backdrop)}},Ns=function(e){return"object"===u(e)&&e.jquery},Os=function(e){return e instanceof Element||Ns(e)},Rs=function(e){var t={};return"object"!==u(e[0])||Os(e[0])?["title","html","icon"].forEach((function(n,s){var r=e[s];"string"==typeof r||Os(r)?t[n]=r:void 0!==r&&V("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(u(r)))})):Object.assign(t,e[0]),t};function Ds(){for(var e=this,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return r(e,n)}function Ms(e){var n=function(n){function s(){return c(this,s),t(this,s,arguments)}return p(s,n),d(s,[{key:"_main",value:function(t,n){return w(f(s.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}])}(this);return n}var Fs=function(){return R.timeout&&R.timeout.getTimerLeft()},Bs=function(){if(R.timeout)return Ve(),R.timeout.stop()},zs=function(){if(R.timeout){var e=R.timeout.start();return Pe(e),e}},Ls=function(){var e=R.timeout;return e&&(e.running?Bs():zs())},Ps=function(e){if(R.timeout){var t=R.timeout.increase(e);return Pe(t,!0),t}},Vs=function(){return!(!R.timeout||!R.timeout.isRunning())},Ws=!1,Us={};function Gs(){Us[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ws||(document.body.addEventListener("click",js),Ws=!0)}var qs,js=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in Us){var s=t.getAttribute(n);if(s)return void Us[n].fire({template:s})}},Hs=Object.freeze({__proto__:null,argsToParams:Rs,bindClickHandler:Gs,clickCancel:Ut,clickConfirm:Vt,clickDeny:Wt,enableLoading:Sn,fire:Ds,getActions:ce,getCancelButton:ie,getCloseButton:pe,getConfirmButton:ae,getContainer:K,getDenyButton:oe,getFocusableElements:me,getFooter:he,getHtmlContainer:te,getIcon:Q,getIconContent:J,getImage:ne,getInputLabel:le,getLoader:ue,getPopup:Y,getProgressSteps:se,getTimerLeft:Fs,getTimerProgressBar:de,getTitle:ee,getValidationMessage:re,increaseTimer:Ps,isDeprecatedParameter:hs,isLoading:be,isTimerRunning:Vs,isUpdatableParameter:cs,isValidParameter:us,isVisible:Pt,mixin:Ms,resumeTimer:zs,showLoading:Sn,stopTimer:Bs,toggleTimer:Ls}),$s=function(){function e(t,n){c(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return d(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),Ks=["swal-title","swal-html","swal-footer"],Xs=function(e){var t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return sr(n),Object.assign(Zs(n),Ys(n),Qs(n),Js(n),er(n),tr(n),nr(n,Ks))},Zs=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){rr(e,["name","value"]);var n=e.getAttribute("name"),s=e.getAttribute("value");"boolean"==typeof as[n]?t[n]="false"!==s:"object"===u(as[n])?t[n]=JSON.parse(s):t[n]=s})),t},Ys=function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),s=e.getAttribute("value");t[n]=new Function("return ".concat(s))()})),t},Qs=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){rr(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(L(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Js=function(e){var t={},n=e.querySelector("swal-image");return n&&(rr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},er=function(e){var t={},n=e.querySelector("swal-icon");return n&&(rr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},tr=function(e){var t={},n=e.querySelector("swal-input");n&&(rr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var s=Array.from(e.querySelectorAll("swal-input-option"));return s.length&&(t.inputOptions={},s.forEach((function(e){rr(e,["value"]);var n=e.getAttribute("value"),s=e.innerHTML;t.inputOptions[n]=s}))),t},nr=function(e,t){var n={};for(var s in t){var r=t[s],a=e.querySelector(r);a&&(rr(a,[]),n[r.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},sr=function(e){var t=Ks.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||P("Unrecognized element <".concat(n,">"))}))},rr=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&P(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},ar=10,ir=function(e){var t=K(),n=Y();"function"==typeof e.willOpen&&e.willOpen(n);var s=window.getComputedStyle(document.body).overflowY;cr(t,n,e),setTimeout((function(){lr(t,n)}),ar),ge()&&(ur(t,e.scrollbarPadding,s),tn()),ye()||R.previousActiveElement||(R.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((function(){return e.didOpen(n)})),_e(t,B["no-transition"])},or=function e(t){var n=Y();if(t.target===n&&Je){var s=K();n.removeEventListener(Je,e),s.style.overflowY="auto"}},lr=function(e,t){Je&&Le(t)?(e.style.overflowY="hidden",t.addEventListener(Je,or)):e.style.overflowY="auto"},ur=function(e,t,n){rn(),t&&"hidden"!==n&&pn(n),setTimeout((function(){e.scrollTop=0}))},cr=function(e,t,n){Ee(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),Ne(t,"grid"),setTimeout((function(){Ee(t,n.showClass.popup),t.style.removeProperty("opacity")}),ar)):Ne(t,"grid"),Ee([document.documentElement,document.body],B.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ee([document.documentElement,document.body],B["height-auto"])},hr={email:function(e,t){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function dr(e){e.inputValidator||("email"===e.input&&(e.inputValidator=hr.email),"url"===e.input&&(e.inputValidator=hr.url))}function pr(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(P('Target parameter is not valid, defaulting to "body"'),e.target="body")}function fr(e){dr(e),e.showLoaderOnConfirm&&!e.preConfirm&&P("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),pr(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Xe(e)}var mr=new WeakMap,gr=function(){function e(){if(c(this,e),N(this,mr,void 0),"undefined"!=typeof window){qs=this;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=Object.freeze(this.constructor.argsToParams(n));this.params=a,this.isAwaitingPromise=!1,s(mr,this,this._main(qs.params))}}return d(e,[{key:"_main",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ms(Object.assign({},t,e)),R.currentInstance){var n=en.swalPromiseResolve.get(R.currentInstance),s=R.currentInstance.isAwaitingPromise;R.currentInstance._destroy(),s||n({isDismissed:!0}),ge()&&nn()}R.currentInstance=qs;var r=br(e,t);fr(r),Object.freeze(r),R.timeout&&(R.timeout.stop(),delete R.timeout),clearTimeout(R.restoreFocusTimeout);var a=wr(qs);return Lt(qs,r),ut.innerParams.set(qs,r),yr(qs,a,r)}},{key:"then",value:function(e){return n(mr,this).then(e)}},{key:"finally",value:function(e){return n(mr,this).finally(e)}}])}(),yr=function(e,t,n){return new Promise((function(s,r){var a=function(t){e.close({isDismissed:!0,dismiss:t})};en.swalPromiseResolve.set(e,s),en.swalPromiseReject.set(e,r),t.confirmButton.onclick=function(){Pn(e)},t.denyButton.onclick=function(){Vn(e)},t.cancelButton.onclick=function(){Wn(e,a)},t.closeButton.onclick=function(){a(Gt.close)},ks(n,t,a),jt(R,n,a),_n(e,n),ir(n),vr(R,n,a),xr(t,n),setTimeout((function(){t.container.scrollTop=0}))}))},br=function(e,t){var n=Xs(e),s=Object.assign({},as,t,n,e);return s.showClass=Object.assign({},as.showClass,s.showClass),s.hideClass=Object.assign({},as.hideClass,s.hideClass),!1===s.animation&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},wr=function(e){var t={popup:Y(),container:K(),actions:ce(),confirmButton:ae(),denyButton:oe(),cancelButton:ie(),loader:ue(),closeButton:pe(),validationMessage:re(),progressSteps:se()};return ut.domCache.set(e,t),t},vr=function(e,t,n){var s=de();Oe(s),t.timer&&(e.timeout=new $s((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(Ne(s),Ae(s,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&Pe(t.timer)}))))},xr=function(e,t){t.toast||(q(t.allowEnterKey)?Ar(e,t)||Ht(-1,1):kr())},Ar=function(e,t){return t.focusDeny&&Fe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Fe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!Fe(e.confirmButton)||(e.confirmButton.focus(),0))},kr=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Cr=new Date,Sr=localStorage.getItem("swal-initiation");Sr?(Cr.getTime()-Date.parse(Sr))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((function(){e.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(Cr))}gr.prototype.disableButtons=es,gr.prototype.enableButtons=Jn,gr.prototype.getInput=Zn,gr.prototype.disableInput=ns,gr.prototype.enableInput=ts,gr.prototype.hideLoading=Kn,gr.prototype.disableLoading=Kn,gr.prototype.showValidationMessage=ss,gr.prototype.resetValidationMessage=rs,gr.prototype.close=yn,gr.prototype.closePopup=yn,gr.prototype.closeModal=yn,gr.prototype.closeToast=yn,gr.prototype.rejectPromise=wn,gr.prototype.update=gs,gr.prototype._destroy=bs,Object.assign(gr,Hs),Object.keys(As).forEach((function(e){gr[e]=function(){var t;return qs&&qs[e]?(t=qs)[e].apply(t,arguments):null}})),gr.DismissReason=Gt,gr.version="11.10.8";var Er=gr;return Er.default=Er,Er}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4948:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t,n){return t=f(t),y(e,a()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function n(t,n){return t.get(e(t,n))}function s(t,n,s){return t.set(e(t,n),s),s}function r(e,t,n){if(a())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var r=new(e.bind.apply(e,s));return n&&m(r,n.prototype),r}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function i(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,a,i,o=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=a.call(n)).done)&&(o.push(s.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return o}}function o(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){var t=o(e,"string");return"symbol"==typeof t?t:t+""}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,l(s.key),s)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var s=b(e,t);if(s){var r=Object.getOwnPropertyDescriptor(s,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},w.apply(this,arguments)}function v(e,t){return k(e)||i(e,t)||S(e,t)||I()}function x(e){return A(e)||C(e)||S(e)||_()}function A(e){if(Array.isArray(e))return E(e)}function k(e){if(Array.isArray(e))return e}function C(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function N(e,t,n){T(e,t),t.set(e,n)}var O=100,R={},D=function(){R.previousActiveElement instanceof HTMLElement?(R.previousActiveElement.focus(),R.previousActiveElement=null):document.body&&document.body.focus()},M=function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,s=window.scrollY;R.restoreFocusTimeout=setTimeout((function(){D(),t()}),O),window.scrollTo(n,s)}))},F="swal2-",B=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(e,t){return e[t]=F+t,e}),{}),z=["success","warning","info","question","error"].reduce((function(e,t){return e[t]=F+t,e}),{}),L=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},P=function(e){},V=function(e){},W=[],U=function(e){W.includes(e)||(W.push(e),P(e))},G=function(e,t){U('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},q=function(e){return"function"==typeof e?e():e},j=function(e){return e&&"function"==typeof e.toPromise},H=function(e){return j(e)?e.toPromise():Promise.resolve(e)},$=function(e){return e&&Promise.resolve(e)===e},K=function(){return document.body.querySelector(".".concat(B.container))},X=function(e){var t=K();return t?t.querySelector(e):null},Z=function(e){return X(".".concat(e))},Y=function(){return Z(B.popup)},Q=function(){return Z(B.icon)},J=function(){return Z(B["icon-content"])},ee=function(){return Z(B.title)},te=function(){return Z(B["html-container"])},ne=function(){return Z(B.image)},se=function(){return Z(B["progress-steps"])},re=function(){return Z(B["validation-message"])},ae=function(){return X(".".concat(B.actions," .").concat(B.confirm))},ie=function(){return X(".".concat(B.actions," .").concat(B.cancel))},oe=function(){return X(".".concat(B.actions," .").concat(B.deny))},le=function(){return Z(B["input-label"])},ue=function(){return X(".".concat(B.loader))},ce=function(){return Z(B.actions)},he=function(){return Z(B.footer)},de=function(){return Z(B["timer-progress-bar"])},pe=function(){return Z(B.close)},fe='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',me=function(){var e=Y();if(!e)return[];var t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")||"0"),s=parseInt(t.getAttribute("tabindex")||"0");return n>s?1:n<s?-1:0})),s=e.querySelectorAll(fe),r=Array.from(s).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return x(new Set(n.concat(r))).filter((function(e){return Fe(e)}))},ge=function(){return ve(document.body,B.shown)&&!ve(document.body,B["toast-shown"])&&!ve(document.body,B["no-backdrop"])},ye=function(){var e=Y();return!!e&&ve(e,B.toast)},be=function(){var e=Y();return!!e&&e.hasAttribute("data-loading")},we=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html"),s=n.querySelector("head");s&&Array.from(s.childNodes).forEach((function(t){e.appendChild(t)}));var r=n.querySelector("body");r&&Array.from(r.childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},ve=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),s=0;s<n.length;s++)if(!e.classList.contains(n[s]))return!1;return!0},xe=function(e,t){Array.from(e.classList).forEach((function(n){Object.values(B).includes(n)||Object.values(z).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))},Ae=function(e,t,n){if(xe(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return void P("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(u(t.customClass[n]),'"'));Ee(e,t.customClass[n])}},ke=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(B.popup," > .").concat(B[t]));case"checkbox":return e.querySelector(".".concat(B.popup," > .").concat(B.checkbox," input"));case"radio":return e.querySelector(".".concat(B.popup," > .").concat(B.radio," input:checked"))||e.querySelector(".".concat(B.popup," > .").concat(B.radio," input:first-child"));case"range":return e.querySelector(".".concat(B.popup," > .").concat(B.range," input"));default:return e.querySelector(".".concat(B.popup," > .").concat(B.input))}},Ce=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},Se=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},Ee=function(e,t){Se(e,t,!0)},_e=function(e,t){Se(e,t,!1)},Ie=function(e,t){for(var n=Array.from(e.children),s=0;s<n.length;s++){var r=n[s];if(r instanceof HTMLElement&&ve(r,t))return r}},Te=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"==typeof n?"".concat(n,"px"):n):e.style.removeProperty(t)},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},Oe=function(e){e&&(e.style.display="none")},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((function(){Me(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},De=function(e,t,n,s){var r=e.querySelector(t);r&&r.style.setProperty(n,s)},Me=function(e,t){t?Ne(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Oe(e)},Fe=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},Be=function(){return!Fe(ae())&&!Fe(oe())&&!Fe(ie())},ze=function(e){return!!(e.scrollHeight>e.clientHeight)},Le=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),s=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||s>0},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=de();n&&Fe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},Ve=function(){var e=de();if(e){var t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")}},We=function(){return"undefined"==typeof window||"undefined"==typeof document},Ue='\n <div aria-labelledby="'.concat(B.title,'" aria-describedby="').concat(B["html-container"],'" class="').concat(B.popup,'" tabindex="-1">\n   <button type="button" class="').concat(B.close,'"></button>\n   <ul class="').concat(B["progress-steps"],'"></ul>\n   <div class="').concat(B.icon,'"></div>\n   <img class="').concat(B.image,'" />\n   <h2 class="').concat(B.title,'" id="').concat(B.title,'"></h2>\n   <div class="').concat(B["html-container"],'" id="').concat(B["html-container"],'"></div>\n   <input class="').concat(B.input,'" id="').concat(B.input,'" />\n   <input type="file" class="').concat(B.file,'" />\n   <div class="').concat(B.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(B.select,'" id="').concat(B.select,'"></select>\n   <div class="').concat(B.radio,'"></div>\n   <label class="').concat(B.checkbox,'">\n     <input type="checkbox" id="').concat(B.checkbox,'" />\n     <span class="').concat(B.label,'"></span>\n   </label>\n   <textarea class="').concat(B.textarea,'" id="').concat(B.textarea,'"></textarea>\n   <div class="').concat(B["validation-message"],'" id="').concat(B["validation-message"],'"></div>\n   <div class="').concat(B.actions,'">\n     <div class="').concat(B.loader,'"></div>\n     <button type="button" class="').concat(B.confirm,'"></button>\n     <button type="button" class="').concat(B.deny,'"></button>\n     <button type="button" class="').concat(B.cancel,'"></button>\n   </div>\n   <div class="').concat(B.footer,'"></div>\n   <div class="').concat(B["timer-progress-bar-container"],'">\n     <div class="').concat(B["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ge=function(){var e=K();return!!e&&(e.remove(),_e([document.documentElement,document.body],[B["no-backdrop"],B["toast-shown"],B["has-column"]]),!0)},qe=function(){R.currentInstance.resetValidationMessage()},je=function(){var e=Y(),t=Ie(e,B.input),n=Ie(e,B.file),s=e.querySelector(".".concat(B.range," input")),r=e.querySelector(".".concat(B.range," output")),a=Ie(e,B.select),i=e.querySelector(".".concat(B.checkbox," input")),o=Ie(e,B.textarea);t.oninput=qe,n.onchange=qe,a.onchange=qe,i.onchange=qe,o.oninput=qe,s.oninput=function(){qe(),r.value=s.value},s.onchange=function(){qe(),r.value=s.value}},He=function(e){return"string"==typeof e?document.querySelector(e):e},$e=function(e){var t=Y();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ke=function(e){"rtl"===window.getComputedStyle(e).direction&&Ee(K(),B.rtl)},Xe=function(e){var t=Ge();if(We())V("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=B.container,t&&Ee(n,B["no-transition"]),we(n,Ue);var s=He(e.target);s.appendChild(n),$e(e),Ke(s),je()}},Ze=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===u(e)?Ye(e,t):e&&we(t,e)},Ye=function(e,t){e.jquery?Qe(t,e):we(t,e.toString())},Qe=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Je=function(){if(We())return!1;var e=document.createElement("div");return void 0!==e.style.webkitAnimation?"webkitAnimationEnd":void 0!==e.style.animation&&"animationend"}(),et=function(e,t){var n=ce(),s=ue();n&&s&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?Ne(n):Oe(n),Ae(n,t,"actions"),tt(n,s,t),we(s,t.loaderHtml||""),Ae(s,t,"loader"))};function tt(e,t,n){var s=ae(),r=oe(),a=ie();s&&r&&a&&(st(s,"confirm",n),st(r,"deny",n),st(a,"cancel",n),nt(s,r,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,s),e.insertBefore(r,s)):(e.insertBefore(a,t),e.insertBefore(r,t),e.insertBefore(s,t))))}function nt(e,t,n,s){s.buttonsStyling?(Ee([e,t,n],B.styled),s.confirmButtonColor&&(e.style.backgroundColor=s.confirmButtonColor,Ee(e,B["default-outline"])),s.denyButtonColor&&(t.style.backgroundColor=s.denyButtonColor,Ee(t,B["default-outline"])),s.cancelButtonColor&&(n.style.backgroundColor=s.cancelButtonColor,Ee(n,B["default-outline"]))):_e([e,t,n],B.styled)}function st(e,t,n){var s=L(t);Me(e,n["show".concat(s,"Button")],"inline-block"),we(e,n["".concat(t,"ButtonText")]||""),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]||""),e.className=B[t],Ae(e,n,"".concat(t,"Button"))}var rt=function(e,t){var n=pe();n&&(we(n,t.closeButtonHtml||""),Ae(n,t,"closeButton"),Me(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},at=function(e,t){var n=K();n&&(it(n,t.backdrop),ot(n,t.position),lt(n,t.grow),Ae(n,t,"container"))};function it(e,t){"string"==typeof t?e.style.background=t:t||Ee([document.documentElement,document.body],B["no-backdrop"])}function ot(e,t){t&&(t in B?Ee(e,B[t]):(P('The "position" parameter is not valid, defaulting to "center"'),Ee(e,B.center)))}function lt(e,t){t&&Ee(e,B["grow-".concat(t)])}var ut={innerParams:new WeakMap,domCache:new WeakMap},ct=["input","file","range","select","radio","checkbox","textarea"],ht=function(e,t){var n=Y();if(n){var s=ut.innerParams.get(e),r=!s||t.input!==s.input;ct.forEach((function(e){var s=Ie(n,B[e]);s&&(ft(e,t.inputAttributes),s.className=B[e],r&&Oe(s))})),t.input&&(r&&dt(t),mt(t))}},dt=function(e){if(e.input)if(vt[e.input]){var t=bt(e.input),n=vt[e.input](t,e);Ne(t),e.inputAutoFocus&&setTimeout((function(){Ce(n)}))}else V("Unexpected type of input! Expected ".concat(Object.keys(vt).join(" | "),', got "').concat(e.input,'"'))},pt=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},ft=function(e,t){var n=ke(Y(),e);if(n)for(var s in pt(n),t)n.setAttribute(s,t[s])},mt=function(e){var t=bt(e.input);"object"===u(e.customClass)&&Ee(t,e.customClass.input)},gt=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},yt=function(e,t,n){if(n.inputLabel){var s=document.createElement("label"),r=B["input-label"];s.setAttribute("for",e.id),s.className=r,"object"===u(n.customClass)&&Ee(s,n.customClass.inputLabel),s.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",s)}},bt=function(e){return Ie(Y(),B[e]||B.input)},wt=function(e,t){["string","number"].includes(u(t))?e.value="".concat(t):$(t)||P('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(u(t),'"'))},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=function(e,t){return wt(e,t.inputValue),yt(e,e,t),gt(e,t),e.type=t.input,e},vt.file=function(e,t){return yt(e,e,t),gt(e,t),e},vt.range=function(e,t){var n=e.querySelector("input"),s=e.querySelector("output");return wt(n,t.inputValue),n.type=t.input,wt(s,t.inputValue),yt(n,e,t),e},vt.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");we(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return yt(e,e,t),e},vt.radio=function(e){return e.textContent="",e},vt.checkbox=function(e,t){var n=ke(Y(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);var s=e.querySelector("span");return we(s,t.inputPlaceholder),n},vt.textarea=function(e,t){wt(e,t.inputValue),gt(e,t),yt(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var s=parseInt(window.getComputedStyle(Y()).width);new MutationObserver((function(){if(document.body.contains(e)){var r=e.offsetWidth+n(e);r>s?Y().style.width="".concat(r,"px"):Te(Y(),"width",t.width)}})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var xt=function(e,t){var n=te();n&&(Re(n),Ae(n,t,"htmlContainer"),t.html?(Ze(t.html,n),Ne(n,"block")):t.text?(n.textContent=t.text,Ne(n,"block")):Oe(n),ht(e,t))},At=function(e,t){var n=he();n&&(Re(n),Me(n,t.footer,"block"),t.footer&&Ze(t.footer,n),Ae(n,t,"footer"))},kt=function(e,t){var n=ut.innerParams.get(e),s=Q();if(s){if(n&&t.icon===n.icon)return It(s,t),void Ct(s,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(z).indexOf(t.icon))return V('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void Oe(s);Ne(s),It(s,t),Ct(s,t),Ee(s,t.showClass&&t.showClass.icon)}else Oe(s)}},Ct=function(e,t){for(var n=0,s=Object.entries(z);n<s.length;n++){var r=v(s[n],2),a=r[0],i=r[1];t.icon!==a&&_e(e,i)}Ee(e,t.icon&&z[t.icon]),Tt(e,t),St(),Ae(e,t,"icon")},St=function(){var e=Y();if(e)for(var t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),s=0;s<n.length;s++)n[s].style.backgroundColor=t},Et='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',_t='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',It=function(e,t){if(t.icon||t.iconHtml){var n=e.innerHTML,s="";t.iconHtml?s=Nt(t.iconHtml):"success"===t.icon?(s=Et,n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?s=_t:t.icon&&(s=Nt({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==s.trim()&&we(e,s)}},Tt=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,s=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<s.length;n++){var r=s[n];De(e,r,"background-color",t.iconColor)}De(e,".swal2-success-ring","border-color",t.iconColor)}},Nt=function(e){return'<div class="'.concat(B["icon-content"],'">').concat(e,"</div>")},Ot=function(e,t){var n=ne();n&&(t.imageUrl?(Ne(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Te(n,"width",t.imageWidth),Te(n,"height",t.imageHeight),n.className=B.image,Ae(n,t,"image")):Oe(n))},Rt=function(e,t){var n=K(),s=Y();if(n&&s){if(t.toast){Te(n,"width",t.width),s.style.width="100%";var r=ue();r&&s.insertBefore(r,Q())}else Te(s,"width",t.width);Te(s,"padding",t.padding),t.color&&(s.style.color=t.color),t.background&&(s.style.background=t.background),Oe(re()),Dt(s,t)}},Dt=function(e,t){var n=t.showClass||{};e.className="".concat(B.popup," ").concat(Fe(e)?n.popup:""),t.toast?(Ee([document.documentElement,document.body],B["toast-shown"]),Ee(e,B.toast)):Ee(e,B.modal),Ae(e,t,"popup"),"string"==typeof t.customClass&&Ee(e,t.customClass),t.icon&&Ee(e,B["icon-".concat(t.icon)])},Mt=function(e,t){var n=se();if(n){var s=t.progressSteps,r=t.currentProgressStep;s&&0!==s.length&&void 0!==r?(Ne(n),n.textContent="",r>=s.length&&P("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((function(e,a){var i=Ft(e);if(n.appendChild(i),a===r&&Ee(i,B["active-progress-step"]),a!==s.length-1){var o=Bt(t);n.appendChild(o)}}))):Oe(n)}},Ft=function(e){var t=document.createElement("li");return Ee(t,B["progress-step"]),we(t,e),t},Bt=function(e){var t=document.createElement("li");return Ee(t,B["progress-step-line"]),e.progressStepsDistance&&Te(t,"width",e.progressStepsDistance),t},zt=function(e,t){var n=ee();n&&(Re(n),Me(n,t.title||t.titleText,"block"),t.title&&Ze(t.title,n),t.titleText&&(n.innerText=t.titleText),Ae(n,t,"title"))},Lt=function(e,t){Rt(e,t),at(e,t),Mt(e,t),kt(e,t),Ot(e,t),zt(e,t),rt(e,t),xt(e,t),et(e,t),At(e,t);var n=Y();"function"==typeof t.didRender&&n&&t.didRender(n)},Pt=function(){return Fe(Y())},Vt=function(){var e;return null===(e=ae())||void 0===e?void 0:e.click()},Wt=function(){var e;return null===(e=oe())||void 0===e?void 0:e.click()},Ut=function(){var e;return null===(e=ie())||void 0===e?void 0:e.click()},Gt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),qt=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},jt=function(e,t,n){qt(e),t.toast||(e.keydownHandler=function(e){return Xt(t,e,n)},e.keydownTarget=t.keydownListenerCapture?window:Y(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Ht=function(e,t){var n,s=me();if(s.length)return(e+=t)===s.length?e=0:-1===e&&(e=s.length-1),void s[e].focus();null===(n=Y())||void 0===n||n.focus()},$t=["ArrowRight","ArrowDown"],Kt=["ArrowLeft","ArrowUp"],Xt=function(e,t,n){e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Zt(t,e):"Tab"===t.key?Yt(t):[].concat($t,Kt).includes(t.key)?Qt(t.key):"Escape"===t.key&&Jt(t,e,n)))},Zt=function(e,t){if(q(t.allowEnterKey)){var n=ke(Y(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Vt(),e.preventDefault()}}},Yt=function(e){for(var t=e.target,n=me(),s=-1,r=0;r<n.length;r++)if(t===n[r]){s=r;break}e.shiftKey?Ht(s,-1):Ht(s,1),e.stopPropagation(),e.preventDefault()},Qt=function(e){var t=ce(),n=ae(),s=oe(),r=ie();if(t&&n&&s&&r){var a=[n,s,r];if(!(document.activeElement instanceof HTMLElement)||a.includes(document.activeElement)){var i=$t.includes(e)?"nextElementSibling":"previousElementSibling",o=document.activeElement;if(o){for(var l=0;l<t.children.length;l++){if(!(o=o[i]))return;if(o instanceof HTMLButtonElement&&Fe(o))break}o instanceof HTMLButtonElement&&o.focus()}}}},Jt=function(e,t,n){q(t.allowEscapeKey)&&(e.preventDefault(),n(Gt.esc))},en={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},tn=function(){var e=K();Array.from(document.body.children).forEach((function(t){t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))},nn=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},sn="undefined"!=typeof window&&!!window.GestureEvent,rn=function(){if(sn&&!ve(document.body,B.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),Ee(document.body,B.iosfix),an()}},an=function(){var e,t=K();t&&(t.ontouchstart=function(t){e=on(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())})},on=function(e){var t=e.target,n=K(),s=te();return!(!n||!s||ln(e)||un(e)||t!==n&&(ze(n)||!(t instanceof HTMLElement)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||ze(s)&&s.contains(t)))},ln=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},un=function(e){return e.touches&&e.touches.length>1},cn=function(){if(ve(document.body,B.iosfix)){var e=parseInt(document.body.style.top,10);_e(document.body,B.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},hn=function(){var e=document.createElement("div");e.className=B["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},dn=null,pn=function(e){null===dn&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(dn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(dn+hn(),"px"))},fn=function(){null!==dn&&(document.body.style.paddingRight="".concat(dn,"px"),dn=null)};function mn(e,t,n,s){ye()?Cn(e,s):(M(n).then((function(){return Cn(e,s)})),qt(R)),sn?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),ge()&&(fn(),cn(),nn()),gn()}function gn(){_e([document.documentElement,document.body],[B.shown,B["height-auto"],B["no-backdrop"],B["toast-shown"]])}function yn(e){e=xn(e);var t=en.swalPromiseResolve.get(this),n=bn(this);this.isAwaitingPromise?e.isDismissed||(vn(this),t(e)):n&&t(e)}var bn=function(e){var t=Y();if(!t)return!1;var n=ut.innerParams.get(e);if(!n||ve(t,n.hideClass.popup))return!1;_e(t,n.showClass.popup),Ee(t,n.hideClass.popup);var s=K();return _e(s,n.showClass.backdrop),Ee(s,n.hideClass.backdrop),An(e,t,n),!0};function wn(e){var t=en.swalPromiseReject.get(this);vn(this),t&&t(e)}var vn=function(e){e.isAwaitingPromise&&(delete e.isAwaitingPromise,ut.innerParams.get(e)||e._destroy())},xn=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},An=function(e,t,n){var s=K(),r=Je&&Le(t);"function"==typeof n.willClose&&n.willClose(t),r?kn(e,t,s,n.returnFocus,n.didClose):mn(e,s,n.returnFocus,n.didClose)},kn=function(e,t,n,s,r){Je&&(R.swalCloseEventFinishedCallback=mn.bind(null,e,n,s,r),t.addEventListener(Je,(function(e){e.target===t&&(R.swalCloseEventFinishedCallback(),delete R.swalCloseEventFinishedCallback)})))},Cn=function(e,t){setTimeout((function(){"function"==typeof t&&t.bind(e.params)(),e._destroy&&e._destroy()}))},Sn=function(e){var t=Y();if(t||new Er,t=Y()){var n=ue();ye()?Oe(Q()):En(t,e),Ne(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()}},En=function(e,t){var n=ce(),s=ue();n&&s&&(!t&&Fe(ae())&&(t=ae()),Ne(n),t&&(Oe(t),s.setAttribute("data-button-to-replace",t.className),n.insertBefore(s,t)),Ee([e,n],B.loading))},_n=function(e,t){"select"===t.input||"radio"===t.input?Rn(e,t):["text","email","number","tel","textarea"].some((function(e){return e===t.input}))&&(j(t.inputValue)||$(t.inputValue))&&(Sn(ae()),Dn(e,t))},In=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return Tn(n);case"radio":return Nn(n);case"file":return On(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Tn=function(e){return e.checked?1:0},Nn=function(e){return e.checked?e.value:null},On=function(e){return e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},Rn=function(e,t){var n=Y();if(n){var s=function(e){"select"===t.input?Mn(n,Bn(e),t):"radio"===t.input&&Fn(n,Bn(e),t)};j(t.inputOptions)||$(t.inputOptions)?(Sn(ae()),H(t.inputOptions).then((function(t){e.hideLoading(),s(t)}))):"object"===u(t.inputOptions)?s(t.inputOptions):V("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(u(t.inputOptions)))}},Dn=function(e,t){var n=e.getInput();n&&(Oe(n),H(t.inputValue).then((function(s){n.value="number"===t.input?"".concat(parseFloat(s)||0):"".concat(s),Ne(n),n.focus(),e.hideLoading()})).catch((function(t){V("Error in inputValue promise: ".concat(t)),n.value="",Ne(n),n.focus(),e.hideLoading()})))};function Mn(e,t,n){var s=Ie(e,B.select);if(s){var r=function(e,t,s){var r=document.createElement("option");r.value=s,we(r,t),r.selected=zn(s,n.inputValue),e.appendChild(r)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,s.appendChild(a),n.forEach((function(e){return r(a,e[1],e[0])}))}else r(s,n,t)})),s.focus()}}function Fn(e,t,n){var s=Ie(e,B.radio);if(s){t.forEach((function(e){var t=e[0],r=e[1],a=document.createElement("input"),i=document.createElement("label");a.type="radio",a.name=B.radio,a.value=t,zn(t,n.inputValue)&&(a.checked=!0);var o=document.createElement("span");we(o,r),o.className=B.label,i.appendChild(a),i.appendChild(o),s.appendChild(i)}));var r=s.querySelectorAll("input");r.length&&r[0].focus()}}var Bn=function e(t){var n=[];return t instanceof Map?t.forEach((function(t,s){var r=t;"object"===u(r)&&(r=e(r)),n.push([s,r])})):Object.keys(t).forEach((function(s){var r=t[s];"object"===u(r)&&(r=e(r)),n.push([s,r])})),n},zn=function(e,t){return!!t&&t.toString()===e.toString()},Ln=void 0,Pn=function(e){var t=ut.innerParams.get(e);e.disableButtons(),t.input?Un(e,"confirm"):$n(e,!0)},Vn=function(e){var t=ut.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Un(e,"deny"):qn(e,!1)},Wn=function(e,t){e.disableButtons(),t(Gt.cancel)},Un=function(e,t){var n=ut.innerParams.get(e);if(n.input){var s=e.getInput(),r=In(e,n);n.inputValidator?Gn(e,r,t):s&&!s.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||s.validationMessage)):"deny"===t?qn(e,r):$n(e,r)}else V('The "input" parameter is needed to be set when using returnInputValueOn'.concat(L(t)))},Gn=function(e,t,n){var s=ut.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return H(s.inputValidator(t,s.validationMessage))})).then((function(s){e.enableButtons(),e.enableInput(),s?e.showValidationMessage(s):"deny"===n?qn(e,t):$n(e,t)}))},qn=function(e,t){var n=ut.innerParams.get(e||Ln);n.showLoaderOnDeny&&Sn(oe()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((function(){return H(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?(e.hideLoading(),vn(e)):e.close({isDenied:!0,value:void 0===n?t:n})})).catch((function(t){return Hn(e||Ln,t)}))):e.close({isDenied:!0,value:t})},jn=function(e,t){e.close({isConfirmed:!0,value:t})},Hn=function(e,t){e.rejectPromise(t)},$n=function(e,t){var n=ut.innerParams.get(e||Ln);n.showLoaderOnConfirm&&Sn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((function(){return H(n.preConfirm(t,n.validationMessage))})).then((function(n){Fe(re())||!1===n?(e.hideLoading(),vn(e)):jn(e,void 0===n?t:n)})).catch((function(t){return Hn(e||Ln,t)}))):jn(e,t)};function Kn(){var e=ut.innerParams.get(this);if(e){var t=ut.domCache.get(this);Oe(t.loader),ye()?e.icon&&Ne(Q()):Xn(t),_e([t.popup,t.actions],B.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var Xn=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Ne(t[0],"inline-block"):Be()&&Oe(e.actions)};function Zn(){var e=ut.innerParams.get(this),t=ut.domCache.get(this);return t?ke(t.popup,e.input):null}function Yn(e,t,n){var s=ut.domCache.get(e);t.forEach((function(e){s[e].disabled=n}))}function Qn(e,t){var n=Y();if(n&&e)if("radio"===e.type)for(var s=n.querySelectorAll('[name="'.concat(B.radio,'"]')),r=0;r<s.length;r++)s[r].disabled=t;else e.disabled=t}function Jn(){Yn(this,["confirmButton","denyButton","cancelButton"],!1)}function es(){Yn(this,["confirmButton","denyButton","cancelButton"],!0)}function ts(){Qn(this.getInput(),!1)}function ns(){Qn(this.getInput(),!0)}function ss(e){var t=ut.domCache.get(this),n=ut.innerParams.get(this);we(t.validationMessage,e),t.validationMessage.className=B["validation-message"],n.customClass&&n.customClass.validationMessage&&Ee(t.validationMessage,n.customClass.validationMessage),Ne(t.validationMessage);var s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",B["validation-message"]),Ce(s),Ee(s,B.inputerror))}function rs(){var e=ut.domCache.get(this);e.validationMessage&&Oe(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),_e(t,B.inputerror))}var as={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},is=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],os={},ls=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],us=function(e){return Object.prototype.hasOwnProperty.call(as,e)},cs=function(e){return-1!==is.indexOf(e)},hs=function(e){return os[e]},ds=function(e){us(e)||P('Unknown parameter "'.concat(e,'"'))},ps=function(e){ls.includes(e)&&P('The parameter "'.concat(e,'" is incompatible with toasts'))},fs=function(e){var t=hs(e);t&&G(e,t)},ms=function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&P('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)ds(t),e.toast&&ps(t),fs(t)};function gs(e){var t=Y(),n=ut.innerParams.get(this);if(t&&!ve(t,n.hideClass.popup)){var s=ys(e),r=Object.assign({},n,s);Lt(this,r),ut.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}else P("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var ys=function(e){var t={};return Object.keys(e).forEach((function(n){cs(n)?t[n]=e[n]:P("Invalid parameter to update: ".concat(n))})),t};function bs(){var e=ut.domCache.get(this),t=ut.innerParams.get(this);t?(e.popup&&R.swalCloseEventFinishedCallback&&(R.swalCloseEventFinishedCallback(),delete R.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),ws(this)):vs(this)}var ws=function(e){vs(e),delete e.params,delete R.keydownHandler,delete R.keydownTarget,delete R.currentInstance},vs=function(e){e.isAwaitingPromise?(xs(ut,e),e.isAwaitingPromise=!0):(xs(en,e),xs(ut,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},xs=function(e,t){for(var n in e)e[n].delete(t)},As=Object.freeze({__proto__:null,_destroy:bs,close:yn,closeModal:yn,closePopup:yn,closeToast:yn,disableButtons:es,disableInput:ns,disableLoading:Kn,enableButtons:Jn,enableInput:ts,getInput:Zn,handleAwaitingPromise:vn,hideLoading:Kn,rejectPromise:wn,resetValidationMessage:rs,showValidationMessage:ss,update:gs}),ks=function(e,t,n){e.toast?Cs(e,t,n):(_s(t),Is(t),Ts(e,t,n))},Cs=function(e,t,n){t.popup.onclick=function(){e&&(Ss(e)||e.timer||e.input)||n(Gt.close)}},Ss=function(e){return!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton)},Es=!1,_s=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=function(){},t.target===e.container&&(Es=!0)}}},Is=function(e){e.container.onmousedown=function(t){t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=function(){},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(Es=!0)}}},Ts=function(e,t,n){t.container.onclick=function(s){Es?Es=!1:s.target===t.container&&q(e.allowOutsideClick)&&n(Gt.backdrop)}},Ns=function(e){return"object"===u(e)&&e.jquery},Os=function(e){return e instanceof Element||Ns(e)},Rs=function(e){var t={};return"object"!==u(e[0])||Os(e[0])?["title","html","icon"].forEach((function(n,s){var r=e[s];"string"==typeof r||Os(r)?t[n]=r:void 0!==r&&V("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(u(r)))})):Object.assign(t,e[0]),t};function Ds(){for(var e=this,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return r(e,n)}function Ms(e){var n=function(n){function s(){return c(this,s),t(this,s,arguments)}return p(s,n),d(s,[{key:"_main",value:function(t,n){return w(f(s.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}])}(this);return n}var Fs=function(){return R.timeout&&R.timeout.getTimerLeft()},Bs=function(){if(R.timeout)return Ve(),R.timeout.stop()},zs=function(){if(R.timeout){var e=R.timeout.start();return Pe(e),e}},Ls=function(){var e=R.timeout;return e&&(e.running?Bs():zs())},Ps=function(e){if(R.timeout){var t=R.timeout.increase(e);return Pe(t,!0),t}},Vs=function(){return!(!R.timeout||!R.timeout.isRunning())},Ws=!1,Us={};function Gs(){Us[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ws||(document.body.addEventListener("click",js),Ws=!0)}var qs,js=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in Us){var s=t.getAttribute(n);if(s)return void Us[n].fire({template:s})}},Hs=Object.freeze({__proto__:null,argsToParams:Rs,bindClickHandler:Gs,clickCancel:Ut,clickConfirm:Vt,clickDeny:Wt,enableLoading:Sn,fire:Ds,getActions:ce,getCancelButton:ie,getCloseButton:pe,getConfirmButton:ae,getContainer:K,getDenyButton:oe,getFocusableElements:me,getFooter:he,getHtmlContainer:te,getIcon:Q,getIconContent:J,getImage:ne,getInputLabel:le,getLoader:ue,getPopup:Y,getProgressSteps:se,getTimerLeft:Fs,getTimerProgressBar:de,getTitle:ee,getValidationMessage:re,increaseTimer:Ps,isDeprecatedParameter:hs,isLoading:be,isTimerRunning:Vs,isUpdatableParameter:cs,isValidParameter:us,isVisible:Pt,mixin:Ms,resumeTimer:zs,showLoading:Sn,stopTimer:Bs,toggleTimer:Ls}),$s=function(){function e(t,n){c(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return d(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),Ks=["swal-title","swal-html","swal-footer"],Xs=function(e){var t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return sr(n),Object.assign(Zs(n),Ys(n),Qs(n),Js(n),er(n),tr(n),nr(n,Ks))},Zs=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){rr(e,["name","value"]);var n=e.getAttribute("name"),s=e.getAttribute("value");"boolean"==typeof as[n]?t[n]="false"!==s:"object"===u(as[n])?t[n]=JSON.parse(s):t[n]=s})),t},Ys=function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),s=e.getAttribute("value");t[n]=new Function("return ".concat(s))()})),t},Qs=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){rr(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(L(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Js=function(e){var t={},n=e.querySelector("swal-image");return n&&(rr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},er=function(e){var t={},n=e.querySelector("swal-icon");return n&&(rr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},tr=function(e){var t={},n=e.querySelector("swal-input");n&&(rr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var s=Array.from(e.querySelectorAll("swal-input-option"));return s.length&&(t.inputOptions={},s.forEach((function(e){rr(e,["value"]);var n=e.getAttribute("value"),s=e.innerHTML;t.inputOptions[n]=s}))),t},nr=function(e,t){var n={};for(var s in t){var r=t[s],a=e.querySelector(r);a&&(rr(a,[]),n[r.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},sr=function(e){var t=Ks.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||P("Unrecognized element <".concat(n,">"))}))},rr=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&P(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},ar=10,ir=function(e){var t=K(),n=Y();"function"==typeof e.willOpen&&e.willOpen(n);var s=window.getComputedStyle(document.body).overflowY;cr(t,n,e),setTimeout((function(){lr(t,n)}),ar),ge()&&(ur(t,e.scrollbarPadding,s),tn()),ye()||R.previousActiveElement||(R.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((function(){return e.didOpen(n)})),_e(t,B["no-transition"])},or=function e(t){var n=Y();if(t.target===n&&Je){var s=K();n.removeEventListener(Je,e),s.style.overflowY="auto"}},lr=function(e,t){Je&&Le(t)?(e.style.overflowY="hidden",t.addEventListener(Je,or)):e.style.overflowY="auto"},ur=function(e,t,n){rn(),t&&"hidden"!==n&&pn(n),setTimeout((function(){e.scrollTop=0}))},cr=function(e,t,n){Ee(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),Ne(t,"grid"),setTimeout((function(){Ee(t,n.showClass.popup),t.style.removeProperty("opacity")}),ar)):Ne(t,"grid"),Ee([document.documentElement,document.body],B.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ee([document.documentElement,document.body],B["height-auto"])},hr={email:function(e,t){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function dr(e){e.inputValidator||("email"===e.input&&(e.inputValidator=hr.email),"url"===e.input&&(e.inputValidator=hr.url))}function pr(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(P('Target parameter is not valid, defaulting to "body"'),e.target="body")}function fr(e){dr(e),e.showLoaderOnConfirm&&!e.preConfirm&&P("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),pr(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Xe(e)}var mr=new WeakMap,gr=function(){function e(){if(c(this,e),N(this,mr,void 0),"undefined"!=typeof window){qs=this;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=Object.freeze(this.constructor.argsToParams(n));this.params=a,this.isAwaitingPromise=!1,s(mr,this,this._main(qs.params))}}return d(e,[{key:"_main",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ms(Object.assign({},t,e)),R.currentInstance){var n=en.swalPromiseResolve.get(R.currentInstance),s=R.currentInstance.isAwaitingPromise;R.currentInstance._destroy(),s||n({isDismissed:!0}),ge()&&nn()}R.currentInstance=qs;var r=br(e,t);fr(r),Object.freeze(r),R.timeout&&(R.timeout.stop(),delete R.timeout),clearTimeout(R.restoreFocusTimeout);var a=wr(qs);return Lt(qs,r),ut.innerParams.set(qs,r),yr(qs,a,r)}},{key:"then",value:function(e){return n(mr,this).then(e)}},{key:"finally",value:function(e){return n(mr,this).finally(e)}}])}(),yr=function(e,t,n){return new Promise((function(s,r){var a=function(t){e.close({isDismissed:!0,dismiss:t})};en.swalPromiseResolve.set(e,s),en.swalPromiseReject.set(e,r),t.confirmButton.onclick=function(){Pn(e)},t.denyButton.onclick=function(){Vn(e)},t.cancelButton.onclick=function(){Wn(e,a)},t.closeButton.onclick=function(){a(Gt.close)},ks(n,t,a),jt(R,n,a),_n(e,n),ir(n),vr(R,n,a),xr(t,n),setTimeout((function(){t.container.scrollTop=0}))}))},br=function(e,t){var n=Xs(e),s=Object.assign({},as,t,n,e);return s.showClass=Object.assign({},as.showClass,s.showClass),s.hideClass=Object.assign({},as.hideClass,s.hideClass),!1===s.animation&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},wr=function(e){var t={popup:Y(),container:K(),actions:ce(),confirmButton:ae(),denyButton:oe(),cancelButton:ie(),loader:ue(),closeButton:pe(),validationMessage:re(),progressSteps:se()};return ut.domCache.set(e,t),t},vr=function(e,t,n){var s=de();Oe(s),t.timer&&(e.timeout=new $s((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(Ne(s),Ae(s,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&Pe(t.timer)}))))},xr=function(e,t){t.toast||(q(t.allowEnterKey)?Ar(e,t)||Ht(-1,1):kr())},Ar=function(e,t){return t.focusDeny&&Fe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Fe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!Fe(e.confirmButton)||(e.confirmButton.focus(),0))},kr=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Cr=new Date,Sr=localStorage.getItem("swal-initiation");Sr?(Cr.getTime()-Date.parse(Sr))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((function(){e.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(Cr))}gr.prototype.disableButtons=es,gr.prototype.enableButtons=Jn,gr.prototype.getInput=Zn,gr.prototype.disableInput=ns,gr.prototype.enableInput=ts,gr.prototype.hideLoading=Kn,gr.prototype.disableLoading=Kn,gr.prototype.showValidationMessage=ss,gr.prototype.resetValidationMessage=rs,gr.prototype.close=yn,gr.prototype.closePopup=yn,gr.prototype.closeModal=yn,gr.prototype.closeToast=yn,gr.prototype.rejectPromise=wn,gr.prototype.update=gs,gr.prototype._destroy=bs,Object.assign(gr,Hs),Object.keys(As).forEach((function(e){gr[e]=function(){var t;return qs&&qs[e]?(t=qs)[e].apply(t,arguments):null}})),gr.DismissReason=Gt,gr.version="11.10.8";var Er=gr;return Er.default=Er,Er}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)},9171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AMOscillator:()=>fi,AMSynth:()=>Hi,Abs:()=>Ni,Add:()=>xi,AmplitudeEnvelope:()=>Gi,Analyser:()=>ml,AudioToGain:()=>di,AutoFilter:()=>Ro,AutoPanner:()=>Mo,AutoWah:()=>Bo,BaseContext:()=>Kr,BiquadFilter:()=>$i,BitCrusher:()=>Lo,Buffer:()=>Xl,BufferSource:()=>Yl,Buffers:()=>Zl,Channel:()=>kl,Chebyshev:()=>Vo,Chorus:()=>jo,Clock:()=>za,Compressor:()=>Tl,Context:()=>Xr,Convolver:()=>Fl,CrossFade:()=>To,DCMeter:()=>wl,Delay:()=>La,Destination:()=>Vl,Distortion:()=>Ho,Draw:()=>jl,DuoSynth:()=>Yi,EQ3:()=>Ml,Emitter:()=>$r,Envelope:()=>Pi,FFT:()=>bl,FMOscillator:()=>mi,FMSynth:()=>Qi,FatOscillator:()=>yi,FeedbackCombFilter:()=>lo,FeedbackDelay:()=>Ko,Filter:()=>Ki,Follower:()=>Fo,Freeverb:()=>Jo,Frequency:()=>wa,FrequencyClass:()=>ga,FrequencyEnvelope:()=>Xi,FrequencyShifter:()=>Zo,Gain:()=>Ta,GainToAudio:()=>Oi,Gate:()=>Nl,GrainPlayer:()=>Ti,GreaterThan:()=>Fi,GreaterThanZero:()=>Mi,IntervalTimeline:()=>Ha,JCReverb:()=>sl,LFO:()=>Ci,Limiter:()=>Ol,Listener:()=>Gl,Loop:()=>go,LowpassCombFilter:()=>co,Master:()=>Wl,MembraneSynth:()=>to,Merge:()=>Uo,MetalSynth:()=>eo,Meter:()=>yl,MidSideCompressor:()=>Rl,MidSideMerge:()=>cl,MidSideSplit:()=>ul,Midi:()=>Ua,MidiClass:()=>Wa,Mono:()=>Cl,MonoSynth:()=>Zi,MultibandCompressor:()=>Dl,MultibandSplit:()=>Sl,Multiply:()=>pi,Negate:()=>Ri,Noise:()=>ni,NoiseSynth:()=>no,Offline:()=>Pa,OfflineContext:()=>ea,OmniOscillator:()=>vi,OnePoleFilter:()=>uo,Oscillator:()=>ui,PWMOscillator:()=>bi,PanVol:()=>Al,Panner:()=>Do,Panner3D:()=>_l,Param:()=>Ca,Part:()=>yo,Pattern:()=>_o,Phaser:()=>ol,PingPongDelay:()=>al,PitchShift:()=>il,Player:()=>_i,Players:()=>Ii,PluckSynth:()=>ho,PolySynth:()=>po,Pow:()=>Bi,PulseOscillator:()=>gi,Recorder:()=>Il,Reverb:()=>ll,Sampler:()=>fo,Scale:()=>Ai,ScaleExp:()=>zi,Sequence:()=>Io,Signal:()=>Ra,Solo:()=>xl,Split:()=>Wo,StateTimeline:()=>ka,StereoWidener:()=>dl,Subtract:()=>Di,SyncedSignal:()=>Li,Synth:()=>qi,Ticks:()=>qa,TicksClass:()=>Ga,Time:()=>ma,TimeClass:()=>fa,Timeline:()=>Ur,ToneAudioBuffer:()=>Jr,ToneAudioBuffers:()=>Va,ToneAudioNode:()=>Sa,ToneBufferSource:()=>ti,ToneEvent:()=>mo,ToneOscillatorNode:()=>li,Transport:()=>Ll,TransportTime:()=>xa,TransportTimeClass:()=>va,Tremolo:()=>pl,Unit:()=>r,UserMedia:()=>ii,Vibrato:()=>fl,Volume:()=>Ka,WaveShaper:()=>hi,Waveform:()=>vl,Zero:()=>ki,connect:()=>_a,connectSeries:()=>Ea,connectSignal:()=>Da,context:()=>$l,dbToGain:()=>ia,debug:()=>s,defaultArg:()=>Dr,disconnect:()=>Ia,ftom:()=>ca,gainToDb:()=>oa,getContext:()=>sa,getDestination:()=>Ul,getDraw:()=>Hl,getListener:()=>ql,getTransport:()=>Pl,immediate:()=>zl,intervalToFrequencyRatio:()=>la,isArray:()=>yr,isBoolean:()=>gr,isDefined:()=>dr,isFunction:()=>pr,isNote:()=>wr,isNumber:()=>fr,isObject:()=>mr,isString:()=>br,isUndef:()=>hr,loaded:()=>Kl,mtof:()=>da,now:()=>Bl,optionsFromArguments:()=>Rr,setContext:()=>ra,start:()=>aa,supported:()=>sr,version:()=>a});var s={};n.r(s),n.d(s,{assert:()=>rr,assertContextRunning:()=>ir,assertRange:()=>ar,log:()=>ur,setLogger:()=>lr,warn:()=>cr});var r={};n.r(r);const a="14.7.77",i=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),o=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),l=(e,t)=>({startTime:t,type:"setValue",value:e}),u=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),c=(e,t,{startTime:n,target:s,timeConstant:r})=>s+(t-s)*Math.exp((n-e)/r),h=e=>"exponentialRampToValue"===e.type,d=e=>"linearRampToValue"===e.type,p=e=>h(e)||d(e),f=e=>"setValue"===e.type,m=e=>"setValueCurve"===e.type,g=(e,t,n,s)=>{const r=e[t];return void 0===r?s:p(r)||f(r)?r.value:m(r)?r.values[r.values.length-1]:c(n,g(e,t-1,r.startTime,s),r)},y=(e,t,n,s,r)=>void 0===n?[s.insertTime,r]:p(n)?[n.endTime,n.value]:f(n)?[n.startTime,n.value]:m(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,g(e,t-1,n.startTime,r)],b=e=>"cancelAndHold"===e.type,w=e=>"cancelScheduledValues"===e.type,v=e=>b(e)||w(e)?e.cancelTime:h(e)||d(e)?e.endTime:e.startTime,x=(e,t,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((e-t)/(s-t)):0,A=(e,t,n,{endTime:s,value:r})=>n+(e-t)/(s-t)*(r-n),k=(e,{duration:t,startTime:n,values:s})=>((e,t)=>{const n=Math.floor(t),s=Math.ceil(t);return n===s?e[n]:(1-(t-n))*e[n]+(1-(s-t))*e[s]})(s,(e-n)/t*(s.length-1)),C=e=>"setTarget"===e.type;class S{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=v(e);if(b(e)||w(e)){const n=this._automationEvents.findIndex((n=>w(e)&&m(n)?n.startTime+n.duration>=t:v(n)>=t)),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),b(e)){const e=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&p(s)){if(void 0!==e&&C(e))throw new Error("The internal list is malformed.");const n=void 0===e?s.insertTime:m(e)?e.startTime+e.duration:v(e),r=void 0===e?this._defaultValue:m(e)?e.values[e.values.length-1]:e.value,a=h(s)?x(t,n,r,s):A(t,n,r,s),l=h(s)?i(a,t,this._currenTime):o(a,t,this._currenTime);this._automationEvents.push(l)}if(void 0!==e&&C(e)&&this._automationEvents.push(l(this.getValue(t),t)),void 0!==e&&m(e)&&e.startTime+e.duration>t){const n=t-e.startTime,s=(e.values.length-1)/e.duration,r=Math.max(2,1+Math.ceil(n*s)),a=n/(r-1)*s,i=e.values.slice(0,r);if(a<1)for(let t=1;t<r;t+=1){const n=a*t%1;i[t]=e.values[t-1]*(1-n)+e.values[t]*n}this._automationEvents[this._automationEvents.length-1]=u(i,e.startTime,n)}}}else{const n=this._automationEvents.findIndex((e=>v(e)>t)),s=-1===n?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[n-1];if(void 0!==s&&m(s)&&v(s)+s.duration>t)return!1;const r=h(e)?i(e.value,e.endTime,this._currenTime):d(e)?o(e.value,t,this._currenTime):e;if(-1===n)this._automationEvents.push(r);else{if(m(e)&&t+e.duration>v(this._automationEvents[n]))return!1;this._automationEvents.splice(n,0,r)}}return!0}flush(e){const t=this._automationEvents.findIndex((t=>v(t)>e));if(t>1){const e=this._automationEvents.slice(t-1),n=e[0];C(n)&&e.unshift(l(g(this._automationEvents,t-2,n.startTime,this._defaultValue),n.startTime)),this._automationEvents=e}}getValue(e){if(0===this._automationEvents.length)return this._defaultValue;const t=this._automationEvents.findIndex((t=>v(t)>e)),n=this._automationEvents[t],s=(-1===t?this._automationEvents.length:t)-1,r=this._automationEvents[s];if(void 0!==r&&C(r)&&(void 0===n||!p(n)||n.insertTime>e))return c(e,g(this._automationEvents,s-1,r.startTime,this._defaultValue),r);if(void 0!==r&&f(r)&&(void 0===n||!p(n)))return r.value;if(void 0!==r&&m(r)&&(void 0===n||!p(n)||r.startTime+r.duration>e))return e<r.startTime+r.duration?k(e,r):r.values[r.values.length-1];if(void 0!==r&&p(r)&&(void 0===n||!p(n)))return r.value;if(void 0!==n&&h(n)){const[t,a]=y(this._automationEvents,s,r,n,this._defaultValue);return x(e,t,a,n)}if(void 0!==n&&d(n)){const[t,a]=y(this._automationEvents,s,r,n,this._defaultValue);return A(e,t,a,n)}return this._defaultValue}}const E=new WeakSet,_=new WeakMap,I=new WeakMap,T=new WeakMap,N=new WeakMap,O=new WeakMap,R=new WeakMap,D=new WeakMap,M=new WeakMap,F=new WeakMap,B={construct:()=>B},z=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,L=(e,t)=>{const n=[];let s=e.replace(/^[\s]+/,""),r=s.match(z);for(;null!==r;){const e=r[1].slice(1,-1),a=r[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(a),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(z)}return[n.join(";"),s]},P=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},V=e=>{if(!(e=>{try{new new Proxy(e,B)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},W=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},U=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return e.delete(s),s},G=(e,t,n,s)=>{const r=W(e,t),a=U(r,(e=>e[0]===n&&e[1]===s));return 0===r.size&&e.delete(t),a},q=e=>W(R,e),j=e=>{if(E.has(e))throw new Error("The AudioNode is already stored.");E.add(e),q(e).forEach((e=>e(!0)))},H=e=>"port"in e,$=e=>{if(!E.has(e))throw new Error("The AudioNode is not stored.");E.delete(e),q(e).forEach((e=>e(!1)))},K=(e,t)=>{!H(e)&&t.every((e=>0===e.size))&&$(e)},X={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Z=(e,t)=>e.context===t,Y=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Q=()=>new DOMException("","IndexSizeError"),J=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(e){if(12===e.code)throw Q();throw e}})},ee={numberOfChannels:1},te=-34028234663852886e22,ne=-te,se=e=>E.has(e),re={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ae=e=>W(_,e),ie=e=>W(T,e),oe=(e,t)=>{const{activeInputs:n}=ae(e);n.forEach((n=>n.forEach((([n])=>{t.includes(e)||oe(n,[...t,e])}))));const s=(e=>"playbackRate"in e)(e)?[e.playbackRate]:H(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e)(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const e of s){const n=ie(e);void 0!==n&&n.activeInputs.forEach((([e])=>oe(e,t)))}se(e)&&$(e)},le=e=>{oe(e.destination,[])},ue=e=>void 0===e||"number"==typeof e||"string"==typeof e&&("balanced"===e||"interactive"===e||"playback"===e),ce=e=>"context"in e,he=e=>ce(e[0]),de=(e,t,n,s)=>{for(const t of e)if(n(t)){if(s)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},pe=(e,t,[n,s],r)=>{de(e,[t,n,s],(e=>e[0]===t&&e[1]===n),r)},fe=(e,[t,n,s],r)=>{const a=e.get(t);void 0===a?e.set(t,new Set([[n,s]])):de(a,[n,s],(e=>e[0]===n),r)},me=e=>"inputs"in e,ge=(e,t,n,s)=>{if(me(t)){const r=t.inputs[s];return e.connect(r,n,0),[r,n,0]}return e.connect(t,n,s),[t,n,s]},ye=(e,t,n)=>{for(const s of e)if(s[0]===t&&s[1]===n)return e.delete(s),s;return null},be=(e,t)=>{if(!q(e).delete(t))throw new Error("Missing the expected event listener.")},we=(e,t,n)=>{const s=W(e,t),r=U(s,(e=>e[0]===n));return 0===s.size&&e.delete(t),r},ve=(e,t,n,s)=>{me(t)?e.disconnect(t.inputs[s],n,0):e.disconnect(t,n,s)},xe=e=>W(I,e),Ae=e=>W(N,e),ke=e=>D.has(e),Ce=e=>!E.has(e),Se=(e,t)=>new Promise((n=>{if(null!==t)n(!0);else{const t=e.createScriptProcessor(256,1,1),s=e.createGain(),r=e.createBuffer(1,2,44100),a=r.getChannelData(0);a[0]=1,a[1]=1;const i=e.createBufferSource();i.buffer=r,i.loop=!0,i.connect(t).connect(e.destination),i.connect(s),i.disconnect(s),t.onaudioprocess=s=>{const r=s.inputBuffer.getChannelData(0);Array.prototype.some.call(r,(e=>1===e))?n(!0):n(!1),i.stop(),t.onaudioprocess=null,i.disconnect(t),t.disconnect(e.destination)},i.start()}})),Ee=(e,t)=>{const n=new Map;for(const t of e)for(const e of t){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},_e=e=>"context"in e,Ie=e=>{const t=new Map;e.connect=(e=>(n,s=0,r=0)=>{const a=_e(n)?e(n,s,r):e(n,s),i=t.get(n);return void 0===i?t.set(n,[{input:r,output:s}]):i.every((e=>e.input!==r||e.output!==s))&&i.push({input:r,output:s}),a})(e.connect.bind(e)),e.disconnect=(n=>(s,r,a)=>{if(n.apply(e),void 0===s)t.clear();else if("number"==typeof s)for(const[e,n]of t){const r=n.filter((e=>e.output!==s));0===r.length?t.delete(e):t.set(e,r)}else if(t.has(s))if(void 0===r)t.delete(s);else{const e=t.get(s);if(void 0!==e){const n=e.filter((e=>e.output!==r&&(e.input!==a||void 0===a)));0===n.length?t.delete(s):t.set(s,n)}}for(const[n,s]of t)s.forEach((t=>{_e(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})(e.disconnect)},Te=(e,t,n,s)=>{const{activeInputs:r,passiveInputs:a}=ie(t),{outputs:i}=ae(e),o=q(e),l=i=>{const o=xe(e),l=Ae(t);if(i){const t=we(a,e,n);pe(r,e,t,!1),s||ke(e)||o.connect(l,n)}else{const t=((e,t,n)=>U(e,(e=>e[0]===t&&e[1]===n)))(r,e,n);fe(a,t,!1),s||ke(e)||o.disconnect(l,n)}};return!!de(i,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(o.add(l),se(e)?pe(r,e,[n,l],!0):fe(a,[e,n,l],!0),!0)},Ne=(e,t,n,s,r)=>{const[a,i]=((e,t,n,s)=>{const{activeInputs:r,passiveInputs:a}=ae(t),i=ye(r[s],e,n);if(null===i)return[G(a,e,n,s)[2],!1];return[i[2],!0]})(e,n,s,r);if(null!==a&&(be(e,a),!i||t||ke(e)||ve(xe(e),xe(n),s,r)),se(n)){const{activeInputs:e}=ae(n);K(n,e)}},Oe=(e,t,n,s)=>{const[r,a]=((e,t,n)=>{const{activeInputs:s,passiveInputs:r}=ie(t),a=ye(s,e,n);if(null===a)return[we(r,e,n)[1],!1];return[a[2],!0]})(e,n,s);null!==r&&(be(e,r),!a||t||ke(e)||xe(e).disconnect(Ae(n),s))};class Re{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach(((n,s)=>e.call(t,n,s,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const De={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Me(e,t,n,s,r){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],s,r);else{const a=e.getChannelData(s);if(0===t[n].byteLength)t[n]=a.slice(r,r+128);else{const e=new Float32Array(a.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const Fe=(e,t,n,s,r)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],s,r):0!==t[n].byteLength&&e.getChannelData(s).set(t[n],r)},Be=(e,t)=>{const n=[];for(let s=0;s<e;s+=1){const e=[],r="number"==typeof t?t:t[s];for(let t=0;t<r;t+=1)e.push(new Float32Array(128));n.push(e)}return n},ze=async(e,t,n,s,r,a,i)=>{const o=null===t?128*Math.ceil(e.context.length/128):t.length,l=s.channelCount*s.numberOfInputs,u=r.reduce(((e,t)=>e+t),0),c=0===u?null:n.createBuffer(u,o,n.sampleRate);if(void 0===a)throw new Error("Missing the processor constructor.");const h=ae(e),d=await((e,t)=>{const n=W(F,e),s=xe(t);return W(n,s)})(n,e),p=Be(s.numberOfInputs,s.channelCount),f=Be(s.numberOfOutputs,r),m=Array.from(e.parameters.keys()).reduce(((e,t)=>({...e,[t]:new Float32Array(128)})),{});for(let u=0;u<o;u+=128){if(s.numberOfInputs>0&&null!==t)for(let e=0;e<s.numberOfInputs;e+=1)for(let n=0;n<s.channelCount;n+=1)Me(t,p[e],n,n,u);void 0!==a.parameterDescriptors&&null!==t&&a.parameterDescriptors.forEach((({name:e},n)=>{Me(t,m,e,l+n,u)}));for(let e=0;e<s.numberOfInputs;e+=1)for(let t=0;t<r[e];t+=1)0===f[e][t].byteLength&&(f[e][t]=new Float32Array(128));try{const e=p.map(((e,t)=>0===h.activeInputs[t].size?[]:e)),t=i(u/n.sampleRate,n.sampleRate,(()=>d.process(e,f,m)));if(null!==c)for(let e=0,t=0;e<s.numberOfOutputs;e+=1){for(let n=0;n<r[e];n+=1)Fe(c,f[e],n,t+n,u);t+=r[e]}if(!t)break}catch(t){e.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}));break}}return c},Le={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Pe={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Ve={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},We={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ue={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Ge=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((s=>{const r=()=>{n.onmessage=null,t.close(),n.close(),s()};n.onmessage=()=>r();try{t.postMessage(e,[e])}catch{}finally{r()}}))},qe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},je=(e,t,n)=>{const s=t[n];if(void 0===s)throw e();return s},He={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},$e={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ke=()=>new DOMException("","InvalidStateError"),Xe=()=>new DOMException("","InvalidAccessError"),Ze={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ye=(e,t,n,s,r,a,i,o,l,u,c)=>{const h=u.length;let d=o;for(let o=0;o<h;o+=1){let h=n[0]*u[o];for(let t=1;t<r;t+=1){const s=d-t&l-1;h+=n[t]*a[s],h-=e[t]*i[s]}for(let e=r;e<s;e+=1)h+=n[e]*a[d-e&l-1];for(let n=r;n<t;n+=1)h-=e[n]*i[d-n&l-1];a[d]=u[o],i[d]=h,d=d+1&l-1,c[o]=h}return d},Qe={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Je=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},et={numberOfChannels:1},tt=(e,t,n)=>{const s=t[n];void 0!==s&&s!==e[n]&&(e[n]=s)},nt=(e,t)=>{tt(e,t,"channelCount"),tt(e,t,"channelCountMode"),tt(e,t,"channelInterpretation")},st=e=>"function"==typeof e.getFloatTimeDomainData,rt=(e,t,n)=>{const s=t[n];void 0!==s&&s!==e[n].value&&(e[n].value=s)},at=e=>{e.start=(t=>(n=0,s=0,r)=>{if("number"==typeof r&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,s,r)})(e.start)},it=e=>{var t;e.stop=(t=e.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},ot=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),lt=async(e,t)=>{const n=await(e=>new Promise(((t,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:e})=>{s.close(),r.close(),t(e)},s.onmessageerror=({data:e})=>{s.close(),r.close(),n(e)},r.postMessage(e)})))(t);return new e(n)},ut=(e,t)=>{const n=e.createBiquadFilter();return nt(n,t),rt(n,t,"Q"),rt(n,t,"detune"),rt(n,t,"frequency"),rt(n,t,"gain"),tt(n,t,"type"),n},ct=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return nt(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Ke()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Ke()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Ke()}})})(n),n},ht=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),dt=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return nt(n,t),rt(n,t,"delayTime"),n},pt=(e,t)=>{const n=e.createGain();return nt(n,t),rt(n,t,"gain"),n};function ft(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function mt(e,t){let n=[0,0];for(let a=e.length-1;a>=0;a-=1)r=t,n=[(s=n)[0]*r[0]-s[1]*r[1],s[0]*r[1]+s[1]*r[0]],n[0]+=e[a];var s,r;return n}const gt=(e,t,n,s)=>e.createScriptProcessor(t,n,s),yt=()=>new DOMException("","NotSupportedError"),bt={numberOfChannels:1},wt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},vt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},xt={disableNormalization:!1},At={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},kt=()=>new DOMException("","UnknownError"),Ct={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},St=(e,t,n)=>void 0===e.copyFromChannel?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),Et=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},_t=(e,t,n,s)=>{let r=e;for(;!r.hasOwnProperty(t);)r=Object.getPrototypeOf(r);const{get:a,set:i}=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,{get:n(a),set:s(i)})},It=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(s){if(9!==s.code)throw s;It(e,t,n+1e-7)}},Tt=e=>{const t=e.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},Nt=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Ot=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},Rt=()=>{try{new DOMException}catch{return!1}return!0},Dt=()=>new Promise((e=>{const t=new ArrayBuffer(0),{port1:n,port2:s}=new MessageChannel;n.onmessage=({data:t})=>e(null!==t),s.postMessage(t,[t])})),Mt=(e,t)=>{const n=t.createGain();e.connect(n);const s=(t=>()=>{t.call(e,n),e.removeEventListener("ended",s)})(e.disconnect);e.addEventListener("ended",s),ht(e,n),e.stop=(t=>{let s=!1;return(r=0)=>{if(s)try{t.call(e,r)}catch{n.gain.setValueAtTime(0,r)}else t.call(e,r),s=!0}})(e.stop)},Ft=(e,t)=>n=>{const s={value:e};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof t?t.call(e,n):t.handleEvent.call(e,n)},Bt=(e=>(t,n,[s,r,a],i)=>{e(t[r],[n,s,a],(e=>e[0]===n&&e[1]===s),i)})(de),zt=(e=>(t,n,[s,r,a],i)=>{const o=t.get(s);void 0===o?t.set(s,new Set([[r,n,a]])):e(o,[r,n,a],(e=>e[0]===r&&e[1]===n),i)})(de),Lt=(e=>(t,n,s,r)=>e(t[r],(e=>e[0]===n&&e[1]===s)))(U),Pt=new WeakMap,Vt=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(Pt),Wt=(Ut=new Map,Gt=new WeakMap,(e,t)=>{const n=Gt.get(e);if(void 0!==n)return n;const s=Ut.get(e);if(void 0!==s)return s;try{const n=t();return n instanceof Promise?(Ut.set(e,n),n.catch((()=>!1)).then((t=>(Ut.delete(e),Gt.set(e,t),t)))):(Gt.set(e,n),n)}catch{return Gt.set(e,!1),!1}});var Ut,Gt;const qt="undefined"==typeof window?null:window,jt=((e,t)=>(n,s)=>{const r=n.createAnalyser();if(nt(r,s),!(s.maxDecibels>s.minDecibels))throw t();return tt(r,s,"fftSize"),tt(r,s,"maxDecibels"),tt(r,s,"minDecibels"),tt(r,s,"smoothingTimeConstant"),e(st,(()=>st(r)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const s=Math.max(n.length,e.fftSize);for(let e=0;e<s;e+=1)t[e]=.0078125*(n[e]-128);return t}})(r),r})(Wt,Q),Ht=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(ae),$t=((e,t,n)=>async(s,r,a)=>{const i=e(s);await Promise.all(i.activeInputs.map(((e,i)=>Array.from(e).map((async([e,o])=>{const l=t(e),u=await l.render(e,r),c=s.context.destination;n(e)||s===c&&n(s)||u.connect(a,o,i)})))).reduce(((e,t)=>[...e,...t]),[]))})(ae,Ht,ke),Kt=((e,t,n)=>()=>{const s=new WeakMap;return{render(r,a){const i=s.get(a);return void 0!==i?Promise.resolve(i):(async(r,a)=>{let i=t(r);if(!Z(i,a)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,fftSize:i.fftSize,maxDecibels:i.maxDecibels,minDecibels:i.minDecibels,smoothingTimeConstant:i.smoothingTimeConstant};i=e(a,t)}return s.set(a,i),await n(r,a,i),i})(r,a)}}})(jt,xe,$t),Xt=(Zt=O,e=>{const t=Zt.get(e);if(void 0===t)throw Ke();return t});var Zt;const Yt=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(qt),Qt=(e=>t=>null!==e&&t instanceof e)(Yt),Jt=new WeakMap,en=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,s){if(null!==n){let r=this._listeners.get(n);void 0===r&&(r=e(this,n),"function"==typeof n&&this._listeners.set(n,r)),this._nativeEventTarget.addEventListener(t,r,s)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const s=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===s?null:s,n)}})(Ft),tn=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(qt),nn=(e=>t=>null!==e&&t instanceof e)(tn),sn=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(qt),rn=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(qt),an=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(qt),on=((e,t,n,s,r,a,i,o,l,u,c,h,d,p,f,m)=>class extends u{constructor(t,s,r,a){super(r),this._context=t,this._nativeAudioNode=r;const i=c(t);h(i)&&!0!==n(Se,(()=>Se(i,m)))&&Ie(r),I.set(this,r),R.set(this,new Set),"closed"!==t.state&&s&&j(this),e(this,a,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,o=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const u=c(this._context),h=f(u);if(d(e)||p(e))throw a();if(ce(e)){const r=xe(e);try{const t=ge(this._nativeAudioNode,r,n,o),s=Ce(this);(h||s)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!s&&Ce(e)&&j(e)}catch(e){if(12===e.code)throw a();throw e}if(t(this,e,n,o,h)){const t=l([this],e);Ee(t,s(h))}return e}const m=Ae(e);if("playbackRate"===m.name&&1024===m.maxValue)throw i();try{this._nativeAudioNode.connect(m,n),(h||Ce(this))&&this._nativeAudioNode.disconnect(m,n)}catch(e){if(12===e.code)throw a();throw e}if(Te(this,e,n,h)){const t=l([this],e);Ee(t,s(h))}}disconnect(e,t,n){let s;const i=c(this._context),u=f(i);if(void 0===e)s=((e,t)=>{const n=ae(e),s=[];for(const r of n.outputs)he(r)?Ne(e,t,...r):Oe(e,t,...r),s.push(r[0]);return n.outputs.clear(),s})(this,u);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw r();s=((e,t,n)=>{const s=ae(e),r=[];for(const a of s.outputs)a[1]===n&&(he(a)?Ne(e,t,...a):Oe(e,t,...a),r.push(a[0]),s.outputs.delete(a));return r})(this,u,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw r();if(ce(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw r();if(s=((e,t,n,s,r)=>{const a=ae(e);return Array.from(a.outputs).filter((e=>!(e[0]!==n||void 0!==s&&e[1]!==s||void 0!==r&&e[2]!==r))).map((n=>(he(n)?Ne(e,t,...n):Oe(e,t,...n),a.outputs.delete(n),n[0])))})(this,u,e,t,n),0===s.length)throw a()}for(const e of s){const t=l([this],e);Ee(t,o)}}})((ln=_,(e,t,n)=>{const s=[];for(let e=0;e<n.numberOfInputs;e+=1)s.push(new Set);ln.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,s,r,a,i,o,l,u,c,h,d)=>{const p=new WeakMap;return(f,m,g,y,b)=>{const{activeInputs:w,passiveInputs:v}=a(m),{outputs:x}=a(f),A=o(f),k=a=>{const o=l(m),u=l(f);if(a){const t=G(v,f,g,y);e(w,f,t,!1),b||h(f)||n(u,o,g,y),d(m)&&j(m)}else{const e=s(w,f,g,y);t(v,y,e,!1),b||h(f)||r(u,o,g,y);const n=i(m);if(0===n)c(m)&&K(m,w);else{const e=p.get(m);void 0!==e&&clearTimeout(e),p.set(m,setTimeout((()=>{c(m)&&K(m,w)}),1e3*n))}}};return!!u(x,[m,g,y],(e=>e[0]===m&&e[1]===g&&e[2]===y),!0)&&(A.add(k),c(f)?e(w,f,[g,y,k],!0):t(v,y,[f,g,k],!0),!0)}})(Bt,zt,ge,Lt,ve,ae,Vt,q,xe,de,se,ke,Ce),Wt,((e,t,n,s,r,a)=>i=>(o,l)=>{const u=e.get(o);if(void 0===u){if(!i&&a(o)){const e=s(o),{outputs:a}=n(o);for(const n of a)if(he(n)){const r=s(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.disconnect(t,n[1])}}e.set(o,l)}else e.set(o,u+l)})(D,ve,ae,xe,Ae,se),Q,Xe,yt,((e,t,n,s,r,a,i,o)=>(l,u)=>{const c=t.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=a(l.context),d=o(h);if(c===u){if(t.delete(l),!d&&i(l)){const t=s(l),{outputs:a}=n(l);for(const n of a)if(he(n)){const r=s(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.connect(e,n[1])}}}else t.set(l,c-u)})(ge,D,ae,xe,Ae,Xt,se,Qt),((e,t,n)=>function s(r,a){const i=ce(a)?a:n(e,a);if((e=>"delayTime"in e)(i))return[];if(r[0]===i)return[r];if(r.includes(i))return[];const{outputs:o}=t(i);return Array.from(o).map((e=>s([...r,i],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(Jt,ae,W),en,Xt,nn,sn,rn,Qt,an);var ln;const un=((e,t,n,s,r,a)=>class extends e{constructor(e,n){const i=r(e),o={...X,...n},l=s(i,o);super(e,!1,l,a(i)?t():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(on,Kt,Q,jt,Xt,Qt),cn=new WeakSet,hn=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(qt),dn=(pn=new Uint32Array(1),e=>(pn[0]=e,pn[0]));var pn;const fn=((e,t)=>n=>{n.copyFromChannel=(s,r,a=0)=>{const i=e(a),o=e(r);if(o>=n.numberOfChannels)throw t();const l=n.length,u=n.getChannelData(o),c=s.length;for(let e=i<0?-i:0;e+i<l&&e<c;e+=1)s[e]=u[e+i]},n.copyToChannel=(s,r,a=0)=>{const i=e(a),o=e(r);if(o>=n.numberOfChannels)throw t();const l=n.length,u=n.getChannelData(o),c=s.length;for(let e=i<0?-i:0;e+i<l&&e<c;e+=1)u[e+i]=s[e]}})(dn,Q),mn=(e=>t=>{t.copyFromChannel=(n=>(s,r,a=0)=>{const i=e(a),o=e(r);if(i<t.length)return n.call(t,s,o,i)})(t.copyFromChannel),t.copyToChannel=(n=>(s,r,a=0)=>{const i=e(a),o=e(r);if(i<t.length)return n.call(t,s,o,i)})(t.copyToChannel)})(dn),gn=((e,t,n,s,r,a,i,o)=>{let l=null;return class u{constructor(u){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}={...ee,...u};null===l&&(l=new r(1,1,44100));const p=null!==s&&t(a,a)?new s({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(i(p),J(p)):t(Y,(()=>Y(p)))||o(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===u.prototype||e.has(t)}}})(cn,Wt,yt,hn,Yt,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0})(hn),fn,mn),yn=(e=>(t,n)=>{const s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(t.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)})(pt),bn=((e,t,n)=>async(s,r,a)=>{const i=t(s);await Promise.all(Array.from(i.activeInputs).map((async([t,s])=>{const i=e(t),o=await i.render(t,r);n(t)||o.connect(a,s)})))})(Ht,ie,ke),wn=(e=>(t,n,s)=>e(n,t,s))(bn),vn=((e,t,n,s,r,a,i,o,l,u,c)=>(h,d)=>{const p=h.createBufferSource();return nt(p,d),rt(p,d,"playbackRate"),tt(p,d,"buffer"),tt(p,d,"loop"),tt(p,d,"loopEnd"),tt(p,d,"loopStart"),t(n,(()=>n(h)))||(e=>{e.start=(t=>{let n=!1;return(s=0,r=0,a)=>{if(n)throw Ke();t.call(e,s,r,a),n=!0}})(e.start)})(p),t(s,(()=>s(h)))||l(p),t(r,(()=>r(h)))||u(p,h),t(a,(()=>a(h)))||at(p),t(i,(()=>i(h)))||c(p,h),t(o,(()=>o(h)))||it(p),e(h,p),p})(yn,Wt,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0}),Tt,Nt,Ot,(e=>{e.start=(t=>(n=0,s=0,r)=>{const a=e.buffer,i=null===a?s:Math.min(a.duration,s);null!==a&&i>a.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,i,r)})(e.start)}),(e=>(t,n)=>{const s=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=s),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===s?null:n}),(e=>n=>e.call(t,null===n?s:n)))})(_t),Mt),xn=((e,t)=>(n,s,r)=>(e(s).replay(r),t(s,n,r)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(ie),bn),An=((e,t,n,s,r)=>()=>{const a=new WeakMap;let i=null,o=null;return{set start(e){i=e},set stop(e){o=e},render(l,u){const c=a.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=Z(c,u);if(!h){const e={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,loop:c.loop,loopEnd:c.loopEnd,loopStart:c.loopStart,playbackRate:c.playbackRate.value};c=t(u,e),null!==i&&c.start(...i),null!==o&&c.stop(o)}return a.set(u,c),h?await e(u,l.playbackRate,c.playbackRate):await s(u,l.playbackRate,c.playbackRate),await r(l,u,c),c})(l,u)}}})(wn,vn,xe,xn,$t),kn=((e,t,n,s,r,a,i,o,l,u,c,h,d)=>(p,f,m,g=null,y=null)=>{const b=m.value,w=new S(b),v=f?s(w):null,x={get defaultValue(){return b},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===y?m.minValue:y},get value(){return m.value},set value(e){m.value=e,x.setValueAtTime(e,p.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof m.cancelAndHoldAtTime)null===v&&w.flush(p.context.currentTime),w.add(r(e)),m.cancelAndHoldAtTime(e);else{const t=Array.from(w).pop();null===v&&w.flush(p.context.currentTime),w.add(r(e));const n=Array.from(w).pop();m.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return x},cancelScheduledValues:e=>(null===v&&w.flush(p.context.currentTime),w.add(a(e)),m.cancelScheduledValues(e),x),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;const n=p.context.currentTime;return null===v&&w.flush(n),0===Array.from(w).length&&(w.add(u(b,n)),m.setValueAtTime(b,n)),w.add(i(e,t)),m.exponentialRampToValueAtTime(e,t),x},linearRampToValueAtTime(e,t){const n=p.context.currentTime;return null===v&&w.flush(n),0===Array.from(w).length&&(w.add(u(b,n)),m.setValueAtTime(b,n)),w.add(o(e,t)),m.linearRampToValueAtTime(e,t),x},setTargetAtTime:(e,t,n)=>(null===v&&w.flush(p.context.currentTime),w.add(l(e,t,n)),m.setTargetAtTime(e,t,n),x),setValueAtTime:(e,t)=>(null===v&&w.flush(p.context.currentTime),w.add(u(e,t)),m.setValueAtTime(e,t),x),setValueCurveAtTime(e,t,n){const s=e instanceof Float32Array?e:new Float32Array(e);if(null!==h&&"webkitAudioContext"===h.name){const e=t+n,r=p.context.sampleRate,a=Math.ceil(t*r),i=Math.floor(e*r),o=i-a,l=new Float32Array(o);for(let e=0;e<o;e+=1){const i=(s.length-1)/n*((a+e)/r-t),o=Math.floor(i),u=Math.ceil(i);l[e]=o===u?s[o]:(1-(i-o))*s[o]+(1-(u-i))*s[u]}null===v&&w.flush(p.context.currentTime),w.add(c(l,t,n)),m.setValueCurveAtTime(l,t,n);const u=i/r;u<e&&d(x,l[l.length-1],u),d(x,s[s.length-1],e)}else null===v&&w.flush(p.context.currentTime),w.add(c(s,t,n)),m.setValueCurveAtTime(s,t,n);return x}};return n.set(x,m),t.set(x,p),e(x,v),x})((Cn=T,(e,t)=>{Cn.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),Jt,N,(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:s}=n;t.exponentialRampToValueAtTime(s,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:s}=n;t.linearRampToValueAtTime(s,e)}else if("setTarget"===n.type){const{startTime:e,target:s,timeConstant:r}=n;t.setTargetAtTime(s,e,r)}else if("setValue"===n.type){const{startTime:e,value:s}=n;t.setValueAtTime(s,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:s,values:r}=n;t.setValueCurveAtTime(r,s,e)}}}})),(e=>({cancelTime:e,type:"cancelAndHold"})),(e=>({cancelTime:e,type:"cancelScheduledValues"})),((e,t)=>({endTime:t,type:"exponentialRampToValue",value:e})),((e,t)=>({endTime:t,type:"linearRampToValue",value:e})),((e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"})),l,u,tn,It);var Cn;const Sn=((e,t,n,s,r,a,i,o)=>class extends e{constructor(e,s){const o=a(e),l={...re,...s},u=r(o,l),c=i(o),h=c?t():null;super(e,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,ne,te)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"==typeof e?o(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){j(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),se(this)&&$(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(on,An,kn,Ke,vn,Xt,Qt,Ft),En=((e,t,n,s,r,a,i,o)=>class extends e{constructor(e,n){const s=a(e),l=i(s),u=r(s,n,l);super(e,!1,u,l?t(o):null),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(on,(e=>{const t=new WeakMap;return{render(n,s){const r=t.get(s);return void 0!==r?Promise.resolve(r):(async(n,s)=>{const r=s.destination;return t.set(s,r),await e(n,s,r),r})(n,s)}}}),Q,Ke,((e,t)=>(n,s,r)=>{const a=n.destination;if(a.channelCount!==s)try{a.channelCount=s}catch{}r&&"explicit"!==a.channelCountMode&&(a.channelCountMode="explicit"),0===a.maxChannelCount&&Object.defineProperty(a,"maxChannelCount",{value:s});const i=e(n,{channelCount:s,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return t(i,"channelCount",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t);try{a.channelCount=t}catch(e){if(t>a.maxChannelCount)throw e}})),t(i,"channelCountMode",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t),a.channelCountMode=t})),t(i,"channelInterpretation",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t),a.channelInterpretation=t})),Object.defineProperty(i,"maxChannelCount",{get:()=>a.maxChannelCount}),i.connect(a),i})(pt,_t),Xt,Qt,$t),_n=((e,t,n,s,r)=>()=>{const a=new WeakMap;return{render(i,o){const l=a.get(o);return void 0!==l?Promise.resolve(l):(async(i,o)=>{let l=n(i);const u=Z(l,o);if(!u){const e={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=t(o,e)}return a.set(o,l),u?(await e(o,i.Q,l.Q),await e(o,i.detune,l.detune),await e(o,i.frequency,l.frequency),await e(o,i.gain,l.gain)):(await s(o,i.Q,l.Q),await s(o,i.detune,l.detune),await s(o,i.frequency,l.frequency),await s(o,i.gain,l.gain)),await r(i,o,l),l})(i,o)}}})(wn,ut,xe,xn,$t),In=(e=>(t,n)=>e.set(t,n))(Pt),Tn=((e,t,n,s,r,a,i,o)=>class extends e{constructor(e,s){const l=a(e),u={...Le,...s},c=r(l,u),h=i(l);super(e,!1,c,h?n():null),this._Q=t(this,h,c.Q,ne,te),this._detune=t(this,h,c.detune,1200*Math.log2(ne),-1200*Math.log2(ne)),this._frequency=t(this,h,c.frequency,e.sampleRate/2,0),this._gain=t(this,h,c.gain,40*Math.log10(ne),te),this._nativeBiquadFilterNode=c,o(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(e){if(11===e.code)throw s();throw e}if(e.length!==t.length||t.length!==n.length)throw s()}})(on,kn,_n,Xe,ut,Xt,Qt,In),Nn=((e,t)=>(n,s,r)=>{const a=new Set;return n.connect=(r=>(i,o=0,l=0)=>{const u=0===a.size;if(t(i))return r.call(n,i,o,l),e(a,[i,o,l],(e=>e[0]===i&&e[1]===o&&e[2]===l),!0),u&&s(),i;r.call(n,i,o),e(a,[i,o],(e=>e[0]===i&&e[1]===o),!0),u&&s()})(n.connect),n.disconnect=(e=>(s,i,o)=>{const l=a.size>0;if(void 0===s)e.apply(n),a.clear();else if("number"==typeof s){e.call(n,s);for(const e of a)e[1]===s&&a.delete(e)}else{t(s)?e.call(n,s,i,o):e.call(n,s,i);for(const e of a)e[0]!==s||void 0!==i&&e[1]!==i||void 0!==o&&e[2]!==o||a.delete(e)}const u=0===a.size;l&&u&&r()})(n.disconnect),n})(de,sn),On=((e,t)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const r=n.createBufferSource();t(s,(()=>{const e=s.numberOfInputs;for(let t=0;t<e;t+=1)r.connect(s,0,t)}),(()=>r.disconnect(s)))})(Ke,Nn),Rn=((e,t)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,r),nt(r,s),r})(tn,On),Dn=((e,t,n)=>()=>{const s=new WeakMap;return{render(r,a){const i=s.get(a);return void 0!==i?Promise.resolve(i):(async(r,a)=>{let i=t(r);if(!Z(i,a)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfInputs:i.numberOfInputs};i=e(a,t)}return s.set(a,i),await n(r,a,i),i})(r,a)}}})(Rn,xe,$t),Mn=((e,t,n,s,r)=>class extends e{constructor(e,a){const i=s(e),o={...Pe,...a};super(e,!1,n(i,o),r(i)?t():null)}})(on,Dn,Rn,Xt,Qt),Fn=((e,t,n)=>()=>{const s=new WeakMap;return{render(r,a){const i=s.get(a);return void 0!==i?Promise.resolve(i):(async(r,a)=>{let i=t(r);if(!Z(i,a)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfOutputs:i.numberOfOutputs};i=e(a,t)}return s.set(a,i),await n(r,a,i),i})(r,a)}}})(ct,xe,$t),Bn=((e,t,n,s,r,a)=>class extends e{constructor(e,i){const o=s(e),l=a({...Ve,...i});super(e,!1,n(o,l),r(o)?t():null)}})(on,Fn,ct,Xt,Qt,(e=>({...e,channelCount:e.numberOfOutputs}))),zn=((e,t,n,s)=>(r,{offset:a,...i})=>{const o=r.createBuffer(1,2,44100),l=t(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...i,gain:a}),c=o.getChannelData(0);c[0]=1,c[1]=1,l.buffer=o,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(e){l.onended=e},addEventListener:(...e)=>l.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>l.dispatchEvent(e[0]),removeEventListener:(...e)=>l.removeEventListener(e[0],e[1],e[2]),start(e=0){l.start.call(l,e)},stop(e=0){l.stop.call(l,e)}};return e(r,l),s(ht(h,u),(()=>l.connect(u)),(()=>l.disconnect(u)))})(yn,vn,pt,Nn),Ln=((e,t,n,s,r)=>(a,i)=>{if(void 0===a.createConstantSource)return n(a,i);const o=a.createConstantSource();return nt(o,i),rt(o,i,"offset"),t(s,(()=>s(a)))||at(o),t(r,(()=>r(a)))||it(o),e(a,o),o})(yn,Wt,zn,Tt,Ot),Pn=((e,t,n,s,r)=>()=>{const a=new WeakMap;let i=null,o=null;return{set start(e){i=e},set stop(e){o=e},render(l,u){const c=a.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=Z(c,u);if(!h){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,offset:c.offset.value};c=t(u,e),null!==i&&c.start(i),null!==o&&c.stop(o)}return a.set(u,c),h?await e(u,l.offset,c.offset):await s(u,l.offset,c.offset),await r(l,u,c),c})(l,u)}}})(wn,Ln,xe,xn,$t),Vn=((e,t,n,s,r,a,i)=>class extends e{constructor(e,i){const o=r(e),l={...We,...i},u=s(o,l),c=a(o),h=c?n():null;super(e,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=t(this,c,u.offset,ne,te),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){j(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),se(this)&&$(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(on,kn,Pn,Ln,Xt,Qt,Ft),Wn=((e,t)=>(n,s)=>{const r=n.createConvolver();if(nt(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),tt(r,s,"buffer"),s.channelCount>2)throw e();if(t(r,"channelCount",(e=>()=>e.call(r)),(t=>n=>{if(n>2)throw e();return t.call(r,n)})),"max"===s.channelCountMode)throw e();return t(r,"channelCountMode",(e=>()=>e.call(r)),(t=>n=>{if("max"===n)throw e();return t.call(r,n)})),r})(yt,_t),Un=((e,t,n)=>()=>{const s=new WeakMap;return{render(r,a){const i=s.get(a);return void 0!==i?Promise.resolve(i):(async(r,a)=>{let i=t(r);if(!Z(i,a)){const t={buffer:i.buffer,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,disableNormalization:!i.normalize};i=e(a,t)}return s.set(a,i),me(i)?await n(r,a,i.inputs[0]):await n(r,a,i),i})(r,a)}}})(Wn,xe,$t),Gn=((e,t,n,s,r,a)=>class extends e{constructor(e,i){const o=s(e),l={...Ue,...i},u=n(o,l);super(e,!1,u,r(o)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==l.buffer&&a(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,e.sampleRate),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(on,Un,Wn,Xt,Qt,In),qn=((e,t,n,s,r)=>a=>{const i=new WeakMap;return{render(o,l){const u=i.get(l);return void 0!==u?Promise.resolve(u):(async(o,l)=>{let u=n(o);const c=Z(u,l);if(!c){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:a};u=t(l,e)}return i.set(l,u),c?await e(l,o.delayTime,u.delayTime):await s(l,o.delayTime,u.delayTime),await r(o,l,u),u})(o,l)}}})(wn,dt,xe,xn,$t),jn=((e,t,n,s,r,a,i)=>class extends e{constructor(e,o){const l=r(e),u={...qe,...o},c=s(l,u),h=a(l);super(e,!1,c,h?n(u.maxDelayTime):null),this._delayTime=t(this,h,c.delayTime),i(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(on,kn,qn,dt,Xt,Qt,In),Hn=(e=>(t,n)=>{const s=t.createDynamicsCompressor();if(nt(s,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return rt(s,n,"attack"),rt(s,n,"knee"),rt(s,n,"ratio"),rt(s,n,"release"),rt(s,n,"threshold"),s})(yt),$n=((e,t,n,s,r)=>()=>{const a=new WeakMap;return{render(i,o){const l=a.get(o);return void 0!==l?Promise.resolve(l):(async(i,o)=>{let l=n(i);const u=Z(l,o);if(!u){const e={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=t(o,e)}return a.set(o,l),u?(await e(o,i.attack,l.attack),await e(o,i.knee,l.knee),await e(o,i.ratio,l.ratio),await e(o,i.release,l.release),await e(o,i.threshold,l.threshold)):(await s(o,i.attack,l.attack),await s(o,i.knee,l.knee),await s(o,i.ratio,l.ratio),await s(o,i.release,l.release),await s(o,i.threshold,l.threshold)),await r(i,o,l),l})(i,o)}}})(wn,Hn,xe,xn,$t),Kn=((e,t,n,s,r,a,i,o)=>class extends e{constructor(e,r){const l=a(e),u={...He,...r},c=s(l,u),h=i(l);super(e,!1,c,h?n():null),this._attack=t(this,h,c.attack),this._knee=t(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=t(this,h,c.ratio),this._release=t(this,h,c.release),this._threshold=t(this,h,c.threshold),o(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(on,kn,$n,Hn,yt,Xt,Qt,In),Xn=((e,t,n,s,r)=>()=>{const a=new WeakMap;return{render(i,o){const l=a.get(o);return void 0!==l?Promise.resolve(l):(async(i,o)=>{let l=n(i);const u=Z(l,o);if(!u){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=t(o,e)}return a.set(o,l),u?await e(o,i.gain,l.gain):await s(o,i.gain,l.gain),await r(i,o,l),l})(i,o)}}})(wn,pt,xe,xn,$t),Zn=((e,t,n,s,r,a)=>class extends e{constructor(e,i){const o=r(e),l={...$e,...i},u=s(o,l),c=a(o);super(e,!1,u,c?n():null),this._gain=t(this,c,u.gain,ne,te)}get gain(){return this._gain}})(on,kn,Xn,pt,Xt,Qt),Yn=((e,t,n,s)=>(r,a,{channelCount:i,channelCountMode:o,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=ot(a,r.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),p=c instanceof Float64Array?c:new Float64Array(c),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw s();if(0===d[0])throw t();if(0===m||m>20)throw s();if(0===p[0])throw t();if(1!==d[0]){for(let e=0;e<m;e+=1)p[e]/=d[0];for(let e=1;e<f;e+=1)d[e]/=d[0]}const y=n(r,h,i,i);y.channelCount=i,y.channelCountMode=o,y.channelInterpretation=l;const b=[],w=[],v=[];for(let e=0;e<i;e+=1){b.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),w.push(e),v.push(t)}y.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,s=t.numberOfChannels;for(let e=0;e<s;e+=1){const s=t.getChannelData(e),r=n.getChannelData(e);b[e]=Ye(d,f,p,m,g,w[e],v[e],b[e],32,s,r)}};const x=r.sampleRate/2;return ht({get bufferSize(){return h},get channelCount(){return y.channelCount},set channelCount(e){y.channelCount=e},get channelCountMode(){return y.channelCountMode},set channelCountMode(e){y.channelCountMode=e},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(e){y.channelInterpretation=e},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener:(...e)=>y.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>y.dispatchEvent(e[0]),getFrequencyResponse(t,n,s){if(t.length!==n.length||n.length!==s.length)throw e();const r=t.length;for(let e=0;e<r;e+=1){const r=-Math.PI*(t[e]/x),a=[Math.cos(r),Math.sin(r)],i=ft(mt(p,a),mt(d,a));n[e]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s[e]=Math.atan2(i[1],i[0])}},removeEventListener:(...e)=>y.removeEventListener(e[0],e[1],e[2])},y)})(Xe,Ke,gt,yt),Qn=((e,t,n,s)=>r=>e(Je,(()=>Je(r)))?Promise.resolve(e(s,s)).then((e=>{if(!e){const e=n(r,512,0,1);r.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>r.currentTime,e.connect(r.destination)}return r.startRendering()})):new Promise((e=>{const n=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(r.destination),r.startRendering()})))(Wt,pt,gt,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),s=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{s.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(pt,Yt)),Jn=((e,t,n,s,r)=>(a,i)=>{const o=new WeakMap;let l=null;const u=async(u,c)=>{let h=null,d=t(u);const p=Z(d,c);if(void 0===c.createIIRFilter?h=e(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=c.createIIRFilter(i,a)),o.set(c,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(u.context.destination.channelCount,u.context.length,c.sampleRate);l=(async()=>{await s(u,e,e.destination);return((e,t,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),a=s instanceof Float64Array?s:new Float64Array(s),i=r.length,o=a.length,l=Math.min(i,o);if(1!==r[0]){for(let e=0;e<i;e+=1)a[e]/=r[0];for(let e=1;e<o;e+=1)r[e]/=r[0]}const u=new Float32Array(32),c=new Float32Array(32),h=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),d=e.numberOfChannels;for(let t=0;t<d;t+=1){const n=e.getChannelData(t),s=h.getChannelData(t);u.fill(0),c.fill(0),Ye(r,i,a,o,l,u,c,0,32,n,s)}return h})(await r(e),c,a,i)})()}const e=await l;return h.buffer=e,h.start(0),h}return await s(u,c,d),d};return{render(e,t){const n=o.get(t);return void 0!==n?Promise.resolve(n):u(e,t)}}})(vn,xe,Yt,$t,Qn),es=(e=>(t,n,s)=>{if(void 0===t.createIIRFilter)return e(t,n,s);const r=t.createIIRFilter(s.feedforward,s.feedback);return nt(r,s),r})(Yn),ts=((e,t,n,s,r,a)=>class extends e{constructor(e,i){const o=s(e),l=r(o),u={...Ze,...i},c=t(o,l?null:e.baseLatency,u);super(e,!1,c,l?n(u.feedback,u.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw Xe();return t.call(e,n,s,r)})})(c),this._nativeIIRFilterNode=c,a(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(on,es,Jn,Xt,Qt,In),ns=((e,t,n,s,r,a,i,o)=>(l,u)=>{const c=u.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:y,upY:b,upZ:w}=void 0===c.forwardX?(()=>{const h=new Float32Array(1),d=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=i(u);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const y=()=>{if(f)return;f=!0;const e=s(u,256,9,0);e.onaudioprocess=({inputBuffer:e})=>{const t=[a(e,h,0),a(e,h,1),a(e,h,2),a(e,h,3),a(e,h,4),a(e,h,5)];t.some(((e,t)=>e!==m[t]))&&(c.setOrientation(...t),m=t);const n=[a(e,h,6),a(e,h,7),a(e,h,8)];n.some(((e,t)=>e!==g[t]))&&(c.setPosition(...n),g=n)},d.connect(e)},b=e=>t=>{t!==m[e]&&(m[e]=t,c.setOrientation(...m))},w=e=>t=>{t!==g[e]&&(g[e]=t,c.setPosition(...g))},v=(t,s,a)=>{const i=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});i.connect(d,0,t),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>s});const c=e({context:l},p,i.offset,ne,te);var h,f,m,g,b,w,v;return o(c,"value",(e=>()=>e.call(c)),(e=>t=>{try{e.call(c,t)}catch(e){if(9!==e.code)throw e}y(),p&&a(t)})),c.cancelAndHoldAtTime=(h=c.cancelAndHoldAtTime,p?()=>{throw r()}:(...e)=>{const t=h.apply(c,e);return y(),t}),c.cancelScheduledValues=(f=c.cancelScheduledValues,p?()=>{throw r()}:(...e)=>{const t=f.apply(c,e);return y(),t}),c.exponentialRampToValueAtTime=(m=c.exponentialRampToValueAtTime,p?()=>{throw r()}:(...e)=>{const t=m.apply(c,e);return y(),t}),c.linearRampToValueAtTime=(g=c.linearRampToValueAtTime,p?()=>{throw r()}:(...e)=>{const t=g.apply(c,e);return y(),t}),c.setTargetAtTime=(b=c.setTargetAtTime,p?()=>{throw r()}:(...e)=>{const t=b.apply(c,e);return y(),t}),c.setValueAtTime=(w=c.setValueAtTime,p?()=>{throw r()}:(...e)=>{const t=w.apply(c,e);return y(),t}),c.setValueCurveAtTime=(v=c.setValueCurveAtTime,p?()=>{throw r()}:(...e)=>{const t=v.apply(c,e);return y(),t}),c};return{forwardX:v(0,0,b(0)),forwardY:v(1,0,b(1)),forwardZ:v(2,-1,b(2)),positionX:v(6,0,w(0)),positionY:v(7,0,w(1)),positionZ:v(8,0,w(2)),upX:v(3,0,b(3)),upY:v(4,1,b(4)),upZ:v(5,0,b(5))}})():c;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return y},get upY(){return b},get upZ(){return w}}})(kn,Rn,Ln,gt,yt,St,Qt,_t),ss=new WeakMap,rs=((e,t,n,s,r,a)=>class extends n{constructor(n,a){super(n),this._nativeContext=n,O.set(this,n),s(n)&&r.set(n,new Set),this._destination=new e(this,a),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"==typeof e?a(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(En,ns,en,Qt,ss,Ft),as=((e,t,n,s,r,a)=>(i,o)=>{const l=i.createOscillator();return nt(l,o),rt(l,o,"detune"),rt(l,o,"frequency"),void 0!==o.periodicWave?l.setPeriodicWave(o.periodicWave):tt(l,o,"type"),t(n,(()=>n(i)))||at(l),t(s,(()=>s(i)))||a(l,i),t(r,(()=>r(i)))||it(l),e(i,l),l})(yn,Wt,Tt,Nt,Ot,Mt),is=((e,t,n,s,r)=>()=>{const a=new WeakMap;let i=null,o=null,l=null;return{set periodicWave(e){i=e},set start(e){o=e},set stop(e){l=e},render(u,c){const h=a.get(c);return void 0!==h?Promise.resolve(h):(async(u,c)=>{let h=n(u);const d=Z(h,c);if(!d){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===i?void 0:i,type:h.type};h=t(c,e),null!==o&&h.start(o),null!==l&&h.stop(l)}return a.set(c,h),d?(await e(c,u.detune,h.detune),await e(c,u.frequency,h.frequency)):(await s(c,u.detune,h.detune),await s(c,u.frequency,h.frequency)),await r(u,c,h),h})(u,c)}}})(wn,as,xe,xn,$t),os=((e,t,n,s,r,a,i)=>class extends e{constructor(e,i){const o=r(e),l={...wt,...i},u=n(o,l),c=a(o),h=c?s():null,d=e.sampleRate/2;super(e,!1,u,h),this._detune=t(this,c,u.detune,153600,-153600),this._frequency=t(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){j(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),se(this)&&$(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(on,kn,as,is,Xt,Qt,Ft),ls=(e=>(t,n)=>{const s=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=t.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}})(vn),us=((e,t,n,s,r)=>(a,{curve:i,oversample:o,...l})=>{const u=a.createWaveShaper(),c=a.createWaveShaper();nt(u,l),nt(c,l);const h=n(a,{...l,gain:1}),d=n(a,{...l,gain:-1}),p=n(a,{...l,gain:1}),f=n(a,{...l,gain:-1});let m=null,g=!1,y=null;const b={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){h.channelCount=e,d.channelCount=e,u.channelCount=e,p.channelCount=e,c.channelCount=e,f.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){h.channelCountMode=e,d.channelCountMode=e,u.channelCountMode=e,p.channelCountMode=e,c.channelCountMode=e,f.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){h.channelInterpretation=e,d.channelInterpretation=e,u.channelInterpretation=e,p.channelInterpretation=e,c.channelInterpretation=e,f.channelInterpretation=e},get context(){return u.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)u.curve=n,c.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),s=new Float32Array(e+2-e%2);t[0]=n[0],s[0]=-n[e-1];const r=Math.ceil((e+1)/2),a=(e+1)/2-1;for(let i=1;i<r;i+=1){const o=i/r*a,l=Math.floor(o),u=Math.ceil(o);t[i]=l===u?n[l]:(1-(o-l))*n[l]+(1-(u-o))*n[u],s[i]=l===u?-n[e-1-l]:-(1-(o-l))*n[e-1-l]-(1-(u-o))*n[e-1-u]}t[r]=e%2==1?n[r-1]:(n[r-2]+n[r-1])/2,u.curve=t,c.curve=s}y=n,g&&(s(y)&&null===m?m=e(a,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(e){u.oversample=e,c.oversample=e},addEventListener:(...e)=>h.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>h.dispatchEvent(e[0]),removeEventListener:(...e)=>h.removeEventListener(e[0],e[1],e[2])};null!==i&&(b.curve=i instanceof Float32Array?i:new Float32Array(i)),o!==b.oversample&&(b.oversample=o);return r(ht(b,p),(()=>{h.connect(u).connect(p),h.connect(d).connect(c).connect(f).connect(p),g=!0,s(y)&&(m=e(a,h))}),(()=>{h.disconnect(u),u.disconnect(p),h.disconnect(d),d.disconnect(c),c.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)}))})(ls,Ke,pt,Et,Nn),cs=((e,t,n,s,r,a,i)=>(o,l)=>{const u=o.createWaveShaper();if(null!==a&&"webkitAudioContext"===a.name&&void 0===o.createGain().gain.automationRate)return n(o,l);nt(u,l);const c=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==c&&c.length<2)throw t();tt(u,{curve:c},"curve"),tt(u,l,"oversample");let h=null,d=!1;i(u,"curve",(e=>()=>e.call(u)),(t=>n=>(t.call(u,n),d&&(s(n)&&null===h?h=e(o,u):s(n)||null===h||(h(),h=null)),n)));return r(u,(()=>{d=!0,s(u.curve)&&(h=e(o,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(ls,Ke,us,Et,Nn,tn,_t),hs=((e,t,n,s,r,a,i,o,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:f,maxDistance:m,orientationX:g,orientationY:y,orientationZ:b,panningModel:w,positionX:v,positionY:x,positionZ:A,refDistance:k,rolloffFactor:C,...S})=>{const E=c.createPanner();if(S.channelCount>2)throw i();if("max"===S.channelCountMode)throw i();nt(E,S);const _={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=n(c,{..._,channelInterpretation:"speakers",numberOfInputs:6}),T=s(c,{...S,gain:1}),N=s(c,{..._,gain:1}),O=s(c,{..._,gain:0}),R=s(c,{..._,gain:0}),D=s(c,{..._,gain:0}),M=s(c,{..._,gain:0}),F=s(c,{..._,gain:0}),B=r(c,256,6,1),z=a(c,{..._,curve:new Float32Array([1,1]),oversample:"none"});let L=[g,y,b],P=[v,x,A];const V=new Float32Array(1);B.onaudioprocess=({inputBuffer:e})=>{const t=[l(e,V,0),l(e,V,1),l(e,V,2)];t.some(((e,t)=>e!==L[t]))&&(E.setOrientation(...t),L=t);const n=[l(e,V,3),l(e,V,4),l(e,V,5)];n.some(((e,t)=>e!==P[t]))&&(E.setPosition(...n),P=n)},Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0});const W={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(e){if(e>2)throw i();T.channelCount=e,E.channelCount=e},get channelCountMode(){return E.channelCountMode},set channelCountMode(e){if("max"===e)throw i();T.channelCountMode=e,E.channelCountMode=e},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(e){T.channelInterpretation=e,E.channelInterpretation=e},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(e){E.coneInnerAngle=e},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(e){E.coneOuterAngle=e},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();E.coneOuterGain=e},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(e){E.distanceModel=e},get inputs(){return[T]},get maxDistance(){return E.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;E.maxDistance=e},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return N.gain},get orientationY(){return O.gain},get orientationZ(){return R.gain},get panningModel(){return E.panningModel},set panningModel(e){E.panningModel=e},get positionX(){return D.gain},get positionY(){return M.gain},get positionZ(){return F.gain},get refDistance(){return E.refDistance},set refDistance(e){if(e<0)throw new RangeError;E.refDistance=e},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;E.rolloffFactor=e},addEventListener:(...e)=>T.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>T.dispatchEvent(e[0]),removeEventListener:(...e)=>T.removeEventListener(e[0],e[1],e[2])};h!==W.coneInnerAngle&&(W.coneInnerAngle=h),d!==W.coneOuterAngle&&(W.coneOuterAngle=d),p!==W.coneOuterGain&&(W.coneOuterGain=p),f!==W.distanceModel&&(W.distanceModel=f),m!==W.maxDistance&&(W.maxDistance=m),g!==W.orientationX.value&&(W.orientationX.value=g),y!==W.orientationY.value&&(W.orientationY.value=y),b!==W.orientationZ.value&&(W.orientationZ.value=b),w!==W.panningModel&&(W.panningModel=w),v!==W.positionX.value&&(W.positionX.value=v),x!==W.positionY.value&&(W.positionY.value=x),A!==W.positionZ.value&&(W.positionZ.value=A),k!==W.refDistance&&(W.refDistance=k),C!==W.rolloffFactor&&(W.rolloffFactor=C),1===L[0]&&0===L[1]&&0===L[2]||E.setOrientation(...L),0===P[0]&&0===P[1]&&0===P[2]||E.setPosition(...P);return u(ht(W,E),(()=>{T.connect(E),e(T,z,0,0),z.connect(N).connect(I,0,0),z.connect(O).connect(I,0,1),z.connect(R).connect(I,0,2),z.connect(D).connect(I,0,3),z.connect(M).connect(I,0,4),z.connect(F).connect(I,0,5),I.connect(B).connect(c.destination)}),(()=>{T.disconnect(E),o(T,z,0,0),z.disconnect(N),N.disconnect(I),z.disconnect(O),O.disconnect(I),z.disconnect(R),R.disconnect(I),z.disconnect(D),D.disconnect(I),z.disconnect(M),M.disconnect(I),z.disconnect(F),F.disconnect(I),I.disconnect(B),B.disconnect(c.destination)}))})(ge,Ke,Rn,pt,gt,cs,yt,ve,St,Nn),ds=(e=>(t,n)=>{const s=t.createPanner();return void 0===s.orientationX?e(t,n):(nt(s,n),rt(s,n,"orientationX"),rt(s,n,"orientationY"),rt(s,n,"orientationZ"),rt(s,n,"positionX"),rt(s,n,"positionY"),rt(s,n,"positionZ"),tt(s,n,"coneInnerAngle"),tt(s,n,"coneOuterAngle"),tt(s,n,"coneOuterGain"),tt(s,n,"distanceModel"),tt(s,n,"maxDistance"),tt(s,n,"panningModel"),tt(s,n,"refDistance"),tt(s,n,"rolloffFactor"),s)})(hs),ps=((e,t,n,s,r,a,i,o,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,p){const f=c.get(p);return void 0!==f?Promise.resolve(f):(async(d,p)=>{let f=null,m=a(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},y={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},b=Z(m,p);if("bufferSize"in m)f=s(p,{...g,gain:1});else if(!b){const e={...y,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=r(p,e)}if(c.set(p,null===f?m:f),null!==f){if(null===h){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new i(6,d.context.length,p.sampleRate),s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(e.destination),h=(async()=>{const t=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(t,s)=>{const r=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await o(e,t,r.offset),r})));for(let e=0;e<6;e+=1)t[e].connect(s,0,e),t[e].start(0);return u(e)})()}const e=await h,a=s(p,{...g,gain:1});await l(d,p,a);const c=[];for(let t=0;t<e.numberOfChannels;t+=1)c.push(e.getChannelData(t));let m=[c[0][0],c[1][0],c[2][0]],b=[c[3][0],c[4][0],c[5][0]],w=s(p,{...g,gain:1}),v=r(p,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:b[0],positionY:b[1],positionZ:b[2]});a.connect(w).connect(v.inputs[0]),v.connect(f);for(let t=128;t<e.length;t+=128){const e=[c[0][t],c[1][t],c[2][t]],n=[c[3][t],c[4][t],c[5][t]];if(e.some(((e,t)=>e!==m[t]))||n.some(((e,t)=>e!==b[t]))){m=e,b=n;const i=t/p.sampleRate;w.gain.setValueAtTime(0,i),w=s(p,{...g,gain:0}),v=r(p,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:b[0],positionY:b[1],positionZ:b[2]}),w.gain.setValueAtTime(1,i),a.connect(w).connect(v.inputs[0]),v.connect(f)}}return f}return b?(await e(p,d.orientationX,m.orientationX),await e(p,d.orientationY,m.orientationY),await e(p,d.orientationZ,m.orientationZ),await e(p,d.positionX,m.positionX),await e(p,d.positionY,m.positionY),await e(p,d.positionZ,m.positionZ)):(await o(p,d.orientationX,m.orientationX),await o(p,d.orientationY,m.orientationY),await o(p,d.orientationZ,m.orientationZ),await o(p,d.positionX,m.positionX),await o(p,d.positionY,m.positionY),await o(p,d.positionZ,m.positionZ)),me(m)?await l(d,p,m.inputs[0]):await l(d,p,m),m})(d,p)}}})(wn,Rn,Ln,pt,ds,xe,Yt,xn,$t,Qn),fs=((e,t,n,s,r,a,i)=>class extends e{constructor(e,o){const l=r(e),u={...vt,...o},c=n(l,u),h=a(l);super(e,!1,c,h?s():null),this._nativePannerNode=c,this._orientationX=t(this,h,c.orientationX,ne,te),this._orientationY=t(this,h,c.orientationY,ne,te),this._orientationZ=t(this,h,c.orientationZ,ne,te),this._positionX=t(this,h,c.positionX,ne,te),this._positionY=t(this,h,c.positionY,ne,te),this._positionZ=t(this,h,c.positionZ,ne,te),i(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(on,kn,ds,ps,Xt,Qt,In),ms=(e=>(t,{disableNormalization:n,imag:s,real:r})=>{const a=s instanceof Float32Array?s:new Float32Array(s),i=r instanceof Float32Array?r:new Float32Array(r),o=t.createPeriodicWave(i,a,{disableNormalization:n});if(Array.from(s).length<2)throw e();return o})(Q),gs=((e,t,n,s)=>class r{constructor(r,a){const i=t(r),o=s({...xt,...a}),l=e(i,o);return n.add(l),l}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===r.prototype||n.has(e)}})(ms,Xt,new WeakSet,(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,(()=>0))}:{...e,imag:t,real:n}})),ys=((e,t,n,s,r,a)=>{const i=16385,o=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(e,a,h,d,p)=>{if(1===a)return((e,t,r,a)=>{const h=new Float32Array(i),d=new Float32Array(i);for(let e=0;e<i;e+=1){const t=e/16384*l;h[e]=Math.cos(t),d[e]=Math.sin(t)}const p=n(e,{...u,gain:0}),f=s(e,{...c,curve:h}),m=s(e,{...c,curve:o}),g=n(e,{...u,gain:0}),y=s(e,{...c,curve:d});return{connectGraph(){t.connect(p),t.connect(void 0===m.inputs?m:m.inputs[0]),t.connect(g),m.connect(r),r.connect(void 0===f.inputs?f:f.inputs[0]),r.connect(void 0===y.inputs?y:y.inputs[0]),f.connect(p.gain),y.connect(g.gain),p.connect(a,0,0),g.connect(a,0,1)},disconnectGraph(){t.disconnect(p),t.disconnect(void 0===m.inputs?m:m.inputs[0]),t.disconnect(g),m.disconnect(r),r.disconnect(void 0===f.inputs?f:f.inputs[0]),r.disconnect(void 0===y.inputs?y:y.inputs[0]),f.disconnect(p.gain),y.disconnect(g.gain),p.disconnect(a,0,0),g.disconnect(a,0,1)}}})(e,h,d,p);if(2===a)return((e,r,a,h)=>{const d=new Float32Array(i),p=new Float32Array(i),f=new Float32Array(i),m=new Float32Array(i),g=Math.floor(8192.5);for(let e=0;e<i;e+=1)if(e>g){const t=(e-g)/(16384-g)*l;d[e]=Math.cos(t),p[e]=Math.sin(t),f[e]=0,m[e]=1}else{const t=e/(16384-g)*l;d[e]=1,p[e]=0,f[e]=Math.cos(t),m[e]=Math.sin(t)}const y=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),b=n(e,{...u,gain:0}),w=s(e,{...c,curve:d}),v=n(e,{...u,gain:0}),x=s(e,{...c,curve:p}),A=s(e,{...c,curve:o}),k=n(e,{...u,gain:0}),C=s(e,{...c,curve:f}),S=n(e,{...u,gain:0}),E=s(e,{...c,curve:m});return{connectGraph(){r.connect(y),r.connect(void 0===A.inputs?A:A.inputs[0]),y.connect(b,0),y.connect(v,0),y.connect(k,1),y.connect(S,1),A.connect(a),a.connect(void 0===w.inputs?w:w.inputs[0]),a.connect(void 0===x.inputs?x:x.inputs[0]),a.connect(void 0===C.inputs?C:C.inputs[0]),a.connect(void 0===E.inputs?E:E.inputs[0]),w.connect(b.gain),x.connect(v.gain),C.connect(k.gain),E.connect(S.gain),b.connect(h,0,0),k.connect(h,0,0),v.connect(h,0,1),S.connect(h,0,1)},disconnectGraph(){r.disconnect(y),r.disconnect(void 0===A.inputs?A:A.inputs[0]),y.disconnect(b,0),y.disconnect(v,0),y.disconnect(k,1),y.disconnect(S,1),A.disconnect(a),a.disconnect(void 0===w.inputs?w:w.inputs[0]),a.disconnect(void 0===x.inputs?x:x.inputs[0]),a.disconnect(void 0===C.inputs?C:C.inputs[0]),a.disconnect(void 0===E.inputs?E:E.inputs[0]),w.disconnect(b.gain),x.disconnect(v.gain),C.disconnect(k.gain),E.disconnect(S.gain),b.disconnect(h,0,0),k.disconnect(h,0,0),v.disconnect(h,0,1),S.disconnect(h,0,1)}}})(e,h,d,p);throw r()};return(t,{channelCount:s,channelCountMode:i,pan:o,...l})=>{if("max"===i)throw r();const u=e(t,{...l,channelCount:1,channelCountMode:i,numberOfInputs:2}),c=n(t,{...l,channelCount:s,channelCountMode:i,gain:1}),d=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:o});let{connectGraph:p,disconnectGraph:f}=h(t,s,c,d,u);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(e){c.channelCount!==e&&(g&&f(),({connectGraph:p,disconnectGraph:f}=h(t,e,c,d,u)),g&&p()),c.channelCount=e},get channelCountMode(){return c.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw r();c.channelCountMode=e},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(e){c.channelInterpretation=e},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get pan(){return d.gain},addEventListener:(...e)=>c.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>c.dispatchEvent(e[0]),removeEventListener:(...e)=>c.removeEventListener(e[0],e[1],e[2])};let g=!1;return a(ht(m,u),(()=>{p(),g=!0}),(()=>{f(),g=!1}))}})(Rn,ct,pt,cs,yt,Nn),bs=((e,t)=>(n,s)=>{const r=s.channelCountMode;if("clamped-max"===r)throw t();if(void 0===n.createStereoPanner)return e(n,s);const a=n.createStereoPanner();return nt(a,s),rt(a,s,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>r,set:e=>{if(e!==r)throw t()}}),a})(ys,yt),ws=((e,t,n,s,r)=>()=>{const a=new WeakMap;return{render(i,o){const l=a.get(o);return void 0!==l?Promise.resolve(l):(async(i,o)=>{let l=n(i);const u=Z(l,o);if(!u){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=t(o,e)}return a.set(o,l),u?await e(o,i.pan,l.pan):await s(o,i.pan,l.pan),me(l)?await r(i,o,l.inputs[0]):await r(i,o,l),l})(i,o)}}})(wn,bs,xe,xn,$t),vs=((e,t,n,s,r,a)=>class extends e{constructor(e,i){const o=r(e),l={...At,...i},u=n(o,l),c=a(o);super(e,!1,u,c?s():null),this._pan=t(this,c,u.pan)}get pan(){return this._pan}})(on,kn,bs,ws,Xt,Qt),xs=((e,t,n)=>()=>{const s=new WeakMap;return{render(r,a){const i=s.get(a);return void 0!==i?Promise.resolve(i):(async(r,a)=>{let i=t(r);if(!Z(i,a)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,curve:i.curve,oversample:i.oversample};i=e(a,t)}return s.set(a,i),me(i)?await n(r,a,i.inputs[0]):await n(r,a,i),i})(r,a)}}})(cs,xe,$t),As=((e,t,n,s,r,a,i)=>class extends e{constructor(e,t){const o=r(e),l={...Ct,...t},u=n(o,l);super(e,!0,u,a(o)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,i(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(on,Ke,cs,xs,Xt,Qt,In),ks=(e=>null!==e&&e.isSecureContext)(qt),Cs=(e=>(t,n,s)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return s()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(qt),Ss=new WeakMap,Es=((e,t)=>n=>{let s=e.get(n);if(void 0!==s)return s;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new t(1,1,44100),e.set(n,s),s})(Ss,Yt),_s=ks?((e,t,n,s,r,a,i,o,l,u,c,h,d)=>{let p=0;return(f,m,g={credentials:"omit"})=>{const y=c.get(f);if(void 0!==y&&y.has(m))return Promise.resolve();const b=u.get(f);if(void 0!==b){const e=b.get(m);if(void 0!==e)return e}const w=a(f),v=void 0===w.audioWorklet?r(m).then((([e,t])=>{const[s,r]=L(e,t);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${r}\n})})(window,'_AWGS')`)})).then((()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;s(w.currentTime,w.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const s=M.get(w);if(void 0!==s){if(s.has(e))throw t();V(n),P(n.parameterDescriptors),s.set(e,n)}else V(n),P(n.parameterDescriptors),M.set(w,new Map([[e,n]]))}),w.sampleRate,void 0,void 0)))})):Promise.all([r(m),Promise.resolve(e(h,h))]).then((([[e,t],n])=>{const s=p+1;p=s;const[r,a]=L(e,t),u=new Blob([`${r};((AudioWorkletProcessor,registerProcessor)=>{${a}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${s}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),c=URL.createObjectURL(u);return w.audioWorklet.addModule(c,g).then((()=>{if(o(w))return w;const e=i(w);return e.audioWorklet.addModule(c,g).then((()=>e))})).then((e=>{if(null===l)throw new SyntaxError;try{new l(e,`__sac${s}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(c)))}));return void 0===b?u.set(f,new Map([[m,v]])):b.set(m,v),v.then((()=>{const e=c.get(f);void 0===e?c.set(f,new Set([m])):e.add(m)})).finally((()=>{const e=u.get(f);void 0!==e&&e.delete(m)})),v}})(Wt,yt,(e=>t=>new Promise(((n,s)=>{if(null===e)return void s(new SyntaxError);const r=e.document.head;if(null===r)s(new SyntaxError);else{const a=e.document.createElement("script"),i=new Blob([t],{type:"application/javascript"}),o=URL.createObjectURL(i),l=e.onerror,u=()=>{e.onerror=l,URL.revokeObjectURL(o)};e.onerror=(t,n,r,a,i)=>n===o||n===e.location.href&&1===r&&1===a?(u(),s(i),!1):null!==l?l(t,n,r,a,i):void 0,a.onerror=()=>{u(),s(new SyntaxError)},a.onload=()=>{u(),n()},a.src=o,a.type="module",r.appendChild(a)}})))(qt),Cs,(e=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw e()})((()=>new DOMException("","AbortError"))),Xt,Es,Qt,an,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new t(1,128,44100),r=URL.createObjectURL(n);let a=!1,i=!1;try{await s.audioWorklet.addModule(r);const t=new e(s,"a",{numberOfOutputs:0}),n=s.createOscillator();t.port.onmessage=()=>a=!0,t.onprocessorerror=()=>i=!0,n.connect(t),n.start(0),await s.startRendering(),await new Promise((e=>setTimeout(e)))}catch{}finally{URL.revokeObjectURL(r)}return a&&!i})(an,Yt),qt):void 0,Is=((e,t)=>n=>e(n)||t(n))(nn,Qt),Ts=((e,t,n,s,r,a,i,o,l,u,c)=>(h,d)=>{const p=i(h)?h:a(h);if(r.has(d)){const e=n();return Promise.reject(e)}try{r.add(d)}catch{}return t(l,(()=>l(p)))?p.decodeAudioData(d).then((n=>(Ge(d).catch((()=>{})),t(o,(()=>o(n)))||c(n),e.add(n),n))):new Promise(((t,n)=>{const r=async()=>{try{await Ge(d)}catch{}},a=e=>{n(e),r()};try{p.decodeAudioData(d,(n=>{"function"!=typeof n.copyFromChannel&&(u(n),J(n)),e.add(n),r().then((()=>t(n)))}),(e=>{a(null===e?s():e)}))}catch(e){a(e)}}))})(cn,Wt,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,Xt,Is,Y,Je,fn,mn),Ns=((e,t,n,s,r,a,i,o,l,u,c,h,d,p,f,m,g,y,b,w)=>class extends f{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new r(this)}createBuffer(e,t,s){return new n({length:t,numberOfChannels:e,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(e=6){return new a(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new i(this,{numberOfOutputs:e})}createConstantSource(){return new o(this)}createConvolver(){return new l(this)}createDelay(e=1){return new c(this,{maxDelayTime:e})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new y(this,{...n,imag:t,real:e})}createStereoPanner(){return new b(this)}createWaveShaper(){return new w(this)}decodeAudioData(e,t,n){return u(this._nativeContext,e).then((e=>("function"==typeof t&&t(e),e)),(e=>{throw"function"==typeof n&&n(e),e}))}})(_s,un,gn,Sn,Tn,Mn,Bn,Vn,Gn,Ts,jn,Kn,Zn,ts,rs,os,fs,gs,vs,As),Os=((e,t,n,s)=>class extends e{constructor(e,r){const a=n(e),i=t(a,r);if(s(a))throw TypeError();super(e,!0,i,null),this._nativeMediaElementAudioSourceNode=i}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(on,((e,t)=>e.createMediaElementSource(t.mediaElement)),Xt,Qt),Rs=((e,t,n,s)=>class extends e{constructor(e,r){const a=n(e);if(s(a))throw new TypeError;const i={...Qe,...r},o=t(a,i);super(e,!1,o,null),this._nativeMediaStreamAudioDestinationNode=o}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(on,((e,t)=>{const n=e.createMediaStreamDestination();return nt(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),Xt,Qt),Ds=((e,t,n,s)=>class extends e{constructor(e,r){const a=n(e),i=t(a,r);if(s(a))throw new TypeError;super(e,!0,i,null),this._nativeMediaStreamAudioSourceNode=i}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(on,((e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const s=n.slice(0,1),r=e.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:t}),r}),Xt,Qt),Ms=((e,t)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),a=n.createMediaStreamSource(r);if("audio"!==s.kind)throw e();if(t(n))throw new TypeError;return a})(Ke,Qt),Fs=((e,t,n)=>class extends e{constructor(e,s){const r=n(e);super(e,!0,t(r,s),null)}})(on,Ms,Xt),Bs=((e,t,n,s,r,a,i,o,l)=>class extends e{constructor(e={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let t;try{t=new l(e)}catch(e){if(12===e.code&&"sampleRate is not in range"===e.message)throw n();throw e}if(null===t)throw s();if(!ue(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&t.sampleRate!==e.sampleRate)throw n();super(t,2);const{latencyHint:r}=e,{sampleRate:a}=t;if(this._baseLatency="number"==typeof t.baseLatency?t.baseLatency:"balanced"===r?512/a:"interactive"===r||void 0===r?256/a:"playback"===r?1024/a:128*Math.max(2,Math.min(128,Math.round(r*a/128)))/a,this._nativeAudioContext=t,"webkitAudioContext"===l.name?(this._nativeGainNode=t.createGain(),this._nativeOscillatorNode=t.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(t.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===t.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),t.removeEventListener("statechange",e)};t.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),le(this)})))}createMediaElementSource(e){return new r(this,{mediaElement:e})}createMediaStreamDestination(){return new a(this)}createMediaStreamSource(e){return new i(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new o(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}})(Ns,Ke,yt,kt,Os,Rs,Ds,Fs,tn),zs=(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(ss),Ls=(e=>(t,n)=>{e(t).add(n)})(zs),Ps=(e=>(t,n,s=0,r=0)=>{const a=t[s];if(void 0===a)throw e();return _e(n)?a.connect(n,0,r):a.connect(n,0)})(Q),Vs=(e=>(t,n)=>{e(t).delete(n)})(zs),Ws=(e=>(t,n=void 0,s=void 0,r=0)=>void 0===n?t.forEach((e=>e.disconnect())):"number"==typeof n?je(e,t,n).disconnect():_e(n)?void 0===s?t.forEach((e=>e.disconnect(n))):void 0===r?je(e,t,s).disconnect(n,0):je(e,t,s).disconnect(n,0,r):void 0===s?t.forEach((e=>e.disconnect(n))):je(e,t,s).disconnect(n,0))(Q),Us=new WeakMap,Gs=((e,t)=>n=>t(e,n))(Us,W),qs=((e,t,n,s,r,a,i,o,l,u,c,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((e=>e<1)))throw l();if(y.length!==g.numberOfOutputs)throw t();if("explicit"!==g.channelCountMode)throw l();const b=g.channelCount*g.numberOfInputs,w=y.reduce(((e,t)=>e+t),0),v=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(b+v>6||w>6)throw l();const x=new MessageChannel,A=[],k=[];for(let e=0;e<g.numberOfInputs;e+=1)A.push(i(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),k.push(r(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const C=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:s}of m.parameterDescriptors){const r=a(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[s]?g.parameterData[s]:void 0===e?0:e});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?ne:t},minValue:{get:()=>void 0===n?te:n}}),C.push(r)}const S=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,b+v)}),E=ot(f,p.sampleRate),_=o(p,E,b+v,Math.max(1,w)),I=r(p,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),T=[];for(let e=0;e<g.numberOfOutputs;e+=1)T.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[e]}));for(let e=0;e<g.numberOfInputs;e+=1){A[e].connect(k[e]);for(let t=0;t<g.channelCount;t+=1)k[e].connect(S,t,e*g.channelCount+t)}const N=new Re(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:e},t)=>{const n=C[t];return n.connect(S,0,b+t),n.start(0),[e,n.offset]})));S.connect(_);let O=g.channelInterpretation,R=null;const D=0===g.numberOfOutputs?[_]:T,M={get bufferSize(){return E},get channelCount(){return g.channelCount},set channelCount(e){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return O},set channelInterpretation(e){for(const t of A)t.channelInterpretation=e;O=e},get context(){return _.context},get inputs(){return A},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(e){"function"==typeof R&&M.removeEventListener("processorerror",R),R="function"==typeof e?e:null,"function"==typeof R&&M.addEventListener("processorerror",R)},get parameters(){return N},get port(){return x.port2},addEventListener:(...e)=>_.addEventListener(e[0],e[1],e[2]),connect:e.bind(null,D),disconnect:u.bind(null,D),dispatchEvent:(...e)=>_.dispatchEvent(e[0]),removeEventListener:(...e)=>_.removeEventListener(e[0],e[1],e[2])},B=new Map;var z,L;x.port1.addEventListener=(z=x.port1.addEventListener,(...e)=>{if("message"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=B.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{c(p.currentTime,p.sampleRate,(()=>t(e)))},B.set(t,e[1]))}}return z.call(x.port1,e[0],e[1],e[2])}),x.port1.removeEventListener=(L=x.port1.removeEventListener,(...e)=>{if("message"===e[0]){const t=B.get(e[1]);void 0!==t&&(B.delete(e[1]),e[1]=t)}return L.call(x.port1,e[0],e[1],e[2])});let P=null;Object.defineProperty(x.port1,"onmessage",{get:()=>P,set:e=>{"function"==typeof P&&x.port1.removeEventListener("message",P),P="function"==typeof e?e:null,"function"==typeof P&&(x.port1.addEventListener("message",P),x.port1.start())}}),m.prototype.port=x.port1;let V=null;const W=((e,t,n,s)=>{let r=F.get(e);void 0===r&&(r=new WeakMap,F.set(e,r));const a=lt(n,s);return r.set(t,a),a})(p,M,m,g);W.then((e=>V=e));const U=Be(g.numberOfInputs,g.channelCount),G=Be(g.numberOfOutputs,y),q=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((e,{name:t})=>({...e,[t]:new Float32Array(128)})),{});let j=!0;const H=()=>{g.numberOfOutputs>0&&_.disconnect(I);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=T[e];for(let s=0;s<y[e];s+=1)I.disconnect(n,t+s,s);t+=y[e]}},$=new Map;_.onaudioprocess=({inputBuffer:e,outputBuffer:t})=>{if(null!==V){const n=h(M);for(let s=0;s<E;s+=128){for(let t=0;t<g.numberOfInputs;t+=1)for(let n=0;n<g.channelCount;n+=1)Me(e,U[t],n,n,s);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:t},n)=>{Me(e,q,t,b+n,s)}));for(let e=0;e<g.numberOfInputs;e+=1)for(let t=0;t<y[e];t+=1)0===G[e][t].byteLength&&(G[e][t]=new Float32Array(128));try{const e=U.map(((e,t)=>{if(n[t].size>0)return $.set(t,E/128),e;const s=$.get(t);return void 0===s?[]:(e.every((e=>e.every((e=>0===e))))&&(1===s?$.delete(t):$.set(t,s-1)),e)})),r=c(p.currentTime+s/p.sampleRate,p.sampleRate,(()=>V.process(e,G,q)));j=r;for(let e=0,n=0;e<g.numberOfOutputs;e+=1){for(let r=0;r<y[e];r+=1)Fe(t,G[e],r,n+r,s);n+=y[e]}}catch(e){j=!1,M.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}))}if(!j){for(let e=0;e<g.numberOfInputs;e+=1){A[e].disconnect(k[e]);for(let t=0;t<g.channelCount;t+=1)k[s].disconnect(S,t,e*g.channelCount+t)}if(void 0!==m.parameterDescriptors){const e=m.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=C[t];e.disconnect(S,0,b+t),e.stop()}}S.disconnect(_),_.onaudioprocess=null,K?H():Y();break}}}};let K=!1;const X=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Z=()=>_.connect(X).connect(p.destination),Y=()=>{_.disconnect(X),X.disconnect()};return Z(),d(M,(()=>{if(j){Y(),g.numberOfOutputs>0&&_.connect(I);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=T[e];for(let s=0;s<y[e];s+=1)I.connect(n,t+s,s);t+=y[e]}}K=!0}),(()=>{j&&(Z(),H()),K=!1}))})(Ps,Q,Ke,Rn,ct,Ln,pt,gt,yt,Ws,Cs,Gs,Nn),js=((e,t,n,s,r)=>(a,i,o,l,u,c)=>{if(null!==o)try{const t=new o(a,l,c),s=new Map;let i=null;if(Object.defineProperties(t,{channelCount:{get:()=>c.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>i,set:e=>{"function"==typeof i&&t.removeEventListener("processorerror",i),i="function"==typeof e?e:null,"function"==typeof i&&t.addEventListener("processorerror",i)}}}),t.addEventListener=(d=t.addEventListener,(...e)=>{if("processorerror"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=s.get(e[1]);void 0!==n?e[1]=n:(e[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),t(n)):t(new ErrorEvent(e[0],{...n}))},s.set(t,e[1]))}}return d.call(t,"error",e[1],e[2]),d.call(t,...e)}),t.removeEventListener=(h=t.removeEventListener,(...e)=>{if("processorerror"===e[0]){const t=s.get(e[1]);void 0!==t&&(s.delete(e[1]),e[1]=t)}return h.call(t,"error",e[1],e[2]),h.call(t,e[0],e[1],e[2])}),0!==c.numberOfOutputs){const e=n(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(e).connect(a.destination);return r(t,(()=>e.disconnect()),(()=>e.connect(a.destination)))}return t}catch(e){if(11===e.code)throw s();throw e}var h,d;if(void 0===u)throw s();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(c),t(a,i,u,c)})(Ke,qs,pt,yt,Nn),Hs=((e,t,n,s,r,a,i,o,l,u,c,h,d,p,f,m)=>(g,y,b)=>{const w=new WeakMap;let v=null;return{render(x,A){o(A,x);const k=w.get(A);return void 0!==k?Promise.resolve(k):(async(o,x)=>{let A=c(o),k=null;const C=Z(A,x),S=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(null===h){const e=S.reduce(((e,t)=>e+t),0),n=r(x,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),a=[];for(let e=0;e<o.numberOfOutputs;e+=1)a.push(s(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[e]}));const u=i(x,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});u.connect=t.bind(null,a),u.disconnect=l.bind(null,a),k=[n,a,u]}else C||(A=new h(x,g));if(w.set(x,null===k?A:k[2]),null!==k){if(null===v){if(void 0===b)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const e=o.channelCount*o.numberOfInputs,t=void 0===b.parameterDescriptors?0:b.parameterDescriptors.length,n=e+t,l=async()=>{const l=new d(n,128*Math.ceil(o.context.length/128),x.sampleRate),u=[],c=[];for(let e=0;e<y.numberOfInputs;e+=1)u.push(i(l,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),c.push(r(l,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const h=await Promise.all(Array.from(o.parameters.values()).map((async e=>{const t=a(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(l,e,t.offset),t}))),g=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<y.numberOfInputs;e+=1){u[e].connect(c[e]);for(let t=0;t<y.channelCount;t+=1)c[e].connect(g,t,e*y.channelCount+t)}for(const[t,n]of h.entries())n.connect(g,0,e+t),n.start(0);return g.connect(l.destination),await Promise.all(u.map((e=>f(o,l,e)))),m(l)};v=ze(o,0===n?null:await l(),x,y,S,b,u)}const e=await v,t=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=k;null!==e&&(t.buffer=e,t.start(0)),t.connect(l);for(let e=0,t=0;e<o.numberOfOutputs;e+=1){const n=c[e];for(let s=0;s<S[e];s+=1)l.connect(n,t+s,s);t+=S[e]}return h}if(C)for(const[t,n]of o.parameters.entries())await e(x,n,A.parameters.get(t));else for(const[e,t]of o.parameters.entries())await p(x,t,A.parameters.get(e));return await f(o,x,A),A})(x,A)}}})(wn,Ps,vn,Rn,ct,Ln,pt,Vs,Ws,Cs,xe,an,Yt,xn,$t,Qn),$s=(e=>t=>e.get(t))(Ss),Ks=(e=>(t,n)=>{e.set(t,n)})(Us),Xs=ks?((e,t,n,s,r,a,i,o,l,u,c,h,d,p)=>class extends t{constructor(t,p,f){var m;const g=o(t),y=l(g),b=c({...De,...f});d(b);const w=M.get(g),v=null==w?void 0:w.get(p),x=y||"closed"!==g.state?g:null!==(m=i(g))&&void 0!==m?m:g,A=r(x,y?null:t.baseLatency,u,p,v,b);super(t,!0,A,y?s(p,b,v):null);const k=[];A.parameters.forEach(((e,t)=>{const s=n(this,y,e);k.push([t,s])})),this._nativeAudioWorkletNode=A,this._onprocessorerror=null,this._parameters=new Re(k),y&&e(g,this);const{activeInputs:C}=a(this);h(A,C)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"==typeof e?p(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Ls,on,kn,Hs,js,ae,$s,Xt,Qt,an,(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},(()=>1))})),Ks,(e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}}),Ft):void 0,Zs=(((e,t,n,s,r)=>{})(Ke,yt,kt,rs,tn),((e,t)=>(n,s,r)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,s,r)}catch(t){if("SyntaxError"===t.name)throw e();throw t}})(yt,Yt)),Ys=((e,t,n,s,r,a,i,o)=>(l,u)=>n(l).render(l,u).then((()=>Promise.all(Array.from(s(u)).map((e=>n(e).render(e,u)))))).then((()=>r(u))).then((n=>("function"!=typeof n.copyFromChannel?(i(n),J(n)):t(a,(()=>a(n)))||o(n),e.add(n),n))))(cn,Wt,Ht,zs,Qn,Y,fn,mn),Qs=(((e,t,n,s,r)=>{})(Wt,Ke,Zs,rs,Ys),((e,t,n,s,r)=>class extends e{constructor(e,n,r){let a;if("number"==typeof e&&void 0!==n&&void 0!==r)a={length:n,numberOfChannels:e,sampleRate:r};else{if("object"!=typeof e)throw new Error("The given parameters are not valid.");a=e}const{length:i,numberOfChannels:o,sampleRate:l}={...bt,...a},u=s(o,i,l);t(Je,(()=>Je(u)))||u.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(u.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(u,o),this._length=i,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,le(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(Ns,Wt,Ke,Zs,Ys)),Js=((e,t)=>n=>{const s=e.get(n);return t(s)||t(n)})(O,nn),er=((e,t)=>n=>e.has(n)||t(n))(I,sn),tr=((e,t)=>n=>e.has(n)||t(n))(N,rn),nr=((e,t)=>n=>{const s=e.get(n);return t(s)||t(n)})(O,Qt),sr=()=>(async(e,t,n,s,r,a,i,o,l,u,c,h,d,p,f,m)=>{if(e(t,t)&&e(n,n)&&e(r,r)&&e(a,a)&&e(o,o)&&e(l,l)&&e(u,u)&&e(c,c)&&e(h,h)&&e(d,d)&&e(p,p))return(await Promise.all([e(s,s),e(i,i),e(f,f),e(m,m)])).every((e=>e));return!1})(Wt,(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createBuffer(1,1,44100);if(void 0===t.copyToChannel)return!0;const n=new Float32Array(2);try{t.copyFromChannel(n,0,0)}catch{return!1}return!0})(Yt),(e=>()=>{if(null===e)return!1;if(void 0!==e.prototype&&void 0!==e.prototype.close)return!0;const t=new e,n=void 0!==t.close;try{t.close()}catch{}return n})(tn),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100);return new Promise((e=>{let n=!0;const s=s=>{n&&(n=!1,t.startRendering(),e(s instanceof TypeError))};let r;try{r=t.decodeAudioData(null,(()=>{}),s)}catch(e){s(e)}void 0!==r&&r.catch(s)}))})(Yt),(e=>()=>{if(null===e)return!1;let t;try{t=new e({latencyHint:"balanced"})}catch{return!1}return t.close(),!0})(tn),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createGain(),n=t.connect(t)===t;return t.disconnect(t),n})(Yt),((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new MessageChannel,r=new t(1,128,44100),a=URL.createObjectURL(n);let i=!1;try{await r.audioWorklet.addModule(a);const t=new e(r,"a",{numberOfOutputs:0}),n=r.createOscillator();await new Promise((e=>{t.port.onmessage=()=>e(),t.port.postMessage(s.port2,[s.port2])})),t.port.onmessage=()=>i=!0,n.connect(t),n.start(0),await r.startRendering(),i=await new Promise((e=>{s.port1.onmessage=({data:t})=>e(1===t),s.port1.postMessage(0)}))}catch{}finally{s.port1.close(),URL.revokeObjectURL(a)}return i})(an,Yt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createChannelMerger();if("max"===t.channelCountMode)return!0;try{t.channelCount=2}catch{return!0}return!1})(Yt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100);return void 0===t.createConstantSource||t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Yt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100),n=t.createConvolver();n.buffer=t.createBuffer(1,1,t.sampleRate);try{n.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0})(Yt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0})(Yt),Rt,(e=>()=>null!==e&&e.hasOwnProperty("isSecureContext"))(qt),(e=>()=>{if(null===e)return!1;const t=new e;try{return t.createMediaStreamSource(new MediaStream),!1}catch(e){return!0}finally{t.close()}})(tn),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100);if(void 0===t.createStereoPanner)return Promise.resolve(!0);if(void 0===t.createConstantSource)return Promise.resolve(!0);const n=t.createConstantSource(),s=t.createStereoPanner();return n.channelCount=1,n.offset.value=1,s.channelCount=1,n.start(),n.connect(s).connect(t.destination),t.startRendering().then((e=>1!==e.getChannelData(0)[0]))})(Yt),Dt);function rr(e,t){if(!e)throw new Error(t)}function ar(e,t,n=1/0){if(!(t<=e&&e<=n))throw new RangeError(`Value must be within [${t}, ${n}], got: ${e}`)}function ir(e){e.isOffline||"running"===e.state||cr('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let or=console;function lr(e){or=e}function ur(...e){or.log(...e)}function cr(...e){or.warn(...e)}function hr(e){return void 0===e}function dr(e){return!hr(e)}function pr(e){return"function"==typeof e}function fr(e){return"number"==typeof e}function mr(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object}function gr(e){return"boolean"==typeof e}function yr(e){return Array.isArray(e)}function br(e){return"string"==typeof e}function wr(e){return br(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}const vr="object"==typeof self?self:null,xr=vr&&(vr.hasOwnProperty("AudioContext")||vr.hasOwnProperty("webkitAudioContext"));function Ar(e,t,n,s){var r,a=arguments.length,i=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,s);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function kr(e,t,n,s){return new(n||(n=Promise))((function(r,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;class Cr{constructor(e,t,n){this._callback=e,this._type=t,this._updateInterval=n,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*e,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Sr(e){return tr(e)}function Er(e){return er(e)}function _r(e){return nr(e)}function Ir(e){return Js(e)}function Tr(e){return e instanceof AudioBuffer}function Nr(e,t){return"value"===e||Sr(t)||Er(t)||Tr(t)}function Or(e,...t){if(!t.length)return e;const n=t.shift();if(mr(e)&&mr(n))for(const t in n)Nr(t,n[t])?e[t]=n[t]:mr(n[t])?(e[t]||Object.assign(e,{[t]:{}}),Or(e[t],n[t])):Object.assign(e,{[t]:n[t]});return Or(e,...t)}function Rr(e,t,n=[],s){const r={},a=Array.from(t);if(mr(a[0])&&s&&!Reflect.has(a[0],s)){Object.keys(a[0]).some((t=>Reflect.has(e,t)))||(Or(r,{[s]:a[0]}),n.splice(n.indexOf(s),1),a.shift())}if(1===a.length&&mr(a[0]))Or(r,a[0]);else for(let e=0;e<n.length;e++)dr(a[e])&&(r[n[e]]=a[e]);return Or(e,r)}function Dr(e,t){return hr(e)?t:e}function Mr(e,t){return t.forEach((t=>{Reflect.has(e,t)&&delete e[t]})),e}class Fr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||vr&&this.toString()===vr.TONE_DEBUG_CLASS)&&ur(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Fr.version=a;const Br=1e-6;function zr(e,t){return e>t+Br}function Lr(e,t){return zr(e,t)||Vr(e,t)}function Pr(e,t){return e+Br<t}function Vr(e,t){return Math.abs(e-t)<Br}function Wr(e,t,n){return Math.max(Math.min(e,n),t)}class Ur extends Fr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Rr(Ur.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(rr(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];rr(Lr(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e,t="time"){const n=this._search(e,t);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Vr(this._timeline[t].time,e)){for(let n=t;n>=0&&Vr(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&Lr(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let r=s;if(s>0&&this._timeline[s-1][t]<=e)return s-1;for(;n<r;){let s=Math.floor(n+(r-n)/2);const a=this._timeline[s],i=this._timeline[s+1];if(Vr(a[t],e)){for(let n=s;n<this._timeline.length;n++){if(!Vr(this._timeline[n][t],e))break;s=n}return s}if(Pr(a[t],e)&&zr(i[t],e))return s;zr(a[t],e)?r=s:n=s+1}return-1}_iterate(e,t=0,n=this._timeline.length-1){this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return-1!==n&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let s=this._search(e),r=this._search(t);return-1!==s&&-1!==r?(this._timeline[s].time!==e&&(s+=1),this._timeline[r].time===t&&(r-=1),this._iterate(n,s,r)):-1===s&&this._iterate(n,0,r),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(-1!==n&&Vr(this._timeline[n].time,e)){let s=n;for(let t=n;t>=0&&Vr(this._timeline[t].time,e);t--)s=t;this._iterate((e=>{t(e)}),s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Gr=[];function qr(e){Gr.push(e)}const jr=[];function Hr(e){jr.push(e)}class $r extends Fr{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach((e=>{hr(this._events)&&(this._events={}),this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(t)})),this}once(e,t){const n=(...s)=>{t(...s),this.off(e,n)};return this.on(e,n),this}off(e,t){return e.split(/\W+/).forEach((n=>{if(hr(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(hr(t))this._events[e]=[];else{const n=this._events[e];for(let e=n.length-1;e>=0;e--)n[e]===t&&n.splice(e,1)}})),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const n=this._events[e].slice(0);for(let e=0,s=n.length;e<s;e++)n[e].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach((t=>{const n=Object.getOwnPropertyDescriptor($r.prototype,t);Object.defineProperty(e.prototype,t,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Kr extends $r{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Xr extends Kr{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Ur,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=Rr(Xr.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=function(e){return new Bs(e)}({latencyHint:e.latencyHint}),this._ticker=new Cr(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var e;return this._initialized||(e=this,Gr.forEach((t=>t(e))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){rr(Ir(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(e)}createMediaElementSource(e){rr(Ir(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(e)}createMediaStreamDestination(){rr(Ir(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){rr(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){rr(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){rr(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){rr(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function(e,t,n){return rr(dr(Xs),"This node only works in a secure context (https or localhost)"),new Xs(e,t,n)}(this.rawContext,e,t)}addAudioWorkletModule(e,t){return kr(this,void 0,void 0,(function*(){rr(dr(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(t)||this._workletModules.set(t,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(t)}))}workletsAreReady(){return kr(this,void 0,void 0,(function*(){const e=[];this._workletModules.forEach((t=>e.push(t))),yield Promise.all(e)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let t=0;if(this._latencyHint=e,br(e))switch(e){case"interactive":t=.1;break;case"playback":t=.5;break;case"balanced":t=.25}this.lookAhead=t,this.updateInterval=t/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Ir(this._context)?this._context.resume():Promise.resolve()}close(){return kr(this,void 0,void 0,(function*(){var e;Ir(this._context)&&(yield this._context.close()),this._initialized&&(e=this,jr.forEach((t=>t(e))))}))}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let t=0;t<n.length;t++)n[t]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=t,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((e=>this._constants[e].disconnect())),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach((t=>{t.id===e&&this._timeouts.remove(t)})),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,s=()=>{const r=this.now();this._timeouts.add({callback:()=>{e(),s()},id:n,time:r+t})};return s(),n}}function Zr(e,t){yr(t)?t.forEach((t=>Zr(e,t))):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function Yr(e,t){yr(t)?t.forEach((t=>Yr(e,t))):Object.defineProperty(e,t,{writable:!0})}const Qr=()=>{};class Jr extends Fr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Qr;const e=Rr(Jr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&Tr(e.url)||e.url instanceof Jr?this.set(e.url):br(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:Qr,onload:Qr,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:sa().sampleRate}set(e){return e instanceof Jr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return kr(this,void 0,void 0,(function*(){const t=Jr.load(e).then((e=>{this.set(e),this.onload(this)}));Jr.downloads.push(t);try{yield t}finally{const e=Jr.downloads.indexOf(t);Jr.downloads.splice(e,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=yr(e)&&e[0].length>0,n=t?e.length:1,s=t?e[0].length:e.length,r=sa(),a=r.createBuffer(n,s,r.sampleRate),i=t||1!==n?e:[e];for(let e=0;e<n;e++)a.copyToChannel(i[e],e);return this._buffer=a,this}toMono(e){if(fr(e))this.fromArray(this.toArray(e));else{let e=new Float32Array(this.length);const t=this.numberOfChannels;for(let n=0;n<t;n++){const t=this.toArray(n);for(let n=0;n<t.length;n++)e[n]+=t[n]}e=e.map((e=>e/t)),this.fromArray(e)}return this}toArray(e){if(fr(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);{const e=[];for(let t=0;t<this.numberOfChannels;t++)e[t]=this.getChannelData(t);return e}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){const n=Math.floor(e*this.sampleRate),s=Math.floor(t*this.sampleRate);rr(n<s,"The start time must be less than the end time");const r=s-n,a=sa().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let e=0;e<this.numberOfChannels;e++)a.copyToChannel(this.getChannelData(e).subarray(n,s),e);return new Jr(a)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return(new Jr).fromArray(e)}static fromUrl(e){return kr(this,void 0,void 0,(function*(){const t=new Jr;return yield t.load(e)}))}static load(e){return kr(this,void 0,void 0,(function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const n=t[1].split("|");let s=n[0];for(const e of n)if(Jr.supportsType(e)){s=e;break}e=e.replace(t[0],s)}const n=""===Jr.baseUrl||Jr.baseUrl.endsWith("/")?Jr.baseUrl:Jr.baseUrl+"/",s=yield fetch(n+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const r=yield s.arrayBuffer();return yield sa().decodeAudioData(r)}))}static supportsType(e){const t=e.split("."),n=t[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return kr(this,void 0,void 0,(function*(){for(yield Promise.resolve();Jr.downloads.length;)yield Jr.downloads[0]}))}}Jr.baseUrl="",Jr.downloads=[];class ea extends Xr{constructor(){var e,t,n;super({clockSource:"offline",context:_r(arguments[0])?arguments[0]:(e=arguments[0],t=arguments[1]*arguments[2],n=arguments[2],new Qs(e,t,n)),lookAhead:0,updateInterval:_r(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=_r(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return kr(this,void 0,void 0,(function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n==0&&(yield new Promise((e=>setTimeout(e,1))))}}))}render(e=!0){return kr(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Jr(t)}))}close(){return Promise.resolve()}}const ta=new class extends Kr{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e,t){return kr(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let na=ta;function sa(){return na===ta&&xr&&ra(new Xr),na}function ra(e){na=Ir(e)?new Xr(e):_r(e)?new ea(e):e}function aa(){return na.resume()}if(vr&&!vr.TONE_SILENCE_LOGGING){let e="v";"dev"===a&&(e="")}function ia(e){return Math.pow(10,e/20)}function oa(e){return Math.log(e)/Math.LN10*20}function la(e){return Math.pow(2,e/12)}let ua=440;function ca(e){return Math.round(ha(e))}function ha(e){return 69+12*Math.log2(e/ua)}function da(e){return ua*Math.pow(2,(e-69)/12)}class pa extends Fr{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),s="."===t?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let s=0;return e&&"0"!==e&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(s+=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof pa&&this.fromType(this._val),hr(this._val))return this._noArg();if(br(this._val)&&hr(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(mr(this._val)){let e=0;for(const t in this._val)if(dr(this._val[t])){const n=this._val[t];e+=new this.constructor(this.context,t).valueOf()*n}return e}if(dr(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return br(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class fa extends pa{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new fa(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const n=new this.constructor(this.context,e).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let e=1;e<9;e++){const n=Math.pow(2,e);t.push(n+"n."),t.push(n+"n"),t.push(n+"t")}t.push("0");let n=t[0],s=new fa(this.context,t[0]).toSeconds();return t.forEach((t=>{const r=new fa(this.context,t).toSeconds();Math.abs(r-e)<Math.abs(s-e)&&(n=t,s=r)})),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let s=t%1*4;t=Math.floor(t)%this._getTimeSignature();const r=s.toString();r.length>3&&(s=parseFloat(parseFloat(r).toFixed(3)));return[n,t,s].join(":")}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.round(t*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return ca(this.toFrequency())}_now(){return this.context.now()}}function ma(e,t){return new fa(sa(),e,t)}class ga extends fa{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return ua}static set A4(e){!function(e){ua=e}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:ga.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,t){const n=ya[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?n:ga.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let s=1;return e&&"0"!==e&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(s*=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(e){return new ga(this.context,this.valueOf()*la(e))}harmonize(e){return e.map((e=>this.transpose(e)))}toMidi(){return ca(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/ga.A4);let n=Math.round(12*t)+57;const s=Math.floor(n/12);s<0&&(n+=-12*s);return ba[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return da(e)}static ftom(e){return ca(e)}}const ya={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},ba=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function wa(e,t){return new ga(sa(),e,t)}class va extends fa{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function xa(e,t){return new va(sa(),e,t)}class Aa extends Fr{constructor(){super();const e=Rr(Aa.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:sa()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new fa(this.context,e).toSeconds()}toFrequency(e){return new ga(this.context,e).toFrequency()}toTicks(e){return new va(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach((n=>{hr(e[n])&&delete t[n]})),t}get(){const e=this.constructor.getDefaults();return Object.keys(e).forEach((t=>{if(Reflect.has(this,t)){const n=this[t];dr(n)&&dr(n.value)&&dr(n.setValueAtTime)?e[t]=n.value:n instanceof Aa?e[t]=n._getPartialProperties(e[t]):yr(n)||fr(n)||br(n)||gr(n)?e[t]=n:delete e[t]}})),e}set(e){return Object.keys(e).forEach((t=>{Reflect.has(this,t)&&dr(this[t])&&(this[t]&&dr(this[t].value)&&dr(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Aa?this[t].set(e[t]):this[t]=e[t])})),this}}class ka extends Ur{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,n){return ar(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){for(let n=this._search(t);n>=0;n--){const t=this._timeline[n];if(t.state===e)return t}}getNextState(e,t){const n=this._search(t);if(-1!==n)for(let t=n;t<this._timeline.length;t++){const n=this._timeline[t];if(n.state===e)return n}}}class Ca extends Aa{constructor(){super(Rr(Ca.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=Rr(Ca.getDefaults(),arguments,["param","units","convert"]);for(rr(dr(e.param)&&(Sr(e.param)||e.param instanceof Ca),"param must be an AudioParam");!Sr(e.param);)e.param=e.param._param;this._swappable=!!dr(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Ur(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,dr(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Aa.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return dr(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return dr(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return dr(this.maxValue)&&dr(this.minValue)&&ar(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?ia(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?oa(e):e}setValueAtTime(e,t){const n=this.toSeconds(t),s=this._fromType(e);return rr(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),s=this._events.get(t);let r=this._initialValue;if(null===s)r=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)r=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let e=s.value;if("setTargetAtTime"===s.type){const t=this._events.getBefore(s.time);e=null===t?this._initialValue:t.value}r="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,e,n.time,n.value,t):this._exponentialInterpolate(s.time,e,n.time,n.value,t)}else r=s.value;else{const e=this._events.getBefore(s.time);let n;n=null===e?this._initialValue:e.value,"setTargetAtTime"===s.type&&(r=this._exponentialApproach(s.time,n,s.value,s.constant,t))}return this._toType(r)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),s=this.toSeconds(t);return rr(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=Vr(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(t);return rr(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,s),this.cancelAndHoldAtTime(t+.9*n),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const s=this._fromType(e);rr(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(t);return this._assertRange(s),rr(isFinite(s)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:n,time:r,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,r,n),this._param.setTargetAtTime(s,r,n),this}setValueCurveAtTime(e,t,n,s=1){n=this.toSeconds(n),t=this.toSeconds(t);const r=this._fromType(e[0])*s;this.setValueAtTime(this._toType(r),t);const a=n/(e.length-1);for(let n=1;n<e.length;n++){const r=this._fromType(e[n])*s;this.linearRampToValueAtTime(this._toType(r),t+n*a)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return rr(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));rr(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const s=this._events.get(t),r=this._events.getAfter(t);return s&&Vr(s.time,t)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(n),t):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e,t=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),r=s?s.time:t+2,a=(r-t)/10;for(let n=t;n<r;n+=a)e.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(t=>{"cancelScheduledValues"===t.type?e.cancelScheduledValues(t.time):"setTargetAtTime"===t.type?e.setTargetAtTime(t.value,t.time,t.constant):e[t.type](t.value,t.time)})),this}setParam(e){rr(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,s,r){return n+(t-n)*Math.exp(-(r-e)/s)}_linearInterpolate(e,t,n,s,r){return t+(r-e)/(n-e)*(s-t)}_exponentialInterpolate(e,t,n,s,r){return t*Math.pow(s/t,(r-e)/(n-e))}}class Sa extends Aa{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return dr(this.input)?Sr(this.input)||this.input instanceof Ca?1:this.input.numberOfInputs:0}get numberOfOutputs(){return dr(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return dr(e)&&(e instanceof Sa||Er(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach((t=>{t.channelCount=e.channelCount,t.channelCountMode=e.channelCountMode,t.channelInterpretation=e.channelInterpretation}))}_getChannelProperties(){const e=this._getInternalNodes();rr(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,n=0){return _a(this,e,t,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return cr("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,n=0){return Ia(this,e,t,n),this}chain(...e){return Ea(this,...e),this}fan(...e){return e.forEach((e=>this.connect(e))),this}dispose(){return super.dispose(),dr(this.input)&&(this.input instanceof Sa?this.input.dispose():Er(this.input)&&this.input.disconnect()),dr(this.output)&&(this.output instanceof Sa?this.output.dispose():Er(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ea(...e){const t=e.shift();e.reduce(((e,t)=>(e instanceof Sa?e.connect(t):Er(e)&&_a(e,t),t)),t)}function _a(e,t,n=0,s=0){for(rr(dr(e),"Cannot connect from undefined node"),rr(dr(t),"Cannot connect to undefined node"),(t instanceof Sa||Er(t))&&rr(t.numberOfInputs>0,"Cannot connect to node with no inputs"),rr(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Sa||t instanceof Ca;)dr(t.input)&&(t=t.input);for(;e instanceof Sa;)dr(e.output)&&(e=e.output);Sr(t)?e.connect(t,n):e.connect(t,n,s)}function Ia(e,t,n=0,s=0){if(dr(t))for(;t instanceof Sa;)t=t.input;for(;!Er(e);)dr(e.output)&&(e=e.output);Sr(t)?e.disconnect(t,n):Er(t)?e.disconnect(t,n,s):e.disconnect()}class Ta extends Sa{constructor(){super(Rr(Ta.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=Rr(Ta.getDefaults(),arguments,["gain","units"]);this.gain=new Ca({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Zr(this,"gain")}static getDefaults(){return Object.assign(Sa.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Na extends Sa{constructor(e){super(e),this.onended=Qr,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ta({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const t=this.toSeconds(e);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Sa.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Qr})}_startGain(e,t=1){rr(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){rr(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.context.currentTime),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const e="exponential"===this._curve?2*t:0;this._stopSource(this.now()+e),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Qr&&(this.onended(this),this.onended=Qr,!this.context.isOffline)){const e=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),rr(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Oa extends Na{constructor(){super(Rr(Oa.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=Rr(Oa.getDefaults(),arguments,["offset"]);_a(this._source,this._gainNode),this.offset=new Ca({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Na.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ra extends Sa{constructor(){super(Rr(Ra.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=Rr(Ra.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Oa({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Sa.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,n=0){return Da(this,e,t,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,s){return this._param.setValueCurveAtTime(e,t,n,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Da(e,t,n,s){(t instanceof Ca||Sr(t)||t instanceof Ra&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Ra&&(t.overridden=!0)),_a(e,t,n,s)}class Ma extends Ca{constructor(){super(Rr(Ma.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Ur(1/0),this._multiplier=1;const e=Rr(Ma.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ca.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const s=this._fromType(e),r=this._events.get(t),a=Math.round(Math.max(1/n,1));for(let e=0;e<=a;e++){const a=n*e+t,i=this._exponentialApproach(r.time,r.value,s,n,a);this.linearRampToValueAtTime(this._toType(i),a)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const s=this._events.get(n),r=this._events.previousEvent(s),a=this._getTicksUntilEvent(r,n);return s.ticks=Math.max(a,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const s=this._events.get(n),r=this._events.previousEvent(s),a=this._getTicksUntilEvent(r,n);return s.ticks=Math.max(a,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),s=this._events.get(t),r=Math.round(Math.max(10*(t-s.time),1)),a=(t-s.time)/r;for(let e=0;e<=r;e++){const r=a*e+s.time,i=this._exponentialInterpolate(s.time,s.value,t,n,r);this.linearRampToValueAtTime(this._toType(i),r)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(hr(e.ticks)){const t=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(t,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(t));const r=this._events.get(t);return r&&r.time===t&&"setValueAtTime"===r.type&&(s=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+s)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),s=this.getTicksAtTime(t);return this.getTimeOfTick(s+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&"linearRampToValueAtTime"===n.type&&t.value!==n.value){const s=this._fromType(this.getValueAtTime(t.time)),r=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-t.time),a=Math.sqrt(Math.pow(s,2)-2*r*(t.ticks-e)),i=(-s+a)/r;return(i>0?i:(-s-a)/r)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),s=this.toSeconds(e),r=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-r}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Fa extends Ra{constructor(){super(Rr(Fa.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=Rr(Fa.getDefaults(),arguments,["value"]);this.input=this._param=new Ma({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Ra.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Ba extends Aa{constructor(){super(Rr(Ba.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new ka,this._tickOffset=new Ur;const e=Rr(Ba.getDefaults(),arguments,["frequency"]);this.frequency=new Fa({context:this.context,units:e.units,value:e.frequency}),Zr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Aa.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),dr(t)&&this.setTicksAtTime(t,n)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const e=this._state.get(t);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&this._state.setStateAtTime("paused",t),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),s={state:"paused",time:t};this._state.add(s);let r=n,a=0;return this._state.forEachBetween(n.time,t+this.sampleTime,(e=>{let t=r.time;const n=this._tickOffset.get(e.time);n&&n.time>=r.time&&(a=n.ticks,t=n.time),"started"===r.state&&"started"!==e.state&&(a+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(t)),r=e})),this._state.remove(s),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);let s=t,r=0;return this._state.forEachBetween(t.time,e+this.sampleTime,(e=>{let t=s.time;const n=this._tickOffset.get(e.time);n&&n.time>=s.time&&(r=n.seconds,t=n.time),"started"===s.state&&"started"!==e.state&&(r+=e.time-t),s=e})),this._state.remove(n),r}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const n=this._tickOffset.get(t),s=this._state.get(t),r=Math.max(n.time,s.time),a=this.frequency.getTicksAtTime(r)+e-n.ticks;return this.frequency.getTimeOfTick(a)}forEachTickBetween(e,t,n){let s=this._state.get(e);this._state.forEachBetween(e,t,(t=>{s&&"started"===s.state&&"started"!==t.state&&this.forEachTickBetween(Math.max(s.time,e),t.time-this.sampleTime,n),s=t}));let r=null;if(s&&"started"===s.state){const a=Math.max(s.time,e),i=this.frequency.getTicksAtTime(a),o=i-this.frequency.getTicksAtTime(s.time);let l=Math.ceil(o)-o;l=Vr(l,1)?0:l;let u=this.frequency.getTimeOfTick(i+l);for(;u<t;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(e){r=e;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class za extends Aa{constructor(){super(Rr(za.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Qr,this._lastUpdate=0,this._state=new ka("stopped"),this._boundLoop=this._loop.bind(this);const e=Rr(za.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Ba({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Zr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Aa.getDefaults(),{callback:Qr,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){ir(this.context);const n=this.toSeconds(e);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,(e=>{switch(e.state){case"started":const t=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,t);break;case"stopped":0!==e.time&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time)}})),this._tickSource.forEachTickBetween(e,t,((e,t)=>{this.callback(e,t)})))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}$r.mixin(za);class La extends Sa{constructor(){super(Rr(La.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=Rr(La.getDefaults(),arguments,["delayTime","maxDelay"]),t=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(t,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(t),this.delayTime=new Ca({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Zr(this,"delayTime")}static getDefaults(){return Object.assign(Sa.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function Pa(e,t,n=2,s=sa().sampleRate){return kr(this,void 0,void 0,(function*(){const r=sa(),a=new ea(n,t,s);ra(a),yield e(a);const i=a.render();ra(r);const o=yield i;return new Jr(o)}))}class Va extends Fr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Rr(Va.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach((t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Qr,onload:Qr,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return rr(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every((([e,t])=>t.loaded))}add(e,t,n=Qr,s=Qr){return br(t)?this._buffers.set(e.toString(),new Jr(this.baseUrl+t,n,s)):this._buffers.set(e.toString(),new Jr(t,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this}}class Wa extends ga{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return ca(super._frequencyToUnits(e))}_ticksToUnits(e){return ca(super._ticksToUnits(e))}_beatsToUnits(e){return ca(super._beatsToUnits(e))}_secondsToUnits(e){return ca(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return da(this.toMidi())}transpose(e){return new Wa(this.context,this.toMidi()+e)}}function Ua(e,t){return new Wa(sa(),e,t)}class Ga extends va{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function qa(e,t){return new Ga(sa(),e,t)}class ja extends Aa{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ur,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}qr((e=>{e.draw=new ja({context:e})})),Hr((e=>{e.draw.dispose()}));class Ha extends Fr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){rr(dr(e.time),"Events must have a time property"),rr(dr(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new $a(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,(e=>this.remove(e))),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let t,n=null;if(e.getBalance()>0)if(null===e.left.right)t=e.left,t.right=e.right,n=t;else{for(t=e.left.right;null!==t.right;)t=t.right;t.parent&&(t.parent.right=t.left,n=t.parent,t.left=e.left,t.right=e.right)}else if(null===e.right.left)t=e.right,t.left=e.left,n=t;else{for(t=e.right.left;null!==t.left;)t=t.left;t.parent&&(t.parent.left=t.right,n=t.parent,t.left=e.left,t.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=t:e.parent.right=t:this._setRoot(t),n&&this._rebalance(n)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),null!==t?n?t.left=s:t.right=s:this._setRoot(s)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),null!==t?n?t.left=s:t.right=s:this._setRoot(s)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let e=t[0];for(let n=1;n<t.length;n++)t[n].low>e.low&&(e=t[n]);return e.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse((e=>t.push(e))),t.forEach((t=>{t.event&&e(t.event)}))}return this}forEachAtTime(e,t){if(null!==this._root){const n=[];this._root.search(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}forEachFrom(e,t){if(null!==this._root){const n=[];this._root.searchAfter(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((e=>e.dispose())),this._root=null,this}}class $a{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),this.low>e||null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ka extends Sa{constructor(){super(Rr(Ka.getDefaults(),arguments,["volume"])),this.name="Volume";const e=Rr(Ka.getDefaults(),arguments,["volume"]);this.input=this.output=new Ta({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Zr(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Sa.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Xa extends Sa{constructor(){super(Rr(Xa.getDefaults(),arguments)),this.name="Destination",this.input=new Ka({context:this.context}),this.output=new Ta({context:this.context}),this.volume=this.input.volume;const e=Rr(Xa.getDefaults(),arguments);Ea(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Sa.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ea(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}qr((e=>{e.destination=new Xa({context:e})})),Hr((e=>{e.destination.dispose()}));class Za extends Fr{constructor(e){super(),this.name="TimelineValue",this._timeline=new Ur({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Ya{constructor(e,t){this.id=Ya._eventId++;const n=Object.assign(Ya.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:Qr,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Ya._eventId=0;class Qa extends Ya{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(Qa.getDefaults(),t);this.duration=new Ga(e.context,n.duration).valueOf(),this._interval=new Ga(e.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ya.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const t=this.transport.getTicksAtTime(e);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ga(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const t=this.transport.getTicksAtTime(e);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Ga(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ga(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Ja extends Aa{constructor(){super(Rr(Ja.getDefaults(),arguments)),this.name="Transport",this._loop=new Za(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ur,this._repeatedEvents=new Ha,this._syncedSignals=[],this._swingAmount=0;const e=Rr(Ja.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new za({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Zr(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Aa.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0){const n=t%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;e+=new Ga(this.context,2*this._swingTicks/3).toSeconds()*s}this._timeline.forEachAtTime(t,(t=>t.invoke(e)))}schedule(e,t){const n=new Ya(this,{callback:e,time:new va(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n,s=1/0){const r=new Qa(this,{callback:e,duration:new fa(this.context,s).toTicks(),interval:new fa(this.context,t).toTicks(),time:new va(this.context,n).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(e,t){const n=new Ya(this,{callback:e,once:!0,time:new va(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,(e=>this.clear(e.id))),this._repeatedEvents.forEachFrom(t,(e=>this.clear(e.id))),this}_bindClockEvents(){this._clock.on("start",((e,t)=>{t=new Ga(this.context,t).toSeconds(),this.emit("start",e,t)})),this._clock.on("stop",(e=>{this.emit("stop",e)})),this._clock.on("pause",(e=>{this.emit("pause",e)}))}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let n;return dr(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){yr(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new fa(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new fa(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ga(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Ga(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(t),s=t+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t);this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),n=e-this.getTicksAtTime(t)%e;return this._clock.nextTickTime(n,t)}}syncSignal(e,t){if(!t){const n=this.now();if(0!==e.getValueAtTime(n)){const s=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);t=e.getValueAtTime(n)/s}else t=0}const n=new Ta(t);return this.bpm.connect(n),n.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:n,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Yr(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}$r.mixin(Ja),qr((e=>{e.transport=new Ja({context:e})})),Hr((e=>{e.transport.dispose()}));class ei extends Sa{constructor(e){super(e),this.input=void 0,this._state=new ka("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Qr,this._syncedStop=Qr,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ka({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Zr(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Sa.getDefaults(),{mute:!1,onstop:Qr,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let s=hr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const e=this._state.get(s);e&&(e.offset=this.toSeconds(Dr(t,0)),e.duration=n?this.toSeconds(n):void 0);const r=this.context.transport.schedule((e=>{this._start(e,t,n)}),s);this._scheduled.push(r),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else ir(this.context),this._start(s,t,n);else rr(zr(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,t,n);return this}stop(e){let t=hr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||dr(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(t>0){const n=this._state.get(t);if(n&&"started"===n.state&&n.time!==t){const s=t-this.toSeconds(n.time);let r;n.duration&&(r=this.toSeconds(n.duration)-s),this._start(e,this.toSeconds(n.offset)+s,r)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((e=>this.context.transport.clear(e))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Qr,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ti extends Na{constructor(){super(Rr(ti.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=Rr(ti.getDefaults(),arguments,["url","onload"]);_a(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ca({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Jr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Na.getDefaults(),{url:new Jr,loop:!1,loopEnd:0,loopStart:0,onload:Qr,onerror:Qr,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n,s=1){rr(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(e);this._startGain(r,s),t=this.loop?Dr(t,this.loopStart):Dr(t,0);let a=Math.max(this.toSeconds(t),0);if(this.loop){const e=this.toSeconds(this.loopEnd)||this.buffer.duration,t=this.toSeconds(this.loopStart),n=e-t;Lr(a,e)&&(a=(a-t)%n+t),Vr(a,this.buffer.duration)&&(a=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Pr(a,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,a)),dr(n)){let e=this.toSeconds(n);e=Math.max(e,0),this.stop(r+e)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class ni extends ei{constructor(){super(Rr(ni.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=Rr(ni.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ei.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(rr(e in ai,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,"started"===this.state)){const e=this.now();this._stop(e),this._start(e)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const t=ai[this._type];this._source=new ti({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(t.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const si=220500,ri={brown:null,pink:null,white:null},ai={get brown(){if(!ri.brown){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(si);e[t]=n;let s=0;for(let e=0;e<si;e++){const t=2*Math.random()-1;n[e]=(s+.02*t)/1.02,s=n[e],n[e]*=3.5}}ri.brown=(new Jr).fromArray(e)}return ri.brown},get pink(){if(!ri.pink){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(si);let s,r,a,i,o,l,u;e[t]=n,s=r=a=i=o=l=u=0;for(let e=0;e<si;e++){const t=2*Math.random()-1;s=.99886*s+.0555179*t,r=.99332*r+.0750759*t,a=.969*a+.153852*t,i=.8665*i+.3104856*t,o=.55*o+.5329522*t,l=-.7616*l-.016898*t,n[e]=s+r+a+i+o+l+u+.5362*t,n[e]*=.11,u=.115926*t}}ri.pink=(new Jr).fromArray(e)}return ri.pink},get white(){if(!ri.white){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(si);e[t]=n;for(let e=0;e<si;e++)n[e]=2*Math.random()-1}ri.white=(new Jr).fromArray(e)}return ri.white}};class ii extends Sa{constructor(){super(Rr(ii.getDefaults(),arguments,["volume"])),this.name="UserMedia";const e=Rr(ii.getDefaults(),arguments,["volume"]);this._volume=this.output=new Ka({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Zr(this,"volume"),this.mute=e.mute}static getDefaults(){return Object.assign(Sa.getDefaults(),{mute:!1,volume:0})}open(e){return kr(this,void 0,void 0,(function*(){rr(ii.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const t=yield ii.enumerateDevices();fr(e)?this._device=t[e]:(this._device=t.find((t=>t.label===e||t.deviceId===e)),!this._device&&t.length>0&&(this._device=t[0]),rr(dr(this._device),`No matching device ${e}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const s=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=s;const e=this.context.createMediaStreamSource(s);_a(e,this.output),this._mediaStream=e}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((e=>{e.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return kr(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter((e=>"audioinput"===e.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return dr(navigator.mediaDevices)&&dr(navigator.mediaDevices.getUserMedia)}}function oi(e,t){return kr(this,void 0,void 0,(function*(){const n=t/e.context.sampleRate,s=new ea(1,n,e.context.sampleRate);new e.constructor(Object.assign(e.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0);return(yield s.render()).getChannelData(0)}))}class li extends Na{constructor(){super(Rr(li.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=Rr(li.getDefaults(),arguments,["frequency","type"]);_a(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Ca({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Ca({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Zr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Na.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ui extends ei{constructor(){super(Rr(ui.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=Rr(ui.getDefaults(),arguments,["frequency","type"]);this.frequency=new Ra({context:this.context,units:"frequency",value:e.frequency}),Zr(this,"frequency"),this.detune=new Ra({context:this.context,units:"cents",value:e.detune}),Zr(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&"custom"!==e.type&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ei.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new li({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return ui._periodicWaveCache.find((e=>{return e.phase===this._phase&&(t=e.partials,n=this._partials,t.length===n.length&&t.every(((e,t)=>n[t]===e)));var t,n}))}{const e=ui._periodicWaveCache.find((e=>e.type===this._type&&e.phase===this._phase));return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=-1!==["sine","square","sawtooth","triangle"].indexOf(e);if(0===this._phase&&t)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=e);else{const t=this._getCachedPeriodicWave();if(dr(t)){const{partials:e,wave:n}=t;this._wave=n,this._partials=e,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[t,n]=this._getRealImaginary(e,this._phase),s=this.context.createPeriodicWave(t,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),ui._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:t,type:this._type,wave:this._wave}),ui._periodicWaveCache.length>100&&ui._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&"custom"!==this._type&&"custom"!==e?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ar(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),"custom"!==this._type)this.type=0===e?t:t+e.toString();else{const t=new Float32Array(e);this._partials.forEach(((e,n)=>t[n]=e)),this._partials=Array.from(t),this.type=this._type}}_getRealImaginary(e,t){let n=2048;const s=new Float32Array(n),r=new Float32Array(n);let a=1;if("custom"===e){if(a=this._partials.length+1,this._partialCount=this._partials.length,n=a,0===this._partials.length)return[s,r]}else{const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);t?(a=parseInt(t[2],10)+1,this._partialCount=parseInt(t[2],10),e=t[1],a=Math.max(a,2),n=a):this._partialCount=0,this._partials=[]}for(let i=1;i<n;++i){const n=2/(i*Math.PI);let o;switch(e){case"sine":o=i<=a?1:0,this._partials[i-1]=o;break;case"square":o=1&i?2*n:0,this._partials[i-1]=o;break;case"sawtooth":o=n*(1&i?1:-1),this._partials[i-1]=o;break;case"triangle":o=1&i?n*n*2*(i-1>>1&1?-1:1):0,this._partials[i-1]=o;break;case"custom":o=this._partials[i-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}0!==o?(s[i]=-o*Math.sin(t*i),r[i]=o*Math.cos(t*i)):(s[i]=0,r[i]=0)}return[s,r]}_inverseFFT(e,t,n){let s=0;const r=e.length;for(let a=0;a<r;a++)s+=e[a]*Math.cos(a*n)+t[a]*Math.sin(a*n);return s}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let r=0;r<32;r++)n=Math.max(this._inverseFFT(e,t,r/32*s),n);return Wr(-this._inverseFFT(e,t,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return kr(this,void 0,void 0,(function*(){return oi(this,e)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ui._periodicWaveCache=[];class ci extends Sa{constructor(){super(Object.assign(Rr(ci.getDefaults(),arguments,["context"])))}connect(e,t=0,n=0){return Da(this,e,t,n),this}}class hi extends ci{constructor(){super(Object.assign(Rr(hi.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=Rr(hi.getDefaults(),arguments,["mapping","length"]);yr(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):pr(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Ra.getDefaults(),{length:1024})}setMap(e,t=1024){const n=new Float32Array(t);for(let s=0,r=t;s<r;s++){const t=s/(r-1)*2-1;n[s]=e(t,s)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){rr(["none","2x","4x"].some((t=>t.includes(e))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class di extends ci{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new hi({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class pi extends Ra{constructor(){super(Object.assign(Rr(pi.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=Rr(pi.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Ta({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ra.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class fi extends ei{constructor(){super(Rr(fi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new di({context:this.context}),this._modulationNode=new Ta({context:this.context});const e=Rr(fi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ui({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ui({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new pi({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Zr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ui.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return kr(this,void 0,void 0,(function*(){return oi(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class mi extends ei{constructor(){super(Rr(mi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Ta({context:this.context,gain:0});const e=Rr(mi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ui({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Ra({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ui({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new pi({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new pi({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Zr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ui.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return kr(this,void 0,void 0,(function*(){return oi(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class gi extends ei{constructor(){super(Rr(gi.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Ta({context:this.context,gain:0}),this._thresh=new hi({context:this.context,mapping:e=>e<=0?-1:1});const e=Rr(gi.getDefaults(),arguments,["frequency","width"]);this.width=new Ra({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ui({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Zr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ei.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return kr(this,void 0,void 0,(function*(){return oi(this,e)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class yi extends ei{constructor(){super(Rr(yi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=Rr(yi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Ra({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ra({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Zr(this,["frequency","detune"])}static getDefaults(){return Object.assign(ui.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach((t=>t.start(e)))}_stop(e){e=this.toSeconds(e),this._forEach((t=>t.stop(e)))}_restart(e){this._forEach((t=>t.restart(e)))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach((t=>t.type=e))}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach(((e,s)=>e.detune.value=t+n*s))}}get count(){return this._oscillators.length}set count(e){if(ar(e,1),this._oscillators.length!==e){this._forEach((e=>e.dispose())),this._oscillators=[];for(let t=0;t<e;t++){const n=new ui({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):Qr});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,"started"===this.state&&this._forEach((e=>e.start()))}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach(((e,t)=>e.phase=this._phase+t/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach((t=>t.baseType=e)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach((t=>t.partials=e)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach((t=>t.partialCount=e)),this._type=this._oscillators[0].type}asArray(e=1024){return kr(this,void 0,void 0,(function*(){return oi(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((e=>e.dispose())),this}}class bi extends ei{constructor(){super(Rr(bi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new pi({context:this.context,value:2});const e=Rr(bi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new gi({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ui({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Zr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ei.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return kr(this,void 0,void 0,(function*(){return oi(this,e)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const wi={am:fi,fat:yi,fm:mi,oscillator:ui,pulse:gi,pwm:bi};class vi extends ei{constructor(){super(Rr(vi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=Rr(vi.getDefaults(),arguments,["frequency","type"]);this.frequency=new Ra({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ra({context:this.context,units:"cents",value:e.detune}),Zr(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ui.getDefaults(),mi.getDefaults(),fi.getDefaults(),yi.getDefaults(),gi.getDefaults(),bi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some((e=>this._sourceType===e))&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=wi[e],n=this.now();if(this._oscillator){const e=this._oscillator;e.stop(n),this.context.setTimeout((()=>e.dispose()),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof wi[t]}get baseType(){return this._oscillator.baseType}set baseType(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===e||"pwm"===e||(this._oscillator.baseType=e)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(e){this._getOscType(this._oscillator,"fat")&&fr(e)&&(this._oscillator.count=e)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(e){this._getOscType(this._oscillator,"fat")&&fr(e)&&(this._oscillator.spread=e)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&br(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(e=1024){return kr(this,void 0,void 0,(function*(){return oi(this,e)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class xi extends Ra{constructor(){super(Object.assign(Rr(xi.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Ta({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ea(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Ra.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Ai extends ci{constructor(){super(Object.assign(Rr(Ai.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=Rr(Ai.getDefaults(),arguments,["min","max"]);this._mult=this.input=new pi({context:this.context,value:e.max-e.min}),this._add=this.output=new xi({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(ci.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class ki extends ci{constructor(){super(Object.assign(Rr(ki.getDefaults(),arguments))),this.name="Zero",this._gain=new Ta({context:this.context}),this.output=this._gain,this.input=void 0,_a(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Ia(this.context.getConstant(0),this._gain),this}}class Ci extends Sa{constructor(){super(Rr(Ci.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Ca.prototype._fromType,this._toType=Ca.prototype._toType,this._is=Ca.prototype._is,this._clampValue=Ca.prototype._clampValue;const e=Rr(Ci.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new ui(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Ta({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Ra({context:this.context,units:"audioRange",value:0}),this._zeros=new ki({context:this.context}),this._a2g=new di({context:this.context}),this._scaler=this.output=new Ai({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Zr(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(ui.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const t=this.min,n=this.max;this._units=e,this.min=t,this.max=n}get state(){return this._oscillator.state}connect(e,t,n){return(e instanceof Ca||e instanceof Ra)&&(this.convert=e.convert,this.units=e.units),Da(this,e,t,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Si(e,t=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){ar(s,e,t),n.set(this,s)}})}}function Ei(e,t=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){ar(this.toSeconds(s),e,t),n.set(this,s)}})}}class _i extends ei{constructor(){super(Rr(_i.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=Rr(_i.getDefaults(),arguments,["url","onload"]);this._buffer=new Jr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ei.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Qr,onerror:Qr,playbackRate:1,reverse:!1})}load(e){return kr(this,void 0,void 0,(function*(){return yield this._buffer.load(e),this._onload(),this}))}_onload(e=Qr){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){t=this._loop?Dr(t,this._loopStart):Dr(t,0);const s=this.toSeconds(t),r=n;n=Dr(n,Math.max(this._buffer.duration-s,0));let a=this.toSeconds(n);a/=this._playbackRate,e=this.toSeconds(e);const i=new ti({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(e+a),this._state.setStateAtTime("stopped",e+a,{implicitEnd:!0})),this._activeSources.add(i),this._loop&&hr(r)?i.start(e,s):i.start(e,s,a-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach((e=>e.stop(t)))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){this._stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if("started"===this._state.getValueAtTime(n)){const t=this.toSeconds(e);this._stop(n),this._start(n,t)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ar(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopStart=e}))}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ar(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopEnd=e}))}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach((t=>{t.loop=e})),e)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((e=>e.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(e,t)}))}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((e=>e.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Ar([Ei(0)],_i.prototype,"fadeIn",void 0),Ar([Ei(0)],_i.prototype,"fadeOut",void 0);class Ii extends Sa{constructor(){super(Rr(Ii.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const e=Rr(Ii.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new Ka({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Zr(this,"volume"),this._buffers=new Va({urls:e.urls,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.mute=e.mute,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ei.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:Qr,onerror:Qr,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._players.forEach((t=>{t.fadeIn=e}))}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._players.forEach((t=>{t.fadeOut=e}))}get state(){return Array.from(this._players).some((([e,t])=>"started"===t.state))?"started":"stopped"}has(e){return this._buffers.has(e)}player(e){if(rr(this.has(e),`No Player with the name ${e} exists on this object`),!this._players.has(e)){const t=new _i({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(e)}).connect(this.output);this._players.set(e,t)}return this._players.get(e)}get loaded(){return this._buffers.loaded}add(e,t,n){return rr(!this._buffers.has(e),"A buffer with that name already exists on this object"),this._buffers.add(e,t,n),this}stopAll(e){return this._players.forEach((t=>t.stop(e))),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach((e=>e.dispose())),this._buffers.dispose(),this}}class Ti extends ei{constructor(){super(Rr(Ti.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const e=Rr(Ti.getDefaults(),arguments,["url","onload"]);this.buffer=new Jr({onload:e.onload,onerror:e.onerror,reverse:e.reverse,url:e.url}),this._clock=new za({context:this.context,callback:this._tick.bind(this),frequency:1/e.grainSize}),this._playbackRate=e.playbackRate,this._grainSize=e.grainSize,this._overlap=e.overlap,this.detune=e.detune,this.overlap=e.overlap,this.loop=e.loop,this.playbackRate=e.playbackRate,this.grainSize=e.grainSize,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.reverse=e.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(ei.getDefaults(),{onload:Qr,onerror:Qr,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(e,t,n){t=Dr(t,0),t=this.toSeconds(t),e=this.toSeconds(e);const s=1/this._clock.frequency.getValueAtTime(e);this._clock.start(e,t/s),n&&this.stop(e+this.toSeconds(n))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){this._stop(e),this._start(e,t,n)}_stop(e){this._clock.stop(e)}_onstop(e){this._activeSources.forEach((t=>{t.fadeOut=0,t.stop(e)})),this.onstop(this)}_tick(e){const t=this._clock.getTicksAtTime(e),n=t*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(e);const s=n<this._overlap?0:this._overlap,r=new ti({context:this.context,url:this.buffer,fadeIn:s,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:la(this.detune/100)}).connect(this.output);r.start(e,this._grainSize*t),r.stop(e+this._grainSize/this.playbackRate),this._activeSources.push(r),r.onended=()=>{const e=this._activeSources.indexOf(r);-1!==e&&this._activeSources.splice(e,1)}}get playbackRate(){return this._playbackRate}set playbackRate(e){ar(e,.001),this._playbackRate=e,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(e){this.buffer.loaded&&ar(this.toSeconds(e),0,this.buffer.duration),this._loopStart=this.toSeconds(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this.buffer.loaded&&ar(this.toSeconds(e),0,this.buffer.duration),this._loopEnd=this.toSeconds(e)}get reverse(){return this.buffer.reverse}set reverse(e){this.buffer.reverse=e}get grainSize(){return this._grainSize}set grainSize(e){this._grainSize=this.toSeconds(e),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(e){const t=this.toSeconds(e);ar(t,0),this._overlap=t}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach((e=>e.dispose())),this}}class Ni extends ci{constructor(){super(...arguments),this.name="Abs",this._abs=new hi({context:this.context,mapping:e=>Math.abs(e)<.001?0:Math.abs(e)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Oi extends ci{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new hi({context:this.context,mapping:e=>2*Math.abs(e)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ri extends ci{constructor(){super(...arguments),this.name="Negate",this._multiply=new pi({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Di extends Ra{constructor(){super(Object.assign(Rr(Di.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new Ta({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Ri({context:this.context}),this.subtrahend=this._param,Ea(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Ra.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Mi extends ci{constructor(){super(Object.assign(Rr(Mi.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new hi({context:this.context,length:127,mapping:e=>e<=0?0:1}),this._scale=this.input=new pi({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Fi extends Ra{constructor(){super(Object.assign(Rr(Fi.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const e=Rr(Fi.getDefaults(),arguments,["value"]);this._subtract=this.input=new Di({context:this.context,value:e.value}),this._gtz=this.output=new Mi({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Zr(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Ra.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Bi extends ci{constructor(){super(Object.assign(Rr(Bi.getDefaults(),arguments,["value"]))),this.name="Pow";const e=Rr(Bi.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new hi({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(ci.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class zi extends Ai{constructor(){super(Object.assign(Rr(zi.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const e=Rr(zi.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new Bi({context:this.context,value:e.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Ai.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(e){this._exp.value=e}dispose(){return super.dispose(),this._exp.dispose(),this}}class Li extends Ra{constructor(){super(Rr(Ra.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const e=Rr(Ra.getDefaults(),arguments,["value","units"]);this._lastVal=e.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Oa({context:this.context,offset:e.value,units:e.units}).start(0),this.setValueAtTime(e.value,0)}_onTick(e){const t=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==t&&(this._lastVal=t,this._constantSource.offset.setValueAtTime(t,e))}_anchorValue(e){const t=super.getValueAtTime(this.context.transport.seconds);this._lastVal=t,this._constantSource.offset.cancelAndHoldAtTime(e),this._constantSource.offset.setValueAtTime(t,e)}getValueAtTime(e){const t=new va(this.context,e).toSeconds();return super.getValueAtTime(t)}setValueAtTime(e,t){const n=new va(this.context,t).toSeconds();return super.setValueAtTime(e,n),this}linearRampToValueAtTime(e,t){const n=new va(this.context,t).toSeconds();return super.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,t){const n=new va(this.context,t).toSeconds();return super.exponentialRampToValueAtTime(e,n),this}setTargetAtTime(e,t,n){const s=new va(this.context,t).toSeconds();return super.setTargetAtTime(e,s,n),this}cancelScheduledValues(e){const t=new va(this.context,e).toSeconds();return super.cancelScheduledValues(t),this}setValueCurveAtTime(e,t,n,s){const r=new va(this.context,t).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(e,r,n,s),this}cancelAndHoldAtTime(e){const t=new va(this.context,e).toSeconds();return super.cancelAndHoldAtTime(t),this}setRampPoint(e){const t=new va(this.context,e).toSeconds();return super.setRampPoint(t),this}exponentialRampTo(e,t,n){const s=new va(this.context,n).toSeconds();return super.exponentialRampTo(e,t,s),this}linearRampTo(e,t,n){const s=new va(this.context,n).toSeconds();return super.linearRampTo(e,t,s),this}targetRampTo(e,t,n){const s=new va(this.context,n).toSeconds();return super.targetRampTo(e,t,s),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class Pi extends Sa{constructor(){super(Rr(Pi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Ra({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=Rr(Pi.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Sa.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(br(e))return e;{let n;for(n in Vi)if(Vi[n][t]===e)return n;return e}}_setCurve(e,t,n){if(br(n)&&Reflect.has(Vi,n)){const s=Vi[n];mr(s)?"_decayCurve"!==e&&(this[e]=s[t]):this[e]=s}else{if(!yr(n)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+n);this[e]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){rr(["linear","exponential"].some((t=>t===e)),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),r=this.getValueAtTime(e);if(r>0){n=(1-r)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,n,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,n,e);else{this._sig.cancelAndHoldAtTime(e);let s=this._attackCurve;for(let e=1;e<s.length;e++)if(s[e-1]<=r&&r<=s[e]){s=this._attackCurve.slice(e),s[0]=r;break}this._sig.setValueCurveAtTime(s,e,n,t)}if(s&&this.sustain<1){const r=t*this.sustain,a=e+n;this.log("decay",a),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(r,s+a):this._sig.exponentialApproachValueAtTime(r,a,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,e):(rr(yr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,n=0){return Da(this,e,t,n),this}asArray(e=1024){return kr(this,void 0,void 0,(function*(){const t=e/this.context.sampleRate,n=new ea(1,t,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=s+this.toSeconds(this.release),a=.1*r,i=r+a,o=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/i,decay:t*this.toSeconds(this.decay)/i,release:t*this.toSeconds(this.release)/i,context:n}));o._sig.toDestination(),o.triggerAttackRelease(t*(s+a)/i,0);return(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Ar([Ei(0)],Pi.prototype,"attack",void 0),Ar([Ei(0)],Pi.prototype,"decay",void 0),Ar([Si(0,1)],Pi.prototype,"sustain",void 0),Ar([Ei(0)],Pi.prototype,"release",void 0);const Vi=(()=>{const e=128;let t,n;const s=[];for(t=0;t<e;t++)s[t]=Math.sin(t/127*(Math.PI/2));const r=[];for(t=0;t<127;t++){n=t/127;const e=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;r[t]=e/10+.83*n}r[127]=1;const a=[];for(t=0;t<e;t++)a[t]=Math.ceil(t/127*5)/5;const i=[];for(t=0;t<e;t++)n=t/127,i[t]=.5*(1-Math.cos(Math.PI*n));const o=[];for(t=0;t<e;t++){n=t/127;const e=4*Math.pow(n,3)+.2,s=Math.cos(e*Math.PI*2*n);o[t]=Math.abs(s*(1-n))}function l(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=1-e[n];return t}return{bounce:{In:l(o),Out:o},cosine:{In:s,Out:(u=s,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:r,Out:l(r)},sine:{In:i,Out:l(i)},step:{In:a,Out:l(a)}};var u})();class Wi extends Sa{constructor(){super(Rr(Wi.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=Rr(Wi.getDefaults(),arguments);this._volume=this.output=new Ka({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Zr(this,"volume")}static getDefaults(){return Object.assign(Sa.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const n=this["_original_"+e]=this[e];this[e]=(...e)=>{const s=e[t],r=this.context.transport.schedule((s=>{e[t]=s,n.apply(this,e)}),s);this._scheduledEvents.push(r)}}unsync(){return this._scheduledEvents.forEach((e=>this.context.transport.clear(e))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,t,n,s){const r=this.toSeconds(n),a=this.toSeconds(t);return this.triggerAttack(e,r,s),this.triggerRelease(r+a),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ui extends Wi{constructor(){super(Rr(Ui.getDefaults(),arguments));const e=Rr(Ui.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Wi.getDefaults(),{detune:0,onsilence:Qr,portamento:0})}triggerAttack(e,t,n=1){this.log("triggerAttack",e,t,n);const s=this.toSeconds(t);return this._triggerEnvelopeAttack(s,n),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),s=e instanceof ga?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const e=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,e,n)}else this.frequency.setValueAtTime(s,n);return this}}Ar([Ei(0)],Ui.prototype,"portamento",void 0);class Gi extends Pi{constructor(){super(Rr(Gi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ta({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class qi extends Ui{constructor(){super(Rr(qi.getDefaults(),arguments)),this.name="Synth";const e=Rr(qi.getDefaults(),arguments);this.oscillator=new vi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Gi(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Zr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ui.getDefaults(),{envelope:Object.assign(Mr(Pi.getDefaults(),Object.keys(Sa.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Mr(vi.getDefaults(),[...Object.keys(ei.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ji extends Ui{constructor(){super(Rr(ji.getDefaults(),arguments)),this.name="ModulationSynth";const e=Rr(ji.getDefaults(),arguments);this._carrier=new qi({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new qi({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Ra({context:this.context,units:"frequency"}),this.detune=new Ra({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new pi({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Ta({context:this.context,gain:0}),Zr(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ui.getDefaults(),{harmonicity:3,oscillator:Object.assign(Mr(vi.getDefaults(),[...Object.keys(ei.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Mr(Pi.getDefaults(),Object.keys(Sa.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Mr(vi.getDefaults(),[...Object.keys(ei.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Mr(Pi.getDefaults(),Object.keys(Sa.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Hi extends ji{constructor(){super(Rr(Hi.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new di({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class $i extends Sa{constructor(){super(Rr($i.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=Rr($i.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ca({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Ca({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Ca({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Ca({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Sa.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){rr(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let n=0;n<e;n++){const s=19980*Math.pow(n/e,2)+20;t[n]=s}const n=new Float32Array(e),s=new Float32Array(e),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(t,n,s),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Ki extends Sa{constructor(){super(Rr(Ki.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Ta({context:this.context}),this.output=new Ta({context:this.context}),this._filters=[];const e=Rr(Ki.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Ra({context:this.context,units:"positive",value:e.Q}),this.frequency=new Ra({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ra({context:this.context,units:"cents",value:e.detune}),this.gain=new Ra({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Zr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){rr(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),`Invalid filter type: ${e}`),this._type=e,this._filters.forEach((t=>t.type=e))}get rolloff(){return this._rolloff}set rolloff(e){const t=fr(e)?e:parseInt(e,10),n=[-12,-24,-48,-96];let s=n.indexOf(t);rr(-1!==s,`rolloff can only be ${n.join(", ")}`),s+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach((e=>e.disconnect())),this._filters=new Array(s);for(let e=0;e<s;e++){const t=new $i({context:this.context});t.type=this._type,this.frequency.connect(t.frequency),this.detune.connect(t.detune),this.Q.connect(t.Q),this.gain.connect(t.gain),this._filters[e]=t}this._internalChannels=this._filters,Ea(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new $i({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(e).map((()=>1));return this._filters.forEach((()=>{t.getFrequencyResponse(e).forEach(((e,t)=>n[t]*=e))})),t.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((e=>{e.dispose()})),Yr(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Xi extends Pi{constructor(){super(Rr(Xi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=Rr(Xi.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Bi({context:this.context,value:e.exponent}),this._scale=this.output=new Ai({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Pi.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);ar(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Zi extends Ui{constructor(){super(Rr(Zi.getDefaults(),arguments)),this.name="MonoSynth";const e=Rr(Zi.getDefaults(),arguments);this.oscillator=new vi(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Ki(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Xi(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Gi(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Zr(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ui.getDefaults(),{envelope:Object.assign(Mr(Pi.getDefaults(),Object.keys(Sa.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Mr(Ki.getDefaults(),Object.keys(Sa.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Mr(Xi.getDefaults(),Object.keys(Sa.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Mr(vi.getDefaults(),Object.keys(ei.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Yi extends Ui{constructor(){super(Rr(Yi.getDefaults(),arguments)),this.name="DuoSynth";const e=Rr(Yi.getDefaults(),arguments);this.voice0=new Zi(Object.assign(e.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Zi(Object.assign(e.voice1,{context:this.context})),this.harmonicity=new pi({context:this.context,units:"positive",value:e.harmonicity}),this._vibrato=new Ci({frequency:e.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Ta({context:this.context,units:"normalRange",gain:e.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Ra({context:this.context,units:"frequency",value:440}),this.detune=new Ra({context:this.context,units:"cents",value:e.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Zr(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(e){return e=this.toSeconds(e),this.voice0.envelope.getValueAtTime(e)+this.voice1.envelope.getValueAtTime(e)}static getDefaults(){return Or(Ui.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Or(Mr(Zi.getDefaults(),Object.keys(Ui.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Or(Mr(Zi.getDefaults(),Object.keys(Ui.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(e,t){this.voice0._triggerEnvelopeAttack(e,t),this.voice1._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this.voice0._triggerEnvelopeRelease(e),this.voice1._triggerEnvelopeRelease(e),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class Qi extends ji{constructor(){super(Rr(Qi.getDefaults(),arguments)),this.name="FMSynth";const e=Rr(Qi.getDefaults(),arguments);this.modulationIndex=new pi({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(ji.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Ji=[1,1.483,1.932,2.546,2.63,3.897];class eo extends Ui{constructor(){super(Rr(eo.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const e=Rr(eo.getDefaults(),arguments);this.detune=new Ra({context:this.context,units:"cents",value:e.detune}),this.frequency=new Ra({context:this.context,units:"frequency"}),this._amplitude=new Ta({context:this.context,gain:0}).connect(this.output),this._highpass=new Ki({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let t=0;t<Ji.length;t++){const n=new mi({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:0===t?()=>this.onsilence(this):Qr,type:"square"});n.connect(this._highpass),this._oscillators[t]=n;const s=new pi({context:this.context,value:Ji[t]});this._freqMultipliers[t]=s,this.frequency.chain(s,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new Ai({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new Pi({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return Or(Ui.getDefaults(),{envelope:Object.assign(Mr(Pi.getDefaults(),Object.keys(Sa.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,t=1){return this.envelope.triggerAttack(e,t),this._oscillators.forEach((t=>t.start(e))),0===this.envelope.sustain&&this._oscillators.forEach((t=>{t.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach((t=>t.stop(e+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach((t=>t.modulationIndex.value=e))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach((t=>t.harmonicity.value=e))}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach((e=>e.dispose())),this._freqMultipliers.forEach((e=>e.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class to extends qi{constructor(){super(Rr(to.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=Rr(to.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Zr(this,["oscillator","envelope"])}static getDefaults(){return Or(Ui.getDefaults(),qi.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),s=this.toFrequency(e instanceof ga?e.toFrequency():e),r=s*this.octaves;return this.oscillator.frequency.setValueAtTime(r,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ar([Si(0)],to.prototype,"octaves",void 0),Ar([Ei(0)],to.prototype,"pitchDecay",void 0);class no extends Wi{constructor(){super(Rr(no.getDefaults(),arguments)),this.name="NoiseSynth";const e=Rr(no.getDefaults(),arguments);this.noise=new ni(Object.assign({context:this.context},e.noise)),this.envelope=new Gi(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Wi.getDefaults(),{envelope:Object.assign(Mr(Pi.getDefaults(),Object.keys(Sa.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Mr(ni.getDefaults(),Object.keys(ei.getDefaults())),{type:"white"})})}triggerAttack(e,t=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,t),this.noise.start(e),0===this.envelope.sustain&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),e=this.toSeconds(e),this.triggerAttack(t,n),this.triggerRelease(t+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const so=new Set;function ro(e){so.add(e)}function ao(e,t){const n=`registerProcessor("${e}", ${t})`;so.add(n)}class io extends Sa{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Qr;const t=URL.createObjectURL(new Blob([Array.from(so).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(t,n).then((()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))}))}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}ro('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');ro("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");ro("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const oo="feedback-comb-filter";ao(oo,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class lo extends io{constructor(){super(Rr(lo.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const e=Rr(lo.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Ta({context:this.context}),this.output=new Ta({context:this.context}),this.delayTime=new Ca({context:this.context,value:e.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Ca({context:this.context,value:e.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Zr(this,["resonance","delayTime"])}_audioWorkletName(){return oo}static getDefaults(){return Object.assign(Sa.getDefaults(),{delayTime:.1,resonance:.5})}onReady(e){Ea(this.input,e,this.output);const t=e.parameters.get("delayTime");this.delayTime.setParam(t);const n=e.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class uo extends Sa{constructor(){super(Rr(uo.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const e=Rr(uo.getDefaults(),arguments,["frequency","type"]);this._frequency=e.frequency,this._type=e.type,this.input=new Ta({context:this.context}),this.output=new Ta({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(Sa.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const e=this._filter,t=this.toFrequency(this._frequency),n=1/(2*Math.PI*t);if("lowpass"===this._type){const e=1/(n*this.context.sampleRate),t=e-1;this._filter=this.context.createIIRFilter([e,0],[1,t])}else{const e=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,e])}this.input.chain(this._filter,this.output),e&&this.context.setTimeout((()=>{this.disposed||(this.input.disconnect(e),e.disconnect())}),this.blockTime)}get frequency(){return this._frequency}set frequency(e){this._frequency=e,this._createFilter()}get type(){return this._type}set type(e){this._type=e,this._createFilter()}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let n=0;n<e;n++){const s=19980*Math.pow(n/e,2)+20;t[n]=s}const n=new Float32Array(e),s=new Float32Array(e);return this._filter.getFrequencyResponse(t,n,s),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class co extends Sa{constructor(){super(Rr(co.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const e=Rr(co.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new lo({context:this.context,delayTime:e.delayTime,resonance:e.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new uo({context:this.context,frequency:e.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(Sa.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(e){this._lowpass.frequency=e}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class ho extends Wi{constructor(){super(Rr(ho.getDefaults(),arguments)),this.name="PluckSynth";const e=Rr(ho.getDefaults(),arguments);this._noise=new ni({context:this.context,type:"pink"}),this.attackNoise=e.attackNoise,this._lfcf=new co({context:this.context,dampening:e.dampening,resonance:e.resonance}),this.resonance=e.resonance,this.release=e.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Or(Wi.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(e){this._lfcf.dampening=e}triggerAttack(e,t){const n=this.toFrequency(e);t=this.toSeconds(t);const s=1/n;return this._lfcf.delayTime.setValueAtTime(s,t),this._noise.start(t),this._noise.stop(t+s*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(t),this._lfcf.resonance.setValueAtTime(this.resonance,t),this}triggerRelease(e){return this._lfcf.resonance.linearRampTo(0,this.release,e),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class po extends Wi{constructor(){super(Rr(po.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const e=Rr(po.getDefaults(),arguments,["voice","options"]);rr(!fr(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Wi.getDefaults(),{maxPolyphony:32,options:{},voice:qi})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex((t=>t.voice===e));this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return e.connect(this.output),this._voices.push(e),e}cr("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,n){e.forEach((e=>{const s=new Wa(this.context,e).toMidi(),r=this._getNextAvailableVoice();r&&(r.triggerAttack(e,t,n),this._activeVoices.push({midi:s,voice:r,released:!1}),this.log("triggerAttack",e,t))}))}_triggerRelease(e,t){e.forEach((e=>{const n=new Wa(this.context,e).toMidi(),s=this._activeVoices.find((({midi:e,released:t})=>e===n&&!t));s&&(s.voice.triggerRelease(t),s.released=!0,this.log("triggerRelease",e,t))}))}_scheduleEvent(e,t,n,s){rr(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===e?this._triggerAttack(t,n,s):this._triggerRelease(t,n):this.context.setTimeout((()=>{this._scheduleEvent(e,t,n,s)}),n-this.now())}triggerAttack(e,t,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("attack",e,s,n),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const n=this.toSeconds(t);return this._scheduleEvent("release",e,n),this}triggerAttackRelease(e,t,n,s){const r=this.toSeconds(n);if(this.triggerAttack(e,r,s),yr(t)){rr(yr(e),"If the duration is an array, the notes must also be an array");for(let n=0;n<e.length;n++){const s=t[Math.min(n,t.length-1)],a=this.toSeconds(s);rr(a>0,"The duration must be greater than 0"),this.triggerRelease(e[n],r+a)}}else{const n=this.toSeconds(t);rr(n>0,"The duration must be greater than 0"),this.triggerRelease(e,r+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(e){const t=Mr(e,["onsilence","context"]);return this.options=Or(this.options,t),this._voices.forEach((e=>e.set(t))),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach((({voice:e})=>{e.triggerRelease(t)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((e=>e.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class fo extends Wi{constructor(){super(Rr(fo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=Rr(fo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),t={};Object.keys(e.urls).forEach((n=>{const s=parseInt(n,10);if(rr(wr(n)||fr(s)&&isFinite(s),`url key is neither a note or midi pitch: ${n}`),wr(n)){const s=new ga(this.context,n).toMidi();t[s]=e.urls[n]}else fr(s)&&isFinite(s)&&(t[s]=e.urls[s])})),this._buffers=new Va({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Wi.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Qr,onerror:Qr,release:.1,urls:{}})}_findClosest(e){let t=0;for(;t<96;){if(this._buffers.has(e+t))return-t;if(this._buffers.has(e-t))return t;t++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,n=1){return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach((e=>{const s=ha(new ga(this.context,e).toFrequency()),r=Math.round(s),a=s-r,i=this._findClosest(r),o=r-i,l=this._buffers.get(o),u=la(i+a),c=new ti({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(t,0,l.duration/u,n),yr(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const e=this._activeSources.get(r),t=e.indexOf(c);-1!==t&&e.splice(t,1)}}})),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach((e=>{const n=new ga(this.context,e).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const e=this._activeSources.get(n);t=this.toSeconds(t),e.forEach((e=>{e.stop(t)})),this._activeSources.set(n,[])}})),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach((e=>{for(;e.length;){e.shift().stop(t)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n,s=1){const r=this.toSeconds(n);return this.triggerAttack(e,r,s),yr(t)?(rr(yr(e),"notes must be an array when duration is array"),e.forEach(((e,n)=>{const s=t[Math.min(n,t.length-1)];this.triggerRelease(e,r+this.toSeconds(s))}))):this.triggerRelease(e,r+this.toSeconds(t)),this}add(e,t,n){if(rr(wr(e)||isFinite(e),`note must be a pitch or midi: ${e}`),wr(e)){const s=new ga(this.context,e).toMidi();this._buffers.add(s,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((e=>{e.forEach((e=>e.dispose()))})),this._activeSources.clear(),this}}Ar([Ei(0)],fo.prototype,"attack",void 0),Ar([Ei(0)],fo.prototype,"release",void 0);class mo extends Aa{constructor(){super(Rr(mo.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new ka("stopped"),this._startOffset=0;const e=Rr(mo.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Aa.getDefaults(),{callback:Qr,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,(e=>{let t;if("started"===e.state){-1!==e.id&&this.context.transport.clear(e.id);const n=e.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||fr(this._loop)&&this._loop>1){t=1/0,fr(this._loop)&&(t=this._loop*this._getLoopDuration());const s=this._state.getAfter(n);null!==s&&(t=Math.min(t,s.time-n)),t!==1/0&&(this._state.setStateAtTime("stopped",n+t+1,{id:-1}),t=new Ga(this.context,t));const r=new Ga(this.context,this._getLoopDuration());e.id=this.context.transport.scheduleRepeat(this._tick.bind(this),r,new Ga(this.context,n),t)}else e.id=this.context.transport.schedule(this._tick.bind(this),new Ga(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const t=this.toTicks(e);return"stopped"===this._state.getValueAtTime(t)&&(this._state.add({id:-1,state:"started",time:t}),this._rescheduleEvents(t)),this}stop(e){this.cancel(e);const t=this.toTicks(e);if("started"===this._state.getValueAtTime(t)){this._state.setStateAtTime("stopped",t,{id:-1});const e=this._state.getBefore(t);let n=t;null!==e&&(n=e.time),this._rescheduleEvents(n)}return this}cancel(e){e=Dr(e,-1/0);const t=this.toTicks(e);return this._state.forEachFrom(t,(e=>{this.context.transport.clear(e.id)})),this._state.cancel(t),this}_tick(e){const t=this.context.transport.getTicksAtTime(e);if(!this.mute&&"started"===this._state.getValueAtTime(t)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let t=.02;gr(this.humanize)||(t=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*t}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Ga(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Ga(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,t=this._state.get(e);if(null!==t&&"started"===t.state){const n=this._getLoopDuration();return(e-t.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class go extends Aa{constructor(){super(Rr(go.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const e=Rr(go.getDefaults(),arguments,["callback","interval"]);this._event=new mo({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(Aa.getDefaults(),{interval:"4n",callback:Qr,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(e){this._event.loop=e===1/0||e}dispose(){return super.dispose(),this._event.dispose(),this}}class yo extends mo{constructor(){super(Rr(yo.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new ka("stopped"),this._events=new Set;const e=Rr(yo.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach((e=>{yr(e)?this.add(e[0],e[1]):this.add(e)}))}static getDefaults(){return Object.assign(mo.getDefaults(),{events:[]})}start(e,t){const n=this.toTicks(e);if("started"!==this._state.getValueAtTime(n)){t=Dr(t,this._loop?this._loopStart:0),t=this._loop?Dr(t,this._loopStart):Dr(t,0);const e=this.toTicks(t);this._state.add({id:-1,offset:e,state:"started",time:n}),this._forEach((t=>{this._startNote(t,n,e)}))}return this}_startNote(e,t,n){t-=n,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<n&&(t+=this._getLoopDuration()),e.start(new Ga(this.context,t))):e.startOffset<this._loopStart&&e.startOffset>=n&&(e.loop=!1,e.start(new Ga(this.context,t))):e.startOffset>=n&&e.start(new Ga(this.context,t))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach((e=>{e.startOffset+=this._startOffset}))}stop(e){const t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._forEach((t=>{t.stop(e)})),this}at(e,t){const n=new va(this.context,e).toTicks(),s=new Ga(this.context,1).toSeconds(),r=this._events.values();let a=r.next();for(;!a.done;){const e=a.value;if(Math.abs(n-e.startOffset)<s)return dr(t)&&(e.value=t),e;a=r.next()}return dr(t)?(this.add(e,t),this.at(e)):null}add(e,t){e instanceof Object&&Reflect.has(e,"time")&&(e=(t=e).time);const n=this.toTicks(e);let s;return t instanceof mo?(s=t,s.callback=this._tick.bind(this)):s=new mo({callback:this._tick.bind(this),context:this.context,value:t}),s.startOffset=n,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(e){this._state.forEach((t=>{"started"===t.state?this._startNote(e,t.time,t.offset):e.stop(new Ga(this.context,t.time))}))}remove(e,t){return mr(e)&&e.hasOwnProperty("time")&&(e=(t=e).time),e=this.toTicks(e),this._events.forEach((n=>{n.startOffset===e&&(hr(t)||dr(t)&&n.value===t)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((e=>e.dispose())),this._events.clear(),this}cancel(e){return this._forEach((t=>t.cancel(e))),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach((t=>{t instanceof yo?t._forEach(e):e(t)})),this}_setAll(e,t){this._forEach((n=>{n[e]=t}))}_tick(e,t){this.mute||this.callback(e,t)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):"stopped"===e.state&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach((t=>{t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.loop=e,this._testLoopBoundries(t)}))}get loopEnd(){return new Ga(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach((t=>{t.loopEnd=e,this._testLoopBoundries(t)}))}get loopStart(){return new Ga(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach((e=>{e.loopStart=this.loopStart,this._testLoopBoundries(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*bo(e){let t=0;for(;t<e.length;)t=xo(t,e),yield e[t],t++}function*wo(e){let t=e.length-1;for(;t>=0;)t=xo(t,e),yield e[t],t--}function*vo(e,t){for(;;)yield*t(e)}function xo(e,t){return Wr(e,0,t.length-1)}function*Ao(e,t){let n=t?0:e.length-1;for(;;)n=xo(n,e),yield e[n],t?(n++,n>=e.length-1&&(t=!1)):(n--,n<=0&&(t=!0))}function*ko(e){let t=0,n=0;for(;t<e.length;)t=xo(t,e),yield e[t],n++,t+=n%2?2:-1}function*Co(e){let t=e.length-1,n=0;for(;t>=0;)t=xo(t,e),yield e[t],n++,t+=n%2?-2:1}function*So(e){const t=[];for(let n=0;n<e.length;n++)t.push(n);for(;t.length>0;){const n=xo(t.splice(Math.floor(t.length*Math.random()),1)[0],e);yield e[n]}}function*Eo(e,t="up",n=0){switch(rr(e.length>0,"The array must have more than one value in it"),t){case"up":yield*vo(e,bo);case"down":yield*vo(e,wo);case"upDown":yield*Ao(e,!0);case"downUp":yield*Ao(e,!1);case"alternateUp":yield*vo(e,ko);case"alternateDown":yield*vo(e,Co);case"random":yield*function*(e){for(;;){const t=Math.floor(Math.random()*e.length);yield e[t]}}(e);case"randomOnce":yield*vo(e,So);case"randomWalk":yield*function*(e){let t=Math.floor(Math.random()*e.length);for(;;)0===t?t++:t===e.length-1||Math.random()<.5?t--:t++,yield e[t]}(e)}}class _o extends go{constructor(){super(Rr(_o.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const e=Rr(_o.getDefaults(),arguments,["callback","values","pattern"]);this.callback=e.callback,this._values=e.values,this._pattern=Eo(e.values,e.pattern),this._type=e.pattern}static getDefaults(){return Object.assign(go.getDefaults(),{pattern:"up",values:[],callback:Qr})}_tick(e){const t=this._pattern.next();this._value=t.value,this.callback(e,this._value)}get values(){return this._values}set values(e){this._values=e,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(e){this._type=e,this._pattern=Eo(this._values,this._type)}}class Io extends mo{constructor(){super(Rr(Io.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new yo({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const e=Rr(Io.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Mr(mo.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,t){null!==t&&this.callback(e,t)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,t){return this._part.start(e,t?this._indexTime(t):t),this}stop(e){return this._part.stop(e),this}get subdivision(){return new Ga(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(e,t)=>e[t],set:(e,t,n)=>(br(t)&&isFinite(parseInt(t,10))&&yr(n)?e[t]=this._createSequence(n):e[t]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,t,n){e.forEach(((e,s)=>{const r=s*t+n;if(yr(e))this._rescheduleSequence(e,t/e.length,r);else{const t=new Ga(this.context,r,"i").toSeconds();this._part.add(t,e)}}))}_indexTime(e){return new Ga(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this._part.loopEnd=0===e?this._indexTime(this._eventsArray.length):this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class To extends Sa{constructor(){super(Object.assign(Rr(To.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Oi({context:this.context}),this.a=new Ta({context:this.context,gain:0}),this.b=new Ta({context:this.context,gain:0}),this.output=new Ta({context:this.context}),this._internalChannels=[this.a,this.b];const e=Rr(To.getDefaults(),arguments,["fade"]);this.fade=new Ra({context:this.context,units:"normalRange",value:e.fade}),Zr(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",_a(this._split,this.a.gain,0),_a(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Sa.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class No extends Sa{constructor(e){super(e),this.name="Effect",this._dryWet=new To({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Ta({context:this.context}),this.effectReturn=new Ta({context:this.context}),this.input=new Ta({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Zr(this,"wet")}static getDefaults(){return Object.assign(Sa.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Oo extends No{constructor(e){super(e),this.name="LFOEffect",this._lfo=new Ci({context:this.context,frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=e.type,Zr(this,["frequency","depth"])}static getDefaults(){return Object.assign(No.getDefaults(),{frequency:1,type:"sine",depth:1})}start(e){return this._lfo.start(e),this}stop(e){return this._lfo.stop(e),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ro extends Oo{constructor(){super(Rr(Ro.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const e=Rr(Ro.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new Ki(Object.assign(e.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency}static getDefaults(){return Object.assign(Oo.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(e){this._lfo.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._lfo.max=this._lfo.min*Math.pow(2,e)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Do extends Sa{constructor(){super(Object.assign(Rr(Do.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=Rr(Do.getDefaults(),arguments,["pan"]);this.pan=new Ca({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Zr(this,"pan")}static getDefaults(){return Object.assign(Sa.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Mo extends Oo{constructor(){super(Rr(Mo.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const e=Rr(Mo.getDefaults(),arguments,["frequency"]);this._panner=new Do({context:this.context,channelCount:e.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Oo.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Fo extends Sa{constructor(){super(Rr(Fo.getDefaults(),arguments,["smoothing"])),this.name="Follower";const e=Rr(Fo.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new Ni({context:this.context}),this._lowpass=this.output=new uo({context:this.context,frequency:1/this.toSeconds(e.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=e.smoothing}static getDefaults(){return Object.assign(Sa.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(e){this._smoothing=e,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Bo extends No{constructor(){super(Rr(Bo.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const e=Rr(Bo.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new Fo({context:this.context,smoothing:e.follower}),this._sweepRange=new zi({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this._inputBoost=new Ta({context:this.context}),this._bandpass=new Ki({context:this.context,rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new Ki({context:this.context,type:"peaking"}),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,Zr(this,["gain","Q"])}static getDefaults(){return Object.assign(No.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(e){this._follower.smoothing=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._setSweepRange()}get sensitivity(){return oa(1/this._inputBoost.gain.value)}set sensitivity(e){this._inputBoost.gain.value=1/ia(e)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const zo="bit-crusher";ao(zo,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Lo extends No{constructor(){super(Rr(Lo.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const e=Rr(Lo.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new Po({context:this.context,bits:e.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(No.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Po extends io{constructor(){super(Rr(Po.getDefaults(),arguments)),this.name="BitCrusherWorklet";const e=Rr(Po.getDefaults(),arguments);this.input=new Ta({context:this.context}),this.output=new Ta({context:this.context}),this.bits=new Ca({context:this.context,value:e.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(io.getDefaults(),{bits:12})}_audioWorkletName(){return zo}onReady(e){Ea(this.input,e,this.output);const t=e.parameters.get("bits");this.bits.setParam(t)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Vo extends No{constructor(){super(Rr(Vo.getDefaults(),arguments,["order"])),this.name="Chebyshev";const e=Rr(Vo.getDefaults(),arguments,["order"]);this._shaper=new hi({context:this.context,length:4096}),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample}static getDefaults(){return Object.assign(No.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(e,t,n){return n.has(t)||(0===t?n.set(t,0):1===t?n.set(t,e):n.set(t,2*e*this._getCoefficient(e,t-1,n)-this._getCoefficient(e,t-2,n))),n.get(t)}get order(){return this._order}set order(e){this._order=e,this._shaper.setMap((t=>this._getCoefficient(t,e,new Map)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Wo extends Sa{constructor(){super(Rr(Wo.getDefaults(),arguments,["channels"])),this.name="Split";const e=Rr(Wo.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(Sa.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Uo extends Sa{constructor(){super(Rr(Uo.getDefaults(),arguments,["channels"])),this.name="Merge";const e=Rr(Uo.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(Sa.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Go extends Sa{constructor(e){super(e),this.name="StereoEffect",this.input=new Ta({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new To({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new Wo({context:this.context,channels:2}),this._merge=new Uo({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Zr(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Ea(...e),_a(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Ea(...e),_a(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(Sa.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class qo extends Go{constructor(e){super(e),this.feedback=new Ra({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new Ta({context:this.context}),this._feedbackR=new Ta({context:this.context}),this._feedbackSplit=new Wo({context:this.context,channels:2}),this._feedbackMerge=new Uo({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Zr(this,["feedback"])}static getDefaults(){return Object.assign(Go.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class jo extends qo{constructor(){super(Rr(jo.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const e=Rr(jo.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new Ci({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Ci({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new La({context:this.context}),this._delayNodeR=new La({context:this.context}),this.frequency=this._lfoL.frequency,Zr(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(qo.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const t=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-t,0),this._lfoL.max=this._delayTime+t,this._lfoR.min=Math.max(this._delayTime-t,0),this._lfoR.max=this._delayTime+t}get delayTime(){return 1e3*this._delayTime}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Ho extends No{constructor(){super(Rr(Ho.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=Rr(Ho.getDefaults(),arguments,["distortion"]);this._shaper=new hi({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(No.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const t=100*e,n=Math.PI/180;this._shaper.setMap((e=>Math.abs(e)<.001?0:(3+t)*e*20*n/(Math.PI+t*Math.abs(e))))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class $o extends No{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new Ta({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Zr(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(No.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Ko extends $o{constructor(){super(Rr(Ko.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const e=Rr(Ko.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new La({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Zr(this,"delayTime")}static getDefaults(){return Object.assign($o.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Xo extends Sa{constructor(e){super(e),this.name="PhaseShiftAllpass",this.input=new Ta({context:this.context}),this.output=new Ta({context:this.context}),this.offset90=new Ta({context:this.context});this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),Ea(this.input,...this._bank0,this._oneSampleDelay,this.output),Ea(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(e){return e.map((e=>{const t=[[e*e,0,-1],[1,0,-e*e]];return this.context.createIIRFilter(t[0],t[1])}))}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach((e=>e.disconnect())),this._bank1.forEach((e=>e.disconnect())),this._oneSampleDelay.disconnect(),this}}class Zo extends No{constructor(){super(Rr(Zo.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const e=Rr(Zo.getDefaults(),arguments,["frequency"]);this.frequency=new Ra({context:this.context,units:"frequency",value:e.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new li({context:this.context,type:"sine"}),this._cosine=new ui({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new pi({context:this.context}),this._cosineMultiply=new pi({context:this.context}),this._negate=new Ri({context:this.context}),this._add=new xi({context:this.context}),this._phaseShifter=new Xo({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const t=this.immediate();this._sine.start(t),this._cosine.start(t)}static getDefaults(){return Object.assign(No.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Yo=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],Qo=[225,556,441,341];class Jo extends Go{constructor(){super(Rr(Jo.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const e=Rr(Jo.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new Ra({context:this.context,value:e.roomSize,units:"normalRange"}),this._allpassFiltersL=Qo.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._allpassFiltersR=Qo.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._combFilters=Yo.map(((t,n)=>{const s=new co({context:this.context,dampening:e.dampening,delayTime:t});return n<Yo.length/2?this.connectEffectLeft(s,...this._allpassFiltersL):this.connectEffectRight(s,...this._allpassFiltersR),this.roomSize.connect(s.resonance),s})),Zr(this,["roomSize"])}static getDefaults(){return Object.assign(Go.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(e){this._combFilters.forEach((t=>t.dampening=e))}dispose(){return super.dispose(),this._allpassFiltersL.forEach((e=>e.disconnect())),this._allpassFiltersR.forEach((e=>e.disconnect())),this._combFilters.forEach((e=>e.dispose())),this.roomSize.dispose(),this}}const el=[.06748,.06404,.08212,.09004],tl=[.773,.802,.753,.733],nl=[347,113,37];class sl extends Go{constructor(){super(Rr(sl.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const e=Rr(sl.getDefaults(),arguments,["roomSize"]);this.roomSize=new Ra({context:this.context,value:e.roomSize,units:"normalRange"}),this._scaleRoomSize=new Ai({context:this.context,min:-.733,max:.197}),this._allpassFilters=nl.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._feedbackCombFilters=el.map(((e,t)=>{const n=new lo({context:this.context,delayTime:e});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=tl[t],t<el.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n})),this.roomSize.connect(this._scaleRoomSize),Zr(this,["roomSize"])}static getDefaults(){return Object.assign(Go.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach((e=>e.disconnect())),this._feedbackCombFilters.forEach((e=>e.dispose())),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class rl extends qo{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Zr(this,["feedback"])}}class al extends rl{constructor(){super(Rr(al.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const e=Rr(al.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new La({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new La({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new La({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new Ra({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Zr(this,["delayTime"])}static getDefaults(){return Object.assign(rl.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class il extends $o{constructor(){super(Rr(il.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const e=Rr(il.getDefaults(),arguments,["pitch"]);this._frequency=new Ra({context:this.context}),this._delayA=new La({maxDelay:1,context:this.context}),this._lfoA=new Ci({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new La({maxDelay:1,context:this.context}),this._lfoB=new Ci({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new To({context:this.context}),this._crossFadeLFO=new Ci({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new La({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Zr(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const t=this.now();this._lfoA.start(t),this._lfoB.start(t),this._crossFadeLFO.start(t),this.windowSize=this._windowSize}static getDefaults(){return Object.assign($o.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let t=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,t=la(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,t=la(e)-1),this._frequency.value=t*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class ol extends Go{constructor(){super(Rr(ol.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const e=Rr(ol.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new Ci({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Ci({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this.Q=new Ra({context:this.context,value:e.Q,units:"positive"}),this._filtersL=this._makeFilters(e.stages,this._lfoL),this._filtersR=this._makeFilters(e.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),Zr(this,["frequency","Q"])}static getDefaults(){return Object.assign(Go.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(e,t){const n=[];for(let s=0;s<e;s++){const e=this.context.createBiquadFilter();e.type="allpass",this.Q.connect(e.Q),t.connect(e.frequency),n.push(e)}return n}get octaves(){return this._octaves}set octaves(e){this._octaves=e;const t=this._baseFrequency*Math.pow(2,e);this._lfoL.max=t,this._lfoR.max=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach((e=>e.disconnect())),this._filtersR.forEach((e=>e.disconnect())),this.frequency.dispose(),this}}class ll extends No{constructor(){super(Rr(ll.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=Rr(ll.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(No.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){ar(e=this.toSeconds(e),.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){ar(e=this.toSeconds(e),0),this._preDelay=e,this.generate()}generate(){return kr(this,void 0,void 0,(function*(){const e=this.ready,t=new ea(2,this._decay+this._preDelay,this.context.sampleRate),n=new ni({context:t}),s=new ni({context:t}),r=new Uo({context:t});n.connect(r,0,0),s.connect(r,0,1);const a=new Ta({context:t}).toDestination();r.connect(a),n.start(0),s.start(0),a.gain.setValueAtTime(0,0),a.gain.setValueAtTime(1,this._preDelay),a.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const i=t.render();return this.ready=i.then(Qr),yield e,this._convolver.buffer=(yield i).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class ul extends Sa{constructor(){super(Rr(ul.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Wo({channels:2,context:this.context}),this._midAdd=new xi({context:this.context}),this.mid=new pi({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Di({context:this.context}),this.side=new pi({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class cl extends Sa{constructor(){super(Rr(cl.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new Ta({context:this.context}),this.side=new Ta({context:this.context}),this._left=new xi({context:this.context}),this._leftMult=new pi({context:this.context,value:Math.SQRT1_2}),this._right=new Di({context:this.context}),this._rightMult=new pi({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Uo({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class hl extends No{constructor(e){super(e),this.name="MidSideEffect",this._midSideMerge=new cl({context:this.context}),this._midSideSplit=new ul({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...e){this._midSend.chain(...e,this._midReturn)}connectEffectSide(...e){this._sideSend.chain(...e,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class dl extends hl{constructor(){super(Rr(dl.getDefaults(),arguments,["width"])),this.name="StereoWidener";const e=Rr(dl.getDefaults(),arguments,["width"]);this.width=new Ra({context:this.context,value:e.width,units:"normalRange"}),Zr(this,["width"]),this._twoTimesWidthMid=new pi({context:this.context,value:2}),this._twoTimesWidthSide=new pi({context:this.context,value:2}),this._midMult=new pi({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Di({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),_a(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new pi({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(hl.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class pl extends Go{constructor(){super(Rr(pl.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const e=Rr(pl.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new Ci({context:this.context,type:e.type,min:1,max:0}),this._lfoR=new Ci({context:this.context,type:e.type,min:1,max:0}),this._amplitudeL=new Ta({context:this.context}),this._amplitudeR=new Ta({context:this.context}),this.frequency=new Ra({context:this.context,value:e.frequency,units:"frequency"}),this.depth=new Ra({context:this.context,value:e.depth,units:"normalRange"}),Zr(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=e.spread}static getDefaults(){return Object.assign(Go.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class fl extends No{constructor(){super(Rr(fl.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const e=Rr(fl.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new La({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new Ci({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,Zr(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(No.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class ml extends Sa{constructor(){super(Rr(ml.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const e=Rr(ml.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new Ta({context:this.context}),this._split=new Wo({context:this.context,channels:e.channels}),this.input.connect(this._split),ar(e.channels,1);for(let t=0;t<e.channels;t++)this._analysers[t]=this.context.createAnalyser(),this._split.connect(this._analysers[t],t,0);this.size=e.size,this.type=e.type}static getDefaults(){return Object.assign(Sa.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((e,t)=>{const n=this._buffers[t];"fft"===this._type?e.getFloatFrequencyData(n):"waveform"===this._type&&e.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach(((t,n)=>{t.fftSize=2*e,this._buffers[n]=new Float32Array(e)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(e){rr("waveform"===e||"fft"===e,`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach((t=>t.smoothingTimeConstant=e))}dispose(){return super.dispose(),this._analysers.forEach((e=>e.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class gl extends Sa{constructor(){super(Rr(gl.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new ml({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class yl extends gl{constructor(){super(Rr(yl.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const e=Rr(yl.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new ml({context:this.context,size:256,type:"waveform",channels:e.channels}),this.smoothing=e.smoothing,this.normalRange=e.normalRange}static getDefaults(){return Object.assign(gl.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return cr("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const e=this._analyser.getValue(),t=(1===this.channels?[e]:e).map((e=>{const t=e.reduce(((e,t)=>e+t*t),0),n=Math.sqrt(t/e.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:oa(this._rms)}));return 1===this.channels?t[0]:t}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class bl extends gl{constructor(){super(Rr(bl.getDefaults(),arguments,["size"])),this.name="FFT";const e=Rr(bl.getDefaults(),arguments,["size"]);this.normalRange=e.normalRange,this._analyser.type="fft",this.size=e.size}static getDefaults(){return Object.assign(Sa.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((e=>this.normalRange?ia(e):e))}get size(){return this._analyser.size}set size(e){this._analyser.size=e}get smoothing(){return this._analyser.smoothing}set smoothing(e){this._analyser.smoothing=e}getFrequencyOfIndex(e){return rr(0<=e&&e<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),e*this.context.sampleRate/(2*this.size)}}class wl extends gl{constructor(){super(Rr(wl.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class vl extends gl{constructor(){super(Rr(vl.getDefaults(),arguments,["size"])),this.name="Waveform";const e=Rr(vl.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=e.size}static getDefaults(){return Object.assign(gl.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(e){this._analyser.size=e}}class xl extends Sa{constructor(){super(Rr(xl.getDefaults(),arguments,["solo"])),this.name="Solo";const e=Rr(xl.getDefaults(),arguments,["solo"]);this.input=this.output=new Ta({context:this.context}),xl._allSolos.has(this.context)||xl._allSolos.set(this.context,new Set),xl._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Sa.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),xl._allSolos.get(this.context).forEach((e=>e._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){xl._soloed.has(this.context)||xl._soloed.set(this.context,new Set),xl._soloed.get(this.context).add(this)}_removeSolo(){xl._soloed.has(this.context)&&xl._soloed.get(this.context).delete(this)}_isSoloed(){return xl._soloed.has(this.context)&&xl._soloed.get(this.context).has(this)}_noSolos(){return!xl._soloed.has(this.context)||xl._soloed.has(this.context)&&0===xl._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),xl._allSolos.get(this.context).delete(this),this._removeSolo(),this}}xl._allSolos=new Map,xl._soloed=new Map;class Al extends Sa{constructor(){super(Rr(Al.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=Rr(Al.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Do({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ka({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Zr(this,["pan","volume"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class kl extends Sa{constructor(){super(Rr(kl.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=Rr(kl.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new xl({solo:e.solo,context:this.context}),this._panVol=this.output=new Al({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Zr(this,["pan","volume"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return kl.buses.has(e)||kl.buses.set(e,new Ta({context:this.context})),kl.buses.get(e)}send(e,t=0){const n=this._getBus(e),s=new Ta({context:this.context,units:"decibels",gain:t});return this.connect(s),s.connect(n),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}kl.buses=new Map;class Cl extends Sa{constructor(){super(Rr(Cl.getDefaults(),arguments)),this.name="Mono",this.input=new Ta({context:this.context}),this._merge=this.output=new Uo({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Sl extends Sa{constructor(){super(Rr(Sl.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new Ta({context:this.context}),this.output=void 0,this.low=new Ki({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new Ki({context:this.context,frequency:0,type:"highpass"}),this.mid=new Ki({context:this.context,frequency:0,type:"lowpass"}),this.high=new Ki({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const e=Rr(Sl.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new Ra({context:this.context,units:"frequency",value:e.lowFrequency}),this.highFrequency=new Ra({context:this.context,units:"frequency",value:e.highFrequency}),this.Q=new Ra({context:this.context,units:"positive",value:e.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Zr(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Yr(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class El extends Sa{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ca({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ca({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ca({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ca({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ca({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ca({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ca({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ca({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ca({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Sa.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}qr((e=>{e.listener=new El({context:e})})),Hr((e=>{e.listener.dispose()}));class _l extends Sa{constructor(){super(Rr(_l.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const e=Rr(_l.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=e.panningModel,this.maxDistance=e.maxDistance,this.distanceModel=e.distanceModel,this.coneOuterGain=e.coneOuterGain,this.coneOuterAngle=e.coneOuterAngle,this.coneInnerAngle=e.coneInnerAngle,this.refDistance=e.refDistance,this.rolloffFactor=e.rolloffFactor,this.positionX=new Ca({context:this.context,param:this._panner.positionX,value:e.positionX}),this.positionY=new Ca({context:this.context,param:this._panner.positionY,value:e.positionY}),this.positionZ=new Ca({context:this.context,param:this._panner.positionZ,value:e.positionZ}),this.orientationX=new Ca({context:this.context,param:this._panner.orientationX,value:e.orientationX}),this.orientationY=new Ca({context:this.context,param:this._panner.orientationY,value:e.orientationY}),this.orientationZ=new Ca({context:this.context,param:this._panner.orientationZ,value:e.orientationZ})}static getDefaults(){return Object.assign(Sa.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(e,t,n){return this.positionX.value=e,this.positionY.value=t,this.positionZ.value=n,this}setOrientation(e,t,n){return this.orientationX.value=e,this.orientationY.value=t,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(e){this._panner.panningModel=e}get refDistance(){return this._panner.refDistance}set refDistance(e){this._panner.refDistance=e}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(e){this._panner.rolloffFactor=e}get distanceModel(){return this._panner.distanceModel}set distanceModel(e){this._panner.distanceModel=e}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(e){this._panner.coneInnerAngle=e}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(e){this._panner.coneOuterAngle=e}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(e){this._panner.coneOuterGain=e}get maxDistance(){return this._panner.maxDistance}set maxDistance(e){this._panner.maxDistance=e}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class Il extends Sa{constructor(){super(Rr(Il.getDefaults(),arguments)),this.name="Recorder";const e=Rr(Il.getDefaults(),arguments);this.input=new Ta({context:this.context}),rr(Il.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:e.mimeType})}static getDefaults(){return Sa.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==vr&&Reflect.has(vr,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return kr(this,void 0,void 0,(function*(){rr("started"!==this.state,"Recorder is already started");const e=new Promise((e=>{const t=()=>{this._recorder.removeEventListener("start",t,!1),e()};this._recorder.addEventListener("start",t,!1)}));return this._recorder.start(),yield e}))}stop(){return kr(this,void 0,void 0,(function*(){rr("stopped"!==this.state,"Recorder is not started");const e=new Promise((e=>{const t=n=>{this._recorder.removeEventListener("dataavailable",t,!1),e(n.data)};this._recorder.addEventListener("dataavailable",t,!1)}));return this._recorder.stop(),yield e}))}pause(){return rr("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class Tl extends Sa{constructor(){super(Rr(Tl.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=Rr(Tl.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Ca({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new Ca({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new Ca({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new Ca({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new Ca({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),Zr(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Nl extends Sa{constructor(){super(Object.assign(Rr(Nl.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const e=Rr(Nl.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new Fo({context:this.context,smoothing:e.smoothing}),this._gt=new Fi({context:this.context,value:ia(e.threshold)}),this.input=new Ta({context:this.context}),this._gate=this.output=new Ta({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(Sa.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return oa(this._gt.value)}set threshold(e){this._gt.value=ia(e)}get smoothing(){return this._follower.smoothing}set smoothing(e){this._follower.smoothing=e}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Ol extends Sa{constructor(){super(Object.assign(Rr(Ol.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const e=Rr(Ol.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new Tl({context:this.context,ratio:20,attack:.003,release:.01,threshold:e.threshold}),this.threshold=this._compressor.threshold,Zr(this,"threshold")}static getDefaults(){return Object.assign(Sa.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Rl extends Sa{constructor(){super(Object.assign(Rr(Rl.getDefaults(),arguments))),this.name="MidSideCompressor";const e=Rr(Rl.getDefaults(),arguments);this._midSideSplit=this.input=new ul({context:this.context}),this._midSideMerge=this.output=new cl({context:this.context}),this.mid=new Tl(Object.assign(e.mid,{context:this.context})),this.side=new Tl(Object.assign(e.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Zr(this,["mid","side"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Dl extends Sa{constructor(){super(Object.assign(Rr(Dl.getDefaults(),arguments))),this.name="MultibandCompressor";const e=Rr(Dl.getDefaults(),arguments);this._splitter=this.input=new Sl({context:this.context,lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Ta({context:this.context}),this.low=new Tl(Object.assign(e.low,{context:this.context})),this.mid=new Tl(Object.assign(e.mid,{context:this.context})),this.high=new Tl(Object.assign(e.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Zr(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Ml extends Sa{constructor(){super(Rr(Ml.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new Ta({context:this.context}),this._internalChannels=[];const e=Rr(Ml.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new Sl({context:this.context,highFrequency:e.highFrequency,lowFrequency:e.lowFrequency}),this._lowGain=new Ta({context:this.context,gain:e.low,units:"decibels"}),this._midGain=new Ta({context:this.context,gain:e.mid,units:"decibels"}),this._highGain=new Ta({context:this.context,gain:e.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Zr(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(Sa.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Yr(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Fl extends Sa{constructor(){super(Rr(Fl.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const e=Rr(Fl.getDefaults(),arguments,["url","onload"]);this._buffer=new Jr(e.url,(t=>{this.buffer=t,e.onload()})),this.input=new Ta({context:this.context}),this.output=new Ta({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=e.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(Sa.getDefaults(),{normalize:!0,onload:Qr})}load(e){return kr(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(e)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(e){e&&this._buffer.set(e),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const t=this._buffer.get();this._convolver.buffer=t||null}get normalize(){return this._convolver.normalize}set normalize(e){this._convolver.normalize=e}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function Bl(){return sa().now()}function zl(){return sa().immediate()}const Ll=sa().transport;function Pl(){return sa().transport}const Vl=sa().destination,Wl=sa().destination;function Ul(){return sa().destination}const Gl=sa().listener;function ql(){return sa().listener}const jl=sa().draw;function Hl(){return sa().draw}const $l=sa();function Kl(){return Jr.loaded()}const Xl=Jr,Zl=Va,Yl=ti},8990:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var s="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var s=e[t];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=r;e=e.split(".");for(var a=0;a<e.length-1;a++){var i=e[a];if(!(i in n))break e;n=n[i]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&s(n,e,{configurable:!0,writable:!0,value:t})}}function i(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function o(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function l(e){if(!(e instanceof Array)){e=o(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,s(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(s){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(s||"")+"_"+r++,s)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<n.length;a++){var o=r[n[a]];"function"==typeof o&&"function"!=typeof o.prototype[e]&&s(o.prototype,e,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return e}));var u,c="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)u=Object.setPrototypeOf;else{var h;e:{var d={};try{d.__proto__={a:!0},h=d.a;break e}catch(e){}h=!1}u=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=u;function f(e,t){if(e.prototype=c(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(t,n);s&&Object.defineProperty(e,n,s)}else e[n]=t[n];e.ea=t.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function g(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function y(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function b(e,t,n){return e.g=n,{value:t}}function w(e){this.g=new m,this.h=e}function v(e,t,n,s){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var a=r.value}catch(t){return e.g.i=null,y(e.g,t),x(e)}return e.g.i=null,s.call(e.g,a),x(e)}function x(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,y(e.g,t)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function A(e){this.next=function(t){return g(e.g),e.g.i?t=v(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=x(e)),t},this.throw=function(t){return g(e.g),e.g.i?t=v(e,e.g.i.throw,t,e.g.o):(y(e.g,t),t=x(e)),t},this.return=function(t){return function(e,t){g(e.g);var n=e.g.i;return n?v(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),x(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function k(e,t){return t=new A(new w(t)),p&&e.prototype&&p(t,e.prototype),t}m.prototype.o=function(e){this.h=e},m.prototype.return=function(e){this.j={return:e},this.g=this.s};var C="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var s=arguments[n];if(s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e};a("Object.assign",(function(e){return e||C})),a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function s(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var a=r.setTimeout;n.prototype.i=function(e){a(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(s){n||(n=!0,e.call(t,s))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;a((function(){if(e.B()){var t=r.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=r.CustomEvent,t=r.Event,n=r.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=r.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)i.h(this.g[e]);this.g=null}};var i=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function s(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){a(e)}}:t}var r,a,i=new t((function(e,t){r=e,a=t}));return this.J(s(e,r),s(n,a)),i},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(s.h){case 1:e(s.i);break;case 2:t(s.i);break;default:throw Error("Unexpected state: "+s.h)}}var s=this;null==this.g?i.h(n):this.g.push(n),this.o=!0},t.resolve=s,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())s(a.value).J(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?s([]):new t((function(e,t){function a(t){return function(n){i[t]=n,0==--o&&e(i)}}var i=[],o=0;do{i.push(void 0),o++,s(r.value).J(a(i.length-1),t),r=n.next()}while(!r.done)}))},t})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var s=n.length;for(0>(t=t||0)&&(t=Math.max(t+s,0));t<s;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,s=!1,r={next:function(){if(!s&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return s=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var S=this||self;function E(e,t){e=e.split(".");var n,s=S;e[0]in s||void 0===s.execScript||s.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?s=s[n]&&s[n]!==Object.prototype[n]?s[n]:s[n]={}:s[n]=t}function _(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var I,T,N="undefined"!=typeof TextDecoder,O="undefined"!=typeof TextEncoder;function R(e){if(O)e=(T||(T=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,s=new Uint8Array(3*e.length),r=0;r<e.length;r++){var a=e.charCodeAt(r);if(128>a)s[n++]=a;else{if(2048>a)s[n++]=a>>6|192;else{if(55296<=a&&57343>=a){if(56319>=a&&r<e.length){var i=e.charCodeAt(++r);if(56320<=i&&57343>=i){a=1024*(a-55296)+i-56320+65536,s[n++]=a>>18|240,s[n++]=a>>12&63|128,s[n++]=a>>6&63|128,s[n++]=63&a|128;continue}r--}if(t)throw Error("Found an unpaired surrogate");a=65533}s[n++]=a>>12|224,s[n++]=a>>6&63|128}s[n++]=63&a|128}}e=s.subarray(0,n)}return e}var D={},M=null;function F(e,t){void 0===t&&(t=0),z(),t=D[t];for(var n=Array(Math.floor(e.length/3)),s=t[64]||"",r=0,a=0;r<e.length-2;r+=3){var i=e[r],o=e[r+1],l=e[r+2],u=t[i>>2];i=t[(3&i)<<4|o>>4],o=t[(15&o)<<2|l>>6],l=t[63&l],n[a++]=u+i+o+l}switch(u=0,l=s,e.length-r){case 2:l=t[(15&(u=e[r+1]))<<2]||s;case 1:e=e[r],n[a]=t[e>>2]+t[(3&e)<<4|u>>4]+l+s}return n.join("")}function B(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var s=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;s<e.length;){var n=e.charAt(s++),r=M[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}z();for(var s=0;;){var r=n(-1),a=n(0),i=n(64),o=n(64);if(64===o&&-1===r)break;t(r<<2|a>>4),64!=i&&(t(a<<4&240|i>>2),64!=o&&t(i<<6&192|o))}}(e,(function(e){s[r++]=e})),s.subarray(0,r)}function z(){if(!M){M={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var s=e.concat(t[n].split(""));D[n]=s;for(var r=0;r<s.length;r++){var a=s[r];void 0===M[a]&&(M[a]=r)}}}}var L,P="function"==typeof Uint8Array.prototype.slice;function V(e,t,n){return t===n?L||(L=new Uint8Array(0)):P?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var W=0;function U(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=t,e&&G(this,e)}function G(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?B(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.l=0,e.j=e.h.length,e.g=e.l}function q(e){for(var t=128,n=0,s=0,r=0;4>r&&128<=t;r++)n|=(127&(t=e.h[e.g++]))<<7*r;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,s|=(127&t)>>4),128<=t)for(r=0;5>r&&128<=t;r++)s|=(127&(t=e.h[e.g++]))<<7*r+3;if(128>t)return e=n>>>0,(s=2147483648&(t=s>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),s?-e:e;e.m=!0}U.prototype.reset=function(){this.g=this.l},U.prototype.i=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&this.g++,n)))))},U.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],s=this.h[this.g+3];return this.g+=4,e=2*((n=(e|t<<8|n<<16|s<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var j=[];function H(){this.g=new Uint8Array(64),this.h=0}function $(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function K(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,j.length?(n=j.pop(),t&&(n.v=t.v),e&&G(n,e),e=n):e=new U(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function X(e){var t=e.g;if((t=t.g==t.j)||(t=e.j)||(t=(t=e.g).m||0>t.g||t.g>t.j),t)return!1;e.m=e.g.g;var n=7&(t=e.g.i());return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function Z(e){switch(e.h){case 0:if(0!=e.h)Z(e);else{for(e=e.g;128&e.h[e.g];)e.g++;e.g++}break;case 1:1!=e.h?Z(e):(e=e.g).g+=8;break;case 2:if(2!=e.h)Z(e);else{var t=e.g.i();(e=e.g).g+=t}break;case 5:5!=e.h?Z(e):(e=e.g).g+=4;break;case 3:for(t=e.l;;){if(!X(e)){e.j=!0;break}if(4==e.h){e.l!=t&&(e.j=!0);break}Z(e)}break;default:e.j=!0}}function Y(e,t,n){var s=e.g.j,r=e.g.i(),a=e.g.g+r;if(e.g.j=a,n(t,e),0!==(n=a-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=a,e.g.j=s,t}function Q(e){return e.g.o()}function J(e){var t,n=e.g.i(),s=(e=e.g).g;if(e.g+=n,e=e.h,N)(t=I)||(t=I=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(s,s+n));else{n=s+n;for(var r,a,i,o=[],l=null;s<n;)128>(r=e[s++])?o.push(r):224>r?s>=n?o.push(65533):(a=e[s++],194>r||128!=(192&a)?(s--,o.push(65533)):o.push((31&r)<<6|63&a)):240>r?s>=n-1?o.push(65533):128!=(192&(a=e[s++]))||224===r&&160>a||237===r&&160<=a||128!=(192&(t=e[s++]))?(s--,o.push(65533)):o.push((15&r)<<12|(63&a)<<6|63&t):244>=r?s>=n-2?o.push(65533):128!=(192&(a=e[s++]))||a-144+(r<<28)>>30||128!=(192&(t=e[s++]))||128!=(192&(i=e[s++]))?(s--,o.push(65533)):(r=(7&r)<<18|(63&a)<<12|(63&t)<<6|63&i,r-=65536,o.push(55296+(r>>10&1023),56320+(1023&r))):o.push(65533),8192<=o.length&&(l=_(l,o),o.length=0);t=_(l,o)}return t}function ee(e,t,n){var s=e.g.i();for(s=e.g.g+s;e.g.g<s;)n.push(t.call(e.g))}function te(e,t){2==e.h?ee(e,U.prototype.o,t):t.push(Q(e))}function ne(){this.h=[],this.i=0,this.g=new H}function se(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function re(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,s=n.length,r=0,a=0;a<s;a++){var i=n[a];0!==i.length&&(t.set(i,r),r+=i.length)}return 0!==(s=(n=e.g).h)&&(t.set(n.g.subarray(0,s),r),n.h=0),e.h=[t],t}function ae(e,t,n){if(null!=n){$(e.g,8*t+5),e=e.g;var s=n;0===(s=(n=0>s?1:0)?-s:s)?0<1/s?W=0:(0,W=2147483648):isNaN(s)?(0,W=2147483647):34028234663852886e22<s?(0,W=(n<<31|2139095040)>>>0):11754943508222875e-54>s?(s=Math.round(s/Math.pow(2,-149)),0,W=(n<<31|s)>>>0):(t=Math.floor(Math.log(s)/Math.LN2),s*=Math.pow(2,-t),16777216<=(s=Math.round(8388608*s))&&++t,0,W=(n<<31|t+127<<23|8388607&s)>>>0),n=W,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}H.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},H.prototype.length=function(){return this.h},H.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,V(e,0,t)},K.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var ie="function"==typeof Uint8Array;function oe(e,t,n){if(null!=e)return"object"==typeof e?ie&&e instanceof Uint8Array?n(e):le(e,t,n):t(e)}function le(e,t,n){if(Array.isArray(e)){for(var s=Array(e.length),r=0;r<e.length;r++)s[r]=oe(e[r],t,n);return Array.isArray(e)&&e.W&&de(s),s}for(r in s={},e)s[r]=oe(e[r],t,n);return s}function ue(e){return"number"==typeof e?isFinite(e)?e:String(e):e}var ce,he={W:{value:!0,configurable:!0}};function de(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,he),e}function pe(e,t,n){var s=ce;if(ce=null,e||(e=s),s=this.constructor.ca,e||(e=s?[s]:[]),this.j=s?0:-1,this.m=this.g=null,this.h=e,e=(s=this.h.length)-1,!s||(null===(s=this.h[e])||"object"!=typeof s||Array.isArray(s)||ie&&s instanceof Uint8Array)?void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE:(this.l=e-this.j,this.i=s),n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(s=this.h[e])?de(s):this.h[e]=fe):(me(this),(s=this.i[e])?de(s):this.i[e]=fe)}var fe=Object.freeze(de([]));function me(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function ge(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function ye(e,t){var n=void 0!==n&&n,s=ge(e,t,n);return null==s&&(s=fe),s===fe&&xe(e,t,s=de([]),n),s}function be(e){var t=ye(e,3);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function we(e,t,n){return null==(e=ge(e,t))?n:e}function ve(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function xe(e,t,n,s){void 0!==s&&s||t>=e.l?(me(e),e.i[t]=n):e.h[t+e.j]=n}function Ae(e,t,n){if(-1===n)return null;if(e.g||(e.g={}),!e.g[n]){var s=ge(e,n,!1);s&&(e.g[n]=new t(s))}return e.g[n]}function ke(e,t){e.g||(e.g={});var n=e.g[1];if(!n){var s=ye(e,1);n=[];for(var r=0;r<s.length;r++)n[r]=new t(s[r]);e.g[1]=n}return n}function Ce(e,t,n){var s=void 0!==s&&s;e.g||(e.g={});var r=n?Ee(n,!1):n;e.g[t]=n,xe(e,t,r,s)}function Se(e,t,n,s){var r=ke(e,n);t=t||new n,e=ye(e,1),null!=s?(r.splice(s,0,t),e.splice(s,0,Ee(t,!1))):(r.push(t),e.push(Ee(t,!1)))}function Ee(e,t){if(e.g)for(var n in e.g){var s=e.g[n];if(Array.isArray(s))for(var r=0;r<s.length;r++)s[r]&&Ee(s[r],t);else s&&Ee(s,t)}return e.h}function _e(e,t){if(e=e.o){se(t,t.g.end());for(var n=0;n<e.length;n++)se(t,e[n])}}function Ie(e,t){if(4==t.h)return!1;var n=t.m;return Z(t),t.N||(t=V(t.g.h,n,t.g.g),(n=e.o)?n.push(t):e.o=[t]),!0}function Te(e){pe.call(this,e,-1,Oe)}function Ne(e,t){for(;X(t);)switch(t.i){case 8:var n=t.g.i();xe(e,1,n);break;case 16:xe(e,2,n=t.g.i());break;case 29:case 26:te(t,e.getPackedDataList());break;case 32:xe(e,4,n=q(t.g));break;default:if(!Ie(e,t))return e}return e}pe.prototype.toJSON=function(){return le(Ee(this,!1),ue,F)},pe.prototype.toString=function(){return Ee(this,!1).toString()},f(Te,pe),Te.prototype.getRows=function(){return ge(this,1)},Te.prototype.getCols=function(){return ge(this,2)},Te.prototype.getPackedDataList=function(){return be(this)},Te.prototype.getLayout=function(){return we(this,4,0)};var Oe=[3];function Re(e,t){var n=void 0;return new(n||(n=Promise))((function(s,r){function a(e){try{o(t.next(e))}catch(e){r(e)}}function i(e){try{o(t.throw(e))}catch(e){r(e)}}function o(e){e.done?s(e.value):new n((function(t){t(e.value)})).then(a,i)}o((t=t.apply(e,void 0)).next())}))}function De(e){pe.call(this,e)}function Me(e,t){for(;X(t);)switch(t.i){case 8:var n=t.g.i();xe(e,1,n);break;case 21:xe(e,2,n=Q(t));break;case 26:xe(e,3,n=J(t));break;case 34:xe(e,4,n=J(t));break;default:if(!Ie(e,t))return e}return e}function Fe(e){pe.call(this,e,-1,Be)}f(De,pe),f(Fe,pe),Fe.prototype.addClassification=function(e,t){return Se(this,e,De,t),this};var Be=[1];function ze(e){pe.call(this,e)}function Le(e,t){for(;X(t);)switch(t.i){case 13:var n=Q(t);xe(e,1,n);break;case 21:xe(e,2,n=Q(t));break;case 29:xe(e,3,n=Q(t));break;case 37:xe(e,4,n=Q(t));break;case 45:xe(e,5,n=Q(t));break;default:if(!Ie(e,t))return e}return e}function Pe(e){pe.call(this,e,-1,We)}function Ve(e){e:{var t=new Pe;for(e=new K(e);X(e);)if(10===e.i){Se(t,Y(e,new ze,Le),ze,void 0)}else if(!Ie(t,e))break e}return t}f(ze,pe),f(Pe,pe);var We=[1];function Ue(e){pe.call(this,e)}function Ge(e){pe.call(this,e,-1,je)}function qe(e,t){for(;X(t);)switch(t.i){case 8:var n=q(t.g);xe(e,1,n);break;case 16:xe(e,2,n=q(t.g));break;case 29:case 26:te(t,e.getVertexBufferList());break;case 32:case 34:n=t;var s=e.getIndexBufferList();2==n.h?ee(n,U.prototype.i,s):s.push(n.g.i());break;default:if(!Ie(e,t))return e}return e}f(Ue,pe),f(Ge,pe),Ge.prototype.getVertexType=function(){return we(this,1,0)},Ge.prototype.getPrimitiveType=function(){return we(this,2,0)},Ge.prototype.getVertexBufferList=function(){return be(this)},Ge.prototype.getIndexBufferList=function(){return ye(this,4)};var je=[3,4];function He(e){pe.call(this,e)}function $e(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ke(e){return ke(e,De).map((function(e){return{index:we(e,1,0),Y:ve(e,2),label:null!=ge(e,3)?we(e,3,""):void 0,displayName:null!=ge(e,4)?we(e,4,""):void 0}}))}function Xe(e){return{x:ve(e,1),y:ve(e,2),z:ve(e,3),visibility:null!=ge(e,4)?ve(e,4):void 0}}function Ze(e,t){this.h=e,this.g=t,this.l=0}function Ye(e,t,n){return function(e,t){var n=e.g;if(void 0===e.m){var s=$e(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=$e(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),a=n.createProgram();if(n.attachShader(a,s),n.attachShader(a,r),n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(a));s=e.m=a,n.useProgram(s),r=n.getUniformLocation(s,"sampler0"),e.j={I:n.getAttribLocation(s,"aVertex"),H:n.getAttribLocation(s,"aTex"),da:r},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}s=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(s.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(s.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(s.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(s.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(s.I),n.disableVertexAttribArray(s.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"==typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise((function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)})))}function Qe(e){this.g=e}f(He,pe),He.prototype.getMesh=function(){return Ae(this,Ge,1)},He.prototype.getPoseTransformMatrix=function(){return Ae(this,Te,2)};var Je=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function et(e,t){return t+e}function tt(e,t){window[e]=t}function nt(e){if(this.g=e,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=e&&e.locateFile||et,"object"==typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=t,e.options)for(var n=(t=o(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var s=e.options[n].default;void 0!==s&&(this.j[n]="function"==typeof s?s():s)}}function st(e){return Re(e,(function e(){var t,n,s,r,a,i,o,u,c,h,d,p=this;return k(e,(function(e){switch(e.g){case 1:return t=p,p.R?(n=function(e,t){return void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(t):e.g.files}(p,p.j),b(e,function(){return Re(this,(function e(){return k(e,(function(e){switch(e.g){case 1:return e.m=2,b(e,WebAssembly.instantiate(Je),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}))}))}(),2)):e.return();case 2:if(s=e.h,"object"==typeof window)return tt("createMediapipeSolutionsWasm",{locateFile:p.locateFile}),tt("createMediapipeSolutionsPackedAssets",{locateFile:p.locateFile}),i=n.filter((function(e){return void 0!==e.data})),o=n.filter((function(e){return void 0===e.data})),u=Promise.all(i.map((function(e){var n=rt(t,e.url);if(void 0!==e.path){var s=e.path;n=n.then((function(e){return t.overrideFile(s,e),Promise.resolve(e)}))}return n}))),c=Promise.all(o.map((function(e){return void 0===e.simd||e.simd&&s||!e.simd&&!s?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(t.locateFile(e.url,t.S)):Promise.resolve()}))).then((function(){return Re(t,(function e(){var t,n,s=this;return k(e,(function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,b(e,t(n),2);s.h=e.h,e.g=0}))}))})),h=Re(t,(function e(){var t=this;return k(e,(function(e){return t.g.graph&&t.g.graph.url?e=b(e,rt(t,t.g.graph.url),0):(e.g=0,e=void 0),e}))})),b(e,Promise.all([c,u,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=n.filter((function(e){return void 0===e.simd||e.simd&&s||!e.simd&&!s})).map((function(e){return t.locateFile(e.url,t.S)})),importScripts.apply(null,l(r)),b(e,createMediapipeSolutionsWasm(Module),6);case 6:p.h=e.h,p.l=new OffscreenCanvas(1,1),p.h.canvas=p.l,a=p.h.GL.createContext(p.l,{antialias:!1,alpha:!1,ba:"undefined"!=typeof WebGL2RenderingContext?2:1}),p.h.GL.makeContextCurrent(a),e.g=4;break;case 7:if(p.l=document.createElement("canvas"),!(d=p.l.getContext("webgl2",{}))&&!(d=p.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),e.return();p.D=d,p.h.canvas=p.l,p.h.createContext(p.l,!0,!0,{});case 4:p.i=new p.h.SolutionWasm,p.R=!1,e.g=0}}))}))}function rt(e,t){return Re(e,(function e(){var n,s,r=this;return k(e,(function(e){return t in r.F?e.return(r.F[t]):(n=r.locateFile(t,""),s=fetch(n).then((function(e){return e.arrayBuffer()})),r.F[t]=s,e.return(s))}))}))}function at(e,t,n){return Re(e,(function e(){var s,r,a,i,l,u,c,h,d,p,f,m,g,y,w=this;return k(e,(function(e){switch(e.g){case 1:if(!n)return e.return(t);for(s={},r=0,a=o(Object.keys(n)),i=a.next();!i.done;i=a.next())l=i.value,"string"!=typeof(u=n[l])&&"texture"===u.type&&void 0!==t[u.stream]&&++r;1<r&&(w.G=!1),c=o(Object.keys(n)),i=c.next();case 2:if(i.done){e.g=4;break}if(h=i.value,"string"==typeof(d=n[h]))return g=s,y=h,b(e,function(e,t,n){return Re(e,(function e(){var s,r=this;return k(e,(function(e){return"number"==typeof n||n instanceof Uint8Array||n instanceof r.h.Uint8BlobList?e.return(n):n instanceof r.h.Texture2dDataOut?((s=r.s[t])||(s=new Ze(r.h,r.D),r.s[t]=s),e.return(Ye(s,n,r.G))):e.return(void 0)}))}))}(w,h,t[d]),14);if(p=t[d.stream],"detection_list"===d.type){if(p){for(var v=p.getRectList(),x=p.getLandmarksList(),A=p.getClassificationsList(),C=[],S=0;S<v.size();++S){var E=v.get(S);e:{var _=new Ue;for(E=new K(E);X(E);)switch(E.i){case 13:var I=Q(E);xe(_,1,I);break;case 21:xe(_,2,I=Q(E));break;case 29:xe(_,3,I=Q(E));break;case 37:xe(_,4,I=Q(E));break;case 45:xe(_,5,I=Q(E));break;case 48:xe(_,6,I=q(E.g));break;default:if(!Ie(_,E))break e}}_={Z:ve(_,1),$:ve(_,2),height:ve(_,3),width:ve(_,4),rotation:ve(_,5,0),X:we(_,6,0)},E=ke(Ve(x.get(S)),ze).map(Xe);var T=A.get(S);e:for(I=new Fe,T=new K(T);X(T);)if(10===T.i)I.addClassification(Y(T,new De,Me));else if(!Ie(I,T))break e;_={T:_,O:E,M:Ke(I)},C.push(_)}v=C}else v=[];s[h]=v,e.g=7;break}if("proto_list"===d.type){if(p){for(v=Array(p.size()),x=0;x<p.size();x++)v[x]=p.get(x);p.delete()}else v=[];s[h]=v,e.g=7;break}if(void 0===p){e.g=3;break}if("float_list"===d.type){s[h]=p,e.g=7;break}if("proto"===d.type){s[h]=p,e.g=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(f=w.s[h])||(f=new Ze(w.h,w.D),w.s[h]=f),b(e,Ye(f,p,w.G),13);case 13:m=e.h,s[h]=m;case 7:d.transform&&s[h]&&(s[h]=d.transform(s[h])),e.g=3;break;case 14:g[y]=e.h;case 3:i=c.next(),e.g=2;break;case 4:return e.return(s)}}))}))}function it(e,t){for(var n=t.name||"$",s=[].concat(l(t.wants)),r=new e.h.StringList,a=o(t.wants),i=a.next();!i.done;i=a.next())r.push_back(i.value);a=e.h.PacketListener.implement({onResults:function(r){for(var a={},i=0;i<t.wants.length;++i)a[s[i]]=r.get(i);var o=e.listeners[n];o&&(e.C=at(e,a,t.outs).then((function(n){n=o(n);for(var r=0;r<t.wants.length;++r){var i=a[s[r]];"object"==typeof i&&i.hasOwnProperty&&i.hasOwnProperty("delete")&&i.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(r,a),r.delete()}function ot(e){e=function(e){e:{var t=new He;for(e=new K(e);X(e);)switch(e.i){case 10:var n=Y(e,new Ge,qe);Ce(t,1,n);break;case 18:Ce(t,2,n=Y(e,new Te,Ne));break;default:if(!Ie(t,e))break e}}return t}(e);var t=e.getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var s=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return s},e}(e=nt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){return Re(this,(function e(){var t=this;return k(e,(function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0}))}))},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var s=[],r=[],a={},i=o(Object.keys(e)),l=i.next();!l.done;a={K:a.K,L:a.L},l=i.next()){var u=l.value;u in this.j&&this.j[u]===e[u]||(this.j[u]=e[u],void 0!==(l=t[u])&&(l.onChange&&(a.K=l.onChange,a.L=e[u],s.push(function(e){return function(){return Re(n,(function t(){var n=this;return k(t,(function(t){if(1==t.g)return b(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}))}}(a))),l.graphOptionXref&&(u={valueNumber:1===l.type?e[u]:0,valueBoolean:0===l.type&&e[u],valueString:2===l.type?e[u]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),u),r.push(l))))}0===s.length&&0===r.length||(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(r),this.u=(void 0===this.u?[]:this.u).concat(s))}},e.initialize=function(){return Re(this,(function e(){var t=this;return k(e,(function(e){return 1==e.g?b(e,st(t),2):3!=e.g?b(e,Re(t,(function e(){var t,n,s,r,a,i,l,u,c=this;return k(e,(function(e){if(1==e.g)return c.g.graph&&c.g.graph.url&&c.P===c.g.graph.url?e.return():(c.o=!0,c.g.graph&&c.g.graph.url?(c.P=c.g.graph.url,b(e,rt(c,c.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,c.i.loadGraph(t)),n=o(Object.keys(c.B)),s=n.next();!s.done;s=n.next())r=s.value,c.i.overrideFile(r,c.B[r]);if(c.B={},c.g.listeners)for(a=o(c.g.listeners),i=a.next();!i.done;i=a.next())l=i.value,it(c,l);u=c.j,c.j={},c.setOptions(u),e.g=0}))})),3):b(e,function(e){return Re(e,(function e(){var t,n,s,r,a,i,l=this;return k(e,(function(e){switch(e.g){case 1:if(!l.o)return e.return();if(!l.u){e.g=2;break}t=o(l.u),n=t.next();case 3:if(n.done){e.g=5;break}return b(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:l.u=void 0;case 2:if(l.A){for(s=new l.h.GraphOptionChangeRequestList,r=o(l.A),a=r.next();!a.done;a=r.next())i=a.value,s.push_back(i);l.i.changeOptions(s),s.delete(),l.A=void 0}l.o=!1,e.g=0}}))}))}(t),0)}))}))},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},e.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){return Re(this,(function n(){var s,r,a,i,l,u,c,h,d,p=this;return k(n,(function(n){switch(n.g){case 1:return p.g.inputs?(s=1e3*(null==t?performance.now():t),b(n,p.C,2)):n.return();case 2:return b(n,p.initialize(),3);case 3:for(r=new p.h.PacketDataList,a=o(Object.keys(e)),i=a.next();!i.done;i=a.next())if(l=i.value,u=p.g.inputs[l]){e:{var f=p,m=e[l];switch(u.type){case"video":var g=f.m[u.stream];if(g||(g=new Ze(f.h,f.D),f.m[u.stream]=g),0===(f=g).l&&(f.l=f.h.createTexture()),"undefined"!=typeof HTMLVideoElement&&m instanceof HTMLVideoElement){var y=m.videoWidth;g=m.videoHeight}else"undefined"!=typeof HTMLImageElement&&m instanceof HTMLImageElement?(y=m.naturalWidth,g=m.naturalHeight):(y=m.width,g=m.height);g={glName:f.l,width:y,height:g},(y=f.g).canvas.width=g.width,y.canvas.height=g.height,y.activeTexture(y.TEXTURE0),f.h.bindTexture2d(f.l),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,m),f.h.bindTexture2d(0),f=g;break e;case"detections":for((g=f.m[u.stream])||(g=new Qe(f.h),f.m[u.stream]=g),(f=g).data||(f.data=new f.g.DetectionListData),f.data.reset(m.length),g=0;g<m.length;++g){y=m[g];var w=f.data,v=w.setBoundingBox,x=g,A=y.T,k=new Ue;xe(k,1,A.Z),xe(k,2,A.$),xe(k,3,A.height),xe(k,4,A.width),xe(k,5,A.rotation),xe(k,6,A.X);var C=A=new ne;ae(C,1,ge(k,1)),ae(C,2,ge(k,2)),ae(C,3,ge(k,3)),ae(C,4,ge(k,4)),ae(C,5,ge(k,5));var S=ge(k,6);if(null!=S&&null!=S){$(C.g,48);var E=C.g,_=S;S=0>_;var I=(_=Math.abs(_))>>>0;for(_=Math.floor((_-I)/4294967296),_>>>=0,S&&(_=~_>>>0,4294967295<(I=1+(~I>>>0))&&(I=0,4294967295<++_&&(_=0))),S=W=I,I=_;0<I||127<S;)E.push(127&S|128),S=(S>>>7|I<<25)>>>0,I>>>=7;E.push(S)}if(_e(k,C),A=re(A),v.call(w,x,A),y.O)for(w=0;w<y.O.length;++w)C=!!(k=y.O[w]).visibility,x=(v=f.data).addNormalizedLandmark,A=g,k=Object.assign(Object.assign({},k),{visibility:C?k.visibility:0}),xe(C=new ze,1,k.x),xe(C,2,k.y),xe(C,3,k.z),k.visibility&&xe(C,4,k.visibility),ae(E=k=new ne,1,ge(C,1)),ae(E,2,ge(C,2)),ae(E,3,ge(C,3)),ae(E,4,ge(C,4)),ae(E,5,ge(C,5)),_e(C,E),k=re(k),x.call(v,A,k);if(y.M)for(w=0;w<y.M.length;++w){if(x=(v=f.data).addClassification,A=g,k=y.M[w],xe(C=new De,2,k.Y),k.index&&xe(C,1,k.index),k.label&&xe(C,3,k.label),k.displayName&&xe(C,4,k.displayName),E=k=new ne,null!=(I=ge(C,1))&&null!=I)if($(E.g,8),S=E.g,0<=I)$(S,I);else{for(_=0;9>_;_++)S.push(127&I|128),I>>=7;S.push(1)}ae(E,2,ge(C,2)),null!=(S=ge(C,3))&&(S=R(S),$(E.g,26),$(E.g,S.length),se(E,E.g.end()),se(E,S)),null!=(S=ge(C,4))&&(S=R(S),$(E.g,34),$(E.g,S.length),se(E,E.g.end()),se(E,S)),_e(C,E),k=re(k),x.call(v,A,k)}}f=f.data;break e;default:f={}}}switch(c=f,h=u.stream,u.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},c),{stream:h,timestamp:s}));break;case"detections":(d=c).stream=h,d.timestamp=s,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return p.i.send(r),b(n,p.C,4);case 4:r.delete(),n.g=0}}))}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},E("Solution",nt),E("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});var lt={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(e){return e.map(ot)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(e){return e.map((function(e){return ke(Ve(e),ze).map(Xe)}))}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},ut=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ct=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ht=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],dt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],pt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],ft=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],mt=[].concat(l(ut),l(ct),l(ht),l(dt),l(pt),l(ft));function gt(e){e=e||{},e=Object.assign(Object.assign({},lt),e),this.g=new nt(e)}(e=gt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){return Re(this,(function e(){var t=this;return k(e,(function(e){return b(e,t.g.initialize(),0)}))}))},e.reset=function(){this.g.reset()},e.send=function(e){return Re(this,(function t(){var n=this;return k(t,(function(t){return b(t,n.g.send(e),0)}))}))},e.setOptions=function(e){this.g.setOptions(e)},E("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),E("FaceMesh",gt),E("FACEMESH_LIPS",ut),E("FACEMESH_LEFT_EYE",ct),E("FACEMESH_LEFT_EYEBROW",ht),E("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),E("FACEMESH_RIGHT_EYE",dt),E("FACEMESH_RIGHT_EYEBROW",pt),E("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),E("FACEMESH_FACE_OVAL",ft),E("FACEMESH_CONTOURS",mt),E("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),E("matrixDataToMatrix",(function(e){for(var t=e.getCols(),n=e.getRows(),s=e.getPackedDataList(),r=[],a=0;a<n;a++)r.push(Array(t));for(a=0;a<n;a++)for(var i=0;i<t;i++){var o=1===e.getLayout()?a*t+i:i*n+a;r[a][i]=s[o]}return r})),E("VERSION","0.4.1633559619")}).call(this)},7350:(e,t,n)=>{e.exports=function e(t,n,s){function r(i,o){if(!n[i]){if(!t[i]){if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};t[i][0].call(u.exports,(function(e){var n=t[i][1][e];return r(n||e)}),u,u.exports,e,t,n,s)}return n[i].exports}for(var a=void 0,i=0;i<s.length;i++)r(s[i]);return r}({1:[function(e,t,s){(function(e){"use strict";var n,s,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,i=new r(c),o=e.document.createTextNode("");i.observe(o,{characterData:!0}),n=function(){o.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;s=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}s=!1}function h(e){1!==u.push(e)||s||n()}t.exports=h}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var s=e(1);function r(){}var a={},i=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){s((function(){var s;try{s=t(n)}catch(t){return a.reject(e,t)}s===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,s)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function s(t){n||(n=!0,a.reject(e,t))}function r(t){n||(n=!0,a.resolve(e,t))}function i(){t(r,s)}var o=f(i);"error"===o.status&&s(o.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function m(e){return e instanceof this?e:a.resolve(new this(r),e)}function g(e){var t=new this(r);return a.reject(t,e)}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,s=!1;if(!n)return this.resolve([]);for(var i=new Array(n),o=0,l=-1,u=new this(r);++l<n;)c(e[l],l);return u;function c(e,r){function l(e){i[r]=e,++o!==n||s||(s=!0,a.resolve(u,i))}t.resolve(e).then(l,(function(e){s||(s=!0,a.reject(u,e))}))}}function b(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,s=!1;if(!n)return this.resolve([]);for(var i=-1,o=new this(r);++i<n;)l(e[i]);return o;function l(e){t.resolve(e).then((function(e){s||(s=!0,a.resolve(o,e))}),(function(e){s||(s=!0,a.reject(o,e))}))}}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===i)return this;var n=new this.constructor(r);return this.state!==l?h(n,this.state===o?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=f(d,t);if("error"===n.status)return a.reject(e,n.value);var s=n.value;if(s)p(e,s);else{e.state=o,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callFulfilled(t)}return e},a.reject=function(e,t){e.state=i,e.outcome=t;for(var n=-1,s=e.queue.length;++n<s;)e.queue[n].callRejected(t);return e},u.resolve=m,u.reject=g,u.all=y,u.race=b},{1:1}],3:[function(e,t,s){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var i=a();function o(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),s=0;s<e.length;s+=1)n.append(e[s]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var u=Promise;function c(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function h(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",m=void 0,g={},y=Object.prototype.toString,b="readonly",w="readwrite";function v(e){for(var t=e.length,n=new ArrayBuffer(t),s=new Uint8Array(n),r=0;r<t;r++)s[r]=e.charCodeAt(r);return n}function x(e){return new u((function(t){var n=e.transaction(f,w),s=l([""]);n.objectStore(f).put(s,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function A(e){return"boolean"==typeof m?u.resolve(m):x(e).then((function(e){return m=e}))}function k(e){var t=g[e.name],n={};n.promise=new u((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function C(e){var t=g[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function S(e,t){var n=g[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function E(e,t){return new u((function(n,s){if(g[e.name]=g[e.name]||B(),e.db){if(!t)return n(e.db);k(e),e.db.close()}var r=[e.name];t&&r.push(e.version);var a=i.open.apply(i,r);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(f)}catch(e){if("ConstraintError"!==e.name)throw e}}),a.onerror=function(e){e.preventDefault(),s(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},n(t),C(e)}}))}function _(e){return E(e,!1)}function I(e){return E(e,!0)}function T(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),s=e.version<e.db.version,r=e.version>e.db.version;if(s&&(e.version,e.version=e.db.version),r||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function N(e){return new u((function(t,n){var s=new FileReader;s.onerror=n,s.onloadend=function(n){var s=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:s,type:e.type})},s.readAsBinaryString(e)}))}function O(e){return l([v(atob(e.data))],{type:e.type})}function R(e){return e&&e.__local_forage_encoded_blob}function D(e){var t=this,n=t._initReady().then((function(){var e=g[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return h(n,e,e),n}function M(e){k(e);for(var t=g[e.name],n=t.forages,s=0;s<n.length;s++){var r=n[s];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,_(e).then((function(t){return e.db=t,T(e)?I(e):t})).then((function(s){e.db=t.db=s;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=s})).catch((function(t){throw S(e,t),t}))}function F(e,t,n,s){void 0===s&&(s=1);try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(r){if(s>0&&(!e.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return u.resolve().then((function(){if(!e.db||"NotFoundError"===r.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)})).then((function(){return M(e).then((function(){F(e,t,n,s-1)}))})).catch(n);n(r)}}function B(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function z(e){var t=this,n={db:null};if(e)for(var s in e)n[s]=e[s];var r=g[n.name];r||(r=B(),g[n.name]=r),r.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=D);var a=[];function i(){return u.resolve()}for(var o=0;o<r.forages.length;o++){var l=r.forages[o];l!==t&&a.push(l._initReady().catch(i))}var c=r.forages.slice(0);return u.all(a).then((function(){return n.db=r.db,_(n)})).then((function(e){return n.db=e,T(n,t._defaultConfig.version)?I(n):e})).then((function(e){n.db=r.db=e,t._dbInfo=n;for(var s=0;s<c.length;s++){var a=c[s];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}}))}function L(e,t){var n=this;e=d(e);var s=new u((function(t,s){n.ready().then((function(){F(n._dbInfo,b,(function(r,a){if(r)return s(r);try{var i=a.objectStore(n._dbInfo.storeName).get(e);i.onsuccess=function(){var e=i.result;void 0===e&&(e=null),R(e)&&(e=O(e)),t(e)},i.onerror=function(){s(i.error)}}catch(e){s(e)}}))})).catch(s)}));return c(s,t),s}function P(e,t){var n=this,s=new u((function(t,s){n.ready().then((function(){F(n._dbInfo,b,(function(r,a){if(r)return s(r);try{var i=a.objectStore(n._dbInfo.storeName).openCursor(),o=1;i.onsuccess=function(){var n=i.result;if(n){var s=n.value;R(s)&&(s=O(s));var r=e(s,n.key,o++);void 0!==r?t(r):n.continue()}else t()},i.onerror=function(){s(i.error)}}catch(e){s(e)}}))})).catch(s)}));return c(s,t),s}function V(e,t,n){var s=this;e=d(e);var r=new u((function(n,r){var a;s.ready().then((function(){return a=s._dbInfo,"[object Blob]"===y.call(t)?A(a.db).then((function(e){return e?t:N(t)})):t})).then((function(t){F(s._dbInfo,w,(function(a,i){if(a)return r(a);try{var o=i.objectStore(s._dbInfo.storeName);null===t&&(t=void 0);var l=o.put(t,e);i.oncomplete=function(){void 0===t&&(t=null),n(t)},i.onabort=i.onerror=function(){var e=l.error?l.error:l.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return c(r,n),r}function W(e,t){var n=this;e=d(e);var s=new u((function(t,s){n.ready().then((function(){F(n._dbInfo,w,(function(r,a){if(r)return s(r);try{var i=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){s(i.error)},a.onabort=function(){var e=i.error?i.error:i.transaction.error;s(e)}}catch(e){s(e)}}))})).catch(s)}));return c(s,t),s}function U(e){var t=this,n=new u((function(e,n){t.ready().then((function(){F(t._dbInfo,w,(function(s,r){if(s)return n(s);try{var a=r.objectStore(t._dbInfo.storeName).clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return c(n,e),n}function G(e){var t=this,n=new u((function(e,n){t.ready().then((function(){F(t._dbInfo,b,(function(s,r){if(s)return n(s);try{var a=r.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return c(n,e),n}function q(e,t){var n=this,s=new u((function(t,s){e<0?t(null):n.ready().then((function(){F(n._dbInfo,b,(function(r,a){if(r)return s(r);try{var i=a.objectStore(n._dbInfo.storeName),o=!1,l=i.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||o?t(n.key):(o=!0,n.advance(e)):t(null)},l.onerror=function(){s(l.error)}}catch(e){s(e)}}))})).catch(s)}));return c(s,t),s}function j(e){var t=this,n=new u((function(e,n){t.ready().then((function(){F(t._dbInfo,b,(function(s,r){if(s)return n(s);try{var a=r.objectStore(t._dbInfo.storeName).openKeyCursor(),i=[];a.onsuccess=function(){var t=a.result;t?(i.push(t.key),t.continue()):e(i)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return c(n,e),n}function H(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var s,r=this;if(e.name){var a=e.name===n.name&&r._dbInfo.db?u.resolve(r._dbInfo.db):_(e).then((function(t){var n=g[e.name],s=n.forages;n.db=t;for(var r=0;r<s.length;r++)s[r]._dbInfo.db=t;return t}));s=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;k(e);var s=g[e.name],r=s.forages;t.close();for(var a=0;a<r.length;a++){var o=r[a];o._dbInfo.db=null,o._dbInfo.version=n}var l=new u((function(t,s){var r=i.open(e.name,n);r.onerror=function(e){r.result.close(),s(e)},r.onupgradeneeded=function(){r.result.deleteObjectStore(e.storeName)},r.onsuccess=function(){var e=r.result;e.close(),t(e)}}));return l.then((function(e){s.db=e;for(var t=0;t<r.length;t++){var n=r[t];n._dbInfo.db=e,C(n._dbInfo)}})).catch((function(t){throw(S(e,t)||u.resolve()).catch((function(){})),t}))}})):a.then((function(t){k(e);var n=g[e.name],s=n.forages;t.close();for(var r=0;r<s.length;r++)s[r]._dbInfo.db=null;var a=new u((function(t,n){var s=i.deleteDatabase(e.name);s.onerror=function(){var e=s.result;e&&e.close(),n(s.error)},s.onblocked=function(){},s.onsuccess=function(){var e=s.result;e&&e.close(),t(e)}}));return a.then((function(e){n.db=e;for(var t=0;t<s.length;t++)C(s[t]._dbInfo)})).catch((function(t){throw(S(e,t)||u.resolve()).catch((function(){})),t}))}))}else s=u.reject("Invalid arguments");return c(s,t),s}var $={_driver:"asyncStorage",_initStorage:z,_support:o(),iterate:P,getItem:L,setItem:V,removeItem:W,clear:U,length:G,key:q,keys:j,dropInstance:H};function K(){return"function"==typeof openDatabase}var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z="~~local_forage_type~",Y=/^~~local_forage_type~([^~]+)~/,Q="__lfsc__:",J=Q.length,ee="arbf",te="blob",ne="si08",se="ui08",re="uic8",ae="si16",ie="si32",oe="ur16",le="ui32",ue="fl32",ce="fl64",he=J+ee.length,de=Object.prototype.toString;function pe(e){var t,n,s,r,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var u=new ArrayBuffer(i),c=new Uint8Array(u);for(t=0;t<o;t+=4)n=X.indexOf(e[t]),s=X.indexOf(e[t+1]),r=X.indexOf(e[t+2]),a=X.indexOf(e[t+3]),c[l++]=n<<2|s>>4,c[l++]=(15&s)<<4|r>>2,c[l++]=(3&r)<<6|63&a;return u}function fe(e){var t,n=new Uint8Array(e),s="";for(t=0;t<n.length;t+=3)s+=X[n[t]>>2],s+=X[(3&n[t])<<4|n[t+1]>>4],s+=X[(15&n[t+1])<<2|n[t+2]>>6],s+=X[63&n[t+2]];return n.length%3==2?s=s.substring(0,s.length-1)+"=":n.length%3==1&&(s=s.substring(0,s.length-2)+"=="),s}function me(e,t){var n="";if(e&&(n=de.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===de.call(e.buffer))){var s,r=Q;e instanceof ArrayBuffer?(s=e,r+=ee):(s=e.buffer,"[object Int8Array]"===n?r+=ne:"[object Uint8Array]"===n?r+=se:"[object Uint8ClampedArray]"===n?r+=re:"[object Int16Array]"===n?r+=ae:"[object Uint16Array]"===n?r+=oe:"[object Int32Array]"===n?r+=ie:"[object Uint32Array]"===n?r+=le:"[object Float32Array]"===n?r+=ue:"[object Float64Array]"===n?r+=ce:t(new Error("Failed to get type for BinaryArray"))),t(r+fe(s))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n=Z+e.type+"~"+fe(this.result);t(Q+te+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(e){t(null,e)}}function ge(e){if(e.substring(0,J)!==Q)return JSON.parse(e);var t,n=e.substring(he),s=e.substring(J,he);if(s===te&&Y.test(n)){var r=n.match(Y);t=r[1],n=n.substring(r[0].length)}var a=pe(n);switch(s){case ee:return a;case te:return l([a],{type:t});case ne:return new Int8Array(a);case se:return new Uint8Array(a);case re:return new Uint8ClampedArray(a);case ae:return new Int16Array(a);case oe:return new Uint16Array(a);case ie:return new Int32Array(a);case le:return new Uint32Array(a);case ue:return new Float32Array(a);case ce:return new Float64Array(a);default:throw new Error("Unkown type: "+s)}}var ye={serialize:me,deserialize:ge,stringToBuffer:pe,bufferToString:fe};function be(e,t,n,s){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,s)}function we(e){var t=this,n={db:null};if(e)for(var s in e)n[s]="string"!=typeof e[s]?e[s].toString():e[s];var r=new u((function(e,s){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return s(e)}n.db.transaction((function(r){be(r,n,(function(){t._dbInfo=n,e()}),(function(e,t){s(t)}))}),s)}));return n.serializer=ye,r}function ve(e,t,n,s,r,a){e.executeSql(n,s,r,(function(e,i){i.code===i.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,o){o.rows.length?a(e,i):be(e,t,(function(){e.executeSql(n,s,r,a)}),a)}),a):a(e,i)}),a)}function xe(e,t){var n=this;e=d(e);var s=new u((function(t,s){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){ve(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var s=n.rows.length?n.rows.item(0).value:null;s&&(s=r.serializer.deserialize(s)),t(s)}),(function(e,t){s(t)}))}))})).catch(s)}));return c(s,t),s}function Ae(e,t){var n=this,s=new u((function(t,s){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){ve(n,r,"SELECT * FROM "+r.storeName,[],(function(n,s){for(var a=s.rows,i=a.length,o=0;o<i;o++){var l=a.item(o),u=l.value;if(u&&(u=r.serializer.deserialize(u)),void 0!==(u=e(u,l.key,o+1)))return void t(u)}t()}),(function(e,t){s(t)}))}))})).catch(s)}));return c(s,t),s}function ke(e,t,n,s){var r=this;e=d(e);var a=new u((function(a,i){r.ready().then((function(){void 0===t&&(t=null);var o=t,l=r._dbInfo;l.serializer.serialize(t,(function(t,u){u?i(u):l.db.transaction((function(n){ve(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(o)}),(function(e,t){i(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(s>0)return void a(ke.apply(r,[e,o,n,s-1]));i(t)}}))}))})).catch(i)}));return c(a,n),a}function Ce(e,t,n){return ke.apply(this,[e,t,n,1])}function Se(e,t){var n=this;e=d(e);var s=new u((function(t,s){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){ve(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){s(t)}))}))})).catch(s)}));return c(s,t),s}function Ee(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var s=t._dbInfo;s.db.transaction((function(t){ve(t,s,"DELETE FROM "+s.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function _e(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var s=t._dbInfo;s.db.transaction((function(t){ve(t,s,"SELECT COUNT(key) as c FROM "+s.storeName,[],(function(t,n){var s=n.rows.item(0).c;e(s)}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function Ie(e,t){var n=this,s=new u((function(t,s){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){ve(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var s=n.rows.length?n.rows.item(0).key:null;t(s)}),(function(e,t){s(t)}))}))})).catch(s)}));return c(s,t),s}function Te(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var s=t._dbInfo;s.db.transaction((function(t){ve(t,s,"SELECT key FROM "+s.storeName,[],(function(t,n){for(var s=[],r=0;r<n.rows.length;r++)s.push(n.rows.item(r).key);e(s)}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function Ne(e){return new u((function(t,n){e.transaction((function(s){s.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,s){for(var r=[],a=0;a<s.rows.length;a++)r.push(s.rows.item(a).name);t({db:e,storeNames:r})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Oe(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var s,r=this;return c(s=e.name?new u((function(t){var s;s=e.name===n.name?r._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:s,storeNames:[e.storeName]}):t(Ne(s))})).then((function(e){return new u((function(t,n){e.db.transaction((function(s){function r(e){return new u((function(t,n){s.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],i=0,o=e.storeNames.length;i<o;i++)a.push(r(e.storeNames[i]));u.all(a).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):u.reject("Invalid arguments"),t),s}var Re={_driver:"webSQLStorage",_initStorage:we,_support:K(),iterate:Ae,getItem:xe,setItem:Ce,removeItem:Se,clear:Ee,length:_e,key:Ie,keys:Te,dropInstance:Oe};function De(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Me(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Fe(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Be(){return!Fe()||localStorage.length>0}function ze(e){var t=this,n={};if(e)for(var s in e)n[s]=e[s];return n.keyPrefix=Me(e,t._defaultConfig),Be()?(t._dbInfo=n,n.serializer=ye,u.resolve()):u.reject()}function Le(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var s=localStorage.key(n);0===s.indexOf(e)&&localStorage.removeItem(s)}}));return c(n,e),n}function Pe(e,t){var n=this;e=d(e);var s=n.ready().then((function(){var t=n._dbInfo,s=localStorage.getItem(t.keyPrefix+e);return s&&(s=t.serializer.deserialize(s)),s}));return c(s,t),s}function Ve(e,t){var n=this,s=n.ready().then((function(){for(var t=n._dbInfo,s=t.keyPrefix,r=s.length,a=localStorage.length,i=1,o=0;o<a;o++){var l=localStorage.key(o);if(0===l.indexOf(s)){var u=localStorage.getItem(l);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,l.substring(r),i++)))return u}}}));return c(s,t),s}function We(e,t){var n=this,s=n.ready().then((function(){var t,s=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(s.keyPrefix.length)),t}));return c(s,t),s}function Ue(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,s=[],r=0;r<n;r++){var a=localStorage.key(r);0===a.indexOf(e.keyPrefix)&&s.push(a.substring(e.keyPrefix.length))}return s}));return c(n,e),n}function Ge(e){var t=this.keys().then((function(e){return e.length}));return c(t,e),t}function qe(e,t){var n=this;e=d(e);var s=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return c(s,t),s}function je(e,t,n){var s=this;e=d(e);var r=s.ready().then((function(){void 0===t&&(t=null);var n=t;return new u((function(r,a){var i=s._dbInfo;i.serializer.serialize(t,(function(t,s){if(s)a(s);else try{localStorage.setItem(i.keyPrefix+e,t),r(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||a(e),a(e)}}))}))}));return c(r,n),r}function He(e,t){if(t=p.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var s,r=this;return s=e.name?new u((function(t){e.storeName?t(Me(e,r._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):u.reject("Invalid arguments"),c(s,t),s}var $e={_driver:"localStorageWrapper",_initStorage:ze,_support:De(),iterate:Ve,getItem:Pe,setItem:je,removeItem:qe,clear:Le,length:Ge,key:We,keys:Ue,dropInstance:He},Ke=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Xe=function(e,t){for(var n=e.length,s=0;s<n;){if(Ke(e[s],t))return!0;s++}return!1},Ze=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ye={},Qe={},Je={INDEXEDDB:$,WEBSQL:Re,LOCALSTORAGE:$e},et=[Je.INDEXEDDB._driver,Je.WEBSQL._driver,Je.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),st={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function rt(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function at(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ze(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var it=function(){function e(t){for(var n in r(this,e),Je)if(Je.hasOwnProperty(n)){var s=Je[n],a=s._driver;this[n]=a,Ye[a]||this.defineDriver(s)}this._defaultConfig=at({},st),this._config=at({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":s(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var s=new u((function(t,n){try{var s=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(r);for(var a=nt.concat("_initStorage"),i=0,o=a.length;i<o;i++){var l=a[i];if((!Xe(tt,l)||e[l])&&"function"!=typeof e[l])return void n(r)}var h=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=u.reject(t);return c(n,arguments[arguments.length-1]),n}},n=0,s=tt.length;n<s;n++){var r=tt[n];e[r]||(e[r]=t(r))}};h();var d=function(n){Ye[s],Ye[s]=e,Qe[s]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}}));return h(s,t,n),s},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var s=Ye[e]?u.resolve(Ye[e]):u.reject(new Error("Driver not found."));return h(s,t,n),s},e.prototype.getSerializer=function(e){var t=u.resolve(ye);return h(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return h(n,e,e),n},e.prototype.setDriver=function(e,t,n){var s=this;Ze(e)||(e=[e]);var r=this._getSupportedDrivers(e);function a(){s._config.driver=s.driver()}function i(e){return s._extend(e),a(),s._ready=s._initStorage(s._config),s._ready}function o(e){return function(){var t=0;function n(){for(;t<e.length;){var r=e[t];return t++,s._dbInfo=null,s._ready=null,s.getDriver(r).then(i).catch(n)}a();var o=new Error("No available storage method found.");return s._driverSet=u.reject(o),s._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch((function(){return u.resolve()})):u.resolve();return this._driverSet=l.then((function(){var e=r[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then((function(e){s._driver=e._driver,a(),s._wrapLibraryMethodsWithReady(),s._initDriver=o(r)}))})).catch((function(){a();var e=new Error("No available storage method found.");return s._driverSet=u.reject(e),s._driverSet})),h(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Qe[e]},e.prototype._extend=function(e){at(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,s=e.length;n<s;n++){var r=e[n];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)rt(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ot=new it;t.exports=ot},{3:3}]},{},[4])(4)},3122:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function s(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=s;var r={},a={};function i(e,t){var n,s,i;return t?(i=0<=(e>>>=0)&&e<256)&&(s=a[e])?s:(n=l(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(s=r[e])?s:(n=l(e,e<0?-1:0,!1),i&&(r[e]=n),n)}function o(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return A}else{if(e<=-f)return k;if(e+1>=f)return x}return e<0?o(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,s){return new n(e,t,s)}n.fromInt=i,n.fromNumber=o,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var s;if((s=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===s)return c(e.substring(1),t,n).neg();for(var r=o(u(n,8)),a=g,i=0;i<e.length;i+=8){var l=Math.min(8,e.length-i),h=parseInt(e.substring(i,i+l),n);if(l<8){var d=o(u(n,l));a=a.mul(d).add(o(h))}else a=(a=a.mul(r)).add(o(h))}return a.unsigned=t,a}function h(e,t){return"number"==typeof e?o(e,t):"string"==typeof e?c(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=h;var d=4294967296,p=d*d,f=p/2,m=i(1<<24),g=i(0);n.ZERO=g;var y=i(0,!0);n.UZERO=y;var b=i(1);n.ONE=b;var w=i(1,!0);n.UONE=w;var v=i(-1);n.NEG_ONE=v;var x=l(-1,2147483647,!1);n.MAX_VALUE=x;var A=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=A;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=o(e),n=this.div(t),s=n.mul(t).sub(this);return n.toString(e)+s.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=o(u(e,6),this.unsigned),a=this,i="";;){var l=a.div(r),c=(a.sub(l.mul(r)).toInt()>>>0).toString(e);if((a=l).isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return!(1&~this.low)},C.isEven=function(){return!(1&this.low)},C.equals=function(e){return s(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(s(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},C.neg=C.negate,C.add=function(e){s(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,a=65535&this.low,i=e.high>>>16,o=65535&e.high,u=e.low>>>16,c=0,d=0,p=0,f=0;return p+=(f+=a+(65535&e.low))>>>16,d+=(p+=r+u)>>>16,c+=(d+=n+o)>>>16,c+=t+i,l((p&=65535)<<16|(f&=65535),(c&=65535)<<16|(d&=65535),this.unsigned)},C.subtract=function(e){return s(e)||(e=h(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(s(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,a=this.low>>>16,i=65535&this.low,u=e.high>>>16,c=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,y=0,b=0,w=0;return b+=(w+=i*p)>>>16,y+=(b+=a*p)>>>16,b&=65535,y+=(b+=i*d)>>>16,f+=(y+=r*p)>>>16,y&=65535,f+=(y+=a*d)>>>16,y&=65535,f+=(y+=i*c)>>>16,f+=n*p+r*d+a*c+i*u,l((b&=65535)<<16|(w&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(s(e)||(e=h(e)),e.isZero())throw Error("division by zero");var n,r,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;a=y}else{if(this.eq(k))return e.eq(b)||e.eq(v)?k:e.eq(k)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:v:(r=this.sub(e.mul(n)),a=n.add(r.div(e)));if(e.eq(k))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),c=i<=48?1:u(2,i-48),d=o(n),p=d.mul(e);p.isNegative()||p.gt(r);)p=(d=o(n-=c,this.unsigned)).mul(e);d.isZero()&&(d=b),a=a.add(d),r=r.sub(p)}return a},C.div=C.divide,C.modulo=function(e){return s(e)||(e=h(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return l(~this.low,~this.high,this.unsigned)},C.and=function(e){return s(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return s(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return s(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(s(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,s){return s?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},9464:function(e,t){var n,s,r;s=[e],n=function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r={order:2,precision:2,period:null};function a(e,t){var n=[],s=[];e.forEach((function(e,r){null!==e[1]&&(s.push(e),n.push(t[r]))}));var r=s.reduce((function(e,t){return e+t[1]}),0)/s.length,a=s.reduce((function(e,t){var n=t[1]-r;return e+n*n}),0);return 1-s.reduce((function(e,t,s){var r=n[s],a=t[1]-r[1];return e+a*a}),0)/a}function i(e,t){for(var n=e,s=e.length-1,r=[t],a=0;a<s;a++){for(var i=a,o=a+1;o<s;o++)Math.abs(n[a][o])>Math.abs(n[a][i])&&(i=o);for(var l=a;l<s+1;l++){var u=n[l][a];n[l][a]=n[l][i],n[l][i]=u}for(var c=a+1;c<s;c++)for(var h=s;h>=a;h--)n[h][c]-=n[h][a]*n[a][c]/n[a][a]}for(var d=s-1;d>=0;d--){for(var p=0,f=d+1;f<s;f++)p+=n[f][d]*r[f];r[d]=(n[s][d]-p)/n[d][d]}return r}function o(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var l={linear:function(e,t){for(var n=[0,0,0,0,0],s=0,r=0;r<e.length;r++)null!==e[r][1]&&(s++,n[0]+=e[r][0],n[1]+=e[r][1],n[2]+=e[r][0]*e[r][0],n[3]+=e[r][0]*e[r][1],n[4]+=e[r][1]*e[r][1]);var i=s*n[2]-n[0]*n[0],l=s*n[3]-n[0]*n[1],u=0===i?0:o(l/i,t.precision),c=o(n[1]/s-u*n[0]/s,t.precision),h=function(e){return[o(e,t.precision),o(u*e+c,t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],r2:o(a(e,d),t.precision),string:0===c?"y = "+u+"x":"y = "+u+"x + "+c}},exponential:function(e,t){for(var n=[0,0,0,0,0,0],s=0;s<e.length;s++)null!==e[s][1]&&(n[0]+=e[s][0],n[1]+=e[s][1],n[2]+=e[s][0]*e[s][0]*e[s][1],n[3]+=e[s][1]*Math.log(e[s][1]),n[4]+=e[s][0]*e[s][1]*Math.log(e[s][1]),n[5]+=e[s][0]*e[s][1]);var r=n[1]*n[2]-n[5]*n[5],i=Math.exp((n[2]*n[3]-n[5]*n[4])/r),l=(n[1]*n[4]-n[5]*n[3])/r,u=o(i,t.precision),c=o(l,t.precision),h=function(e){return[o(e,t.precision),o(u*Math.exp(c*e),t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],string:"y = "+u+"e^("+c+"x)",r2:o(a(e,d),t.precision)}},logarithmic:function(e,t){for(var n=[0,0,0,0],s=e.length,r=0;r<s;r++)null!==e[r][1]&&(n[0]+=Math.log(e[r][0]),n[1]+=e[r][1]*Math.log(e[r][0]),n[2]+=e[r][1],n[3]+=Math.pow(Math.log(e[r][0]),2));var i=o((s*n[1]-n[2]*n[0])/(s*n[3]-n[0]*n[0]),t.precision),l=o((n[2]-i*n[0])/s,t.precision),u=function(e){return[o(e,t.precision),o(o(l+i*Math.log(e),t.precision),t.precision)]},c=e.map((function(e){return u(e[0])}));return{points:c,predict:u,equation:[l,i],string:"y = "+l+" + "+i+" ln(x)",r2:o(a(e,c),t.precision)}},power:function(e,t){for(var n=[0,0,0,0,0],s=e.length,r=0;r<s;r++)null!==e[r][1]&&(n[0]+=Math.log(e[r][0]),n[1]+=Math.log(e[r][1])*Math.log(e[r][0]),n[2]+=Math.log(e[r][1]),n[3]+=Math.pow(Math.log(e[r][0]),2));var i=(s*n[1]-n[0]*n[2])/(s*n[3]-Math.pow(n[0],2)),l=(n[2]-i*n[0])/s,u=o(Math.exp(l),t.precision),c=o(i,t.precision),h=function(e){return[o(e,t.precision),o(o(u*Math.pow(e,c),t.precision),t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],string:"y = "+u+"x^"+c,r2:o(a(e,d),t.precision)}},polynomial:function(e,t){for(var n=[],r=[],l=0,u=0,c=e.length,h=t.order+1,d=0;d<h;d++){for(var p=0;p<c;p++)null!==e[p][1]&&(l+=Math.pow(e[p][0],d)*e[p][1]);n.push(l),l=0;for(var f=[],m=0;m<h;m++){for(var g=0;g<c;g++)null!==e[g][1]&&(u+=Math.pow(e[g][0],d+m));f.push(u),u=0}r.push(f)}r.push(n);for(var y=i(r,h).map((function(e){return o(e,t.precision)})),b=function(e){return[o(e,t.precision),o(y.reduce((function(t,n,s){return t+n*Math.pow(e,s)}),0),t.precision)]},w=e.map((function(e){return b(e[0])})),v="y = ",x=y.length-1;x>=0;x--)v+=x>1?y[x]+"x^"+x+" + ":1===x?y[x]+"x + ":y[x];return{string:v,points:w,predict:b,equation:[].concat(s(y)).reverse(),r2:o(a(e,w),t.precision)}}};function u(){var e=function(e,s){return n({_round:o},e,t({},s,(function(e,t){return l[s](e,n({},r,t))})))};return Object.keys(l).reduce(e,{})}e.exports=u()},void 0===(r="function"==typeof n?n.apply(t,s):n)||(e.exports=r)},2183:(e,t,n)=>{var s=n(1812),r=n(6357),a=n(1119),i=n(147),o=n(6297),l=n(9181),u=n(7529);u.alea=s,u.xor128=r,u.xorwow=a,u.xorshift7=i,u.xor4096=o,u.tychei=l,e.exports=u},1812:function(e,t,n){var s;!function(e,r,a){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var s=.02519603282416938*(e+=t.charCodeAt(n));s-=e=s>>>0,e=(s*=e)>>>0,e+=4294967296*(s-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new i(e),s=t&&t.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,s&&("object"==typeof s&&o(s,n),r.state=function(){return o(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(s=function(){return l}.call(t,n,t,r))||(r.exports=s):this.alea=l}(0,e=n.nmd(e),n.amdD)},9181:function(e,t,n){var s;!function(e,r,a){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,s=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-s|0,s=s<<24^s>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-s|0,t.d=s<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var s=0;s<n.length+20;s++)t.b^=0|n.charCodeAt(s),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new i(e),s=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,s&&("object"==typeof s&&o(s,n),r.state=function(){return o(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(s=function(){return l}.call(t,n,t,r))||(r.exports=s):this.tychei=l}(0,e=n.nmd(e),n.amdD)},6357:function(e,t,n){var s;!function(e,r,a){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var s=0;s<n.length+64;s++)t.x^=0|n.charCodeAt(s),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new i(e),s=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,s&&("object"==typeof s&&o(s,n),r.state=function(){return o(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(s=function(){return l}.call(t,n,t,r))||(r.exports=s):this.xor128=l}(0,e=n.nmd(e),n.amdD)},6297:function(e,t,n){var s;!function(e,r,a){function i(e){var t=this;t.next=function(){var e,n,s=t.w,r=t.X,a=t.i;return t.w=s=s+1640531527|0,n=r[a+34&127],e=r[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=r[a]=n^e,t.i=a,n+(s^s>>>16)|0},function(e,t){var n,s,r,a,i,o=[],l=128;for(t===(0|t)?(s=t,t=null):(t+="\0",s=0,l=Math.max(l,t.length)),r=0,a=-32;a<l;++a)t&&(s^=t.charCodeAt((a+32)%t.length)),0===a&&(i=s),s^=s<<10,s^=s>>>15,s^=s<<4,s^=s>>>13,a>=0&&(i=i+1640531527|0,r=0==(n=o[127&a]^=s+i)?r+1:0);for(r>=128&&(o[127&(t&&t.length||0)]=-1),r=127,a=512;a>0;--a)s=o[r+34&127],n=o[r=r+1&127],s^=s<<13,n^=n<<17,s^=s>>>15,n^=n>>>12,o[r]=s^n;e.w=i,e.X=o,e.i=r}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),s=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,s&&(s.X&&o(s,n),r.state=function(){return o(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(s=function(){return l}.call(t,n,t,r))||(r.exports=s):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},147:function(e,t,n){var s;!function(e,r,a){function i(e){var t=this;t.next=function(){var e,n,s=t.x,r=t.i;return e=s[r],n=(e^=e>>>7)^e<<24,n^=(e=s[r+1&7])^e>>>10,n^=(e=s[r+3&7])^e>>>3,n^=(e=s[r+4&7])^e<<7,e=s[r+7&7],n^=(e^=e<<13)^e<<9,s[r]=n,t.i=r+1&7,n},function(e,t){var n,s=[];if(t===(0|t))s[0]=t;else for(t=""+t,n=0;n<t.length;++n)s[7&n]=s[7&n]<<15^t.charCodeAt(n)+s[n+1&7]<<13;for(;s.length<8;)s.push(0);for(n=0;n<8&&0===s[n];++n);for(8==n?s[7]=-1:s[n],e.x=s,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),s=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,s&&(s.x&&o(s,n),r.state=function(){return o(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(s=function(){return l}.call(t,n,t,r))||(r.exports=s):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},1119:function(e,t,n){var s;!function(e,r,a){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var s=0;s<n.length+64;s++)t.x^=0|n.charCodeAt(s),s==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new i(e),s=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,s&&("object"==typeof s&&o(s,n),r.state=function(){return o(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(s=function(){return l}.call(t,n,t,r))||(r.exports=s):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},7529:function(e,t,n){var s;!function(r,a,i){var o,l=256,u=i.pow(l,6),c=i.pow(2,52),h=2*c,d=l-1;function p(e,t,n){var s=[],d=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(l):(e=new Uint8Array(l),(r.crypto||r.msCrypto).getRandomValues(e)),b(e)}catch(e){var t=r.navigator,n=t&&t.plugins;return[+new Date,r,n,r.screen,b(a)]}}():e,3),s),p=new f(s),w=function(){for(var e=p.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|p.g(4)},w.quick=function(){return p.g(4)/4294967296},w.double=w,y(b(p.S),a),(t.pass||n||function(e,t,n,s){return s&&(s.S&&m(s,p),e.state=function(){return m(p,{})}),n?(i.random=e,t):e})(w,d,"global"in t?t.global:this==i,t.state)}function f(e){var t,n=e.length,s=this,r=0,a=s.i=s.j=0,i=s.S=[];for(n||(e=[n++]);r<l;)i[r]=r++;for(r=0;r<l;r++)i[r]=i[a=d&a+e[r%n]+(t=i[r])],i[a]=t;(s.g=function(e){for(var t,n=0,r=s.i,a=s.j,i=s.S;e--;)t=i[r=d&r+1],n=n*l+i[d&(i[r]=i[a=d&a+t])+(i[a]=t)];return s.i=r,s.j=a,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,s=[],r=typeof e;if(t&&"object"==r)for(n in e)try{s.push(g(e[n],t-1))}catch(e){}return s.length?s:"string"==r?e:e+"\0"}function y(e,t){for(var n,s=e+"",r=0;r<s.length;)t[d&r]=d&(n^=19*t[d&r])+s.charCodeAt(r++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(y(i.random(),a),e.exports){e.exports=p;try{o=n(170)}catch(e){}}else void 0===(s=function(){return p}.call(t,n,t,e))||(e.exports=s)}("undefined"!=typeof self?self:this,[],Math)},8273:()=>{},9830:()=>{},3818:()=>{},6308:()=>{},7695:()=>{},170:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>xH});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{CompositeArrayBuffer:()=>bo,browserFiles:()=>du,browserHTTPRequest:()=>xu,concatenateArrayBuffers:()=>zo,copyModel:()=>Al,decodeWeights:()=>Io,decodeWeightsStream:()=>Do,encodeWeights:()=>_o,fromMemory:()=>Su,fromMemorySync:()=>Eu,getLoadHandlers:()=>Ko,getModelArtifactsForJSON:()=>Wo,getModelArtifactsForJSONSync:()=>Vo,getModelArtifactsInfoForJSON:()=>Uo,getSaveHandlers:()=>$o,getWeightSpecs:()=>Go,http:()=>vu,isHTTPScheme:()=>bu,listModels:()=>vl,loadWeights:()=>mu,moveModel:()=>kl,registerLoadRouter:()=>Ho,registerSaveRouter:()=>jo,removeModel:()=>xl,weightsLoaderFactory:()=>gu,withSaveHandler:()=>_u,withSaveHandlerSync:()=>Iu});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{assertParamsValid:()=>Lu,computeFlatOffset:()=>Yu,computeOutShape:()=>Vu,getNormalizedAxes:()=>qu,isSliceContinous:()=>Zu,maskToAxes:()=>Pu,parseSliceParams:()=>Qu,sliceInfo:()=>Ju,startForAxis:()=>Ku,startIndicesWithElidedDims:()=>ju,stopForAxis:()=>Xu,stopIndicesWithElidedDims:()=>Hu,stridesForAxis:()=>$u,stridesWithElidedDims:()=>Wu});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{conv2d:()=>pf,depthwiseConv2d:()=>gf,matMul:()=>yf});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{collectGatherOpShapeInfo:()=>Ig,computeOutShape:()=>_g,segOpComputeOptimalWindowSize:()=>Eg});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{ERF_A1:()=>qm,ERF_A2:()=>jm,ERF_A3:()=>Hm,ERF_A4:()=>$m,ERF_A5:()=>Km,ERF_P:()=>Gm,PARALLELIZE_THRESHOLD:()=>Rm,RowPartitionType:()=>_m,SELU_SCALE:()=>Um,SELU_SCALEALPHA:()=>Wm,applyActivation:()=>hf,assertAndGetBroadcastShape:()=>nu,assertAxesAreInnerMostDims:()=>Eh,assertParamsConsistent:()=>Sm,assignToTypedArray:()=>eg,axesAreInnerMostDims:()=>Ah,calculateShapes:()=>Vp,checkEinsumDimSizes:()=>ug,checkPadOnDimRoundingMode:()=>_c,combineLocations:()=>kh,combineRaggedTensorToTensorShapes:()=>Im,complexWithEvenIndex:()=>Ym,complexWithOddIndex:()=>Qm,computeConv2DInfo:()=>gc,computeConv3DInfo:()=>yc,computeDefaultPad:()=>bc,computeDilation2DInfo:()=>pc,computeOptimalWindowSize:()=>Dm,computeOutAndReduceShapes:()=>Ch,computeOutShape:()=>Em,computePool2DInfo:()=>fc,computePool3DInfo:()=>mc,convertConv2DDataFormat:()=>Ec,decodeEinsumEquation:()=>og,eitherStridesOrDilationsAreOne:()=>Cc,expandShapeToKeepDim:()=>Sh,exponent:()=>ng,exponents:()=>tg,fromStringArrayToUint8:()=>Ng,fromUint8ToStringArray:()=>Tg,getAxesPermutation:()=>_h,getBroadcastDims:()=>eu,getComplexWithIndex:()=>Jm,getEinsumComputePath:()=>cg,getEinsumPermutation:()=>lg,getFusedBiasGradient:()=>cf,getFusedDyActivation:()=>uf,getImageCenter:()=>Mm,getInnerMostAxes:()=>Th,getPermuted:()=>Bm,getRaggedRank:()=>Nm,getReductionAxes:()=>tu,getReshaped:()=>Fm,getReshapedPermuted:()=>zm,getRowPartitionTypesHelper:()=>Tm,getSliceBeginCoords:()=>Lm,getSliceSize:()=>Pm,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>fg,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>mg,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>gg,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>wg,getSparseReshapeInputOutputMismatchErrorMessage:()=>xg,getSparseReshapeInputOutputMultipleErrorMessage:()=>vg,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>yg,getSparseReshapeNegativeOutputDimErrorMessage:()=>bg,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>Sg,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Ag,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>kg,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>Cg,getUndoAxesPermutation:()=>Ih,isIdentityPermutation:()=>hg,log:()=>Wa,mergeRealAndImagArrays:()=>Xm,prepareAndValidate:()=>Vm,prepareSplitSize:()=>pg,segment_util:()=>s,shouldFuse:()=>df,slice_util:()=>t,splitRealAndImagArrays:()=>Zm,stridesOrDilationsArePositive:()=>Sc,tupleValuesAreOne:()=>kc,upcastType:()=>Ui,validateDefaultValueShape:()=>Om,validateInput:()=>Pp,validateUpdateShape:()=>Lp,warn:()=>Va});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{json:()=>Jk});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{json:()=>eC});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{json:()=>tC});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{json:()=>nC});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{json:()=>sC});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{json:()=>rC});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{json:()=>aC});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{json:()=>iC});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{json:()=>oC});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{json:()=>lC});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{json:()=>uC});var g={};__webpack_require__.r(g),__webpack_require__.d(g,{json:()=>cC});var y={};__webpack_require__.r(y),__webpack_require__.d(y,{json:()=>hC});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{json:()=>dC});var w={};__webpack_require__.r(w),__webpack_require__.d(w,{json:()=>pC});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{json:()=>fC});var x={};__webpack_require__.r(x),__webpack_require__.d(x,{json:()=>mC});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{json:()=>gC});var k={};__webpack_require__.r(k),__webpack_require__.d(k,{json:()=>yC});var C={};__webpack_require__.r(C),__webpack_require__.d(C,{OP_SCOPE_SUFFIX:()=>ho,abs:()=>Jl,acos:()=>tc,acosh:()=>nc,add:()=>Rl,addN:()=>sc,all:()=>rc,any:()=>ac,argMax:()=>ic,argMin:()=>oc,asin:()=>lc,asinh:()=>uc,atan:()=>cc,atan2:()=>hc,atanh:()=>dc,avgPool:()=>Tc,avgPool3d:()=>Nc,basicLSTMCell:()=>Bc,batchNorm:()=>Lc,batchNorm2d:()=>Pc,batchNorm3d:()=>Vc,batchNorm4d:()=>Wc,batchToSpaceND:()=>zc,bincount:()=>Uc,bitwiseAnd:()=>Gc,booleanMaskAsync:()=>Yp,broadcastArgs:()=>qc,broadcastTo:()=>jc,buffer:()=>Il,cast:()=>Tl,ceil:()=>Hc,clipByValue:()=>$c,clone:()=>Nl,complex:()=>fo,concat:()=>Oc,concat1d:()=>Kc,concat2d:()=>Xc,concat3d:()=>Zc,concat4d:()=>Yc,conv1d:()=>Jc,conv2d:()=>Qc,conv2dTranspose:()=>th,conv3d:()=>nh,conv3dTranspose:()=>rh,cos:()=>ah,cosh:()=>ih,cosineWindow:()=>af,cumprod:()=>oh,cumsum:()=>lh,denseBincount:()=>uh,depthToSpace:()=>ch,depthwiseConv2d:()=>hh,diag:()=>dh,dilation2d:()=>ph,div:()=>Ml,divNoNan:()=>gh,dot:()=>yh,dropout:()=>sf,einsum:()=>bh,elu:()=>wh,enclosingPowerOfTwo:()=>rf,ensureShape:()=>vh,equal:()=>fh,erf:()=>xh,euclideanNorm:()=>Fh,exp:()=>Bh,expandDims:()=>zh,expm1:()=>Lh,eye:()=>Vh,fft:()=>Ap,fill:()=>Kl,floor:()=>Wh,floorDiv:()=>Dl,fused:()=>n,gather:()=>Uh,gatherND:()=>nf,greater:()=>Gh,greaterEqual:()=>qh,ifft:()=>kp,imag:()=>jh,image:()=>ym,inTopKAsync:()=>of,irfft:()=>Cp,isFinite:()=>Hh,isInf:()=>$h,isNaN:()=>Kh,leakyRelu:()=>Xh,less:()=>Zh,lessEqual:()=>Yh,linalg:()=>bm,linspace:()=>Qh,localResponseNormalization:()=>Jh,log:()=>ed,log1p:()=>td,logSigmoid:()=>rd,logSoftmax:()=>ad,logSumExp:()=>id,logicalAnd:()=>od,logicalNot:()=>ld,logicalOr:()=>ud,logicalXor:()=>cd,losses:()=>wm,lowerBound:()=>pd,matMul:()=>Rc,max:()=>Nh,maxPool:()=>fd,maxPool3d:()=>md,maxPoolWithArgmax:()=>gd,maximum:()=>su,mean:()=>yd,meshgrid:()=>vd,min:()=>Oh,minimum:()=>xd,mirrorPad:()=>Ad,mod:()=>kd,moments:()=>Cd,movingAverage:()=>Jp,mul:()=>Fl,multiRNNCell:()=>Sd,multinomial:()=>Ed,neg:()=>nd,norm:()=>Mh,notEqual:()=>_d,oneHot:()=>Id,ones:()=>wd,onesLike:()=>Td,op:()=>po,outerProduct:()=>Nd,pad:()=>Od,pad1d:()=>Rd,pad2d:()=>Dd,pad3d:()=>Md,pad4d:()=>Fd,pool:()=>zd,pow:()=>Zl,prelu:()=>Ld,print:()=>Ol,prod:()=>Pd,raggedGather:()=>Vd,raggedRange:()=>Wd,raggedTensorToTensor:()=>Ud,rand:()=>Gd,randomGamma:()=>Kd,randomNormal:()=>Xd,randomStandardNormal:()=>Zd,randomUniform:()=>Yd,randomUniformInt:()=>Qd,range:()=>Jd,real:()=>ep,reciprocal:()=>tp,relu:()=>np,relu6:()=>sp,reshape:()=>Ic,reverse:()=>rp,reverse1d:()=>ap,reverse2d:()=>ip,reverse3d:()=>op,reverse4d:()=>lp,rfft:()=>Ep,round:()=>up,rsqrt:()=>cp,scalar:()=>Vl,scatterND:()=>ef,searchSorted:()=>dd,selu:()=>hp,separableConv2d:()=>dp,setdiff1dAsync:()=>pp,sigmoid:()=>Dc,sign:()=>fp,signal:()=>gm,sin:()=>mp,sinh:()=>gp,slice:()=>Mc,slice1d:()=>yp,slice2d:()=>bp,slice3d:()=>wp,slice4d:()=>vp,softmax:()=>xp,softplus:()=>sd,spaceToBatchND:()=>Bd,sparse:()=>vm,sparseToDense:()=>tf,spectral:()=>mm,split:()=>Sp,sqrt:()=>Bl,square:()=>zl,squaredDifference:()=>_p,squeeze:()=>Ip,stack:()=>Tp,step:()=>Np,stridedSlice:()=>Op,string:()=>xm,sub:()=>Yl,sum:()=>Rh,tan:()=>Rp,tanh:()=>Fc,tensor:()=>go,tensor1d:()=>Dp,tensor2d:()=>Mp,tensor3d:()=>Tu,tensor4d:()=>Fp,tensor5d:()=>Bp,tensor6d:()=>zp,tensorScatterUpdate:()=>Wp,tile:()=>Ph,topk:()=>Up,transpose:()=>Qp,truncatedNormal:()=>Gp,unique:()=>qp,unsortedSegmentSum:()=>jp,unstack:()=>Hp,upperBound:()=>$p,variable:()=>Kp,where:()=>mh,whereAsync:()=>Zp,zeros:()=>bd,zerosLike:()=>Ll});var S={};__webpack_require__.r(S),__webpack_require__.d(S,{addImpl:()=>bE,bincountImpl:()=>c_,bincountReduceImpl:()=>h_,bitwiseAndImpl:()=>p_,castImpl:()=>pE,ceilImpl:()=>y_,concatImpl:()=>k_,equalImpl:()=>oI,expImpl:()=>bI,expm1Impl:()=>kI,floorImpl:()=>VI,gatherNdImpl:()=>KI,gatherV2Impl:()=>ZI,greaterEqualImpl:()=>tT,greaterImpl:()=>QI,lessEqualImpl:()=>fT,lessImpl:()=>hT,linSpaceImpl:()=>yT,logImpl:()=>wT,maxImpl:()=>MT,maximumImpl:()=>zT,minimumImpl:()=>$T,multiplyImpl:()=>J_,negImpl:()=>sN,notEqualImpl:()=>hN,prodImpl:()=>CN,raggedGatherImpl:()=>TN,raggedRangeImpl:()=>RN,raggedTensorToTensorImpl:()=>LN,rangeImpl:()=>VN,rsqrtImpl:()=>QN,scatterImpl:()=>tO,sigmoidImpl:()=>rE,simpleAbsImpl:()=>_E,sliceImpl:()=>i_,sparseFillEmptyRowsImpl:()=>xO,sparseReshapeImpl:()=>kO,sparseSegmentReductionImpl:()=>SO,sqrtImpl:()=>NO,staticRegexReplaceImpl:()=>zO,stridedSliceImpl:()=>UO,stringNGramsImpl:()=>jO,stringSplitImpl:()=>KO,stringToHashBucketFastImpl:()=>ZO,subImpl:()=>TI,tileImpl:()=>nR,topKImpl:()=>iR,transposeImpl:()=>ME,uniqueImpl:()=>pR});var E=__webpack_require__(7999),_=__webpack_require__(9043);E.A.prototype._CONST=Object.freeze({N:{VIDEO_W:{DESKTOP:208,MOBILE:144},VIDEO_MARGIN:"10px",GAZE_CALIBRATION:{R:40,MARGIN:32,BORDER:8,CENTER_EXTRA_CHECK_OFFSET:2,MID_EXTRA_CHECK_OFFSET:6},PPI_DONT_USE:127.7,PD_DONT_USE:6.4,VIEW_DIST_DONT_USE:40},S:{AUTO:"AUTO",CLICK_TYPE:{MOUSE:"mouse",TOUCH:"touch"}},COLOR:{LIGHT_GREY:"#cccccc",ORANGE:"#ff9a00",DARK_RED:"#ac0d0d",RED:"#ee0000"},LTR:"LTR",RTL:"RTL",VIEW_METHOD:{B:"BlindSpot",F:"FaceMesh"},IN_TO_CM:2.54,UNITS:{CM:"cm",IN_D:"inDecimal",IN_F:"inFractional"}}),E.A.prototype._debuggerDefault=Object.freeze({date:new Date("July 20, 69 20:17:40 GMT+00:00"),timestamp:performance.now(),screenSize:{value:{screenWidthCm:28.6,screenHeightCm:17.9,screenPhysicalPpi:250,screenPpi:125,screenDiagonalCm:33.8,screenDiagonalIn:13.3}},measureDistance:{value:40,method:"BlindSpot"},trackDistance:{value:{viewingDistanceCm:40,PDCm:6.4,nearPointCm:{x:0,y:0},latencyMs:50},method:"FaceMesh"},trackGaze:{value:{x:screen.width/2,y:screen.height/2,latencyMs:50}},performance:{value:{computeArrayFillMHz:(0,_.Nh)(.5,3),computeRandomMHz:(0,_.Nh)(5,3),idealFps:60,stressFps:60}}});var I=__webpack_require__(115),T=__webpack_require__.n(I),N=__webpack_require__(3389),O=__webpack_require__.n(N),R=__webpack_require__(402),D=__webpack_require__.n(R),M=__webpack_require__(880),F=__webpack_require__.n(M),B=__webpack_require__(3282),z=__webpack_require__.n(B);const L=(e,t)=>{e.style.top=Math.round(t.querySelector(".calibration-instruction").getBoundingClientRect().bottom)+25+"px"},P=e=>{const t=e.value/e.max;e.style.background=`linear-gradient(90deg, #ffc772, #ffc772 ${100*t}%, #fff ${100*t}%)`};var V=__webpack_require__(9853),W=__webpack_require__(359),U=__webpack_require__(9677);E.A.prototype._displaySize=function(){if(!this.checkInitialized())return;const e={value:{displayWidthPx:screen.width,displayHeightPx:screen.height,windowWidthPx:window.innerWidth,windowHeightPx:window.innerHeight},timestamp:performance.now()};this.displayData.length&&T()(e.value,this.displayData[this.displayData.length-1].value)||(this.newDisplayData=e)};const G={card:O(),arrow:D(),usba:F(),usbc:z()},q={card:3.375,usba:.787402,usbc:.787402};E.A.prototype.screenSize=function(e={},t){this.checkInitialized()&&((0,_.$k)(),e=Object.assign({fullscreen:!1,repeatTesting:1,decimalPlace:1,defaultObject:"card",headline:"🖥️ "+U.H.RC_screenSizeTitle[this.L],description:U.H.RC_screenSizeIntro[this.L],check:!1,checkCallback:null},e),this.getFullscreen(e.fullscreen),["usba","usbc","card"].includes(e.defaultObject)||(e.defaultObject="card"),e.description+=`<br /><br /><b class="rc-size-obj-selection">${U.H.RC_screenSizeHave[this.L].replace("xxx",`<select id="matching-obj"><option value="usba"${"usba"===e.defaultObject?" selected":""}>${U.H.RC_screenSizeUSBA[this.L]}</option><option value="usbc"${"usbc"===e.defaultObject?" selected":""}>${U.H.RC_screenSizeUSBC[this.L]}</option><option value="card"${"card"===e.defaultObject?" selected":""}>${U.H.RC_screenSizeCreditCard[this.L]}</option></select>`)}</b>`,this._addBackground(),this._addBackgroundText(e.headline,e.description),this._addCreditOnBackground(U.H.RC_screenSizeCredit[this.L]),function(e,t,n,s){const r=((e,t,n)=>{const s=document.createElement("input");return s.id="rc-size-slider",s.className="rc-slider",s.type="range",s.min=t,s.max=n,s.value=Math.max(Math.min(Math.round(100*Math.random()),80),20),s.step=.1,L(s,e),P(s),e.appendChild(s),s})(t,0,100),a=(t,n)=>{if("rc-slider"===t.target.className&&"rc-size-slider"===t.target.id&&(n===e._CONST.S.CLICK_TYPE.MOUSE&&1===t.which||n===e._CONST.S.CLICK_TYPE.TOUCH)){t.target.style.cursor="grabbing",c.setAttribute("fill",e._CONST.COLOR.ORANGE);const s=()=>{r.style.cursor="grab",c.setAttribute("fill",e._CONST.COLOR.LIGHT_GREY),document.removeEventListener("mouseup",s,!1)};n===e._CONST.S.CLICK_TYPE.MOUSE?document.addEventListener("mouseup",s,!1):n===e._CONST.S.CLICK_TYPE.TOUCH&&document.addEventListener("touchend",s,!1)}},i=e=>{a(e,"mouse")},o=e=>{a(e,"touch")};document.addEventListener("mousedown",i,!1),document.addEventListener("touchstart",o,!1);const l=$(["card","arrow","usba","usbc"],t);let u=n.defaultObject;document.getElementById("matching-obj").addEventListener("change",(e=>{K(e.target.value,l,d),u=e.target.value})),K("card",l);let c=document.getElementById("size-arrow-fill");c.setAttribute("fill",e._CONST.COLOR.LIGHT_GREY);let h={width:l.arrow.getBoundingClientRect().width,height:l.arrow.getBoundingClientRect().height};const d=()=>{j(e,r,l.card,l.arrow,h),H(r,l.usba),H(r,l.usbc)};d();const p=()=>{P(r),d()},f=new ResizeObserver((()=>{d(),L(r,t),Z(l,r)}));f.observe(t);const m=()=>{document.removeEventListener("mousedown",i,!1),document.removeEventListener("touchstart",o,!1),document.removeEventListener("input",p,!1),f.unobserve(t),e._removeBackground(),(0,V.l)(y)},g=()=>{let t=(l[u].getBoundingClientRect().width||parseInt(l[u].style.width))/q[u];const r=n.decimalPlace,a=X(t,r);e.newScreenData=a,m(),n.check?e._checkScreenSize(s,a,n.checkCallback):(0,_.nB)(s,a)};r.addEventListener("input",p,!1);const y=(0,V.m)({Escape:m,Enter:g," ":g});(0,W.F)(e.L,e.background,{go:g,cancel:m},e.params.showCancelButton),K(u,l,d)}(this,this.background,e,t))};const j=(e,t,n,s,r)=>{const a=(t.offsetWidth-30)*(t.value/100)*(window.innerWidth<480?2:1)+15;n.style.width=a+"px";let i=n.getBoundingClientRect();0!==i.width&&(s.style.left=i.left+a+"px",s.style.top=i.top+e.background.scrollTop+(.63*a-r.height)/2+"px")},H=(e,t)=>{t.style.width=(0,_.Ew)(Math.pow(e.value,1.5),0,1e3,50,400)+"px"},$=(e,t)=>{let n=document.getElementsByClassName("size-obj");for(;n.length;)n[0].parentNode.removeChild(n[0]);const s={};for(let n of e){let e=document.createElement("div");t.appendChild(e),e.outerHTML=G[n],e=document.getElementById("size-"+n),e.setAttribute("preserveAspectRatio","none"),e.style.visibility="hidden",s[n]=e}return Z(s,document.querySelector("#rc-size-slider")),s},K=(e,t,n)=>{for(let n in t)t[n].style.visibility=n===e?"visible":"hidden";t.arrow.style.visibility="hidden",(0,_.nB)(n)},X=(e,t)=>{const n={value:{screenWidthCm:(0,_.Nh)(2.54*window.screen.width/e,t),screenHeightCm:(0,_.Nh)(2.54*window.screen.height/e,t),screenPhysicalPpi:(0,_.Nh)(e*window.devicePixelRatio,t),screenPpi:(0,_.Nh)(e,t)},timestamp:performance.now()};return n.value.screenDiagonalCm=(0,_.Nh)(Math.hypot(n.value.screenWidthCm,n.value.screenHeightCm),t),n.value.screenDiagonalIn=(0,_.Nh)(n.value.screenDiagonalCm/2.54,t),n},Z=(e,t)=>{for(let n in e)e[n].style.top=t.getBoundingClientRect().top+50+"px"};var Y=__webpack_require__(8465),Q=__webpack_require__.n(Y);const J=32,ee=3,te=(e,t)=>"left"===e?.1*t:.9*t;function ne(e,t,n){e.fillStyle="#000",e.fillRect(t-(J>>1),n-(ee>>1),J,ee),e.fillRect(t-(ee>>1),n-(J>>1),ee,J)}const se=30;function re(e,t,n){return"left"===e?[t+(J+se)/2,n-(se>>1)]:[se>>1,t-(J+se)/2]}const ae=(e,{showIcon:t})=>({icon:t?"info":void 0,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,showConfirmButton:!0,confirmButtonText:U.H.RC_ok[e.L],showClass:{popup:"fadeInUp",icon:""},hideClass:{popup:"fadeOutDown"},iconColor:e._CONST.COLOR.ORANGE,confirmButtonColor:"#aaa",customClass:{popup:"my__swal2__container",icon:"my__swal2__icon",title:"my__swal2__title",htmlContainer:`my__swal2__html rc-lang-${e.LD.toLowerCase()}`,confirmButton:"rc-button rc-go-button"}});let ie;"mocha"!==E._&&(ie=__webpack_require__(477).l);function oe(e,t,n=!1,s){const r=t.control;let a=e._CONST.N.PPI_DONT_USE;e.screenPpi&&(a=e.screenPpi.value);let i=!0,o=[],l=0;const u=document.createElement("div");u.innerHTML='<canvas id="blind-spot-canvas" class="cursor-grab"></canvas>',e.background.appendChild(u),e._constructFloatInstructionElement("blind-spot-instruction",U.H.RC_distanceTrackingCloseL[e.L]),e._addCreditOnBackground(U.H.RC_viewingBlindSpotCredit[e.L]);const c=document.querySelector("#blind-spot-canvas"),h=c.getContext("2d"),d=document.getElementById("blind-spot-instruction");let p="left";e._setFloatInstructionElementPos(p,16);let f,m=te(p,c.width);const g=()=>{c.style.width=(c.width=window.innerWidth)+"px",c.style.height=(c.height=window.innerHeight)+"px",m=te(p,c.width),f=re(p,m,c.width)},y=new ResizeObserver((()=>{g()}));y.observe(e.background),g();let b=f["left"===p?0:1],w=b,v=e._CONST.COLOR.DARK_RED,x="left"===p?1:-1;const A=(t=!0)=>{i=!1,r&&function(e,t){document.getElementById(e).removeEventListener("mousedown",t),document.getElementById(e).removeEventListener("touchstart",t)}("blind-spot-canvas",B),y.unobserve(e.background),e._removeBackground(),!e._trackingSetupFinishedStatus.distance&&t&&(e._trackingSetupFinishedStatus.distance=!0,e.gazeTracker.checkInitialized("distance",!1)&&e.endDistance()),(0,V.l)(D),(0,V.l)(M,"keyup")},k=async()=>{if("mocha"!==E._&&ie(),l+=1,o.push({dist:(0,_.Nh)(le(b,m,a),t.decimalPlace),v:x,closedEyeSide:p,crossX:m,circleX:b,ppi:a,timestamp:performance.now()}),2===Math.floor(l/t.repeatTesting))if(function(e){let t=[],n=[];for(let s of e)"left"===s.closedEyeSide?t.push(s.dist):n.push(s.dist);const s=(0,_.G8)(t),r=(0,_.G8)(n);return Math.abs(s-r)<.2*Math.min(s,r)}(o)){const r=e.newViewingDistanceData={value:(0,_.Nh)((0,_.JZ)(ue(o)),t.decimalPlace),timestamp:performance.now(),method:e._CONST.VIEW_METHOD.B,raw:{...o}};let a;n?(a="trackDistance",i=!1,y.unobserve(e.background),(0,V.l)(D),(0,V.l)(M,"keyup")):(a="measureDistance",A(!1)),t.check?await e._checkDistance(s,r,a,t.checkCallback):(0,_.nB)(s,r)}else{l=0;const t=o[0];R(t.v,t.closedEyeSide,t.crossX),o=[],Q().fire({...ae(e,{showIcon:!1}),icon:void 0,html:U.H.RC_viewingBlindSpotRejected[e.L],allowEnterKey:!0})}else l%t.repeatTesting==0?("left"===p?(p="right",d.innerHTML=U.H.RC_distanceTrackingCloseR[e.L]):(p="left",d.innerHTML=U.H.RC_distanceTrackingCloseL[e.L]),e._setFloatInstructionElementPos(p,16),R(1,p,te(p,c.width),!1,!0)):(x=-x,O(p,f))};let C=!1,S=null;const I=t=>{C||(T(),C=!0,v=e._CONST.COLOR.RED,S=setInterval((()=>{"ArrowLeft"===t.key?(b-=10,N()):"ArrowRight"===t.key&&(b+=10,N())}),30))},T=()=>{C=!1,v=e._CONST.COLOR.DARK_RED,S&&(clearInterval(S),S=null)},N=()=>{w=(0,_.AU)(b,...f),b=w},O=(e,t)=>{let n=t["left"===e?0:1],s=Math.abs(t[1]-t[0])/4,r=(0,_.Av)(n-s,n+s);(r-t[0])*(r-t[1])>0&&(r=2*n-r),b=r},R=(t,n,s,r=!0,a=!0)=>{x=t,p=n,m=s,f=re(p,m,c.width),r&&(d.innerHTML="left"===p?U.H.RC_distanceTrackingCloseL[e.L]:U.H.RC_distanceTrackingCloseR[e.L],e._setFloatInstructionElementPos(p,16)),a&&(b=f["left"===p?0:1],O(n,f))},D=(0,V.m)({Escape:t.showCancelButton?A:void 0,Enter:k," ":k,ArrowLeft:r?I:_.Md,ArrowRight:r?I:_.Md}),M=(0,V.m)({ArrowLeft:r?T:_.Md,ArrowRight:r?T:_.Md},"keyup");(0,W.F)(e.L,e.background,{go:k,cancel:t.showCancelButton?A:void 0,custom:{callback:()=>{Q().fire({...ae(e,{showIcon:!1}),icon:void 0,html:U.H.RC_viewingDistanceIntroLiMethod[e.L],allowEnterKey:!0})},content:U.H.RC_viewingDistanceIntroTitle[e.L]}},e.params.showCancelButton);const F={x:null,circleX:null},B=t=>{const n=!(!t.touches||!t.touches[0]);let s,r;if(n||t.preventDefault(),n?(s=t.touches[0].clientX,r=t.touches[0].clientY):(s=t.clientX,r=t.clientY),a=b,i=c.height/2,o=s,l=r,(0,_.ll)(a,i,o,l)<se>>1){F.x=s,F.circleX=b;const r=document.getElementById("blind-spot-canvas");v=e._CONST.COLOR.RED,r.classList.replace("cursor-grab","cursor-grabbing");const a=e=>{let s;t.preventDefault(),e.preventDefault(),s=n?e.touches[0].clientX:e.clientX,b=F.circleX+s-F.x,b=(0,_.AU)(b,...re(p,m,c.width))};n?document.addEventListener("touchmove",a):document.addEventListener("mousemove",a);const i=()=>{n?(document.removeEventListener("touchend",i),document.removeEventListener("touchmove",a)):(document.removeEventListener("mouseup",i),document.removeEventListener("mousemove",a)),F.x=null,F.circleX=null,v=e._CONST.COLOR.DARK_RED,r.classList.replace("cursor-grabbing","cursor-grab")};n?document.addEventListener("touchend",i):document.addEventListener("mouseup",i)}var a,i,o,l};r&&function(e,t){document.getElementById(e).addEventListener("mousedown",t),document.getElementById(e).addEventListener("touchstart",t)}("blind-spot-canvas",B);const z=performance.now();let L=z;const P=()=>{h.clearRect(0,0,c.width,c.height),ne(h,m,c.height/2),L=performance.now(),function(e,t,n,s,r,a,i=!0){t.beginPath(),t.arc(n,s,se>>1,0,2*Math.PI),t.closePath(),t.fillStyle=i?r%125<63?a:"#fff":a,t.fill()}(0,h,b,c.height/2,Math.round(L-z),v,t.sparkle),r||(b+=5*x,N()),i?requestAnimationFrame(P):h.clearRect(0,0,c.width,c.height)};requestAnimationFrame(P)}function le(e,t,n){return Math.abs(t-e)/n/(s=15,Math.tan(s*Math.PI/180))/.3937;var s}function ue(e){const t=[];for(let n of e)t.push(n.dist);return t}function ce(e,t={framerate:60,break:!1}){let n=0,s=0,r=0;const a=1e3/t.framerate,i=()=>{t.break||requestAnimationFrame(i),n=performance.now(),r=n-s,r>a&&(s=n-r%a,e())};requestAnimationFrame(i)}E.A.prototype.measureDistance=function(e={},t){if(!this.checkInitialized())return;let n;(0,_.$k)(),n=(void 0!==e.control&&e.control,U.H.RC_viewingDistanceIntroLiMethod[this.L]),e=Object.assign({fullscreen:!1,repeatTesting:1,sparkle:!0,decimalPlace:1,control:!0,headline:"📏 "+U.H.RC_viewingDistanceTitle[this.L],description:n,check:!1,checkCallback:!1,showCancelButton:!0},e),this.getFullscreen(e.fullscreen),this._addBackground(),this._replaceBackground((0,_.$O)(e.headline,null,!0,"")),oe(this,e,!1,t)};var he=__webpack_require__(2646);const de=async e=>{if(navigator.permissions&&navigator.permissions.query)return navigator.permissions.query({name:"camera"}).then((async t=>{if("prompt"===t.state)return await Q().fire({...ae(e,{showIcon:!1}),icon:void 0,imageUrl:"data:image/png;base64,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",imageWidth:480,imageAlt:"Please allow camera access",html:U.H.RC_requestCamera[e.L]+"<br />"+U.H.RC_privacyCamera[e.L]})})).catch((e=>{}))},pe={video:!1};E.A.prototype.trackDistance=async function(e={},t,n){if(!this.checkInitialized())return;let s;if((0,_.$k)(),s=(void 0!==e.control&&e.control,U.H.RC_viewingDistanceIntroLiMethod[this.L]),e=Object.assign({fullscreen:!1,repeatTesting:1,sparkle:!0,pipWidthPx:this._CONST.N.VIDEO_W[this.isMobile.value?"MOBILE":"DESKTOP"],showVideo:!0,showFaceOverlay:!1,decimalPlace:1,framerate:3,desiredDistanceCm:void 0,desiredDistanceTolerance:1.2,desiredDistanceMonitor:!1,desiredDistanceMonitorCancelable:!1,desiredDistanceMonitorAllowRecalibrate:!0,nearPoint:!0,showNearPoint:!1,control:!0,headline:"📏 "+U.H.RC_distanceTrackingTitle[this.L],description:U.H.RC_distanceTrackingIntroStart[this.L]+(0,he.G)(this.L)+s+(0,he.G)(this.L)+U.H.RC_distanceTrackingIntroEnd[this.L],check:!1,checkCallback:null,showCancelButton:!0},e),this.getFullscreen(e.fullscreen),this.gazeTracker.checkInitialized("distance"))return this.gazeTracker._toFixedN=e.decimalPlace,this.showNearPoint(e.showNearPoint),this.showVideo(e.showVideo),void this.showFaceOverlay(e.showFaceOverlay);this._addBackground(),this._constructFloatInstructionElement("gaze-system-instruction",U.H.RC_starting[this.L]),await de(this);const r=e=>{this.showVideo(pe.video),pe.video=!1,this.gazeTracker.checkInitialized("gaze",!1)&&this.showGazer(a),(0,_.nB)(t,e),ye.current=e},a=this.gazeTracker.webgazer.params.showGazeDot,i=async()=>{this._addBackground(),this._replaceBackground((0,_.$O)(e.headline,null,!0,"")),this.gazeTracker.checkInitialized("gaze",!1)&&this.showGazer(!1),oe(this,e,!0,r)};ge.pipWidthPx=e.pipWidthPx,ge.decimalPlace=e.decimalPlace,ge.framerate=e.framerate,ge.nearPoint=e.nearPoint,ge.showNearPoint=e.showNearPoint,ge.desiredDistanceCm=e.desiredDistanceCm,ge.desiredDistanceTolerance=e.desiredDistanceTolerance,ge.desiredDistanceMonitor=e.desiredDistanceMonitor,ge.desiredDistanceMonitorCancelable=e.desiredDistanceMonitorCancelable,ge.desiredDistanceMonitorAllowRecalibrate=e.desiredDistanceMonitorAllowRecalibrate,pe.video=e.showVideo,this.gazeTracker._init({toFixedN:1,showVideo:!0,showFaceOverlay:e.showFaceOverlay},"distance"),this._trackingSetupFinishedStatus.distance=!1;const o={options:e,callbackStatic:t,callbackTrack:n};e.nearPoint?fe(this,(()=>this._measurePD({},i)),n,o):fe(this,i,n,o)};const fe=async(e,t,n,s)=>{e.gazeTracker.beginVideo({pipWidthPx:ge.pipWidthPx},(()=>{e._removeFloatInstructionElement(),(0,_.nB)(t),Se(e,ge,n,s)}))},me=(e,t)=>Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2]),ge={pipWidthPx:0,decimalPlace:2,framerate:3,nearPoint:!0,showNearPoint:!1,desiredDistanceCm:void 0,desiredDistanceTolerance:1.2,desiredDistanceMonitor:!1,desiredDistanceMonitorCancelable:!1,desiredDistanceMonitorAllowRecalibrate:!0},ye={current:null};let be,we,ve={framerate:20,break:!0},xe=null,Ae=!1,ke=0,Ce=1;const Se=async(e,t,n,s)=>{const r=document.querySelector("#webgazerVideoFeed");(0,_.yy)(1e3).then((async()=>{let a,i;ke=0,Ce=1;a=await e.gazeTracker.webgazer.getTracker().model;let o=e.screenPpi?e.screenPpi.value:e._CONST.N.PPI_DONT_USE;!e.screenPpi&&t.nearPoint,t.nearPoint&&t.showNearPoint&&(xe=document.createElement("div"),xe.id="rc-near-point-dot",document.body.appendChild(xe),Object.assign(xe.style,{display:"block",zIndex:999999,width:"10px",height:"10px",background:"green",position:"fixed",top:"-15px",left:"-15px"})),Ae=!1;const{desiredDistanceCm:l,desiredDistanceTolerance:u,desiredDistanceMonitor:c,desiredDistanceMonitorCancelable:h,desiredDistanceMonitorAllowRecalibrate:d}=t;e._distanceTrackNudging.distanceCorrectEnabled=!0,e._distanceTrackNudging.distanceDesired=l,e._distanceTrackNudging.distanceAllowedRatio=u,we=async()=>{const u=performance.now();if(i=await a.estimateFaces(r),i.length){e._trackingVideoFrameTimestamps.distance+=u;const a=i[0].scaledMesh;if(5===Ce){if(ke+=me(a[133],a[362]),ke/=5,e._trackingVideoFrameTimestamps.distance/=5,null!==ye.current){be||(be=ke*ye.current.value,s.options.check||e._removeBackground(),e._trackingSetupFinishedStatus.distance=!0,Ae=!0);const i=performance.now(),u=Math.round(i-e._trackingVideoFrameTimestamps.distance),p=e.newViewingDistanceData={value:(0,_.Nh)(be/ke,t.decimalPlace),timestamp:i,method:e._CONST.VIEW_METHOD.F,latencyMs:u};let f;(Ae||c)&&(l&&e.nudgeDistance(h,d,s),Ae=!1),t.nearPoint&&(f=Ee(e,t,r,a,ke,i,o,u)),n&&"function"==typeof n&&(e.gazeTracker.defaultDistanceTrackCallback=n,n({value:{viewingDistanceCm:p.value,nearPointCm:f?f.value:[null,null],latencyMs:u},timestamp:i,method:e._CONST.VIEW_METHOD.F}))}ke=0,Ce=1,e._trackingVideoFrameTimestamps.distance=0}else ke+=me(a[133],a[362]),++Ce}},ve.break=!1,ve.framerate=5*t.framerate,ce(we,ve)}))},Ee=(e,t,n,s,r,a,i,o)=>{let l=((e,t,n)=>[(-t[0]-n[0]+e.videoWidth)/2,(-t[1]-n[1]+e.videoHeight)/2])(n,s[133],s[362]);l.forEach(((t,n)=>{l[n]=(e.PDCm?e.PDCm.value:e._CONST.N.PD_DONT_USE)*t/r}));let u=e.newNearPointData={value:{x:(0,_.Nh)(l[0],t.decimalPlace),y:(0,_.Nh)(l[1]+screen.height/2*2.54/i,t.decimalPlace),latencyMs:o},timestamp:a};if(t.showNearPoint){let e=u.value.x*i/2.54,t=u.value.y*i/2.54;Object.assign(xe.style,{left:screen.width/2-window.screenLeft+e-5+"px",top:screen.height/2-window.screenTop-(window.outerHeight-window.innerHeight)-t-5+"px"})}return u};E.A.prototype.pauseDistance=function(){return this.gazeTracker.checkInitialized("distance",!0)&&!this._trackingPaused.distance?(ve.break=!0,xe&&(xe.style.display="none"),this._trackingVideoFrameTimestamps.distance=0,this._trackingPaused.distance=!0,this.pauseNudger(),this):null},E.A.prototype.resumeDistance=function(){return this.gazeTracker.checkInitialized("distance",!0)&&this._trackingPaused.distance?(ve.break=!1,xe&&(xe.style.display="block"),ke=0,Ce=1,this._trackingVideoFrameTimestamps.distance=0,ce(we,ve),this._trackingPaused.distance=!1,this.resumeNudger(),this):null},E.A.prototype.endDistance=function(e=!1,t=!0){return this.gazeTracker.checkInitialized("distance",!0)?(ve.break=!0,ve.framerate=20,ge.pipWidthPx=0,ge.decimalPlace=2,ge.framerate=3,ge.nearPoint=!0,ge.showNearPoint=!1,ge.desiredDistanceCm=void 0,ge.desiredDistanceTolerance=1.2,ge.desiredDistanceMonitor=!1,ge.desiredDistanceMonitorCancelable=!1,ge.desiredDistanceMonitorAllowRecalibrate=!0,ye.current=null,be=null,we=null,Ae=!1,this._trackingVideoFrameTimestamps.distance=0,this._trackingPaused.distance=!1,xe&&(document.body.removeChild(xe),xe=null),this.endNudger(),t&&this.gazeTracker.end("distance",e),this):null},E.A.prototype.getDistanceNow=async function(e=null){if(!this.checkInitialized()||!this.gazeTracker.checkInitialized("distance",!0)||!ve.break)return;let t=e||this.gazeTracker.defaultDistanceTrackCallback,n=document.querySelector("#webgazerVideoFeed"),s=await this.gazeTracker.webgazer.getTracker().model;const r=performance.now();let a=await s.estimateFaces(n);if(a.length){const e=a[0].scaledMesh,s=me(e[133],e[362]);let i=performance.now();const o=i-r,l=this.newViewingDistanceData={value:(0,_.Nh)(be/s,ge.decimalPlace),timestamp:i,method:this._CONST.VIEW_METHOD.F,latencyMs:o};let u;return ge.nearPoint&&(u=Ee(this,ge,n,e,s,i,this.screenPpi?this.screenPpi.value:this._CONST.N.PPI_DONT_USE,o)),(0,_.nB)(t,{value:{viewingDistanceCm:l.value,nearPointCm:u?u.value:null,latencyMs:o},timestamp:i,method:this._CONST.VIEW_METHOD.F}),l}return null},E.A.prototype.showNearPoint=function(e=!0){if(this.gazeTracker.checkInitialized("distance",!1)){const t=document.querySelector("#rc-near-point-dot");t&&(t.display=e?"block":"none")}},E.A.prototype.nudgeDistance=function(e=!1,t=!0,n){if(!this.checkInitialized())return;const{distanceDesired:s,distanceAllowedRatio:r}=this._distanceTrackNudging;if(s){if(this.viewingDistanceCm&&this.viewingDistanceCm.method===this._CONST.VIEW_METHOD.F){if(_e(this.viewingDistanceCm.value,s,r))return!0;{const a=()=>{this._removeNudger(),clearInterval(this._distanceTrackNudging.distanceCorrecting),this._distanceTrackNudging.distanceCorrecting=null,(0,V.l)(o)},i=async()=>{this.endDistance(),this._addBackground(),await(0,_.yy)(2e3),this.trackDistance(n.options,n.callbackStatic,n.callbackTrack)},o=(0,V.m)(e?{Escape:this.endNudger}:{});if(null===this._distanceTrackNudging.distanceCorrecting&&this._distanceTrackNudging.distanceCorrectEnabled){const[n,l,u]=Ie(this);let c=e?{cancel:()=>{this.endNudger()}}:{};t&&(c={...c,custom:{callback:i,content:U.H.RC_distanceTrackingRedo[this.L]}}),(e||t)&&(0,W.F)(this.L,this.nudger,c,this.params.showCancelButton);const h=()=>{n.innerHTML=Te(this,this.viewingDistanceCm.value,s),l.innerHTML=Math.round(this.viewingDistanceCm.value),u.innerHTML=Math.round(s)};h(),this._distanceTrackNudging.distanceCorrecting=setInterval((()=>{h(),_e(this.viewingDistanceCm.value,s,r)&&(a(),(0,V.l)(o))}),200)}else this._distanceTrackNudging.distanceCorrecting&&!this._distanceTrackNudging.distanceCorrectEnabled&&a();return!1}}return!1}};const _e=(e,t,n)=>{if(!Ne(n))return!1;let s=t*n,r=t/n;return e<=Math.max(s,r)&&e>=Math.min(s,r)},Ie=e=>(e._addNudger(`<div id="rc-distance-correct">\n  <p id="rc-distance-correct-instruction"></p>\n  <p id="rc-distance-correct-guide">${U.H.RC_distanceTrackingGuide[e.L].replace("xx1",'<span class="rc-distance-num rc-distance-now" id="rc-distance-now"></span>').replace("xx2",'<span class="rc-distance-num rc-distance-desired" id="rc-distance-desired"></span>')}</p>\n</div>\n  `),[document.querySelector("#rc-distance-correct-instruction"),document.querySelector("#rc-distance-now"),document.querySelector("#rc-distance-desired")]),Te=(e,t,n)=>t>=n?U.H.RC_distanceTrackingMoveCloser[e.L]:U.H.RC_distanceTrackingMoveFurther[e.L],Ne=e=>!isNaN(e)&&(e>0&&1!==e);E.A.prototype.setDistanceDesired=function(e,t=null){return this._distanceTrackNudging.distanceDesired=e,t&&Ne(t)&&(this._distanceTrackNudging.distanceAllowedRatio=t),e},E.A.prototype._addNudger=function(e){if(null!==this.nudger)return;let t=document.getElementById("calibration-nudger");return t||(t=document.createElement("div"),t.id="calibration-nudger",t.className=`calibration-nudger rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(t),t.style.background=this.params.backgroundColor),e&&(t.innerHTML=e),this._nudger.element=t,this.nudger},E.A.prototype._removeNudger=function(){let e=document.getElementById("calibration-nudger");return!!e&&(document.body.classList.remove("lock-view"),document.body.removeChild(e),this._nudger={element:null},!0)},E.A.prototype.pauseNudger=function(){document.body.classList.add("hide-nudger")},E.A.prototype.resumeNudger=function(){document.body.classList.remove("hide-nudger")},E.A.prototype.endNudger=function(){return!!this._distanceTrackNudging.distanceCorrectEnabled&&(this._removeNudger(),this._distanceTrackNudging.distanceCorrectEnabled=!1,this._distanceTrackNudging.distanceCorrecting&&clearInterval(this._distanceTrackNudging.distanceCorrecting),this._distanceTrackNudging.distanceCorrecting=null,this._distanceTrackNudging.distanceDesired=null,this._distanceAllowedRatio=null,!0)};function Oe(e,t,n,s,r){let a=setInterval((()=>{let i=document.getElementById("webgazerVideoContainer");i&&(clearInterval(a),i.style.height=t/parseInt(i.style.width)*parseInt(i.style.height)+"px",i.style.width=t+"px",i.style.opacity=n,s.setVideoViewerSize(parseInt(i.style.width),parseInt(i.style.height)),Re(e,i),setTimeout((()=>{e.videoOpacity(),e.isMobile.value?i.style.transition="right 0.5s, top 0.5s, width 0.5s, height 0.5s, border-radius 0.5s":i.style.transition="left 0.5s, bottom 0.5s, width 0.5s, height 0.5s, border-radius 0.5s",(0,_.nB)(r)}),700))}),100)}function Re(e,t){e.isMobile.value?(t.style.left="unset",t.style.right=e._CONST.N.VIDEO_MARGIN,t.style.top=e._CONST.N.VIDEO_MARGIN,t.style.bottom="unset"):(t.style.left=e._CONST.N.VIDEO_MARGIN,t.style.right="unset",t.style.top="unset",t.style.bottom=e._CONST.N.VIDEO_MARGIN)}const De={video:!1,videoWidth:0,videoHeight:0,opacity:1,gaze:!1,faceOverlay:!1},Me=.9;E.A.prototype._measurePD=async function(e={},t){if(!this.checkInitialized())return;(0,_.$k)(),e=Object.assign({fullscreen:!1,headline:"👁️ "+U.H.RC_nearPointTitle[this.L],description:U.H.RC_nearPointIntro[this.L],shortDescription:U.H.RC_nearPointIntro[this.L]},e),this.getFullscreen(e.fullscreen),await(0,_.yy)(1e3),this._replaceBackground(),this._replaceBackground((0,_.$O)(e.headline,e.shortDescription,!0));const n=this.screenPpi?this.screenPpi.value:this._CONST.N.PPI_DONT_USE;let[s,r]=Fe(this),[a,i]=Le(this,n,s,r);const o=this,l=(e=!0)=>{a.removeEventListener("mousedown",i),this._removeBackground(),this.showVideo(De.video),this.showGazer(De.gaze),this.showFaceOverlay(De.faceOverlay),this.gazeTracker.webgazer.showFaceFeedbackBox(!0),Object.assign(document.querySelector("#webgazerVideoContainer").style,{height:De.videoHeight,width:De.videoWidth,opacity:De.opacity,borderRadius:"5px"}),Re(o,document.querySelector("#webgazerVideoContainer")),Object.assign(document.querySelector("#webgazerVideoFeed").style,{height:De.videoHeight,width:De.videoWidth,top:"unset",transform:"scale(-1, 1)",transformOrigin:"unset"}),De.video=!1,De.videoWidth=0,De.videoHeight=0,De.opacity=1,De.gaze=!1,De.faceOverlay=!1,!o._trackingSetupFinishedStatus.distance&&e&&(o._trackingSetupFinishedStatus.distance=!0,o.endDistance()),(0,V.l)(c)},u=()=>{if(-100!==ze){const e={value:2.54*ze/n,timestamp:performance.now()};return this.newPDData=e,l(!1),(0,_.nB)(t,e)}},c=(0,V.m)({Escape:l,Enter:u," ":u});(0,W.F)(this.L,this.background,{go:u,cancel:l},this.params.showCancelButton),setTimeout((()=>{Q().fire({...ae(this,{showIcon:!1}),icon:void 0,imageUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAADwCAIAAABXFyDtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGx2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuZGFiYWNiYiwgMjAyMS8wNC8xNC0wMDozOTo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA3LTI0VDExOjU3OjU0LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiMTIzYjE3ZS0wMzUzLTQ4YWEtOGJkYy0zNTk0YmRkODBjMjEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4MjdjNGM2Yi1jMzExLTE3NGQtYTgxZC0zZGUyN2JmMTgxYjAiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNWZiNzMxNi1hNDFiLTQyZTYtYmJiNy0yYTY2ODgxMzI1YTAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA1ZmI3MzE2LWE0MWItNDJlNi1iYmI3LTJhNjY4ODEzMjVhMCIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0yNFQxMTo1Nzo1NC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmQ3MjQ3ZjY2LTllZjItNDgzNy1hMGYzLWFmNzdmZDBjNDUxMyIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0yNFQxMjozNTo1My0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmIxMjNiMTdlLTAzNTMtNDhhYS04YmRjLTM1OTRiZGQ4MGMyMSIgc3RFdnQ6d2hlbj0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9Ws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",imageWidth:480,imageAlt:"Measurement Instruction",html:e.description})}),700)};const Fe=e=>{let t=document.querySelector("#webgazerVideoFeed");if(t)return Be(e,t,document.querySelector("#webgazerVideoCanvas"),document.querySelector("#webgazerVideoContainer"))},Be=(e,t,n,s,r=null)=>{r||t.captureStream&&(r=t.captureStream());let a=.3*window.innerWidth/parseInt(t.style.width)*parseInt(t.style.height);De.videoWidth=s.style.width,De.videoHeight=s.style.height,De.opacity=s.style.opacity;const i={height:Math.round(a)+"px",width:Math.round(window.innerWidth*Me)+"px",opacity:1,borderRadius:"15px"};Object.assign(s.style,i),e.isMobile.value?Object.assign(s.style,{right:Math.round(.5*window.innerWidth*(1-Me))+"px",top:Math.round(.5*(window.innerHeight-a))+"px"}):Object.assign(s.style,{left:Math.round(.5*window.innerWidth*(1-Me))+"px",bottom:Math.round(.5*(window.innerHeight-a))+"px"});const o={height:Math.round(a*Me/.3)+"px",width:Math.round(window.innerWidth*Me)+"px",top:Math.round(.6000000000000001*-a)+"px",transform:"scale(-2, 2)",transformOrigin:"center"};return Object.assign(t.style,o),De.video=e.gazeTracker.webgazer.params.showVideo,De.gaze=e.gazeTracker.webgazer.params.showGazeDot,De.faceOverlay=e.gazeTracker.webgazer.params.showFaceOverlay,De.video||e.showVideo(!0),De.gaze&&e.showGazer(!1),De.faceOverlay&&e.showFaceOverlay(!1),e.gazeTracker.webgazer.showFaceFeedbackBox(!1),[window.innerWidth*Me,a]};let ze=-100;const Le=(e,t,n,s)=>{const r=document.createElement("div");r.id="rc-ruler",Object.assign(r.style,{height:.9*(window.innerHeight-s)/2+"px",width:2*window.innerWidth+"px",left:.25*(window.innerWidth-n)+"px",bottom:0,backgroundColor:"#FFD523dd",borderRadius:"7px 0 0 0",boxSizing:"border-box",borderBottom:"5px solid #bb6600"}),e.background.appendChild(r);const a=document.createElement("div");a.id="rc-ruler-scales",r.appendChild(a);const i=2.54*(r.clientWidth-60)/t;for(let n=0;n<=10*(0,_.Nh)(i,1);n++){let s=document.createElement("div"),r=.1*n*t/2.54+"px";if(s.className="rc-ruler-scale "+(n%10==0?"rc-ruler-major":n%5==0?"rc-ruler-secondary":"rc-ruler-minor"),s.style.left=r,a.appendChild(s),n%10==0){let t=document.createElement("p");t.className="rc-ruler-scale-text",t.style.left=r,t.innerHTML=n/10,a.appendChild(t),0===n&&(t.style.color=e._CONST.COLOR.DARK_RED)}}let o=document.createElement("div");a.appendChild(o),o.outerHTML=D(),o=document.querySelector("#size-arrow"),o.setAttribute("preserveAspectRatio","none"),o.style.left="-100px",o.style.top="40px",document.getElementById("size-arrow-fill").setAttribute("fill",e._CONST.COLOR.DARK_RED);const l=e=>{o.style.left=(ze=e.offsetX-30)+"px";const t=e=>{o.style.left=(ze=e.offsetX-30)+"px"};r.addEventListener("mousemove",t),r.addEventListener("mouseup",(function e(){r.removeEventListener("mousemove",t),r.removeEventListener("mouseup",e)}))};return r.addEventListener("mousedown",l),[r,l]};function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}var Ve=/^\s+/,We=/\s+$/;function Ue(e,t){if(t=t||{},(e=e||"")instanceof Ue)return e;if(!(this instanceof Ue))return new Ue(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,s=null,r=null,a=null,i=!1,o=!1;"string"==typeof e&&(e=function(e){e=e.replace(Ve,"").replace(We,"").toLowerCase();var t,n=!1;if(at[e])e=at[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=bt.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=bt.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=bt.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=bt.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=bt.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=bt.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=bt.hex8.exec(e))return{r:ct(t[1]),g:ct(t[2]),b:ct(t[3]),a:ft(t[4]),format:n?"name":"hex8"};if(t=bt.hex6.exec(e))return{r:ct(t[1]),g:ct(t[2]),b:ct(t[3]),format:n?"name":"hex"};if(t=bt.hex4.exec(e))return{r:ct(t[1]+""+t[1]),g:ct(t[2]+""+t[2]),b:ct(t[3]+""+t[3]),a:ft(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=bt.hex3.exec(e))return{r:ct(t[1]+""+t[1]),g:ct(t[2]+""+t[2]),b:ct(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==Pe(e)&&(wt(e.r)&&wt(e.g)&&wt(e.b)?(t=function(e,t,n){return{r:255*lt(e,255),g:255*lt(t,255),b:255*lt(n,255)}}(e.r,e.g,e.b),i=!0,o="%"===String(e.r).substr(-1)?"prgb":"rgb"):wt(e.h)&&wt(e.s)&&wt(e.v)?(s=dt(e.s),r=dt(e.v),t=function(e,t,n){e=6*lt(e,360),t=lt(t,100),n=lt(n,100);var s=Math.floor(e),r=e-s,a=n*(1-t),i=n*(1-r*t),o=n*(1-(1-r)*t),l=s%6,u=[n,i,a,a,o,n][l],c=[o,n,n,i,a,a][l],h=[a,a,o,n,n,i][l];return{r:255*u,g:255*c,b:255*h}}(e.h,s,r),i=!0,o="hsv"):wt(e.h)&&wt(e.s)&&wt(e.l)&&(s=dt(e.s),a=dt(e.l),t=function(e,t,n){var s,r,a;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=lt(e,360),t=lt(t,100),n=lt(n,100),0===t)s=r=a=n;else{var o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;s=i(l,o,e+1/3),r=i(l,o,e),a=i(l,o,e-1/3)}return{r:255*s,g:255*r,b:255*a}}(e.h,s,a),i=!0,o="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=ot(n),{ok:i,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function Ge(e,t,n){e=lt(e,255),t=lt(t,255),n=lt(n,255);var s,r,a=Math.max(e,t,n),i=Math.min(e,t,n),o=(a+i)/2;if(a==i)s=r=0;else{var l=a-i;switch(r=o>.5?l/(2-a-i):l/(a+i),a){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:r,l:o}}function qe(e,t,n){e=lt(e,255),t=lt(t,255),n=lt(n,255);var s,r,a=Math.max(e,t,n),i=Math.min(e,t,n),o=a,l=a-i;if(r=0===a?0:l/a,a==i)s=0;else{switch(a){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:r,v:o}}function je(e,t,n,s){var r=[ht(Math.round(e).toString(16)),ht(Math.round(t).toString(16)),ht(Math.round(n).toString(16))];return s&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function He(e,t,n,s){return[ht(pt(s)),ht(Math.round(e).toString(16)),ht(Math.round(t).toString(16)),ht(Math.round(n).toString(16))].join("")}function $e(e,t){t=0===t?0:t||10;var n=Ue(e).toHsl();return n.s-=t/100,n.s=ut(n.s),Ue(n)}function Ke(e,t){t=0===t?0:t||10;var n=Ue(e).toHsl();return n.s+=t/100,n.s=ut(n.s),Ue(n)}function Xe(e){return Ue(e).desaturate(100)}function Ze(e,t){t=0===t?0:t||10;var n=Ue(e).toHsl();return n.l+=t/100,n.l=ut(n.l),Ue(n)}function Ye(e,t){t=0===t?0:t||10;var n=Ue(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),Ue(n)}function Qe(e,t){t=0===t?0:t||10;var n=Ue(e).toHsl();return n.l-=t/100,n.l=ut(n.l),Ue(n)}function Je(e,t){var n=Ue(e).toHsl(),s=(n.h+t)%360;return n.h=s<0?360+s:s,Ue(n)}function et(e){var t=Ue(e).toHsl();return t.h=(t.h+180)%360,Ue(t)}function tt(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ue(e).toHsl(),s=[Ue(e)],r=360/t,a=1;a<t;a++)s.push(Ue({h:(n.h+a*r)%360,s:n.s,l:n.l}));return s}function nt(e){var t=Ue(e).toHsl(),n=t.h;return[Ue(e),Ue({h:(n+72)%360,s:t.s,l:t.l}),Ue({h:(n+216)%360,s:t.s,l:t.l})]}function st(e,t,n){t=t||6,n=n||30;var s=Ue(e).toHsl(),r=360/n,a=[Ue(e)];for(s.h=(s.h-(r*t>>1)+720)%360;--t;)s.h=(s.h+r)%360,a.push(Ue(s));return a}function rt(e,t){t=t||6;for(var n=Ue(e).toHsv(),s=n.h,r=n.s,a=n.v,i=[],o=1/t;t--;)i.push(Ue({h:s,s:r,v:a})),a=(a+o)%1;return i}Ue.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=ot(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=qe(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=qe(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),s=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+s+"%)":"hsva("+t+", "+n+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=Ge(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Ge(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),s=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+s+"%)":"hsla("+t+", "+n+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return je(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,s,r){var a=[ht(Math.round(e).toString(16)),ht(Math.round(t).toString(16)),ht(Math.round(n).toString(16)),ht(pt(s))];if(r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*lt(this._r,255))+"%",g:Math.round(100*lt(this._g,255))+"%",b:Math.round(100*lt(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*lt(this._r,255))+"%, "+Math.round(100*lt(this._g,255))+"%, "+Math.round(100*lt(this._b,255))+"%)":"rgba("+Math.round(100*lt(this._r,255))+"%, "+Math.round(100*lt(this._g,255))+"%, "+Math.round(100*lt(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(it[je(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+He(this._r,this._g,this._b,this._a),n=t,s=this._gradientType?"GradientType = 1, ":"";if(e){var r=Ue(e);n="#"+He(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,s=this._a<1&&this._a>=0;return t||!s||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Ue(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Ze,arguments)},brighten:function(){return this._applyModification(Ye,arguments)},darken:function(){return this._applyModification(Qe,arguments)},desaturate:function(){return this._applyModification($e,arguments)},saturate:function(){return this._applyModification(Ke,arguments)},greyscale:function(){return this._applyModification(Xe,arguments)},spin:function(){return this._applyModification(Je,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(st,arguments)},complement:function(){return this._applyCombination(et,arguments)},monochromatic:function(){return this._applyCombination(rt,arguments)},splitcomplement:function(){return this._applyCombination(nt,arguments)},triad:function(){return this._applyCombination(tt,[3])},tetrad:function(){return this._applyCombination(tt,[4])}},Ue.fromRatio=function(e,t){if("object"==Pe(e)){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]="a"===s?e[s]:dt(e[s]));e=n}return Ue(e,t)},Ue.equals=function(e,t){return!(!e||!t)&&Ue(e).toRgbString()==Ue(t).toRgbString()},Ue.random=function(){return Ue.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Ue.mix=function(e,t,n){n=0===n?0:n||50;var s=Ue(e).toRgb(),r=Ue(t).toRgb(),a=n/100;return Ue({r:(r.r-s.r)*a+s.r,g:(r.g-s.g)*a+s.g,b:(r.b-s.b)*a+s.b,a:(r.a-s.a)*a+s.a})},Ue.readability=function(e,t){var n=Ue(e),s=Ue(t);return(Math.max(n.getLuminance(),s.getLuminance())+.05)/(Math.min(n.getLuminance(),s.getLuminance())+.05)},Ue.isReadable=function(e,t,n){var s,r,a=Ue.readability(e,t);switch(r=!1,(s=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+s.size){case"AAsmall":case"AAAlarge":r=a>=4.5;break;case"AAlarge":r=a>=3;break;case"AAAsmall":r=a>=7}return r},Ue.mostReadable=function(e,t,n){var s,r,a,i,o=null,l=0;r=(n=n||{}).includeFallbackColors,a=n.level,i=n.size;for(var u=0;u<t.length;u++)(s=Ue.readability(e,t[u]))>l&&(l=s,o=Ue(t[u]));return Ue.isReadable(e,o,{level:a,size:i})||!r?o:(n.includeFallbackColors=!1,Ue.mostReadable(e,["#fff","#000"],n))};var at=Ue.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},it=Ue.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(at);function ot(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function lt(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function ut(e){return Math.min(1,Math.max(0,e))}function ct(e){return parseInt(e,16)}function ht(e){return 1==e.length?"0"+e:""+e}function dt(e){return e<=1&&(e=100*e+"%"),e}function pt(e){return Math.round(255*parseFloat(e)).toString(16)}function ft(e){return ct(e)/255}var mt,gt,yt,bt=(gt="[\\s|\\(]+("+(mt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+mt+")[,|\\s]+("+mt+")\\s*\\)?",yt="[\\s|\\(]+("+mt+")[,|\\s]+("+mt+")[,|\\s]+("+mt+")[,|\\s]+("+mt+")\\s*\\)?",{CSS_UNIT:new RegExp(mt),rgb:new RegExp("rgb"+gt),rgba:new RegExp("rgba"+yt),hsl:new RegExp("hsl"+gt),hsla:new RegExp("hsla"+yt),hsv:new RegExp("hsv"+gt),hsva:new RegExp("hsva"+yt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function wt(e){return!!bt.CSS_UNIT.exec(e)}var vt=__webpack_require__(782);const xt=e=>e/2.54,At={video:!1,gazer:!1};function kt(e,t){e.background?e._replaceBackground((0,_.$O)(t.headline,t.description)):e._addBackground((0,_.$O)(t.headline,t.description)),e._constructFloatInstructionElement("gaze-system-instruction",U.H.RC_starting[e.L])}E.A.prototype.calibrateGaze=function(e={},t){if(!this.gazeTracker.checkInitialized("gaze",!0))return;(0,_.$k)(),(e=Object.assign({greedyLearner:!1,calibrationCount:1,headline:"👀 "+U.H.RC_gazeTrackingTitle[this.L],description:U.H.RC_gazeTrackingIntro[this.L]},e)).nudge=!1,At.video=this.gazeTracker.webgazer.params.showVideo,At.gazer=this.gazeTracker.webgazer.params.showGazeDot,At.video||this.showVideo(!0),At.gazer||this.showGazer(!0),this.gazeTracker.webgazer.params.greedyLearner=e.greedyLearner,kt(this,e);const n=Ct(this,e,(()=>{this._removeBackground(),(0,V.l)(s),(0,_.nB)(t,{timestamp:performance.now()})})),s=(0,V.m)({Escape:()=>{n.deleteSelf(!1),this._removeBackground(),this.showVideo(At.video),this.showGazer(At.gazer),At.video=!1,At.gazer=!1,this._trackingSetupFinishedStatus.gaze||(this._trackingSetupFinishedStatus.gaze=!0,this.endGaze()),(0,V.l)(s)}})};const Ct=(e,t,n)=>(e._removeFloatInstructionElement(),new St(e,document.body,t,At,n));class St{constructor(e,t,n,s,r){this._sequentialOrder(n.nudge),this.nudge=n.nudge,this.RC=e,this.clickThresholdBase=vt.Y?1:n.calibrationCount,this.clicks=0,this.position=this.order.shift(),this.clickThreshold=this.clickThresholdBase,this.r=this.RC._CONST.N.GAZE_CALIBRATION.R,this.div=document.createElement("div");const a=document.createElement("div"),i=document.createElement("div");this.div.className="rc-crosshair",this.div.id="rc-crosshair",a.className="rc-crosshair-component rc-crosshair-vertical",i.className="rc-crosshair-component rc-crosshair-horizontal",i.style.height=a.style.width=`${ee}px`,i.style.width=a.style.height=`${J}px`,this.div.style.background=e.params.backgroundColor;const o=Ue(e.params.backgroundColor).toRgb();return this.div.style.background=`rgba(${o.r}, ${o.g}, ${o.b}, 0.75)`,this.div.appendChild(a),this.div.appendChild(i),this.parent=t,this.parent.appendChild(this.div),this.placeDot(),this.handleClick=this.takeClick.bind(this),this.div.addEventListener("click",this.handleClick,!1),this.originalStyles=s,this.endCalibrationCallback=r,this.div}placeDot(){Object.assign(this.div.style,[{left:this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px)`,right:"unset"},{left:window.innerWidth-this.RC._CONST.N.GAZE_CALIBRATION.R-this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerWidth)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerWidth)}px)`,right:"unset"}][this.position[0]],[{top:this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px)`,bottom:"unset"},{top:window.innerHeight-this.RC._CONST.N.GAZE_CALIBRATION.R-this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerHeight)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerHeight)}px)`,bottom:"unset"}][this.position[1]])}takeClick(e){if(this.clickAtCenter(e)){this.clicks++,this.clicks>=this.clickThreshold&&(this.order.length?(this.position=this.order.shift(),this.clickThreshold=this.clickThresholdBase,this.placeDot(),this.clicks=0):this.deleteSelf(!0));let e=document.querySelectorAll(".leader-line");e&&e.forEach((e=>e.style.opacity=0))}}deleteSelf(e=!0){this.div.removeEventListener("click",this.handleClick,!1),this.parent.removeChild(this.div),e&&(this.nudge||this.RC.showVideo(this.originalStyles.video),this.nudge||(this.originalStyles.video=!1),this.RC.showGazer(this.originalStyles.gazer),this.originalStyles.gazer=!1,(0,_.nB)(this.endCalibrationCallback),this.nudge||(this.RC._trackingSetupFinishedStatus.gaze=!0))}clickAtCenter(e){const{x:t,y:n}=(0,_.KY)(e),{left:s,top:r,right:a,bottom:i}=this.div.getBoundingClientRect(),o=(s+a)/2,l=(r+i)/2;return t>=o-5&&t<=o+5&&n>=l-5&&n<=l+5}_randomOrder(){this.order=[];for(let e of[0,1,2])for(let t of[0,1,2])this.order.push([e,t]);(0,_.k4)(this.order)}_sequentialOrder(e=!1){this.order=e?[[1,1],[1,3],[4,1],[1,4],[3,1],[1,1],[1,4],[4,1],[1,3],[3,1],[1,1]]:vt.Y?[[0,0],[2,0],[2,2],[0,2],[1,1]]:[[1,1],[1,0],[2,0],[2,1],[2,2],[1,2],[0,2],[0,1],[0,0],[1,1],[1,2],[2,2],[2,1],[2,0],[1,0],[0,0],[0,1],[0,2],[1,1],[1,5],[6,5],[6,1],[6,6],[1,6],[5,6],[5,1],[5,5],[1,1],[1,6],[6,6],[6,1],[6,5],[1,5],[5,5],[5,1],[5,6],[1,1],[1,4],[4,1],[1,3],[3,1],[1,1],[1,3],[4,1],[1,4],[3,1],[1,1]]}getOffsetPx(e,t=null){const n=(s=e,r=this.RC.screenPpi?this.RC.screenPpi.value:this.RC._CONST.N.PPI_DONT_USE,a=this.RC.viewingDistanceCm?this.RC.viewingDistanceCm.value:this.RC._CONST.N.VIEW_DIST_DONT_USE,xt(r)*a*Math.tan(s*(Math.PI/180)));var s,r,a;return t?Math.min(n,t):n}}E.A.prototype.trackGaze=async function(e={},t=null,n=null){if(!this.checkInitialized())return;if((0,_.$k)(),e=Object.assign({fullscreen:!1,greedyLearner:!1,framerate:60,showGazer:!0,showVideo:!0,pipWidthPx:this._CONST.N.VIDEO_W[this.isMobile.value?"MOBILE":"DESKTOP"],showFaceOverlay:!1,calibrationCount:1,thresholdDeg:10,decimalPlace:0,headline:"👀 "+U.H.RC_gazeTrackingTitle[this.L],description:U.H.RC_gazeTrackingIntro[this.L]},e),this.getFullscreen(e.fullscreen),this.gazeTracker.checkInitialized("gaze"))return this.gazeTracker._toFixedN=e.decimalPlace,this.showGazer(e.showGazer),this.showVideo(e.showVideo),this.showFaceOverlay(e.showFaceOverlay),this.gazeTracker.attachNewCallback(n),void(this.gazeTracker.defaultGazeCallback=n);this._addBackground(),await de(this),this.gazeTracker._init({greedyLearner:e.greedyLearner,framerate:e.framerate,toFixedN:e.decimalPlace,showVideo:e.showVideo,showFaceOverlay:e.showFaceOverlay,showGazer:e.showGazer},"gaze"),kt(this,e);const s={pipWidthPx:e.pipWidthPx},r={greedyLearner:e.greedyLearner,calibrationCount:e.calibrationCount,headline:e.headline,description:e.description};this.gazeTracker.begin(s,(()=>{this._trackingSetupFinishedStatus.gaze=!1,this.calibrateGaze(r,a)}));const a=s=>{(0,_.nB)(t,s),this.gazeTracker.webgazer.params.greedyLearner||this.gazeTracker.stopLearning({click:!0,move:!0});return e.thresholdDeg,this.gazeTracker.attachNewCallback(n),void(this.gazeTracker.defaultGazeCallback=n)}},E.A.prototype.getGazeNow=async function(e={},t=null){if(!(this.checkInitialized()&&this.gazeTracker.checkInitialized("gaze",!0)&&this.gazeTracker.webgazer.params.paused&&this._trackingPaused.gaze))return;e=Object.assign({wait:0,frames:5},e);let n=t||this.gazeTracker.defaultGazeCallback;return await this.gazeTracker.getGazeNow(e,n)},E.A.prototype.pauseGaze=function(){!this.gazeTracker.checkInitialized("gaze",!0)&&this._trackingPaused.gaze||(this._trackingPaused.gaze=!0,this.gazeTracker.pause())},E.A.prototype.resumeGaze=function(){(this.gazeTracker.checkInitialized("gaze",!0)||this._trackingPaused.gaze)&&(this._trackingPaused.gaze=!1,this.gazeTracker.resume())},E.A.prototype.endGaze=function(e=!1){this.gazeTracker.checkInitialized("gaze",!0)&&(this._trackingPaused.gaze=!1,this.gazeTracker.end("gaze",e))},E.A.prototype.gazeLearning=function(e=!0,t){t=Object.assign({click:!0,move:!0},t),e?this.gazeTracker.startLearning(t):this.gazeTracker.stopLearning(t)},E.A.prototype.showGazer=function(e=!0){this.gazeTracker.checkInitialized("gaze",!1)&&this.gazeTracker.showGazer(e)},E.A.prototype.showVideo=function(e=!0){this.gazeTracker.checkInitialized("",!1)&&this.gazeTracker.showVideo(e)},E.A.prototype.showFaceOverlay=function(e=!0){this.gazeTracker.checkInitialized("gaze",!1)&&this.gazeTracker.showFaceOverlay(e)};var Et=__webpack_require__(7158),_t=__webpack_require__.n(Et);const It={gazer:!1,gazeLearning:!1,gazePaused:!1},Tt={current:null};E.A.prototype.nudgeGaze=function(e={},t){if(!this.checkInitialized()||!this.gazeTracker.checkInitialized("gaze",!0))return;if(e=Object.assign({showOffset:!0},e),this._gazeTrackNudging.isCorrectingGaze)return;this._gazeTrackNudging.isCorrectingGaze=!0;let n=document.getElementById("gaze-nudger");n||(n=document.createElement("div"),n.id="gaze-nudger",n.className=`gaze-nudger rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(n),n.style.background=this.params.backgroundColor);const s=`<p class="float-instruction gaze-nudge-instruction" id="float-instruction">${U.H.RC_gazeTrackingNudge[this.L]}</p>`;n.innerHTML+=s;const r=Nt(this,n,t);if(this._nudger.gazeElement=n,e.showOffset){const e=document.createElement("div");e.id="fake-gaze-dot",e.style.position="absolute",e.style.left=this.gazePositionPx.value.x-5+"px",e.style.top=this.gazePositionPx.value.y-5+"px",e.style.width="10px",e.style.height="10px",e.style.borderRadius="50%",e.style.background="transparent",e.style.zIndex="9999999999",document.body.appendChild(e),Tt.current=new(_t())(_t().pointAnchor(e,{x:"50%",y:"50%"}),_t().pointAnchor(r,{x:"50%",y:"50%"}),{path:"straight",color:this._CONST.COLOR.DARK_RED,startPlug:"disc"});const t=document.querySelector(".leader-line");t.style.zIndex=9999999999,t.style.opacity=.7,t.style.transitionDuration="0.2s"}It.gazePaused=this._trackingPaused.gaze,It.gazer=this.gazeTracker.webgazer.params.showGazeDot,It.gazeLearning=this.gazeTracker._learning,It.gazePaused&&this.resumeGaze(),It.gazer||this.showGazer(!0),It.gazeLearning||this.gazeLearning(!0,{click:!0,move:!1})};const Nt=(e,t,n)=>new St(e,t,{greedyLearner:!1,calibrationCount:1,nudge:!0},It,(()=>{t.remove(),t=null,e._nudgerElement=null,document.body.classList.remove("lock-view"),It.gazePaused&&e.pauseGaze(),It.gazePaused=!1,Tt.current&&(Tt.current.remove(),Tt.current=null),e._gazeTrackNudging.isCorrectingGaze=!1,(0,_.nB)(n)}));var Ot=__webpack_require__(4948),Rt=__webpack_require__.n(Ot);let Dt=!1;E.A.prototype.getGazeAccuracy=function(e={},t,n){if(!this.checkInitialized())return!1;(0,_.$k)();const s=this.screenPpi,r=this.viewingDistanceCm;if(!s||!r)return!1;e=Object.assign({backgroundColor:"#eee",thresholdDeg:10,decimalPlace:3},e),this._addBackground();const a=document.createElement("div");a.innerHTML='<canvas id="gaze-accuracy-canvas"></canvas>',this.background.appendChild(a);const i=document.querySelector("#gaze-accuracy-canvas"),o=i.getContext("2d"),l=()=>{i.style.width=(i.width=window.innerWidth)+"px",i.style.height=(i.height=window.innerHeight)+"px"},u=new ResizeObserver((()=>{l()}));return u.observe(this.background),l(),Rt().fire({...ae(this,{showIcon:!0}),html:"We will measure your gaze accuracy. Please do not move the mouse and look at the fixation at the middle of the screen for the next 5 seconds."}).then((()=>{Dt=!0,Mt(i,o,e),this.gazeTracker.startStoringPoints(),(0,_.yy)(5e3).then((()=>{Dt=!1,this.gazeTracker.stopStoringPoints();const a=this.gazeTracker.webgazer.getStoredPoints(),l=Ft({x:i.width/2,y:i.height/2},a,s.value,r.value);this.newGazeAccuracyData={value:(0,_.Nh)(l,e.decimalPlace),timestamp:performance.now()},l<e.thresholdDeg?(0,_.nB)(t):(0,_.nB)(n),o.clearRect(0,0,i.width,i.height),u.unobserve(this.background),this._removeBackground()}))})),!0};const Mt=(e,t,n)=>{const s=()=>{t.fillStyle=n.backgroundColor,t.fillRect(0,0,e.width,e.height),ne(t,e.width/2,e.height/2),Dt&&requestAnimationFrame(s)};requestAnimationFrame(s)},Ft=(e,t,n,s)=>{let r=0;for(let a=0;a<t[0].length;a++){t[0][a]-=e.x,t[1][a]-=e.y;let i=2.54*Math.sqrt(Math.pow(t[0][a],2),Math.pow(t[1][a],2))/n;r+=180*Math.atan(i/s)/Math.PI}return r/=t[0].length,r};class Bt{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class zt{refCount(e){return Lt("refCount")}incRef(e){return Lt("incRef")}timerAvailable(){return!0}time(e){return Lt("time")}read(e){return Lt("read")}readSync(e){return Lt("readSync")}readToGPU(e,t){return Lt("readToGPU")}numDataIds(){return Lt("numDataIds")}disposeData(e,t){return Lt("disposeData")}write(e,t,n){return Lt("write")}move(e,t,n,s,r){return Lt("move")}createTensorFromGPUData(e,t,n){return Lt("createTensorFromGPUData")}memory(){return Lt("memory")}floatPrecision(){return Lt("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return Lt("dispose")}}function Lt(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Pt(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,Ut(e,t,n)}function Vt(e,t,n){return Math.max(e,Math.min(t,n))}function Wt(e){return e%2==0?e:e+1}function Ut(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function Gt(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function qt(e,t,n=""){Gt($t(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function jt(e){Gt(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function Ht(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function $t(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Kt(e){return e%1==0}function Xt(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Zt(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Yt(e,t=(e=>0),n,s){return new Promise(((r,a)=>{let i=0;const o=()=>{if(e())return void r();i++;const l=t(i);null!=n&&i>=n?a():null!=s?s(o,l):setTimeout(o,l)};o()}))}function Qt(e,t){let n=1,s=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==s)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${s} and dim ${t}`);s=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===s){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const r=e.slice();return r[s]=t/n,r}function Jt(e,t){const n=t.length;return Gt((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),Gt(e.every((e=>Kt(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function en(e,t){const n=[],s=[],r=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||r?null:Jt(t,e).sort();let i=0;for(let t=0;t<e.length;++t){if(null!=a){if(a[i]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==a[i]||a[i]>t)&&1===e[t]&&(n.push(e[t]),s.push(t)),a[i]<=t&&i++}1!==e[t]&&(n.push(e[t]),s.push(t))}return{newShape:n,keptDims:s}}function tn(e,t){return nn(e,t)}function nn(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function sn(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function rn(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function an(e){return"string"==typeof e||e instanceof String}function on(e){return"number"==typeof e}function ln(e){return Array.isArray(e)?ln(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":on(e)?"float32":an(e)?"string":"boolean"==typeof e?"bool":"float32"}function un(e){return!!(e&&e.constructor&&e.call&&e.apply)}function cn(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function hn(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let s=t-3;s>=0;--s)n[s]=n[s+1]*e[s+1];return n}function dn(e,t,n,s=!1){const r=new Array;if(1===t.length){const a=t[0]*(s?2:1);for(let t=0;t<a;t++)r[t]=n[e+t]}else{const a=t[0],i=t.slice(1),o=i.reduce(((e,t)=>e*t))*(s?2:1);for(let t=0;t<a;t++)r[t]=dn(e+t*o,i,n,s)}return r}function pn(e,t,n=!1){if(0===e.length)return t[0];const s=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===s)return[];if(s!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return dn(0,e,t,n)}function fn(e,t){const n=mn(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function mn(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function gn(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return pn(e,new Float32Array(n));if("int32"===t)return pn(e,new Int32Array(n));if("bool"===t)return pn(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function yn(e){e.forEach((t=>{Gt(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function bn(e,t,n){if(0===t)return 0;if(1===t)return e[0];let s=e[e.length-1];for(let t=0;t<e.length-1;++t)s+=n[t]*e[t];return s}function wn(e,t,n){if(0===t)return[];if(1===t)return[e];const s=new Array(t);for(let t=0;t<s.length-1;++t)s[t]=Math.floor(e/n[t]),e-=s[t]*n[t];return s[s.length-1]=e,s}function vn(e){return e&&e.then&&"function"==typeof e.then}const xn="tfjsflags";class An{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=kn,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&!Cn().getBool("IS_TEST")&&Cn().getBool("PROD"),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];!Cn().getBool("IS_TEST")&&Cn().getBool("PROD"),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(vn(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(xn in e){e[xn].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}}function kn(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function Cn(){return En}let Sn,En=null;function _n(){if(null==Sn){let e;if("undefined"!=typeof window)e=window;else if(void 0!==__webpack_require__.g)e=__webpack_require__.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Sn=e}return Sn}function In(e,t){const n=function(){const e=_n();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const s=t();return n.set(e,s),n.get(e)}}const Tn="Abs",Nn="Acos",On="Acosh",Rn="Add",Dn="AddN",Mn="All",Fn="Any",Bn="ArgMax",zn="ArgMin",Ln="Asin",Pn="Asinh",Vn="Atan",Wn="Atanh",Un="Atan2",Gn="AvgPool",qn="AvgPoolGrad",jn="AvgPool3D",Hn="AvgPool3DGrad",$n="BatchMatMul",Kn="BatchToSpaceND",Xn="Bincount",Zn="BitwiseAnd",Yn="BroadcastArgs",Qn="Cast",Jn="Ceil",es="ClipByValue",ts="Complex",ns="ComplexAbs",ss="Concat",rs="Conv2D",as="Conv2DBackpropFilter",is="Conv2DBackpropInput",os="Conv3D",ls="Conv3DBackpropFilterV2",us="Conv3DBackpropInputV2",cs="Cos",hs="Cosh",ds="Cumprod",ps="Cumsum",fs="CropAndResize",ms="DenseBincount",gs="DepthToSpace",ys="DepthwiseConv2dNative",bs="DepthwiseConv2dNativeBackpropFilter",ws="DepthwiseConv2dNativeBackpropInput",vs="Diag",xs="Dilation2D",As="Dilation2DBackpropInput",ks="Dilation2DBackpropFilter",Cs="Draw",Ss="RealDiv",Es="Einsum",_s="Elu",Is="EluGrad",Ts="Erf",Ns="Equal",Os="Exp",Rs="ExpandDims",Ds="Expm1",Ms="FFT",Fs="Fill",Bs="FlipLeftRight",zs="Floor",Ls="FloorDiv",Ps="FusedBatchNorm",Vs="GatherV2",Ws="GatherNd",Us="Greater",Gs="GreaterEqual",qs="Identity",js="IFFT",Hs="Imag",$s="IsFinite",Ks="IsInf",Xs="IsNan",Zs="LeakyRelu",Ys="Less",Qs="LessEqual",Js="LinSpace",er="Log",tr="Log1p",nr="LogicalAnd",sr="LogicalNot",rr="LogicalOr",ar="LRN",ir="LRNGrad",or="Max",lr="Maximum",ur="MaxPool",cr="MaxPoolGrad",hr="MaxPool3D",dr="MaxPool3DGrad",pr="MaxPoolWithArgmax",fr="Mean",mr="Min",gr="Minimum",yr="MirrorPad",br="Mod",wr="Multinomial",vr="Multiply",xr="Neg",Ar="NotEqual",kr="NonMaxSuppressionV3",Cr="NonMaxSuppressionV4",Sr="NonMaxSuppressionV5",Er="OnesLike",_r="OneHot",Ir="Pack",Tr="PadV2",Nr="Pow",Or="Prelu",Rr="Prod",Dr="RaggedGather",Mr="RaggedRange",Fr="RaggedTensorToTensor",Br="Range",zr="Real",Lr="Reciprocal",Pr="Relu",Vr="Reshape",Wr="ResizeNearestNeighbor",Ur="ResizeNearestNeighborGrad",Gr="ResizeBilinear",qr="ResizeBilinearGrad",jr="Relu6",Hr="Reverse",$r="Round",Kr="Rsqrt",Xr="ScatterNd",Zr="TensorScatterUpdate",Yr="SearchSorted",Qr="Select",Jr="Selu",ea="Slice",ta="Sin",na="Sinh",sa="Sign",ra="Sigmoid",aa="Softplus",ia="Sqrt",oa="Sum",la="SpaceToBatchND",ua="SplitV",ca="Softmax",ha="SparseFillEmptyRows",da="SparseReshape",pa="SparseSegmentMean",fa="SparseSegmentSum",ma="SparseToDense",ga="SquaredDifference",ya="Square",ba="StaticRegexReplace",wa="StridedSlice",va="StringNGrams",xa="StringSplit",Aa="StringToHashBucketFast",ka="Sub",Ca="Tan",Sa="Tanh",Ea="Tile",_a="TopK",Ia="Transform",Ta="Transpose",Na="Unique",Oa="Unpack",Ra="UnsortedSegmentSum",Da="ZerosLike",Ma="Step",Fa="FromPixels",Ba="RotateWithOffset",za="_FusedMatMul",La="FusedConv2D",Pa="FusedDepthwiseConv2D";function Va(...e){!Cn().getBool("IS_TEST")&&Cn().getBool("PROD")}function Wa(...e){!Cn().getBool("IS_TEST")&&Cn().getBool("PROD")}const Ua=In("kernelRegistry",(()=>new Map)),Ga=In("gradRegistry",(()=>new Map));function qa(e,t){const n=Xa(e,t);return Ua.get(n)}function ja(e){return Ga.get(e)}function Ha(e){const t=Ua.entries(),n=[];for(;;){const{done:s,value:r}=t.next();if(s)break;const[a,i]=r,[o]=a.split("_");o===e&&n.push(i)}return n}function $a(e){const{kernelName:t,backendName:n}=e,s=Xa(t,n);Ua.has(s)&&Va(),Ua.set(s,e)}function Ka(e){const{kernelName:t}=e;Ga.has(t)&&Cn().getBool("DEBUG")&&Va(),Ga.set(t,e)}function Xa(e,t){return`${t}_${e}`}function Za(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var Ya=__webpack_require__(3122);const Qa=__webpack_require__.n(Ya)()||Ya;function Ja(e){return Qa.fromString(e,!0,16)}const ei=Ja("c3a5c85c97cb3127"),ti=Ja("b492b66fbe98f273"),ni=Ja("9ae16a3b2f90404f");function si(e){return e.xor(e.shru(47))}function ri(e,t,n){const s=e.slice(t,t+n);return Qa.fromBytes(Array.from(s),!0,!0)}function ai(e,t){return ri(e,t,8)}function ii(e,t){return ri(e,t,4)}function oi(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function li(e,t,n=Ja("9ddfea08eb382d69")){let s=e.xor(t).mul(n);s=s.xor(s.shru(47));let r=t.xor(s).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function ui(e,t,n,s){return function(e,t,n,s,r,a){r=r.add(e),a=oi(a.add(r).add(s),21);const i=r;return r=(r=r.add(t)).add(n),a=a.add(oi(r,44)),[r.add(s),a.add(i)]}(ai(e,t),ai(e,t+8),ai(e,t+16),ai(e,t+24),n,s)}function ci(e,t=e.length){const n=Qa.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=ni.add(2*t),s=ai(e,0).add(ni),r=ai(e,t-8);return li(oi(r,37).mul(n).add(s),oi(s,25).add(r).mul(n),n)}if(t>=4){const n=ni.add(2*t);return li(ii(e,0).shl(3).add(t),ii(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),s=t+(e[t-1]<<2);return si(ni.mul(n).xor(ei.mul(s))).mul(ni)}return ni}(e,t):function(e,t=e.length){const n=ni.add(2*t),s=ai(e,0).mul(ti),r=ai(e,8),a=ai(e,t-8).mul(n),i=ai(e,t-16).mul(ni);return li(oi(s.add(r),43).add(oi(a,30)).add(i),s.add(oi(r.add(ni),18)).add(a),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=ni.add(2*t),s=ai(e,0).mul(ni),r=ai(e,8),a=ai(e,t-8).mul(n),i=ai(e,t-16).mul(ni),o=oi(s.add(r),43).add(oi(a,30)).add(i),l=li(o,s.add(oi(r.add(ni),18)).add(a),n),u=ai(e,16).mul(n),c=ai(e,24),h=o.add(ai(e,t-32)).mul(n),d=l.add(ai(e,t-24)).mul(n);return li(oi(u.add(c),43).add(oi(h,30)).add(d),u.add(oi(c.add(s),18)).add(h),n)}(e,t);let s=n,r=n.mul(ti).add(113),a=si(r.mul(ni).add(113)).mul(ni),i=[Qa.UZERO,Qa.UZERO],o=[Qa.UZERO,Qa.UZERO];s=s.mul(ni).add(ai(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{s=oi(s.add(r).add(i[0]).add(ai(e,l+8)),37).mul(ti),r=oi(r.add(i[1]).add(ai(e,l+48)),42).mul(ti),s=s.xor(o[1]),r=r.add(i[0]).add(ai(e,l+40)),a=oi(a.add(o[0]),33).mul(ti),i=ui(e,l,i[1].mul(ti),s.add(o[0])),o=ui(e,l+32,a.add(o[1]),r.add(ai(e,l+16))),[a,s]=[s,a],l+=64}while(l!==u);const h=ti.add(a.and(255).shl(1));return l=c,o[0]=o[0].add(t-1&63),i[0]=i[0].add(o[0]),o[0]=o[0].add(i[0]),s=oi(s.add(r).add(i[0]).add(ai(e,l+8)),37).mul(h),r=oi(r.add(i[1]).add(ai(e,l+48)),42).mul(h),s=s.xor(o[1].mul(9)),r=r.add(i[0].mul(9).add(ai(e,l+40))),a=oi(a.add(o[0]),33).mul(h),i=ui(e,l,i[1].mul(h),s.add(o[0])),o=ui(e,l+32,a.add(o[1]),r.add(ai(e,l+16))),[a,s]=[s,a],li(li(i[0],o[0],h).add(si(r).mul(ei)).add(a),li(i[1],o[1],h).add(s),h)}function hi(e,t){return"string"===t?fi(e):di([e],t)}function di(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=yi(e)),Cn().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const s=e[n];if(isNaN(s)||!isFinite(s))throw Error(`A tensor of type ${t} being uploaded contains ${s}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function pi(){return Cn().platform.now()}function fi(e,t="utf-8"){return t=t||"utf-8",Cn().platform.encode(e,t)}function mi(e,t="utf-8"){return t=t||"utf-8",Cn().platform.decode(e,t)}function gi(e){return null!=Cn().platform.isTypedArray?Cn().platform.isTypedArray(e):Za(e)}function yi(e,t=[],n=!1){if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||vn(e)||null==e||gi(e)&&n)t.push(e);else if(Array.isArray(e)||gi(e))for(let s=0;s<e.length;++s)yi(e[s],t,n);else{let s=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(s=Math.max(s,Number(t)));for(let r=0;r<=s;r++)yi(e[r],t,n)}return t}class bi{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new vi)}profileKernel(e,t,n){let s;const r=()=>{s=n()};let a;const i=pi();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(r);else{r();for(const e of s)e.dataSync();a=Promise.resolve({kernelMs:pi()-i})}if(Cn().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<s.length;t++){const n=s[t];n.data().then((t=>{wi(t,n.dtype,e)}))}return{kernelName:e,outputs:s,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:s,inputs:r,extraInfo:a}=e;n.forEach((e=>{Promise.all([e.data(),s,a]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],r,n[2])}))}))}}function wi(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(isNaN(n)||!isFinite(n))return!0}return!1}class vi{logKernelProfile(e,t,n,s,r,a){"number"==typeof s?Zt(`${s}ms`,9):s.error,Zt(e,25),t.rank,t.size,Zt(t.shape.toString(),14);let i="";for(const e in r){const n=r[e];if(null!=n){const s=n.shape||t.shape,r=s.length;i+=`${e}: ${r}D ${r>0?s:""} `}}}}const xi=20,Ai=3,ki=7;function Ci(e,t,n,s){const r=hn(t),a=function(e,t,n,s){const r=Ht(t),a=s[s.length-1],i=new Array(a).fill(0),o=t.length,l="complex64"===n?Ii(e):e;if(o>1)for(let e=0;e<r/a;e++){const t=e*a;for(let e=0;e<a;e++)i[e]=Math.max(i[e],Si(l[t+e],0,n).length)}return i}(e,t,n,r),i=t.length,o=_i(e,t,n,r,a),l=["Tensor"];return s&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map((e=>"    "+e)).join("\n")),l.join("\n")}function Si(e,t,n){let s;return s=Array.isArray(e)?`${parseFloat(e[0].toFixed(ki))} + ${parseFloat(e[1].toFixed(ki))}j`:an(e)?`'${e}'`:"bool"===n?Ei(e):parseFloat(e.toFixed(ki)).toString(),Zt(s,t)}function Ei(e){return 0===e?"false":"true"}function _i(e,t,n,s,r,a=!0){const i="complex64"===n?2:1,o=t[0],l=t.length;if(0===l){if("complex64"===n){return[Si(Ii(e)[0],0,n)]}return"bool"===n?[Ei(e[0])]:[e[0].toString()]}if(1===l){if(o>xi){const t=Ai*i;let s=Array.from(e.slice(0,t)),a=Array.from(e.slice((o-Ai)*i,o*i));return"complex64"===n&&(s=Ii(s),a=Ii(a)),["["+s.map(((e,t)=>Si(e,r[t],n))).join(", ")+", ..., "+a.map(((e,t)=>Si(e,r[o-Ai+t],n))).join(", ")+"]"]}return["["+("complex64"===n?Ii(e):Array.from(e)).map(((e,t)=>Si(e,r[t],n))).join(", ")+"]"]}const u=t.slice(1),c=s.slice(1),h=s[0]*i,d=[];if(o>xi){for(let t=0;t<Ai;t++){const s=t*h,a=s+h;d.push(..._i(e.slice(s,a),u,n,c,r,!1))}d.push("...");for(let t=o-Ai;t<o;t++){const s=t*h,a=s+h;d.push(..._i(e.slice(s,a),u,n,c,r,t===o-1))}}else for(let t=0;t<o;t++){const s=t*h,a=s+h;d.push(..._i(e.slice(s,a),u,n,c,r,t===o-1))}const p=2===l?",":"";d[0]="["+(o>0?d[0]+p:"");for(let e=1;e<d.length-1;e++)d[e]=" "+d[e]+p;let f=",\n";for(let e=2;e<l;e++)f+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(a?"":f),d}function Ii(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class Ti{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=Ht(e),null!=n){const e=n.length;Gt(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||nn(t,this.size),this.strides=hn(e)}set(e,...t){0===t.length&&(t=[0]),Gt(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Ni().makeTensor(this.values,this.shape,this.dtype)}}let Ni=null,Oi=null,Ri=null;class Di{constructor(e,t,n,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Ht(e),this.strides=hn(e),this.dataId=n,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Oi.buffer(this.shape,this.dtype,e)}bufferSync(){return Oi.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return pn(this.shape,e,"complex64"===this.dtype)}arraySync(){return pn(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=Ni().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>mi(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Ni().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Ni().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>mi(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Ni().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Ni().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Oi.print(this,e)}clone(){return this.throwIfDisposed(),Oi.clone(this)}toString(e=!1){return Ci(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Oi.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),Ni().makeVariable(this,e,t,n)}}function Mi(){return In("Tensor",(()=>Di))}Object.defineProperty(Di,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),Mi();class Fi extends Di{constructor(e,t,n,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!$t(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Ni().disposeTensor(this),this.dataId=e.dataId,Ni().incRef(this,null)}dispose(){Ni().disposeVariable(this),this.isDisposedInternal=!0}}var Bi,zi,Li,Pi,Vi;Object.defineProperty(Fi,Symbol.hasInstance,{value:e=>e instanceof Di&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Bi||(Bi={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(zi||(zi={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Li||(Li={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Pi||(Pi={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Vi||(Vi={}));const Wi={float32:Pi,int32:zi,bool:Li,complex64:Vi};function Ui(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return Wi[e][t]}function Gi(e){return Ui(e,"int32")}function qi(e){return null!=e&&"object"==typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function ji(e){return"undefined"!=typeof GPUBuffer&&null!=e&&"object"==typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function Hi(e,t){if(e.dtype===t.dtype)return[e,t];const n=Ui(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function $i(e,t){return t.some((t=>t.id===e.id))}function Ki(e){const t=[];return Xi(e,t,new Set),t}function Xi(e,t,n){if(null==e)return;if(e instanceof Di)return void t.push(e);if(s=e,!Array.isArray(s)&&"object"!=typeof s)return;var s;const r=e;for(const e in r){const s=r[e];n.has(s)||(n.add(s),Xi(s,t,n))}}function Zi(e){return null!=e.kernelName}class Yi{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Qi{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Yi}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(Va(),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new bi(this.backendInstance),!0}setupRegisteredKernels(){Ha(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){Ha(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof zt||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,s=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((e=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,Va(),Va(e.stack||e.message)),!1)));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}}catch(e){return Va(),Va(e.stack||e.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:s,asyncInit:r}=this.initializeBackend(n);if(r||s)return{name:n,asyncInit:r}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),s=n.backend,r=this.readSync(t),a=s.refCount(t);s.disposeData(t,!0),n.backend=e,e.move(t,r,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,s=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");s=e}return this.scopedRun((()=>this.startScope(s)),(()=>this.endScope(n)),(()=>(n=t(),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return Qi.nextTensorId++}nextVariableId(){return Qi.nextVariableId++}clone(e){const t=eo.runKernel(qs,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return eo.runKernel(Qn,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=qa(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const s=this.backend.numDataIds();let r=0;n.forEach((e=>{r+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=s-t-r-a;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const s=this.isTapeOn(),r=this.state.numBytes,a=this.state.numTensors;let i,o;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=Zi(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Zi(e)){const{kernelName:t,inputs:r,attrs:a}=e;null==this.backendName&&this.backend;const l=qa(t,this.backendName);Gt(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),i=()=>{const e=this.backend.numDataIds();o=l.kernelFunc({inputs:r,attrs:a,backend:this.backend});const i=Array.isArray(o)?o:[o];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,i);const u=i.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(s){const e=this.getTensorsForGradient(t,r,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,r=e=>{s&&(n=e.map((e=>this.keep(this.clone(e)))))};i=()=>{const e=this.backend.numDataIds();o=this.tidy((()=>t(this.backend,r)));const n=Array.isArray(o)?o:[o];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,h=Zi(e)?null:e.backwardsFunc;let d;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(d=this.profiler.profileKernel(l,u,(()=>i())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs):t=i()})),s&&this.addTapeNode(l,u,t,h,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-r,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(o)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const s=ja(e);if(null!=s){const e=s.inputsToSave||[],r=s.outputsToSave||[];let a;s.saveAllInputs?(Gt(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const i=n.filter(((e,t)=>r[t]));return a.concat(i)}return[]}makeTensor(e,t,n,s){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",s=s||this.backend;let r=e;"string"===n&&an(e[0])&&(r=e.map((e=>fi(e))));const a=s.write(r,t,n),i=new Di(t,n,a,this.nextTensorId());if(this.trackTensor(i,s),"string"===n){const e=this.state.tensorInfo.get(a),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(r);this.state.numBytes+=t-e.bytes,e.bytes=t}return i}makeTensorFromDataId(e,t,n,s){const r={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(r,s)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:s,dtype:r}=e,a=new Di(s,r,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e,t=!0,n,s){n=n||this.nextVariableId().toString(),null!=s&&s!==e.dtype&&(e=e.cast(s));const r=new Fi(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[r.name])throw new Error(`Variable with name ${r.name} was already registered`);return this.state.registeredVariables[r.name]=r,this.incRef(r,this.backend),r}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*rn(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Fi||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*rn(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,s,r,a){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:r},o=ja(e);null!=o&&(s=o.gradFunc),null!=s&&(i.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],s=mn(e.size,e.dtype);return this.makeTensor(s,e.shape,e.dtype)}return e})),s(e.length>1?e:e[0],r,a))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=Ki(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==s.id||this.track(e)}))}gradients(e,t,n,s=!1){if(Gt(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const r=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));Gt(r instanceof Di,(()=>"The result y returned by f() must be a tensor."));const a=function(e,t,n){const s={},r={};for(let e=0;e<t.length;e++)s[t[e].id]=!0;for(let n=0;n<e.length;n++){const a=e[n],i=a.inputs;for(const e in i){const n=i[e];let o=!1;for(let e=0;e<t.length;e++)if(s[n.id]){a.outputs.forEach((e=>s[e.id]=!0)),o=!0,r[a.id]=!0;break}if(o)break}}const a={};a[n.id]=!0;const i={};for(let t=e.length-1;t>=0;t--){const n=e[t],s=n.inputs;for(let e=0;e<n.outputs.length;e++)if(a[n.outputs[e].id]){for(const e in s)a[s[e].id]=!0,i[n.id]=!0;break}}const o=[];for(let t=0;t<e.length;t++){const n=e[t];if(r[n.id]&&i[n.id]){const e={};for(const t in n.inputs){const r=n.inputs[t];s[r.id]&&(e[t]=r)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,o.push(t)}}return o}(this.state.activeTape,t,r);if(!s&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[r.id]=null==n?function(e){const t=fn(Ht(e),"float32");return eo.makeTensor(t,e,"float32")}(r.shape):n,function(e,t,n,s){for(let r=t.length-1;r>=0;r--){const a=t[r],i=[];if(a.outputs.forEach((t=>{const n=e[t.id];null!=n?i.push(n):i.push(null)})),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const o=a.gradient(i);for(const t in a.inputs){if(!(t in o))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);const r=n((()=>o[t]()));if("float32"!==r.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${r.dtype}'`);const i=a.inputs[t];if(!$t(r.shape,i.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${t}' has shape '${r.shape}', which does not match the shape of the input '${i.shape}'`);if(null==e[i.id])e[i.id]=r;else{const t=e[i.id];e[i.id]=s(t,r),t.dispose()}}}}(e,a,(e=>this.tidy(e)),to);const s=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:r,grads:s}}))}customGrad(e){return Gt(un(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;Gt(t.every((e=>e instanceof Di)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const s={};t.forEach(((e,t)=>{s[t]=e}));return this.runKernelFunc({forwardFunc:(s,r)=>(n=e(...t,r),Gt(n.value instanceof Di,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),Gt(un(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,s)=>{const r=n.gradFunc(e,s),a=Array.isArray(r)?r:[r];Gt(a.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),Gt(a.every((e=>e instanceof Di)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const i={};return a.forEach(((e,t)=>{i[t]=()=>e})),i},inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=pi(),n=await this.backend.time(e);return n.wallMs=pi()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Yi;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function Ji(){const e=_n();if(null==e._tfengine){const t=new An(e);e._tfengine=new Qi(t)}var t;return t=e._tfengine.ENV,En=t,Ni=()=>e._tfengine,e._tfengine}Qi.nextTensorId=0,Qi.nextVariableId=0;const eo=Ji();function to(e,t){const n={a:e,b:t};return eo.runKernel(Rn,n)}let no;function so(e){if(void 0!==no)return no;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function ro(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}const ao=Cn();function io(e,t){let n=e;if(gi(e))return"string"===t?[]:[e.length];if(qi(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(ji(e))return[e.buffer.size/(null==t?4:rn(t))];if(!Array.isArray(e))return[];const s=[];for(;Array.isArray(n)||gi(n)&&"string"!==t;)s.push(n.length),n=n[0];return Array.isArray(e)&&Cn().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&oo(e,s,[]),s}function oo(e,t,n){if(n=n||[],!Array.isArray(e)&&!gi(e))return void Gt(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));Gt(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),Gt(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const s=t.slice(1);for(let t=0;t<e.length;++t)oo(e[t],s,n.concat(t))}function lo(e,t,n,s){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${s}' must be ${e} tensor, but got ${t} tensor`)}}function uo(e,t,n,s="numeric"){if(e instanceof Mi())return lo(s,e.dtype,t,n),e;let r=ln(e);if("string"!==r&&["bool","int32","float32"].indexOf(s)>=0&&(r=s),lo(s,r,t,n),null==e||!gi(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const s=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${s}'`)}const a=io(e,r);gi(e)||Array.isArray(e)||(e=[e]);const i="string"!==r?di(e,r):yi(e,[],!0);return eo.makeTensor(i,a,r)}function co(e,t,n,s="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,r)=>uo(e,`${t}[${r}]`,n,s)))}ao.registerFlag("DEBUG",(()=>!1),(e=>{})),ao.registerFlag("IS_BROWSER",(()=>ro())),ao.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),ao.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),ao.registerFlag("IS_SAFARI",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),ao.registerFlag("PROD",(()=>!1)),ao.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>ao.getBool("DEBUG"))),ao.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),ao.registerFlag("IS_TEST",(()=>!1)),ao.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>ao.getBool("DEBUG"))),ao.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),ao.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),ao.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const ho="__op";function po(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const s=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=ho;const r=(...e)=>{eo.startScope(n);try{const t=s(...e);return vn(t),eo.endScope(t),t}catch(e){throw eo.endScope(null),e}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}const fo=po({complex_:function(e,t){const n=uo(e,"real","complex"),s=uo(t,"imag","complex");qt(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);const r={real:n,imag:s};return eo.runKernel(ts,r)}});function mo(e,t,n,s){if(null==s)s=ln(e);else if("complex64"===s)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(ji(e)||qi(e)){if("float32"!==s&&"int32"!==s)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${s}.`);return eo.backend.createTensorFromGPUData(e,t||n,s)}if(!gi(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){yn(t);const e=Ht(t),s=Ht(n);Gt(e===s,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${s}`));for(let e=0;e<n.length;++e){const s=n[e],r=e!==n.length-1||s!==Ht(t.slice(e));Gt(n[e]===t[e]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return gi(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==s?di(e,s):yi(e,[],!0),eo.makeTensor(e,t,s)}function go(e,t,n){return mo(e,t,io(e,n),n)}const yo={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class bo{static join(e){return new bo(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>gi(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const s=e[n];n!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const r=t+s.byteLength;this.shards.push({buffer:s,start:t,end:r}),t=r}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const s=new ArrayBuffer(t-e),r=new Uint8Array(s);let a=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],i=e+a-n.start,o=a,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,i,l-i);if(r.set(u,o),a+=u.length,t<n.end)break}return s}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,s=e.length;for(;n<=s;){const r=Math.floor((s-n)/2)+n,a=t(e[r]);if(0===a)return r;a<0?s=r:n=r+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function wo(){return eo}function vo(){return eo.memory()}function xo(e,t){return eo.tidy(e,t)}function Ao(e){Ki(e).forEach((e=>e.dispose()))}function ko(e){return eo.keep(e)}function Co(e,t,n=1){return eo.registerBackend(e,t,n)}function So(){return eo.backend}Ri=function(e){Cn().getBool("DEPRECATION_WARNINGS_ENABLED")};const Eo=4;async function _o(e,t){const n=[],s=[],r=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<r.length;++a){const i=r[a],o=Array.isArray(e)?e[a].tensor:e[i];if("float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype&&"string"!==o.dtype&&"complex64"!==o.dtype)throw new Error(`Unsupported dtype in weight '${i}': ${o.dtype}`);const l={name:i,shape:o.shape,dtype:o.dtype};if("string"===o.dtype){const e=new Promise((async e=>{const t=await o.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+Eo*t.length,s=new Uint8Array(n);let r=0;for(let e=0;e<t.length;e++){const n=t[e],a=new Uint8Array(new Uint32Array([n.length]).buffer);s.set(a,r),r+=Eo,s.set(n,r),r+=n.length}e(s)}));s.push(e)}else s.push(o.data());null!=t&&(l.group=t),n.push(l)}return{data:Mo(await Promise.all(s)),specs:n}}function Io(e,t){const n=new bo(e),s={};let r=0;for(const e of t){const t=To(e,((e,t)=>n.slice(r+e,r+t)));s[e.name]=Oo(e,n.slice(r,r+t)),r+=t}return s}function To(e,t){const n=Ht(e.shape);let s;if("quantization"in e){const t=e.quantization;s=yo[t.dtype]}else{if("string"===e.dtype){let e=0;for(let s=0;s<n;s++)e+=Eo+new Uint32Array(t(e,e+Eo))[0];return e}s=yo[e.dtype]}return n*s}async function No(e,t){const n=Ht(e.shape);let s;if("quantization"in e){const t=e.quantization;s=yo[t.dtype]}else{if("string"===e.dtype){let e=0;for(let s=0;s<n;s++)e+=Eo+new Uint32Array(await t(e,e+Eo))[0];return e}s=yo[e.dtype]}return n*s}function Oo(e,t){const n=e.name,s=e.dtype,r=e.shape,a=Ht(r);let i,o=0;if("quantization"in e){const r=e.quantization;if("uint8"===r.dtype||"uint16"===r.dtype){if(!("min"in r)||!("scale"in r))throw new Error(`Weight ${e.name} with quantization ${r.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==r.dtype)throw new Error(`Weight ${e.name} has unknown quantization dtype ${r.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==s)throw new Error(`Weight ${e.name} is quantized with ${r.dtype} which only supports weights of type float32 not ${s}.`)}const l=yo[r.dtype],u="uint8"===r.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===s)if("uint8"===r.dtype||"uint16"===r.dtype){i=new Float32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];i[e]=t*r.scale+r.min}}else{if("float16"!==r.dtype)throw new Error(`Unsupported quantization type ${r.dtype} for weight type float32.`);{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;!(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return s=>{const r=new ArrayBuffer(4*s.length),a=new Uint32Array(r);for(let r=0;r<s.length;r++){const i=s[r],o=e[n[i>>10]+(1023&i)]+t[i>>10];a[r]=o}return new Float32Array(r)}}();i=e(u)}}else{if("int32"!==s)throw new Error(`Unsupported dtype in weight '${n}': ${s}`);if("uint8"!==r.dtype&&"uint16"!==r.dtype)throw new Error(`Unsupported quantization type ${r.dtype} for weight type int32.`);i=new Int32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];i[e]=Math.round(t*r.scale+r.min)}}o+=a*l}else if("string"===s){const n=Ht(e.shape);i=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(o,o+Eo))[0];o+=Eo;const n=new Uint8Array(t.slice(o,o+e));i.push(n),o+=e}}else{const e=yo[s];if("float32"===s)i=new Float32Array(t);else if("int32"===s)i=new Int32Array(t);else{if("bool"!==s){if("complex64"===s){i=new Float32Array(t);const e=new Float32Array(i.length/2),n=new Float32Array(i.length/2);for(let t=0;t<e.length;t++)e[t]=i[2*t],n[t]=i[2*t+1];const s=go(e,r,"float32"),a=go(n,r,"float32"),o=fo(s,a);return s.dispose(),a.dispose(),o}throw new Error(`Unsupported dtype in weight '${n}': ${s}`)}i=new Uint8Array(t)}o+=a*e}return go(i,r,s)}async function Ro(e,t,n){let s=new Uint8Array(t);for(;s.byteLength<n;){const{done:t,value:r}=await e.read();if(t&&null==r){const e=n-s.byteLength;throw new Error(`Reader is done but ${e} bytes are still expected`)}const a=new Uint8Array(s.length+r.byteLength);a.set(s,0),a.set(new Uint8Array(r),s.length),s=a}return s.buffer}async function Do(e,t){const n={},s=e.getReader();let r=new ArrayBuffer(0);for(const e of t){const t=await No(e,(async(e,t)=>(r=await Ro(s,r,t),r.slice(e,t))));r=await Ro(s,r,t);const a=r.slice(0,t);r=r.slice(t);const i=Oo(e,a);if(n[e.name]=i,"webgpu"===eo.backendName){const e=So();"uploadToGPU"in e&&Ht(i.shape)>=Cn().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(i.dataId)}}return n}function Mo(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const s=new Uint8Array(t);let r=0;return n.forEach((e=>{s.set(new Uint8Array(e.buffer),r),r+=e.byteLength})),s.buffer}const Fo="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Bo(e){return Fo?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function zo(e){return bo.join(e)}function Lo(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function Po(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function Vo(e,t,n){const s={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(s.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");s.weightSpecs=t,s.weightData=n}return null!=e.signature&&(s.signature=e.signature),null!=e.userDefinedMetadata&&(s.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(s.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(s.initializerSignature=e.initializerSignature),s}async function Wo(e,t){let n,s;return null!=e.weightsManifest&&([n,s]=await t(e.weightsManifest)),Vo(e,n,s)}function Uo(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Bo(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Bo(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new bo(e.weightData).byteLength}}function Go(e){const t=[];for(const n of e)t.push(...n.weights);return t}class qo{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==qo.instance&&(qo.instance=new qo),qo.instance}static registerSaveRouter(e){qo.getInstance().saveRouters.push(e)}static registerLoadRouter(e){qo.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return qo.getHandlers(e,"save")}static getLoadHandlers(e,t){return qo.getHandlers(e,"load",t)}static getHandlers(e,t,n){const s=[];return("load"===t?qo.getInstance().loadRouters:qo.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&s.push(r)})),s}}const jo=e=>qo.registerSaveRouter(e),Ho=e=>qo.registerLoadRouter(e),$o=e=>qo.getSaveHandlers(e),Ko=(e,t)=>qo.getLoadHandlers(e,t),Xo="tensorflowjs",Zo="models_store",Yo="model_info_store";function Qo(){if(!Cn().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Jo(e){const t=e.result;t.createObjectStore(Zo,{keyPath:"modelPath"}),t.createObjectStore(Yo,{keyPath:"modelPath"})}class el{constructor(e){if(this.indexedDB=Qo(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const s=this.indexedDB.open(Xo,1);s.onupgradeneeded=()=>Jo(s),s.onsuccess=()=>{const r=s.result;if(null==t){const t=r.transaction(Zo,"readonly"),s=t.objectStore(Zo).get(this.modelPath);s.onsuccess=()=>{if(null==s.result)return r.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(s.result.modelArtifacts)},s.onerror=e=>(r.close(),n(s.error)),t.oncomplete=()=>r.close()}else{t.weightData=bo.join(t.weightData);const s=Uo(t),a=r.transaction(Yo,"readwrite");let i,o,l=a.objectStore(Yo);try{i=l.put({modelPath:this.modelPath,modelArtifactsInfo:s})}catch(e){return n(e)}i.onsuccess=()=>{o=r.transaction(Zo,"readwrite");const i=o.objectStore(Zo);let u;try{u=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:s})}catch(e){return n(e)}u.onsuccess=()=>e({modelArtifactsInfo:s}),u.onerror=e=>{l=a.objectStore(Yo);const t=l.delete(this.modelPath);t.onsuccess=()=>(r.close(),n(u.error)),t.onerror=e=>(r.close(),n(u.error))}},i.onerror=e=>(r.close(),n(i.error)),a.oncomplete=()=>{null==o?r.close():o.oncomplete=()=>r.close()}}},s.onerror=e=>n(s.error)}))}}el.URL_SCHEME="indexeddb://";const tl=e=>{return Cn().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(el.URL_SCHEME)?(t=e.slice(el.URL_SCHEME.length),new el(t)):null;var t};qo.registerSaveRouter(tl),qo.registerLoadRouter(tl);class nl{constructor(){this.indexedDB=Qo()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(Xo,1);n.onupgradeneeded=()=>Jo(n),n.onsuccess=()=>{const s=n.result,r=s.transaction(Yo,"readonly"),a=r.objectStore(Yo).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(s.close(),t(a.error)),r.oncomplete=()=>s.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(el.URL_SCHEME)?t.slice(el.URL_SCHEME.length):t,new Promise(((t,n)=>{const s=this.indexedDB.open(Xo,1);s.onupgradeneeded=()=>Jo(s),s.onsuccess=()=>{const r=s.result,a=r.transaction(Yo,"readwrite"),i=a.objectStore(Yo),o=i.get(e);let l;o.onsuccess=()=>{if(null==o.result)return r.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const s=i.delete(e),a=()=>{l=r.transaction(Zo,"readwrite");const s=l.objectStore(Zo).delete(e);s.onsuccess=()=>t(o.result.modelArtifactsInfo),s.onerror=e=>n(o.error)};s.onsuccess=a,s.onerror=e=>(a(),r.close(),n(o.error))}},o.onerror=e=>(r.close(),n(o.error)),a.oncomplete=()=>{null==l?r.close():l.oncomplete=()=>r.close()}},s.onerror=e=>n(s.error)}))}}const sl="/",rl="tensorflowjs_models",al="info",il="model_topology",ol="weight_specs",ll="weight_data",ul="model_metadata";function cl(e){return{info:[rl,e,al].join(sl),topology:[rl,e,il].join(sl),weightSpecs:[rl,e,ol].join(sl),weightData:[rl,e,ll].join(sl),modelMetadata:[rl,e,ul].join(sl)}}function hl(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function dl(e){const t=e.split(sl);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(sl)}class pl{constructor(e){if(!Cn().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=cl(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),s=Uo(e),r=bo.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Fo)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,s=t.length;e<s;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(r));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:s}}catch(e){throw hl(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==s)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=s;const r=this.LS.getItem(this.keys.modelMetadata);if(null!=r){const e=JSON.parse(r);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(null==a)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(Fo){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(a),t}}pl.URL_SCHEME="localstorage://";const fl=e=>{return Cn().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(pl.URL_SCHEME)?(t=e.slice(pl.URL_SCHEME.length),new pl(t)):null;var t};qo.registerSaveRouter(fl),qo.registerLoadRouter(fl);class ml{constructor(){Gt(Cn().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),Gt("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=rl+sl,n=sl+al;for(let s=0;s<this.LS.length;++s){const r=this.LS.key(s);if(r.startsWith(t)&&r.endsWith(n)){e[dl(r)]=JSON.parse(this.LS.getItem(r))}}return e}async removeModel(e){var t;const n=cl(e=(t=e).startsWith(pl.URL_SCHEME)?t.slice(pl.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const s=JSON.parse(this.LS.getItem(n.info));return hl(n),s}}const gl="://";class yl{constructor(){this.managers={}}static getInstance(){return null==yl.instance&&(yl.instance=new yl),yl.instance}static registerManager(e,t){Gt(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(gl)&&(e=e.slice(0,e.indexOf(gl))),Gt(e.length>0,(()=>"scheme must not be an empty string."));const n=yl.getInstance();Gt(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=yl.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(yl.getInstance().managers)}}function bl(e){if(-1===e.indexOf(gl))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${yl.getSchemes().join(",")}`);return{scheme:e.split(gl)[0],path:e.split(gl)[1]}}async function wl(e,t,n=!1){Gt(e!==t,(()=>`Old path and new path are the same: '${e}'`));const s=qo.getLoadHandlers(e);Gt(s.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),Gt(s.length<2,(()=>`Copying failed because more than one (${s.length}) load handlers for source URL ${e}.`));const r=s[0],a=qo.getSaveHandlers(t);Gt(a.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),Gt(a.length<2,(()=>`Copying failed because more than one (${s.length}) save handlers for destination URL ${t}.`));const i=a[0],o=bl(e).scheme,l=bl(e).path,u=o===bl(e).scheme,c=await r.load();n&&u&&await yl.getManager(o).removeModel(l);const h=await i.save(c);return n&&!u&&await yl.getManager(o).removeModel(l),h.modelArtifactsInfo}async function vl(){const e=yl.getSchemes(),t={};for(const n of e){const e=await yl.getManager(n).listModels();for(const s in e){t[n+gl+s]=e[s]}}return t}async function xl(e){const t=bl(e);return yl.getManager(t.scheme).removeModel(t.path)}async function Al(e,t){return wl(e,t,!1)}async function kl(e,t){return wl(e,t,!0)}class Cl{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!=typeof window&&Cn().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return Za(e)}}if(Cn().get("IS_BROWSER")){Cn().setPlatform("browser",new Cl);try{yl.registerManager(pl.URL_SCHEME,new ml)}catch(e){}try{yl.registerManager(el.URL_SCHEME,new nl)}catch(e){}}const Sl=()=>__webpack_require__(8273);let El;class _l{constructor(){this.util=__webpack_require__(9830),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=Cn().global.fetch?Cn().global.fetch(e,t):(null==El&&(El=Sl()),El(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function Il(e,t="float32",n){return t=t||"float32",yn(e),new Ti(e,t,n)}Cn().get("IS_NODE")&&!Cn().get("IS_BROWSER")&&Cn().setPlatform("node",new _l);const Tl=po({cast_:function(e,t){const n=uo(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const s={x:n},r={dtype:t};return eo.runKernel(Qn,s,r)}});const Nl=po({clone_:function(e){const t={x:uo(e,"x","clone","string_or_numeric")};return eo.runKernel(qs,t)}});function Ol(e,t=!1){}Ji();Oi={buffer:Il,cast:Tl,clone:Nl,print:Ol};const Rl=po({add_:function(e,t){let n=uo(e,"a","add"),s=uo(t,"b","add");[n,s]=Hi(n,s);const r={a:n,b:s};return eo.runKernel(Rn,r)}});const Dl=po({floorDiv_:function(e,t){let n=uo(e,"a","floorDiv"),s=uo(t,"b","floorDiv");[n,s]=Hi(n,s);const r={a:n,b:s};return eo.runKernel(Ls,r)}});const Ml=po({div_:function(e,t){let n=uo(e,"a","div"),s=uo(t,"b","div");if([n,s]=Hi(n,s),"int32"===n.dtype&&"int32"===s.dtype)return Dl(n,s);const r={a:n,b:s};return eo.runKernel(Ss,r,{})}});const Fl=po({mul_:function(e,t){let n=uo(e,"a","mul"),s=uo(t,"b","mul");[n,s]=Hi(n,s);const r={a:n,b:s};return eo.runKernel(vr,r)}});const Bl=po({sqrt_:function(e){const t={x:uo(e,"x","sqrt","float32")};return eo.runKernel(ia,t)}});const zl=po({square_:function(e){const t=uo(e,"x","square");return eo.runKernel("Square",{x:t},{})}});const Ll=po({zerosLike_:function(e){const t={x:uo(e,"x","zerosLike")};return eo.runKernel(Da,t)}});function Pl(e){return eo.customGrad(e)}function Vl(e,t){if((gi(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&gi(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return mo(e,[],[],t)}const Wl=new Map,Ul=new Map;class Gl{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class ql{constructor(){this.classNameMap={}}static getMap(){return null==ql.instance&&(ql.instance=new ql),ql.instance}static register(e){ql.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function jl(e,t,n){Gt(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),Gt("string"==typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),Gt(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),void 0===t&&(t="Custom"),void 0===n&&(n=e.className);const s=t+">"+n;return ql.register(e),Wl.set(s,e),Ul.set(e,s),e}class Hl extends Gl{minimize(e,t=!1,n){const{value:s,grads:r}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:r[e.name]})));this.applyGradients(e)}else this.applyGradients(r);return Ao(r),t?s:(s.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){Gt(un(e),(()=>"The f passed in variableGrads(f) must be a function")),Gt(null==t||Array.isArray(t)&&t.every((e=>e instanceof Fi)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in eo.registeredVariables)t.push(eo.registeredVariables[e])}const s=n?t.filter((e=>!e.trainable)):null,r=t.length;t=t.filter((e=>e.trainable)),Gt(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`));const{value:a,grads:i}=eo.gradients(e,t,null,!0);Gt(i.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),Gt(0===a.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`));const o={};return t.forEach(((e,t)=>{null!=i[t]&&(o[e.name]=i[t])})),null!=s&&s.forEach((e=>o[e.name]=null)),{value:a,grads:o}}(e,t)}dispose(){null!=this.iterations_&&Ao(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Vl(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Hl,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class $l extends Hl{static get className(){return"Adadelta"}constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=eo.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=eo.registeredVariables[t],r=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:xo((()=>Ll(s).variable(r)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:xo((()=>Ll(s).variable(r)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=this.accumulatedGrads[n].variable,o=this.accumulatedUpdates[n].variable;xo((()=>{const e=Rl(Fl(i,this.rho),Fl(zl(a),1-this.rho)),t=Fl(Ml(Bl(Rl(o,this.epsilon)),Bl(Rl(i,this.epsilon))),a),n=Rl(Fl(o,this.rho),Fl(zl(t),1-this.rho));i.assign(e),o.assign(n);const r=Rl(Fl(t,-this.learningRate),s);s.assign(r)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Ao(this.accumulatedGrads.map((e=>e.variable))),Ao(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function Kl(e,t,n){yn(e);const s={shape:e,value:t,dtype:n=n||ln(t)};return eo.runKernel(Fs,{},s)}class Xl extends Hl{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=eo.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:xo((()=>Kl(s.shape,this.initialAccumulatorValue).variable(e)))}}const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=this.accumulatedGrads[n].variable;xo((()=>{const e=Rl(a,zl(r));a.assign(e);const t=Rl(Fl(Ml(r,Bl(Rl(e,eo.backend.epsilon()))),-this.learningRate),s);s.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Ao(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const Zl=po({pow_:function(e,t){let n=uo(e,"base","pow"),s=uo(t,"exp","pow");[n,s]=Hi(n,s);const r={a:n,b:s};return eo.runKernel(Nr,r)}});const Yl=po({sub_:function(e,t){let n=uo(e,"a","sub"),s=uo(t,"b","sub");[n,s]=Hi(n,s);const r={a:n,b:s};return eo.runKernel(ka,r)}});class Ql extends Hl{static get className(){return"Adam"}constructor(e,t,n,s=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],xo((()=>{this.accBeta1=Vl(t).variable(),this.accBeta2=Vl(n).variable()})),null==s&&(this.epsilon=eo.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);xo((()=>{const n=Yl(1,this.accBeta1),s=Yl(1,this.accBeta2);t.forEach(((t,r)=>{const a=eo.registeredVariables[t],i=!1;null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:`${t}/m`,variable:xo((()=>Ll(a).variable(i)))}),null==this.accumulatedSecondMoment[r]&&(this.accumulatedSecondMoment[r]={originalName:`${t}/v`,variable:xo((()=>Ll(a).variable(i)))});const o=Array.isArray(e)?e[r].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[r].variable,u=this.accumulatedSecondMoment[r].variable,c=Rl(Fl(l,this.beta1),Fl(o,1-this.beta1)),h=Rl(Fl(u,this.beta2),Fl(zl(o),1-this.beta2)),d=Ml(c,n),p=Ml(h,s);l.assign(c),u.assign(h);const f=Rl(Fl(Ml(d,Rl(Bl(p),this.epsilon)),-this.learningRate),a);a.assign(f)})),this.accBeta1.assign(Fl(this.accBeta1,this.beta1)),this.accBeta2.assign(Fl(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Ao(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&Ao(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),xo((()=>{this.accBeta1.assign(Zl(this.beta1,this.iterations_+1)),this.accBeta2.assign(Zl(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const Jl=po({abs_:function(e){const t=uo(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return eo.runKernel(ns,e)}{const e={x:t};return eo.runKernel(Tn,e)}}});function eu(e,t){const n=e.length,s=[];for(let r=0;r<n;r++){const a=n-1-r,i=e[a]||1;(t[t.length-1-r]||1)>1&&1===i&&s.unshift(a)}return s}function tu(e,t){const n=[];for(let s=0;s<t.length;s++){const r=e[e.length-s-1],a=t.length-s-1,i=t[a];(null==r||1===r&&i>1)&&n.unshift(a)}return n}function nu(e,t){const n=Math.max(e.length,t.length),s=new Array(n);for(let r=0;r<n;r++){let a=e[e.length-r-1];null==a&&(a=1);let i=t[t.length-r-1];if(null==i&&(i=1),1===a)s[n-r-1]=i;else if(1===i)s[n-r-1]=a;else{if(a!==i){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}s[n-r-1]=a}}return s}const su=po({maximum_:function(e,t){let n=uo(e,"a","maximum"),s=uo(t,"b","maximum");[n,s]=Hi(n,s),"bool"===n.dtype&&(n=Tl(n,"int32"),s=Tl(s,"int32")),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(lr,r)}});class ru extends Hl{static get className(){return"Adamax"}constructor(e,t,n,s=null,r=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=s,this.decay=r,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],xo((()=>{this.iteration=Vl(0).variable(),this.accBeta1=Vl(t).variable()})),null==s&&(this.epsilon=eo.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);xo((()=>{const n=Yl(1,this.accBeta1),s=Ml(-this.learningRate,Rl(Fl(this.iteration,this.decay),1));t.forEach(((t,r)=>{const a=eo.registeredVariables[t],i=!1;null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:`${t}/m`,variable:Ll(a).variable(i)}),null==this.accumulatedWeightedInfNorm[r]&&(this.accumulatedWeightedInfNorm[r]={originalName:`${t}/v`,variable:Ll(a).variable(i)});const o=Array.isArray(e)?e[r].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[r].variable,u=this.accumulatedWeightedInfNorm[r].variable,c=Rl(Fl(l,this.beta1),Fl(o,1-this.beta1)),h=Fl(u,this.beta2),d=Jl(o),p=su(h,d);l.assign(c),u.assign(p);const f=Rl(Fl(Ml(s,n),Ml(c,Rl(p,this.epsilon))),a);a.assign(f)})),this.iteration.assign(Rl(this.iteration,1)),this.accBeta1.assign(Fl(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Ao(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&Ao(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class au extends Hl{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;const r=eo.registeredVariables[t];xo((()=>{const e=Rl(Fl(this.c,s),r);r.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=ko(Vl(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class iu extends au{static get className(){return"Momentum"}constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Vl(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=eo.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:xo((()=>Ll(s).variable(e)))}}const r=this.accumulations[n].variable,a=Array.isArray(e)?e[n].tensor:e[t];null!=a&&xo((()=>{let e;const t=Rl(Fl(this.m,r),a);e=this.useNesterov?Rl(Fl(this.c,Rl(a,Fl(t,this.m))),s):Rl(Fl(this.c,t),s),r.assign(t),s.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Ao(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class ou extends Hl{static get className(){return"RMSProp"}constructor(e,t=.9,n=0,s=null,r=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=r,null==s&&(this.epsilon=eo.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=eo.registeredVariables[t],r=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:xo((()=>Ll(s).variable(r)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:xo((()=>Ll(s).variable(r)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:xo((()=>Ll(s).variable(r)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=this.accumulatedMeanSquares[n].variable,o=this.accumulatedMoments[n].variable;xo((()=>{const e=Rl(Fl(i,this.decay),Fl(zl(a),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,r=Rl(Fl(t,this.decay),Fl(a,1-this.decay)),l=Ml(Fl(a,this.learningRate),Bl(Yl(e,Rl(zl(r),this.epsilon)))),u=Rl(Fl(o,this.momentum),l);i.assign(e),t.assign(r),o.assign(u);const c=Yl(s,u);s.assign(c)}else{const e=Rl(Fl(i,this.decay),Fl(zl(a),1-this.decay)),t=Rl(Fl(o,this.momentum),Ml(Fl(a,this.learningRate),Bl(Rl(e,this.epsilon))));i.assign(e),o.assign(t);const n=Yl(s,t);s.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Ao(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&Ao(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&Ao(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const lu=[$l,Xl,Ql,ru,iu,ou,au];function uu(e){return new Promise((e=>setTimeout(e))).then(e)}class cu{constructor(e){if(!Cn().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(cu.URL_SCHEME)&&(e=e.slice(cu.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=bo.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=Po(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),s=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),r=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(r.download=this.modelJsonFileName,r.href=s,await uu((()=>r.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await uu((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Uo(e)}}}}cu.URL_SCHEME="downloads://";class hu{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const s=JSON.parse(n.target.result),r=s.modelTopology;if(null==r)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==s.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:r});const a=Wo(s,(e=>this.loadWeights(e)));e(a)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const s of e)t.push(...s.weights),n.push(...s.paths);const s=this.checkManifestAndWeightFiles(e),r=n.map((e=>this.loadWeightsFile(e,s[e])));return Promise.all(r).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,s)=>{const r=new FileReader;r.onload=e=>{const t=e.target.result;n(t)},r.onerror=t=>s(`Failed to weights data from file of path '${e}'.`),r.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>Lo(e.name))),s={};for(const r of e)r.paths.forEach((e=>{const r=Lo(e);if(-1!==t.indexOf(r))throw new Error(`Duplicate file basename found in weights manifest: '${r}'`);if(t.push(r),-1===n.indexOf(r))throw new Error(`Weight file with basename '${r}' is not provided.`);s[e]=this.weightsFiles[n.indexOf(r)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}function du(e){return new hu(e)}function pu(e,t,n,s){!function(e){Gt(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){Gt(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),Gt(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),Gt(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,s=null==s?1:s);let r=0;return Promise.all(e.map((a=>(a.then((a=>{const i=n+ ++r/e.length*(s-n);return t(i),a})),a))))}async function fu(e,t){null==t&&(t={});const n=null==t.fetchFunc?Cn().platform.fetch:t.fetchFunc,s=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),r=(null==t.onProgress?await Promise.all(s):await pu(s,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(r):await pu(r,t.onProgress,.5,1)}async function mu(e,t="",n,s){return gu((e=>fu(e,{requestInit:s})))(e,t,n)}function gu(e){return async(t,n="",s)=>{const r=t.map((()=>!1)),a={},i=null!=s?s.map((()=>!1)):[],o=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=yo[l]*Ht(e.shape),c=()=>{r[t]=!0,null==a[t]&&(a[t]=[]),a[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=s?s.forEach(((t,n)=>{t===e.name&&(c(),i[n]=!0)})):c(),o.push(e.name),n+=u}))})),!i.every((e=>e))){const e=s.filter(((e,t)=>!i[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${o.join(", ")}.`)}const l=r.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),h={};let d=0;return l.forEach((e=>{const n=t[e].paths.length,s=new bo(c.slice(d,d+n));a[e].forEach((e=>{const t=Io(s.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const e in t)h[e]=t[e]})),d+=n})),h}}qo.registerSaveRouter((e=>Cn().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(cu.URL_SCHEME)?function(e="model"){return new cu(e)}(e.slice(cu.URL_SCHEME.length)):null));class yu{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(Gt("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=Cn().platform.fetch,Gt(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&Gt(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Po(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=bo.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const s=await this.fetch(this.path,t);if(s.ok)return{modelArtifactsInfo:Uo(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,s=t.weightsManifest;if(null==n&&null==s)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return Wo(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=Go(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const s=null==t.fetchFunc?Cn().platform.fetch:t.fetchFunc;let r,a=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var i;a<e.length;){if(!r){const n=(await s(e[a],t.requestInit,{isBinary:!0})).body;r=n.getReader()}const{done:o,value:l}=await r.read();if(!o)return void n.enqueue(l);a++,r=void 0,null===(i=t.onProgress)||void 0===i||i.call(t,a/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,s]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),s=e.substring(0,t),r=n>t?e.substring(n):"";return[s+"/",r]}(t),r=this.weightPathPrefix||n,a=[],i=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):a.push(r+e+s);return this.weightUrlConverter&&a.push(...await Promise.all(i)),a}async loadWeights(e){const t=await this.getWeightUrls(e);return[Go(e),await fu(t,this.loadOptions)]}}function bu(e){return null!=e.match(yu.URL_SCHEME_REGEX)}yu.URL_SCHEME_REGEX=/^https?:\/\//;const wu=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>bu(e))):bu(e),n)return vu(e,t)}return null};function vu(e,t){return new yu(e,t)}function xu(e,t){return vu(e,t)}qo.registerSaveRouter(wu),qo.registerLoadRouter(wu);class Au{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class ku{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Cu{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function Su(e,t,n,s){return new Cu(Eu(...arguments))}function Eu(e,t,n,s){if(1===arguments.length){const t=null!=e.modelTopology||null!=e.weightSpecs;return new Au(t?e:{modelTopology:e})}return new Au({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:s})}function _u(e){return new ku(e)}function Iu(e){return new ku(e)}function Tu(e,t,n){if(jt(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const s=io(e,n);if(3!==s.length&&1!==s.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return mo(e,t,s,n)}let Nu,Ou=!1;function Ru(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,s=!1,r=!1,a=!1,i=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)s=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)r=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);o=!0}if(null!=qa(Fa,eo.backendName)){const n={pixels:e},s={numChannels:t};return eo.runKernel(Fa,n,s)}const[l,u]=r?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,h;if(i)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(s||n)c=e.data;else if(a||r||o){if(null==Nu)if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas||"undefined"==typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Nu=new OffscreenCanvas(1,1).getContext("2d")}else Nu=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Nu.canvas.width=l,Nu.canvas.height=u,Nu.drawImage(e,0,0,l,u),c=Nu.getImageData(0,0,l,u).data}if(4===t)h=new Int32Array(c);else{const e=l*u;h=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)h[n*t+e]=c[4*n+e]}return Tu(h,[u,l,t],"int32")}function Du(e){if(2!==e.rank&&3!==e.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}async function Mu(e,t){let n=uo(e,"img","toPixels");if(!(e instanceof Di)){const e=n;n=Tl(e,"int32"),e.dispose()}Du(n);const[s,r]=n.shape.slice(0,2),a=2===n.rank?1:n.shape[2],i=await n.data(),o="float32"===n.dtype?255:1,l=new Uint8ClampedArray(r*s*4);for(let e=0;e<s*r;++e){const t=[0,0,0,255];for(let s=0;s<a;s++){const r=i[e*a+s];if("float32"===n.dtype){if(r<0||r>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${r}.`)}else if("int32"===n.dtype&&(r<0||r>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${r}.`);1===a?(t[0]=r*o,t[1]=r*o,t[2]=r*o):t[s]=r*o}const s=4*e;l[s+0]=Math.round(t[0]),l[s+1]=Math.round(t[1]),l[s+2]=Math.round(t[2]),l[s+3]=Math.round(t[3])}if(null!=t){if(!Ou){null!=qa(Cs,eo.backendName)&&(Ou=!0)}t.width=r,t.height=s;const e=t.getContext("2d"),n=new ImageData(l,r,s);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const Fu=po({fromPixels_:Ru}),Bu=-2,zu=-1;function Lu(e,t,n){const s=e.shape.length;Gt(s===t.length,(()=>`Error in slice${s}D: Length of begin ${t} must match the rank of the array (${s}).`)),Gt(s===n.length,(()=>`Error in slice${s}D: Length of size ${n} must match the rank of the array (${s}).`));for(let r=0;r<s;++r)Gt(t[r]+n[r]<=e.shape[r],(()=>`Error in slice${s}D: begin[${r}] + size[${r}] (${t[r]+n[r]}) would overflow input.shape[${r}] (${e.shape[r]})`))}function Pu(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Vu(e,t,n){const s=[];for(let r=0;r<e.length;r++)s[r]=Math.ceil((t[r]-e[r])/n[r]);return s}function Wu(e,t,n,s){const r=[...e];for(let e=r.length;e<s.length;e++)r.push(1);for(let e=0;e<n;e++)0===e?r[t]=1:(r.splice(t,0,1),r.pop());return r}function Uu(e,t,n){return n<=e?n:n-(t-1)}function Gu(e,t){const n=[];for(let s=0;s<e;s++)n.push(t+s);return n}function qu(e,t,n,s,r,a,i,o,l){const u=e.length;let c=new Array(u),h=new Array(u),d=new Array(u);if(t.length&&n>0){const l=t[0],u=n+1;c=ju(i,l,u,s,e),h=Hu(o,l,u,r,e),d=Wu(a,l,u,e)}else for(let t=0;t<u;t++)c[t]=Ku(i,s,a,e,t,l),h[t]=Xu(o,r,a,e,t,l),d[t]=$u(a,t,l);return{begin:c,end:h,strides:d}}function ju(e,t,n,s,r){const a=[...r],i=Gu(n,t);for(let r=0;r<a.length;r++)if(i.indexOf(r)>-1)a[r]=0;else{const i=Uu(t,n,r);let o=s[i];e&1<<i&&(o=0),a[r]=o}return a}function Hu(e,t,n,s,r){const a=[...r],i=Gu(n,t);for(let r=0;r<a.length;r++)if(i.indexOf(r)>-1)a[r]=Number.MAX_SAFE_INTEGER;else{const i=Uu(t,n,r);let o=s[i];e&1<<i&&(o=Number.MAX_SAFE_INTEGER),a[r]=o}for(let e=0;e<a.length;e++){const t=r[e];a[e]<0&&(a[e]+=t),a[e]=Vt(0,a[e],r[e])}return a}function $u(e,t,n){let s=e[t];return(n&1<<t||null==s)&&(s=1),s}function Ku(e,t,n,s,r,a){let i=t[r];const o=n[r]||1;(e&1<<r||a&1<<r||null==i)&&(i=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=s[r];return i<0&&(i+=l),i=Vt(0,i,l-1),i}function Xu(e,t,n,s,r,a){let i=t[r];const o=n[r]||1;(e&1<<r||a&1<<r||null==i)&&(i=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=s[r];return i<0&&(i+=l),i=o>0?Vt(0,i,l):Vt(-1,i,l-1),i}function Zu(e,t,n){let s=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){s=e;break}for(let r=s+1;r<n.length;r++)if(t[r]>0||n[r]!==e[r])return!1;return!0}function Yu(e,t){let n=e.length>0?e[e.length-1]:1;for(let s=0;s<e.length-1;s++)n+=e[s]*t[s];return n}function Qu(e,t,n){let s;const r=e.shape.length;let a;return s="number"==typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),s.forEach((e=>{Gt(-1!==e,(()=>"slice() does not support negative begin indexing."))})),a=null==n?new Array(r).fill(-1):"number"==typeof n?[n,...new Array(r-1).fill(-1)]:n.length<r?n.concat(new Array(r-n.length).fill(-1)):n,a=a.map(((t,n)=>t>=0?t:(Gt(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-s[n]))),[s,a]}function Ju(e,t,n,s,r,a,i,o,l){let u;if(null==s?(u=new Array(t.length),u.fill(1)):u=s,null!=i&&i&i-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const h={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:r,endMask:a,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:l};for(let e=0;e<h.dims;e++)c&&1<<e&o&&h.numAddAxisAfterEllipsis++,1<<e&i&&(c=!0);c||(h.ellipsisMask|=1<<h.dims,h.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let s=0;s<e.dims;s++)if(1<<s&e.ellipsisMask){const r=Math.min(t.dims-(e.dims-s)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<r;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=s}else if(1<<s&e.newAxisMask)t.finalShapeGatherIndices.push(Bu),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[s]),null!=e.end&&(t.end[n]=e.end[s]),t.strides[n]=e.strides[s],e.beginMask&1<<s&&(t.beginMask|=1<<n),e.endMask&1<<s&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<s?(t.finalShapeGatherIndices.push(zu),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(s)),t.inputShapeGatherIndicesSparse[n]=s,n++}}(h,d);let p=!0,f=!0,m=!0;const g=[],y=[];for(let t=0;t<e.length;++t){if(0===d.strides[t])throw Error(`strides[${t}] must be non-zero`);const n=!!(d.shrinkAxisMask&1<<t),s=e[t];if(-1===s){g.push(n?1:-1);continue}const r=[d.beginMask&1<<t,d.endMask&1<<t],a=[d.strides[t]>0?0:-1,d.strides[t]>0?s:s-1];if(n&&d.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===d.strides[t];const i=!!(d.beginMask&1<<t&&d.endMask&1<<t);if(d.beginValid&&d.endValid){if(n){const e=d.begin[t]<0?s+d.begin[t]:d.begin[t];if(d.begin[t]=e,d.end[t]=d.begin[t]+1,e<0||e>=s)throw Error(`slice index ${d.begin[t]} of dimension ${t} out of bounds.`)}else d.begin[t]=ec(d.begin[t],0,d.strides[t],s,r,a),d.end[t]=ec(d.end[t],1,d.strides[t],s,r,a);const e=1===d.strides[t]&&0===d.begin[t]&&d.end[t]===s;p=p&&e,f=f&&(0===t&&1===d.strides[t]||e)}else p=p&&1===d.strides[t]&&i,f=f&&(0===t&&1===d.strides[t]||i);let o,l=!1;if(d.beginValid&&d.endValid?(o=d.end[t]-d.begin[t],l=!0):n?(o=1,l=!0):i&&s>=0&&(o=d.strides[t]<0?-s:s,l=!0),l){let e;e=0===o||o<0!=d.strides[t]<0?0:Math.trunc(o/d.strides[t])+(o%d.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<d.finalShapeGatherIndices.length;++e){const t=d.finalShapeGatherIndices[e];t>=0?y.push(g[t]):t===Bu&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>d.finalShapeGatherIndices[t]!==Bu)),finalShape:y,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function ec(e,t,n,s,r,a){if(r[t])return n>0?a[t]:a[t+1&1];{const t=e<0?s+e:e;return t<a[0]?a[0]:t>a[1]?a[1]:t}}const tc=po({acos_:function(e){const t={x:uo(e,"x","acos")};return eo.runKernel(Nn,t)}});const nc=po({acosh_:function(e){const t={x:uo(e,"x","acosh")};return eo.runKernel(On,t)}});const sc=po({addN_:function(e){Gt(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),Gt(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>uo(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!$t(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const s=t;return eo.runKernel(Dn,s)}});const rc=po({all_:function(e,t=null,n=!1){const s={x:uo(e,"x","all","bool")},r={axis:t,keepDims:n};return eo.runKernel(Mn,s,r)}});const ac=po({any_:function(e,t=null,n=!1){const s={x:uo(e,"x","any","bool")},r={axis:t,keepDims:n};return eo.runKernel(Fn,s,r)}});const ic=po({argMax_:function(e,t=0){const n={x:uo(e,"x","argMax")},s={axis:t};return eo.runKernel(Bn,n,s)}});const oc=po({argMin_:function(e,t=0){const n={x:uo(e,"x","argMin")},s={axis:t};return eo.runKernel(zn,n,s)}});const lc=po({asin_:function(e){const t={x:uo(e,"x","asin")};return eo.runKernel(Ln,t)}});const uc=po({asinh_:function(e){const t={x:uo(e,"x","asinh")};return eo.runKernel(Pn,t)}});const cc=po({atan_:function(e){const t={x:uo(e,"x","atan")};return eo.runKernel(Vn,t)}});const hc=po({atan2_:function(e,t){let n=uo(e,"a","atan2"),s=uo(t,"b","atan2");[n,s]=Hi(n,s);const r={a:n,b:s};return eo.runKernel(Un,r)}});const dc=po({atanh_:function(e){const t={x:uo(e,"x","atanh")};return eo.runKernel(Wn,t)}});function pc(e,t,n,s,r="NHWC",a){return gc(e,[...t,e[3]],n,a,s,null,null,Ec(r))}function fc(e,t,n,s,r,a,i="channelsLast"){const[o,l]=wc(t);let u;if("channelsLast"===i)u=[o,l,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);u=[o,l,e[1],e[1]]}return gc(e,u,n,s,r,a,!1,i)}function mc(e,t,n,s,r,a,i="NDHWC"){const[o,l,u]=vc(t);let c,h;if("NDHWC"===i)h="channelsLast",c=[o,l,u,e[4],e[4]];else{if("NCDHW"!==i)throw new Error(`Unknown dataFormat ${i}`);h="channelsFirst",c=[o,l,u,e[1],e[1]]}return yc(e,c,n,s,r,!1,h,a)}function gc(e,t,n,s,r,a,i=!1,o="channelsLast"){let[l,u,c,h]=[-1,-1,-1,-1];if("channelsLast"===o)[l,u,c,h]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,h,u,c]=e}const[d,p,,f]=t,[m,g]=wc(n),[y,b]=wc(s),w=xc(d,y),v=xc(p,b),{padInfo:x,outHeight:A,outWidth:k}=function(e,t,n,s,r,a,i,o,l){let u,c,h;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const r=function(e,t,n,s,r){null==s&&(s=bc(e,t,n));const a=e[0],i=e[1],o=Ac((a-t+2*s)/n+1,r),l=Ac((i-t+2*s)/n+1,r);return[o,l]}([t,n],a,s,e,o);c=r[0],h=r[1]}else if("same"===e){c=Math.ceil(t/s),h=Math.ceil(n/r);const e=Math.max(0,(c-1)*s+a-t),o=Math.max(0,(h-1)*r+i-n),l=Math.floor(e/2),d=e-l,p=Math.floor(o/2);u={top:l,bottom:d,left:p,right:o-p,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-a+1)/s),h=Math.ceil((n-i+1)/r);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:d,bottom:p,left:f,right:m,type:0===d&&0===p&&0===f&&0===m?"VALID":"EXPLICIT"},c=Ac((t-a+d+p)/s+1,o),h=Ac((n-i+f+m)/r+1,o)}}return{padInfo:u,outHeight:c,outWidth:h}}(r,u,c,m,g,w,v,a,o),C=i?f*h:f;let S;return"channelsFirst"===o?S=[l,C,A,k]:"channelsLast"===o&&(S=[l,A,k,C]),{batchSize:l,dataFormat:o,inHeight:u,inWidth:c,inChannels:h,outHeight:A,outWidth:k,outChannels:C,padInfo:x,strideHeight:m,strideWidth:g,filterHeight:d,filterWidth:p,effectiveFilterHeight:w,effectiveFilterWidth:v,dilationHeight:y,dilationWidth:b,inShape:e,outShape:S,filterShape:t}}function yc(e,t,n,s,r,a=!1,i="channelsLast",o){let[l,u,c,h,d]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,h,d]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[l,d,u,c,h]=e}const[p,f,m,,g]=t,[y,b,w]=vc(n),[v,x,A]=vc(s),k=xc(p,v),C=xc(f,x),S=xc(m,A),{padInfo:E,outDepth:_,outHeight:I,outWidth:T}=function(e,t,n,s,r,a,i,o,l,u,c){let h,d,p,f;"valid"===e&&(e=0);if("number"==typeof e){h={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,s,r,a){null==r&&(r=bc(e,t[0],s[0]));const i=[0,0,0,n];for(let n=0;n<3;n++)e[n]+2*r>=t[n]&&(i[n]=Ac((e[n]-t[n]+2*r)/s[n]+1,a));return i}([t,n,s,1],[o,l,u],1,[r,a,i],e,c);d=m[0],p=m[1],f=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{d=Math.ceil(t/r),p=Math.ceil(n/a),f=Math.ceil(s/i);const e=(d-1)*r+o-t,c=(p-1)*a+l-n,m=(f-1)*i+u-s,g=Math.floor(e/2),y=e-g,b=Math.floor(c/2),w=c-b,v=Math.floor(m/2);h={top:b,bottom:w,left:v,right:m-v,front:g,back:y,type:"SAME"}}}return{padInfo:h,outDepth:d,outHeight:p,outWidth:f}}(r,u,c,h,y,b,w,k,C,S,o),N=a?g*d:g;let O;return"channelsFirst"===i?O=[l,N,_,I,T]:"channelsLast"===i&&(O=[l,_,I,T,N]),{batchSize:l,dataFormat:i,inDepth:u,inHeight:c,inWidth:h,inChannels:d,outDepth:_,outHeight:I,outWidth:T,outChannels:N,padInfo:E,strideDepth:y,strideHeight:b,strideWidth:w,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:k,effectiveFilterHeight:C,effectiveFilterWidth:S,dilationDepth:v,dilationHeight:x,dilationWidth:A,inShape:e,outShape:O,filterShape:t}}function bc(e,t,n,s=1){const r=xc(t,s);return Math.floor((e[0]*(n-1)-n+r)/2)}function wc(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function vc(e){return"number"==typeof e?[e,e,e]:e}function xc(e,t){return t<=1?e:e+(e-1)*(t-1)}function Ac(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function kc(e){const[t,n,s]=wc(e);return 1===t&&1===n&&1===s}function Cc(e,t){return kc(e)||kc(t)}function Sc(e){return wc(e).every((e=>e>0))}function Ec(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function _c(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)Gt(Kt(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{Gt(Kt(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const Ic=po({reshape_:function(e,t){const n={x:uo(e,"x","reshape","string_or_numeric")},s={shape:t};return eo.runKernel(Vr,n,s)}});const Tc=po({avgPool_:function(e,t,n,s,r){const a=uo(e,"x","avgPool","float32");Gt(Cc(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let i=a,o=!1;3===a.rank&&(o=!0,i=Ic(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Gt(4===i.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`)),_c("avgPool",s,r);const l={x:i},u={filterSize:t,strides:n,pad:s,dimRoundingMode:r};let c=eo.runKernel(Gn,l,u);return c=Tl(c,a.dtype),o?Ic(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Nc=po({avgPool3d_:function(e,t,n,s,r,a="NDHWC"){const i=uo(e,"x","avgPool3d","float32");let o=i,l=!1;4===i.rank&&(l=!0,o=Ic(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Gt(5===o.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`)),Gt("NDHWC"===a,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),Gt("number"==typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),_c("avgPool3d",s,r);const u={x:o},c={filterSize:t,strides:n,pad:s,dimRoundingMode:r,dataFormat:a};let h=eo.runKernel(jn,u,c);return h=Tl(h,o.dtype),l?Ic(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const Oc=po({concat_:function(e,t=0){Gt(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=co(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return Nl(n[0]);const s=n,r={axis:t};return eo.runKernel(ss,s,r)}});const Rc=po({matMul_:function(e,t,n=!1,s=!1){let r=uo(e,"a","matMul"),a=uo(t,"b","matMul");[r,a]=Hi(r,a);const i={a:r,b:a},o={transposeA:n,transposeB:s};return eo.runKernel($n,i,o)}});const Dc=po({sigmoid_:function(e){const t={x:uo(e,"x","sigmoid","float32")};return eo.runKernel(ra,t)}});const Mc=po({slice_:function(e,t,n){const s=uo(e,"x","slice","string_or_numeric");if(0===s.rank)throw new Error("Slicing scalar is not possible");const r={x:s},a={begin:t,size:n};return eo.runKernel(ea,r,a)}});const Fc=po({tanh_:function(e){const t={x:uo(e,"x","tanh","float32")};return eo.runKernel(Sa,t)}});const Bc=po({basicLSTMCell_:function(e,t,n,s,r,a){const i=uo(e,"forgetBias","basicLSTMCell"),o=uo(t,"lstmKernel","basicLSTMCell"),l=uo(n,"lstmBias","basicLSTMCell"),u=uo(s,"data","basicLSTMCell"),c=uo(r,"c","basicLSTMCell"),h=uo(a,"h","basicLSTMCell"),d=Oc([u,h],1),p=Rc(d,o),f=Rl(p,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],b=Mc(f,[0,0],y),w=Mc(f,[0,g],y),v=Mc(f,[0,2*g],y),x=Mc(f,[0,3*g],y),A=Rl(Fl(Dc(b),Fc(w)),Fl(c,Dc(Rl(i,v))));return[A,Fl(Fc(A),Dc(x))]}});const zc=po({batchToSpaceND_:function(e,t,n){const s=uo(e,"x","batchToSpaceND"),r=t.reduce(((e,t)=>e*t));Gt(s.rank>=1+t.length,(()=>`input rank is ${s.rank} but should be > than blockShape.length ${t.length}`)),Gt(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),Gt(s.shape[0]%r==0,(()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${r}`));const a={x:s},i={blockShape:t,crops:n};return eo.runKernel(Kn,a,i)}});const Lc=po({batchNorm_:function(e,t,n,s,r,a){null==a&&(a=.001);const i=uo(e,"x","batchNorm"),o=uo(t,"mean","batchNorm"),l=uo(n,"variance","batchNorm");let u,c;null!=r&&(u=uo(r,"scale","batchNorm")),null!=s&&(c=uo(s,"offset","batchNorm")),Gt(o.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Gt(null==c||o.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Gt(null==u||o.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const h={x:function(e){let t;return t=0===e.rank||1===e.rank?Ic(e,[1,1,1,e.size]):2===e.rank?Ic(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Ic(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(i),scale:u,offset:c,mean:o,variance:l},d={varianceEpsilon:a},p=eo.runKernel(Ps,h,d);return Ic(p,i.shape)}});const Pc=po({batchNorm2d_:function(e,t,n,s,r,a){const i=uo(e,"x","batchNorm"),o=uo(t,"mean","batchNorm"),l=uo(n,"variance","batchNorm");let u,c;return null!=r&&(u=uo(r,"scale","batchNorm")),null!=s&&(c=uo(s,"offset","batchNorm")),Gt(2===i.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`)),Gt(2===o.rank||1===o.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`)),Gt(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&Gt(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&Gt(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),Lc(i,o,l,c,u,a)}});const Vc=po({batchNorm3d_:function(e,t,n,s,r,a){const i=uo(e,"x","batchNorm"),o=uo(t,"mean","batchNorm"),l=uo(n,"variance","batchNorm");let u,c;return null!=r&&(u=uo(r,"scale","batchNorm")),null!=s&&(c=uo(s,"offset","batchNorm")),Gt(3===i.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`)),Gt(3===o.rank||1===o.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`)),Gt(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&Gt(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&Gt(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),Lc(i,o,l,c,u,a)}});const Wc=po({batchNorm4d_:function(e,t,n,s,r,a){const i=uo(e,"x","batchNorm"),o=uo(t,"mean","batchNorm"),l=uo(n,"variance","batchNorm");let u,c;return null!=r&&(u=uo(r,"scale","batchNorm")),null!=s&&(c=uo(s,"offset","batchNorm")),Gt(4===i.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`)),Gt(4===o.rank||1===o.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`)),Gt(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&Gt(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&Gt(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),Lc(i,o,l,c,u,a)}});const Uc=po({bincount_:function(e,t,n){const s=uo(e,"x","bincount"),r=uo(t,"weights","bincount");Gt("int32"===s.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${s.dtype}`)),Gt(n>=0,(()=>`size must be non-negative, but got ${n}.`)),Gt(r.size===s.size||0===r.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${s.shape}, weights shape: ${r.shape}.`));const a={x:s,weights:r},i={size:n};return eo.runKernel(Xn,a,i)}});const Gc=po({bitwiseAnd_:function(e,t){const n=uo(e,"x","bitwiseAnd"),s=uo(t,"y","bitwiseAnd");if(!$t(n.shape,s.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${s.shape}`);if("int32"!==n.dtype||"int32"!==s.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${s.dtype}`);const r={a:n,b:s};return eo.runKernel(Zn,r)}});const qc=po({broadcastArgs_:function(e,t){const n=uo(e,"s0","broadcastArgs","int32"),s=uo(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==s.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${s.rank}`);const r={s0:n,s1:s};return eo.runKernel(Yn,r)}});const jc=po({broadcastTo_:function(e,t){let n=uo(e,"broadcastTo","x");const s=n.shape;if(yn(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=Ic(n,e)}const r=n.shape,a=Array.from(t);for(let e=t.length-1;e>=0;e--)if(r[e]===t[e])a[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${t}].`);if(0===a.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return Nl(n);const i={x:n},o={reps:a};return eo.runKernel(Ea,i,o)}});const Hc=po({ceil_:function(e){const t={x:uo(e,"x","ceil","float32")};return eo.runKernel(Jn,t)}});const $c=po({clipByValue_:function(e,t,n){const s=uo(e,"x","clipByValue");if(Gt(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return Kl(s.shape,t,s.dtype);const r={x:s},a={clipValueMin:t,clipValueMax:n};return eo.runKernel(es,r,a)}});const Kc=po({concat1d_:function(e){return Oc(e,0)}});const Xc=po({concat2d_:function(e,t){return Oc(e,t)}});const Zc=po({concat3d_:function(e,t){return Oc(e,t)}});const Yc=po({concat4d_:function(e,t){return Oc(e,t)}});const Qc=po({conv2d_:function(e,t,n,s,r="NHWC",a=[1,1],i){const o=uo(e,"x","conv2d","float32"),l=uo(t,"filter","conv2d","float32");let u=o,c=!1;3===o.rank&&(c=!0,u=Ic(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Gt(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),Gt(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),_c("conv2d",s,i);const h="NHWC"===r?u.shape[3]:u.shape[1];Gt(h===l.shape[2],(()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${l.shape[2]}.`)),Gt(Cc(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),Gt(Sc(a),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),Gt(Sc(n),(()=>"Error in conv2D: Strides should be larger than 0."));const d={x:u,filter:l},p={strides:n,pad:s,dataFormat:r,dilations:a,dimRoundingMode:i},f=eo.runKernel(rs,d,p);return c?Ic(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Jc=po({conv1d_:function(e,t,n,s,r="NWC",a=1,i){const o=uo(e,"x","conv1d"),l=uo(t,"filter","conv1d");let u=o,c=!1;2===o.rank&&(c=!0,u=Ic(o,[1,o.shape[0],o.shape[1]])),Gt(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),Gt(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),_c("conv1d",s,i),Gt(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),Gt(Cc(n,a),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${a}'`)),Gt(Sc(a),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),Gt(Sc(n),(()=>"Error in conv1D: Stride should be larger than 0.")),Gt("NWC"===r,(()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`));const h=Ic(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=Ic(u,[u.shape[0],1,u.shape[1],u.shape[2]]),p=Qc(d,h,[1,n],s,"NHWC",[1,a],i);return Ic(p,c?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const eh=po({conv2DBackpropInput_:function(e,t,n,s,r,a="NHWC",i){Gt(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let o=e,l=t,u=!1;3===t.rank&&(u=!0,l=Ic(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),Gt(4===o.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`)),Gt(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),Gt(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===a?o[3]:o[1],h="NHWC"===a?l.shape[3]:l.shape[1];Gt(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),Gt(h===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[3]}.`)),_c("conv2dDerInput",r,i);const d={dy:l,filter:n},p={strides:s,pad:r,dataFormat:a,dimRoundingMode:i,inputShape:o},f=eo.runKernel(is,d,p);return u?Ic(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const th=po({conv2dTranspose_:function(e,t,n,s,r,a){const i=uo(e,"x","conv2dTranspose"),o=uo(t,"filter","conv2dTranspose");return eh(n,i,o,s,r,"NHWC",a)}});const nh=po({conv3d_:function(e,t,n,s,r="NDHWC",a=[1,1,1]){const i=uo(e,"x","conv3d"),o=uo(t,"filter","conv3d");let l=i,u=!1;4===i.rank&&(u=!0,l=Ic(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Gt(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),Gt(5===o.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`)),Gt(l.shape[4]===o.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`)),Gt(Cc(n,a),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),Gt("NDHWC"===r,(()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`)),Gt(Sc(a),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),Gt(Sc(n),(()=>"Error in conv3D: Strides should be larger than 0."));const c={x:l,filter:o},h={strides:n,pad:s,dataFormat:r,dilations:a},d=eo.runKernel(os,c,h);return u?Ic(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const sh=po({conv3DBackpropInput_:function(e,t,n,s,r){Gt(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let a=e,i=t,o=!1;4===t.rank&&(o=!0,i=Ic(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);const l=a[4],u=i.shape[4];Gt(5===a.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`)),Gt(5===i.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`)),Gt(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),Gt(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),Gt(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:i,filter:n},h={pad:r,strides:s,inputShape:a},d=eo.runKernel(us,c,h);return o?Ic(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const rh=po({conv3dTranspose_:function(e,t,n,s,r){const a=uo(e,"x","conv3dTranspose"),i=uo(t,"filter","conv3dTranspose");return sh(n,a,i,s,r)}});const ah=po({cos_:function(e){const t={x:uo(e,"x","cos","float32")};return eo.runKernel(cs,t)}});const ih=po({cosh_:function(e){const t={x:uo(e,"x","cosh","float32")};return eo.runKernel(hs,t)}});const oh=po({cumprod_:function(e,t=0,n=!1,s=!1){const r={x:uo(e,"x","cumprod")},a={axis:t,exclusive:n,reverse:s};return eo.runKernel(ds,r,a)}});const lh=po({cumsum_:function(e,t=0,n=!1,s=!1){const r={x:uo(e,"x","cumsum")},a={axis:t,exclusive:n,reverse:s};return eo.runKernel(ps,r,a)}});const uh=po({denseBincount_:function(e,t,n,s=!1){const r=uo(e,"x","denseBincount"),a=uo(t,"weights","denseBincount");Gt("int32"===r.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`)),Gt(r.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`)),Gt(n>=0,(()=>`size must be non-negative, but got ${n}.`)),Gt(a.size===r.size||0===a.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${a.shape}.`));const i={x:r,weights:a},o={size:n,binaryOutput:s};return eo.runKernel(ms,i,o)}});const ch=po({depthToSpace_:function(e,t,n="NHWC"){const s=uo(e,"x","depthToSpace","float32"),r="NHWC"===n?s.shape[1]:s.shape[2],a="NHWC"===n?s.shape[2]:s.shape[3],i="NHWC"===n?s.shape[3]:s.shape[1];Gt(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),Gt(r*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${r} and ${t}  for depthToSpace with input shape\n    ${s.shape}`)),Gt(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t} for depthToSpace with input shape\n        ${s.shape}`)),Gt(i%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${s.shape}`));const o={x:s},l={blockSize:t,dataFormat:n};return eo.runKernel(gs,o,l)}});const hh=po({depthwiseConv2d_:function(e,t,n,s,r="NHWC",a=[1,1],i){const o=uo(e,"x","depthwiseConv2d","float32"),l=uo(t,"filter","depthwiseConv2d","float32");let u=o,c=!1;3===o.rank&&(c=!0,u=Ic(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Gt(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),Gt(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const h="NHWC"===r?u.shape[3]:u.shape[1];Gt(h===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${h}) must match the inChannels dimension in filter ${l.shape[2]}.`)),_c("depthwiseConv2d",s,i);const d={x:u,filter:l},p={strides:n,pad:s,dataFormat:r,dilations:a,dimRoundingMode:i},f=eo.runKernel(ys,d,p);return c?Ic(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const dh=po({diag_:function(e){const t={x:uo(e,"x","diag")};return eo.runKernel(vs,t)}});const ph=po({dilation2d_:function(e,t,n,s,r=[1,1],a="NHWC"){const i=uo(e,"x","dilation2d"),o=uo(t,"filter","dilation2d");Gt(3===i.rank||4===i.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`)),Gt(3===o.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`)),Gt("NHWC"===a,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`));let l=i,u=!1;3===i.rank&&(l=Ic(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0),Gt(l.shape[3]===o.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`));const c={x:l,filter:o},h={strides:n,pad:s,dilations:r},d=eo.runKernel(xs,c,h);return u?Ic(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const fh=po({equal_:function(e,t){let n=uo(e,"a","equal","string_or_numeric"),s=uo(t,"b","equal","string_or_numeric");[n,s]=Hi(n,s),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(Ns,r)}});const mh=po({where_:function(e,t,n){const s=uo(t,"a","where"),r=uo(n,"b","where"),a=uo(e,"condition","where","bool"),i=nu(nu(a.shape,s.shape),r.shape),o={condition:jc(a,i),t:jc(s,i),e:jc(r,i)};return eo.runKernel(Qr,o)}});const gh=po({divNoNan_:function(e,t){let n=uo(e,"a","div"),s=uo(t,"b","div");[n,s]=Hi(n,s);const r=Ml(n,s),a=Ll(r),i=fh(s,a);return mh(i,a,r)}});const yh=po({dot_:function(e,t){const n=uo(e,"t1","dot"),s=uo(t,"t2","dot");Gt(!(1!==n.rank&&2!==n.rank||1!==s.rank&&2!==s.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${s.rank}.`));const r=1===n.rank?n.size:n.shape[1],a=1===s.rank?s.size:s.shape[0];if(Gt(r===a,(()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${a}.`)),1===n.rank&&1===s.rank){const e=Ic(n,[1,-1]),t=Ic(s,[-1,1]),r=Rc(e,t);return Ic(r,[])}if(1===n.rank&&2===s.rank){const e=Ic(n,[1,-1]),t=Ic(s,[s.shape[0],s.shape[1]]),r=Rc(e,t);return Ic(r,[r.size])}if(2===n.rank&&1===s.rank){const e=Ic(s,[-1,1]),t=Rc(n,e);return Ic(t,[t.size])}{const e=Ic(s,[s.shape[0],s.shape[1]]);return Rc(n,e)}}});const bh=po({einsum_:function(e,...t){const n=t.map(((e,t)=>uo(e,`tensors${t}`,"einsum"))),s={equation:e};return eo.runKernel(Es,n,s)}});const wh=po({elu_:function(e){const t={x:uo(e,"x","elu","float32")};return eo.runKernel(_s,t)}});const vh=po({ensureShape_:function(e,t){const n=uo(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}});const xh=po({erf_:function(e){let t=uo(e,"x","erf");Gt("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=Tl(t,"float32"));const n={x:t};return eo.runKernel(Ts,n)}});function Ah(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function kh(e,t,n){const s=e.length+t.length,r=[];let a=0,i=0;for(let o=0;o<s;o++)-1===n.indexOf(o)?r.push(e[a++]):r.push(t[i++]);return r}function Ch(e,t){const n=[],s=e.length;for(let r=0;r<s;r++)-1===t.indexOf(r)&&n.push(e[r]);return[n,t.map((t=>e[t]))]}function Sh(e,t){return kh(e,t.map((e=>1)),t)}function Eh(e,t,n){Gt(Ah(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function _h(e,t){if(Ah(e,t))return null;const n=[];for(let s=0;s<t;++s)-1===e.indexOf(s)&&n.push(s);return e.forEach((e=>n.push(e))),n}function Ih(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function Th(e,t){const n=[];for(let s=t-e;s<t;++s)n.push(s);return n}const Nh=po({max_:function(e,t=null,n=!1){const s={x:uo(e,"x","max")},r={reductionIndices:t,keepDims:n};return eo.runKernel(or,s,r)}});const Oh=po({min_:function(e,t=null,n=!1){const s={x:uo(e,"x","min")},r={axis:t,keepDims:n};return eo.runKernel(mr,s,r)}});const Rh=po({sum_:function(e,t=null,n=!1){let s=uo(e,"x","sum");"bool"===s.dtype&&(s=Tl(s,"int32"));const r={x:s},a={axis:t,keepDims:n};return eo.runKernel(oa,r,a)}});function Dh(e,t,n=null){if(0===e.rank)return Jl(e);if(1!==e.rank&&null===n)return Dh(Ic(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Rh(Jl(e),n);if(t===1/0)return Nh(Jl(e),n);if(t===-1/0)return Oh(Jl(e),n);if("euclidean"===t||2===t)return Bl(Rh(Zl(Jl(e),Vl(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return Nh(Rh(Jl(e),n[0]),n[1]-1);if(t===1/0)return Nh(Rh(Jl(e),n[1]),n[0]);if(t===-1/0)return Oh(Rh(Jl(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Bl(Rh(zl(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Mh=po({norm_:function(e,t="euclidean",n=null,s=!1){const r=Dh(e=uo(e,"x","norm"),t,n);let a=r.shape;if(s){const t=Jt(n,e.shape);a=Sh(r.shape,t)}return Ic(r,a)}});const Fh=po({euclideanNorm_:function(e,t=null,n=!1){return Mh(e,"euclidean",t,n)}});const Bh=po({exp_:function(e){const t={x:uo(e,"x","exp")};return eo.runKernel(Os,t)}});const zh=po({expandDims_:function(e,t=0){const n=uo(e,"x","expandDims","string_or_numeric");Gt(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const s={input:n},r={dim:t};return eo.runKernel(Rs,s,r)}});const Lh=po({expm1_:function(e){const t={x:uo(e,"x","expm1")};return eo.runKernel(Ds,t)}});const Ph=po({tile_:function(e,t){const n=uo(e,"x","tile","string_or_numeric");Gt(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const s={x:n},r={reps:t};return eo.runKernel(Ea,s,r)}});const Vh=po({eye_:function(e,t,n,s="float32"){null==t&&(t=e);const r=Il([e,t],s),a=e<=t?e:t;for(let e=0;e<a;++e)r.set(1,e,e);const i=Ic(r.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return Ph(zh(i,0),[n[0],1,1]);if(2===n.length)return Ph(zh(zh(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return Ph(zh(zh(zh(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const Wh=po({floor_:function(e){const t={x:uo(e,"x","floor","float32")};return eo.runKernel(zs,t)}});const Uh=po({gather_:function(e,t,n=0,s=0){const r={x:uo(e,"x","gather"),indices:uo(t,"indices","gather","int32")},a={axis:n,batchDims:s};return eo.runKernel(Vs,r,a)}});const Gh=po({greater_:function(e,t){let n=uo(e,"a","greater","string_or_numeric"),s=uo(t,"b","greater","string_or_numeric");[n,s]=Hi(n,s),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(Us,r)}});const qh=po({greaterEqual_:function(e,t){let n=uo(e,"a","greaterEqual","string_or_numeric"),s=uo(t,"b","greaterEqual","string_or_numeric");[n,s]=Hi(n,s),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(Gs,r)}});const jh=po({imag_:function(e){const t={input:uo(e,"input","imag")};return eo.runKernel(Hs,t)}});const Hh=po({isFinite_:function(e){const t={x:uo(e,"x","isFinite")};return eo.runKernel($s,t)}});const $h=po({isInf_:function(e){const t={x:uo(e,"x","isInf")};return eo.runKernel(Ks,t)}});const Kh=po({isNaN_:function(e){const t={x:uo(e,"x","isNaN")};return eo.runKernel(Xs,t)}});const Xh=po({leakyRelu_:function(e,t=.2){const n={x:uo(e,"x","leakyRelu")},s={alpha:t};return eo.runKernel(Zs,n,s)}});const Zh=po({less_:function(e,t){let n=uo(e,"a","less","string_or_numeric"),s=uo(t,"b","less","string_or_numeric");[n,s]=Hi(n,s),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(Ys,r)}});const Yh=po({lessEqual_:function(e,t){let n=uo(e,"a","lessEqual","string_or_numeric"),s=uo(t,"b","lessEqual","string_or_numeric");[n,s]=Hi(n,s),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(Qs,r)}});function Qh(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const s={start:e,stop:t,num:n};return eo.runKernel(Js,{},s)}const Jh=po({localResponseNormalization_:function(e,t=5,n=1,s=1,r=.5){const a=uo(e,"x","localResponseNormalization");Gt(4===a.rank||3===a.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`)),Gt(Kt(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let i=a,o=!1;3===a.rank&&(o=!0,i=Ic(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:s,beta:r},c=eo.runKernel(ar,l,u);return o?Ic(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const ed=po({log_:function(e){const t={x:uo(e,"x","log","float32")};return eo.runKernel(er,t)}});const td=po({log1p_:function(e){const t={x:uo(e,"x","log1p")};return eo.runKernel(tr,t)}});const nd=po({neg_:function(e){const t={x:uo(e,"x","neg")};return eo.runKernel(xr,t)}});const sd=po({softplus_:function(e){const t={x:uo(e,"x","softplus")};return eo.runKernel(aa,t)}});const rd=po({logSigmoid_:function(e){const t=uo(e,"x","logSigmoid");return Pl((e=>({value:nd(sd(nd(e))),gradFunc:t=>Fl(t,Dc(nd(e)))})))(t)}});const ad=po({logSoftmax_:function(e,t=-1){const n=uo(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const s=Pl(((e,n)=>{const s=Nh(e,t,!0),r=Yl(e,s),a=Yl(Tl(r,"float32"),ed(Rh(Bh(r),t,!0)));n([a]);return{value:a,gradFunc:(e,n)=>{const[s]=n,r=Bh(s);return Yl(e,Fl(Rh(e,t,!0),r))}}}));return s(n)}});const id=po({logSumExp_:function(e,t=null,n=!1){const s=uo(e,"x","logSumExp"),r=Jt(t,s.shape),a=Nh(s,r,!0),i=Yl(s,a),o=Bh(i),l=Rh(o,r),u=ed(l),c=Rl(Ic(a,u.shape),u);if(n){const e=Sh(c.shape,r);return Ic(c,e)}return c}});const od=po({logicalAnd_:function(e,t){const n=uo(e,"a","logicalAnd","bool"),s=uo(t,"b","logicalAnd","bool");nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(nr,r)}});const ld=po({logicalNot_:function(e){const t={x:uo(e,"x","logicalNot","bool")};return eo.runKernel(sr,t)}});const ud=po({logicalOr_:function(e,t){const n=uo(e,"a","logicalOr","bool"),s=uo(t,"b","logicalOr","bool");nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(rr,r)}});const cd=po({logicalXor_:function(e,t){const n=uo(e,"a","logicalXor","bool"),s=uo(t,"b","logicalXor","bool");return nu(n.shape,s.shape),od(ud(e,t),ld(od(e,t)))}}),hd=2147483648;const dd=po({searchSorted_:function(e,t,n="left"){const s=uo(e,"sortedSequence","searchSorted"),r=uo(t,"values","searchSorted"),a=s.shape[s.shape.length-1],i=r.shape[r.shape.length-1],o=Ic(s,[-1,a]),l=Ic(r,[-1,i]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Ht(l.shape)>=hd)throw new Error("values tensor size must less than 2147483648");if(o.shape[1]>=hd)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${o.shape[1]}`);const u={sortedSequence:o,values:l},c={side:n};return eo.runKernel(Yr,u,c)}});function pd(e,t){return dd(e,t,"left")}const fd=po({maxPool_:function(e,t,n,s,r){const a=uo(e,"x","maxPool");let i=a,o=!1;3===a.rank&&(o=!0,i=Ic(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Gt(4===i.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`)),Gt(Cc(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),_c("maxPool",s,r);const l={x:i},u={filterSize:t,strides:n,pad:s,dimRoundingMode:r},c=eo.runKernel(ur,l,u);return o?Ic(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const md=po({maxPool3d_:function(e,t=[1,1,1],n,s,r,a="NDHWC"){const i=uo(e,"x","maxPool3d");let o=i,l=!1;4===i.rank&&(l=!0,o=Ic(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Gt(5===o.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`)),Gt("NDHWC"===a,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),_c("maxPool3d",s,r);const u={x:o},c={filterSize:t,strides:n,pad:s,dimRoundingMode:r,dataFormat:a},h=eo.runKernel(hr,u,c);return l?Ic(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const gd=po({maxPoolWithArgmax_:function(e,t,n,s,r=!1){const a={x:uo(e,"x","maxPoolWithArgmax")},i={filterSize:t,strides:n,pad:s,includeBatchInIndex:r},o=eo.runKernel(pr,a,i);return{result:o[0],indexes:o[1]}}});const yd=po({mean_:function(e,t=null,n=!1){const s={x:uo(e,"x","mean")},r={axis:t,keepDims:n};return eo.runKernel(fr,s,r)}});function bd(e,t="float32"){if(yn(e),"complex64"===t){const t=bd(e,"float32"),n=bd(e,"float32");return fo(t,n)}const n=mn(Ht(e),t);return eo.makeTensor(n,e,t)}function wd(e,t="float32"){if(yn(e),"complex64"===t){const t=wd(e,"float32"),n=bd(e,"float32");return fo(t,n)}const n=fn(Ht(e),t);return eo.makeTensor(n,e,t)}function vd(e,t,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let s=uo(e,"x","meshgrid",e instanceof Di?e.dtype:"float32");if(void 0===t)return[s];let r=uo(t,"y","meshgrid",t instanceof Di?t.dtype:"float32");const a=Ht(s.shape),i=Ht(r.shape);return"xy"===n?(s=Ic(s,[1,-1]),r=Ic(r,[-1,1]),[Rc(wd([i,1],s.dtype),s),Rc(r,wd([1,a],r.dtype))]):(s=Ic(s,[-1,1]),r=Ic(r,[1,-1]),[Rc(s,wd([1,i],s.dtype)),Rc(wd([a,1],r.dtype),r)])}const xd=po({minimum_:function(e,t){let n=uo(e,"a","minimum"),s=uo(t,"b","minimum");[n,s]=Hi(n,s),"bool"===n.dtype&&(n=Tl(n,"int32"),s=Tl(s,"int32")),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(gr,r)}});const Ad=po({mirrorPad_:function(e,t,n){Gt("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const s=uo(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Gt(t.length===s.rank,(()=>`Padding doesn't match input. Must be ${s.rank}. Got ${t.length}.`));const r="reflect"===n?1:0;for(let e=0;e<s.rank;e++)Gt(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Gt(t[e][0]>=0&&t[e][0]<=s.shape[e]-r&&t[e][1]>=0&&t[e][1]<=s.shape[e]-r,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${s.shape[e]-r} or less than 0 for input of shape ${s.shape}`));const a={paddings:t,mode:n},i={x:s};return eo.runKernel(yr,i,a)}});const kd=po({mod_:function(e,t){let n=uo(e,"a","mod"),s=uo(t,"b","mod");[n,s]=Hi(n,s);const r={a:n,b:s};return eo.runKernel(br,r)}});const Cd=po({moments_:function(e,t=null,n=!1){const s=Jt(t,(e=uo(e,"x","moments")).shape),r=yd(e,s,n);let a=r.shape;n||(a=Sh(r.shape,s));const i=zl(Yl(Tl(e,"float32"),Ic(r,a)));return{mean:r,variance:yd(i,s,n)}}});const Sd=po({multiRNNCell_:function(e,t,n,s){const r=uo(t,"data","multiRNNCell"),a=co(n,"c","multiRNNCell"),i=co(s,"h","multiRNNCell");let o=r;const l=[];for(let t=0;t<e.length;t++){const n=e[t](o,a[t],i[t]);l.push(n[0]),l.push(n[1]),o=n[1]}const u=[],c=[];for(let e=0;e<l.length;e+=2)u.push(l[e]),c.push(l[e+1]);return[u,c]}});const Ed=po({multinomial_:function(e,t,n,s=!1){const r=uo(e,"logits","multinomial"),a=r.size,i=r.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const o={logits:1===i?Ic(r,[1,-1]):r},l={numSamples:t,seed:n,normalized:s},u=eo.runKernel(wr,o,l);return 1===i?Ic(u,[u.size]):u}});const _d=po({notEqual_:function(e,t){let n=uo(e,"a","notEqual","string_or_numeric"),s=uo(t,"b","notEqual","string_or_numeric");[n,s]=Hi(n,s),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(Ar,r)}});const Id=po({oneHot_:function(e,t,n=1,s=0,r="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const a={indices:uo(e,"indices","oneHot","int32")},i={dtype:r,depth:t,onValue:n,offValue:s};return eo.runKernel(_r,a,i)}});const Td=po({onesLike_:function(e){const t={x:uo(e,"x","onesLike")};return eo.runKernel(Er,t)}});const Nd=po({outerProduct_:function(e,t){const n=uo(e,"v1","outerProduct"),s=uo(t,"v2","outerProduct");Gt(1===n.rank&&1===s.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${s.rank}.`));const r=Ic(n,[-1,1]),a=Ic(s,[1,-1]);return Rc(r,a)}});const Od=po({pad_:function(e,t,n=0){const s=uo(e,"x","pad");if(0===s.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:t,constantValue:n},a={x:s};return eo.runKernel(Tr,a,r)}});const Rd=po({pad1d_:function(e,t,n=0){return Gt(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),Od(e,[t],n)}});const Dd=po({pad2d_:function(e,t,n=0){return Gt(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Od(e,t,n)}});const Md=po({pad3d_:function(e,t,n=0){return Gt(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Od(e,t,n)}});const Fd=po({pad4d_:function(e,t,n=0){return Gt(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Od(e,t,n)}});const Bd=po({spaceToBatchND_:function(e,t,n){const s=uo(e,"x","spaceToBatchND");Gt(s.rank>=1+t.length,(()=>`input rank ${s.rank} should be > than [blockShape] ${t.length}`)),Gt(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),Gt(s.shape.reduce(((e,s,r)=>r>0&&r<=t.length?e&&(s+n[r-1][0]+n[r-1][1])%t[r-1]==0:e),!0),(()=>`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const r={x:s},a={blockShape:t,paddings:n};return eo.runKernel(la,r,a)}});const zd=po({pool_:function(e,t,n,s,r,a,i){null==r&&(r=[1,1]),null==a&&(a=1),0===s&&(s="valid");const o=uo(e,"x","maxPool");let l=o,u=!1;3===o.rank&&(u=!0,l=Ic(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Gt(Cc(a,r),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${r}'`));const c=fc(l.shape,t,a,r,s),h=[c.dilationHeight,c.dilationWidth];let d;d="same"===s?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),s=n.map((e=>e-1)),r=s.map((e=>Math.floor(e/2))),a=s.map(((e,t)=>e-r[t]));return s.map(((e,t)=>[r[t],a[t]]))}([c.filterHeight,c.filterWidth],h):[[0,0],[0,0]];const p=1===h[0]&&1===h[1],[f,m]=function(e,t,n){const s=n.map((e=>e[0])),r=n.map((e=>e[1])),a=e.concat(s,r),i=t.map(((e,t)=>(e-a[t]%e)%e)),o=r.map(((e,t)=>e+i[t])),l=t.map(((e,t)=>[s[t],o[t]])),u=t.map(((e,t)=>[0,i[t]]));return[l,u]}([c.inHeight,c.inWidth],h,d),g=p?s:"valid",y=p?l:Bd(l,h,f),b=("avg"===n?()=>Tc(y,t,a,g,i):()=>fd(y,t,a,g,i))(),w=p?b:zc(b,h,m);return u?Ic(w,[w.shape[1],w.shape[2],w.shape[3]]):w}});const Ld=po({prelu_:function(e,t){const n={x:uo(e,"x","prelu"),alpha:uo(t,"alpha","prelu")};return eo.runKernel(Or,n)}});const Pd=po({prod_:function(e,t=null,n=!1){let s=uo(e,"x","prod");"bool"===s.dtype&&(s=Tl(s,"int32"));const r={x:s},a={axis:t,keepDims:n};return eo.runKernel(Rr,r,a)}});const Vd=po({raggedGather_:function(e,t,n,s){const r={paramsNestedSplits:e.map(((e,t)=>uo(e,`tensors${t}`,"raggedGather","int32"))),paramsDenseValues:uo(t,"paramsDenseValues","raggedGather"),indices:uo(n,"indices","raggedGather","int32")},a={outputRaggedRank:s},i=eo.runKernel(Dr,r,a);return{outputNestedSplits:i.slice(0,i.length-1),outputDenseValues:i[i.length-1]}}});const Wd=po({raggedRange_:function(e,t,n){const s=uo(e,"starts","raggedRange"),r={starts:s,limits:uo(t,"limits","raggedRange",s.dtype),deltas:uo(n,"deltas","raggedRange",s.dtype)},a=eo.runKernel(Mr,r);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}});const Ud=po({raggedTensorToTensor_:function(e,t,n,s,r){const a=uo(e,"shape","raggedTensorToTensor","int32"),i=uo(t,"values","raggedTensorToTensor"),o={shape:a,values:i,defaultValue:uo(n,"defaultValue","raggedTensorToTensor",i.dtype),rowPartitionTensors:s.map(((e,t)=>uo(e,`tensors${t}`,"raggedTensorToTensor","int32")))},l={rowPartitionTypes:r};return eo.runKernel(Fr,o,l)}});const Gd=po({rand_:function(e,t,n){yn(e);const s=Ht(e);let r=null;if(null==n||"float32"===n)r=new Float32Array(s);else if("int32"===n)r=new Int32Array(s);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);r=new Uint8Array(s)}for(let e=0;e<s;e++)r[e]=t();return eo.makeTensor(r,e,n)}});var qd=__webpack_require__(2183);class jd{constructor(e,t,n,s,r){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const a=r||Math.random();this.random=qd.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let s,r,a;do{s=2*this.random()-1,r=2*this.random()-1,a=s*s+r*r}while(a>=1||0===a);const i=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*s*i,t=this.mean+this.stdDev*r*i,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Hd{constructor(e,t,n,s){this.alpha=e,this.beta=1/t,this.dtype=n;const r=s||Math.random();this.randu=qd.alea(r.toString()),this.randn=new jd(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,s,r,a;for(;;){do{s=this.randn.nextValue(),a=1+this.c*s}while(a<=0);if(a*=a*a,e=s*s,t=1-.331*e*e,n=.5*e+this.d*(1-a+Math.log(a)),r=this.randu(),r<t||Math.log(r)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class $d{constructor(e=0,t=1,n,s){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==s&&(s=Math.random()),"number"==typeof s&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=qd.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const Kd=po({randomGamma_:function(e,t,n=1,s="float32",r){if(yn(e),null==n&&(n=1),null==s&&(s="float32"),"float32"!==s&&"int32"!==s)throw new Error(`Unsupported data type ${s}`);const a=new Hd(t,n,s,r),i=Il(e,s);for(let e=0;e<i.values.length;e++)i.values[e]=a.nextValue();return i.toTensor()}});const Xd=po({randomNormal_:function(e,t=0,n=1,s,r){if(yn(e),null!=s&&"bool"===s)throw new Error(`Unsupported data type ${s}`);const a=new jd(t,n,s,!1,r),i=Il(e,s);for(let e=0;e<i.values.length;e++)i.values[e]=a.nextValue();return i.toTensor()}});const Zd=po({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return Xd(e,0,1,t,n)}});const Yd=po({randomUniform_:function(e,t=0,n=1,s="float32",r){yn(e);const a=Il(e,s),i=new $d(t,n,null,r);for(let e=0;e<a.values.length;e++)a.values[e]=i.nextValue();return a.toTensor()}});const Qd=po({randomUniformInt_:function(e,t,n,s){return Yd(e,t,n,"int32",s)}});function Jd(e,t,n=1,s="float32"){if(0===n)throw new Error("Cannot have a step of zero");const r={start:e,stop:t,step:n,dtype:s};return eo.runKernel(Br,{},r)}const ep=po({real_:function(e){const t={input:uo(e,"input","real")};return eo.runKernel(zr,t)}});const tp=po({reciprocal_:function(e){const t={x:uo(e,"x","reciprocal")};return eo.runKernel(Lr,t)}});const np=po({relu_:function(e){const t={x:uo(e,"x","relu")};return eo.runKernel(Pr,t)}});const sp=po({relu6_:function(e){const t={x:uo(e,"x","relu6")};return eo.runKernel(jr,t)}});const rp=po({reverse_:function(e,t){const n={x:uo(e,"x","reverse")},s={dims:t};return eo.runKernel(Hr,n,s)}});const ap=po({reverse1d_:function(e){const t=uo(e,"x","reverse");return Gt(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),rp(t,0)}});const ip=po({reverse2d_:function(e,t){const n=uo(e,"x","reverse");return Gt(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),rp(n,t)}});const op=po({reverse3d_:function(e,t){const n=uo(e,"x","reverse");return Gt(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),rp(n,t)}});const lp=po({reverse4d_:function(e,t){const n=uo(e,"x","reverse");return Gt(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),rp(n,t)}});const up=po({round_:function(e){const t={x:uo(e,"x","round")};return eo.runKernel($r,t)}});const cp=po({rsqrt_:function(e){const t={x:uo(e,"x","rsqrt","float32")};return eo.runKernel(Kr,t)}});const hp=po({selu_:function(e){const t={x:uo(e,"x","selu")};return eo.runKernel(Jr,t)}});const dp=po({separableConv2d_:function(e,t,n,s,r,a=[1,1],i="NHWC"){const o=uo(e,"x","separableConv2d"),l=uo(t,"depthwiseFilter","separableConv2d"),u=uo(n,"pointwiseFilter","separableConv2d");let c=o,h=!1;if(3===o.rank&&(h=!0,c=Ic(o,[1,o.shape[0],o.shape[1],o.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Gt(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),Gt(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),Gt(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),Gt(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),Gt(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const d=l.shape[2],p=l.shape[3];Gt(u.shape[2]===d*p,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*p}, but got ${u.shape[2]}.`));const f=hh(c,l,s,r,i,a),m=Qc(f,u,1,"valid",i);return h?Ic(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const pp=async function(e,t){const n=uo(e,"x","setdiff1d"),s=uo(t,"y","setdiff1d");Gt(n.dtype===s.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${s.dtype}).`)),Gt(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),Gt(1===s.rank,(()=>`y should be 1D tensor, but got y (${s.shape}).`));const r=await n.data(),a=await s.data(),i=new Set(a);let o=0;for(let e=0;e<r.length;e++)i.has(r[e])||o++;const l=new Ti([o],n.dtype),u=new Ti([o],"int32");for(let e=0,t=0;e<r.length;e++)i.has(r[e])||(l.values[t]=r[e],u.values[t]=e,t++);return[l.toTensor(),u.toTensor()]};const fp=po({sign_:function(e){const t={x:uo(e,"x","sign")};return eo.runKernel(sa,t)}});const mp=po({sin_:function(e){const t={x:uo(e,"x","sin","float32")};return eo.runKernel(ta,t)}});const gp=po({sinh_:function(e){const t={x:uo(e,"x","sinh")};return eo.runKernel(na,t)}});const yp=po({slice1d_:function(e,t,n){const s=uo(e,"x","slice1d");return Gt(1===s.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${s.rank} tensor`)),Mc(s,[t],[n])}});const bp=po({slice2d_:function(e,t,n){const s=uo(e,"x","slice2d");return Gt(2===s.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${s.rank} tensor`)),Mc(s,t,n)}});const wp=po({slice3d_:function(e,t,n){const s=uo(e,"x","slice3d");return Gt(3===s.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${s.rank} tensor`)),Mc(s,t,n)}});const vp=po({slice4d_:function(e,t,n){const s=uo(e,"x","slice4d");return Gt(4===s.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${s.rank} tensor`)),Mc(s,t,n)}});const xp=po({softmax_:function(e,t=-1){const n=uo(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const s={logits:n},r={dim:t};return eo.runKernel(ca,s,r)}});const Ap=po({fft_:function(e){Gt("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return eo.runKernel(Ms,t)}});const kp=po({ifft_:function(e){Gt("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return eo.runKernel(js,t)}});const Cp=po({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let s;if(t<=2){const r=Ic(e,[n,t]);s=kp(r)}else{const r=[n,2*(t-1)],a=Ic(ep(e),[n,t]),i=Ic(jh(e),[n,t]),o=rp(Mc(a,[0,1],[n,t-2]),1),l=Fl(rp(Mc(i,[0,1],[n,t-2]),1),Vl(-1)),u=Oc([a,o],1),c=Oc([i,l],1),h=Ic(fo(u,c),[r[0],r[1]]);s=kp(h)}if(s=ep(s),3===e.rank&&0!==e.shape[0]){const t=s,n=e.shape[0];s=Ic(s,[n,s.shape[0]/n,s.shape[1]]),t.dispose()}return s}});const Sp=po({split_:function(e,t,n=0){const s={x:uo(e,"x","split")},r={numOrSizeSplits:t,axis:n};return eo.runKernel(ua,s,r)}});const Ep=po({rfft_:function(e,t){Gt("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const s=e.size/n;let r;if(null!=t&&t<n){const s=e.shape.map((e=>0)),a=e.shape.map((e=>e));a[e.shape.length-1]=t,r=Mc(e,s,a),n=t}else if(null!=t&&t>n){const s=e.shape.map((e=>e));s[e.shape.length-1]=t-n,r=Oc([e,bd(s)],e.shape.length-1),n=t}else r=e;const a=Ll(r),i=Ic(fo(r,a),[s,n]),o=Ap(i),l=Math.floor(n/2)+1,u=ep(o),c=jh(o),h=Sp(u,[l,n-l],u.shape.length-1),d=Sp(c,[l,n-l],c.shape.length-1),p=r.shape.slice();return p[r.shape.length-1]=l,Ic(fo(h[0],d[0]),p)}});const _p=po({squaredDifference_:function(e,t){let n=uo(e,"a","squaredDifference"),s=uo(t,"b","squaredDifference");[n,s]=Hi(n,s),nu(n.shape,s.shape);const r={a:n,b:s};return eo.runKernel(ga,r,{})}});const Ip=po({squeeze_:function(e,t){const n=uo(e,"x","squeeze","string_or_numeric");return Ic(n,en(n.shape,t).newShape)}});const Tp=po({stack_:function(e,t=0){const n=co(e,"tensors","stack","string_or_numeric");Gt(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&Gt(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const s=n,r={axis:t};return eo.runKernel(Ir,s,r)}});const Np=po({step_:function(e,t=0){const n={x:uo(e,"x","step")},s={alpha:t};return eo.runKernel(Ma,n,s)}});const Op=po({stridedSlice_:function(e,t,n,s,r=0,a=0,i=0,o=0,l=0){const u={x:uo(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:s,beginMask:r,endMask:a,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:l};return eo.runKernel(wa,u,c)}});const Rp=po({tan_:function(e){const t={x:uo(e,"x","tan","float32")};return eo.runKernel(Ca,t)}});function Dp(e,t){jt(e);const n=io(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return mo(e,null,n,t)}function Mp(e,t,n){if(jt(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const s=io(e,n);if(2!==s.length&&1!==s.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return mo(e,t,s,n)}function Fp(e,t,n){if(jt(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const s=io(e,n);if(4!==s.length&&1!==s.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return mo(e,t,s,n)}function Bp(e,t,n){if(jt(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const s=io(e,n);if(5!==s.length&&1!==s.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return mo(e,t,s,n)}function zp(e,t,n){if(jt(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const s=io(e,n);if(6!==s.length&&1!==s.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return mo(e,t=t||s,s,n)}function Lp(e,t,n){const s=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${s}, and batchDim: ${r}.`;if(n.rank<r)throw new Error(a+` update.rank < ${r}. `);if(e.length<s+(n.rank-r))throw new Error(a+` Output shape length < ${s+(n.rank-r)}`);if(n.rank!==r+e.length-s)throw new Error(a+" update.rank != "+(r+e.length-s));for(let e=0;e<r;++e)if(n.shape[e]!==t.shape[e])throw new Error(a+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-r;++t)if(n.shape[t+r]!==e[t+s])throw new Error(a+` updates.shape[${t+r}] (${n.shape[t+r]}) != shape[${t+r}] (${e[t+r]})`)}function Pp(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}Lp(n,t,e)}function Vp(e,t,n){const s=t.shape.length,r=s>1?t.shape[s-1]:1,a=n.length;let i=1;for(let e=r;e<a;++e)i*=n[e];const o=r<1?1:r;return{sliceRank:r,numUpdates:Ht(t.shape)/o,sliceSize:i,strides:[...hn(n.slice(0,r)),1],outputSize:Ht(n)}}const Wp=po({tensorScatterUpdate_:function(e,t,n){const s=uo(e,"tensor","tensorScatterupdate"),r=uo(t,"indices","tensorScatterupdate","int32"),a=uo(n,"updates","tensorScatterupdate");if(Pp(a,r,s.shape),s.dtype!==a.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${s.dtype} and ${a.dtype}.`);const i={tensor:s,indices:r,updates:a};return eo.runKernel(Zr,i,{})}});const Up=po({topk_:function(e,t=1,n=!0){const s=uo(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const r=s.shape[s.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${t}`);const a={x:s},i={k:t,sorted:n},[o,l]=eo.runKernel(_a,a,i);return{values:o,indices:l}}});const Gp=po({truncatedNormal_:function(e,t=0,n=1,s,r){if(yn(e),null!=s&&"bool"===s)throw new Error("Unsupported data type $ { dtype }");const a=new jd(t,n,s,!0,r),i=Il(e,s);for(let e=0;e<i.values.length;e++)i.values[e]=a.nextValue();return i.toTensor()}});const qp=po({unique_:function(e,t=0){const n=uo(e,"x","unique","string_or_numeric");Gt(n.rank>0,(()=>"The input tensor must be at least 1D"));const s={x:n},r={axis:t},[a,i]=eo.runKernel(Na,s,r);return{values:a,indices:i}}});const jp=po({unsortedSegmentSum_:function(e,t,n){const s=uo(e,"x","unsortedSegmentSum"),r=uo(t,"segmentIds","unsortedSegmentSum","int32");Gt(Kt(n),(()=>"numSegments must be of dtype int"));const a={x:s,segmentIds:r},i={numSegments:n};return eo.runKernel(Ra,a,i)}});const Hp=po({unstack_:function(e,t=0){const n=uo(e,"x","unstack","string_or_numeric");Gt(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const s={value:n},r={axis:t};return eo.runKernel(Oa,s,r)}});function $p(e,t){return dd(e,t,"right")}function Kp(e,t=!0,n,s){return eo.makeVariable(e,t,n,s)}function Xp(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const s=Il(e,"int32"),r=Il([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const a=s.indexToLoc(n[t]),i=t*e.length;r.values.set(a,i)}return r.toTensor()}const Zp=async function(e){const t=uo(e,"condition","whereAsync","bool"),n=await t.data(),s=Xp(t.shape,n);return e!==t&&t.dispose(),s};const Yp=async function(e,t,n){const s=uo(e,"tensor","boolMask"),r=uo(t,"mask","boolMask","bool"),a=null==n?0:n,i=r.rank,o=s.shape;Gt(i>0,(()=>"mask cannot be scalar")),qt(o.slice(a,a+i),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let e=a;e<a+i;e++)l*=o[e];const u=o.slice(0,a).concat([l],o.slice(a+i)),c=Ic(s,u),h=Ic(r,[-1]),d=await Zp(h),p=Ip(d,[1]),f=Uh(c,p,a);return e!==s&&s.dispose(),t!==r&&r.dispose(),p.dispose(),c.dispose(),h.dispose(),d.dispose(),f};const Qp=po({transpose_:function(e,t,n){const s=uo(e,"x","transpose");if(null==t&&(t=s.shape.map(((e,t)=>t)).reverse()),Gt(s.rank===t.length,(()=>`Error in transpose: rank of input ${s.rank} must match length of perm ${t}.`)),t.forEach((e=>{Gt(e>=0&&e<s.rank,(()=>"All entries in 'perm' must be between 0 and "+(s.rank-1)+` but got ${t}`))})),s.rank<=1)return s.clone();const r={x:s},a={perm:t};return"complex64"===s.dtype?xo((()=>{let e=ep(s),t=jh(s);return e=eo.runKernel(Ta,{x:e},a),t=eo.runKernel(Ta,{x:t},a),n&&(t=nd(t)),fo(e,t)})):eo.runKernel(Ta,r,a)}});const Jp=po({movingAverage_:function(e,t,n,s,r=!0){const a=uo(e,"v","movingAverage"),i=uo(t,"x","movingAverage"),o=uo(n,"decay","movingAverage");var l,u;u=i,Gt((l=a).dtype===u.dtype,(()=>`The dtypes of the first(${l.dtype}) and second(${u.dtype}) input must match`)),Gt($t(a.shape,i.shape),(()=>"Shape mismatch in v and x"));const c=Vl(1),h=Yl(c,o);let d=Fl(Yl(i,a),h);if(r){Gt(null!=s,(()=>"When using zeroDebias: true, step is required."));const e=uo(s,"step","movingAverage");d=Ml(d,Yl(c,Zl(o,e)))}return Rl(a,d)}});const ef=po({scatterND_:function(e,t,n){yn(n);const s=uo(e,"indices","scatterND","int32"),r=uo(t,"updates","scatterND");Pp(r,s,n);const a={indices:s,updates:r},i={shape:n};return eo.runKernel(Xr,a,i)}});const tf=po({sparseToDense_:function(e,t,n,s=0){yn(n);const r=uo(e,"sparseIndices","sparseToDense","int32"),a=uo(t,"sparseValues","sparseToDense","string_or_numeric"),i=uo(s,"defaultValue","sparseToDense",a.dtype);!function(e,t,n,s){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const r=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${a}.`);const i=t.size;if(0!==t.rank&&(1!==t.rank||i!==r))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${r}]`);if(t.dtype!==s.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(r,a,n,i);const o={sparseIndices:r,sparseValues:a,defaultValue:i},l={outputShape:n};return eo.runKernel(ma,o,l)}});const nf=po({gatherND_:function(e,t){const n=uo(t,"indices","gatherND","int32"),s={params:uo(e,"x","gatherND","string_or_numeric"),indices:n};return eo.runKernel(Ws,s)}});const sf=po({dropout_:function(e,t,n,s){const r=uo(e,"x","dropout");if(Gt("float32"===r.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`)),Gt(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof Di?r.clone():r;const a=function(e,t){if(null==t)return e.shape.slice();if($t(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let s=0;s<e.shape.length;s++)null==t[s]&&null!=e.shape[s]?n.push(e.shape[s]):n.push(t[s]);return n}return t}(r,n),i=1-t,o=Ml(Wh(Rl(Yd(a,0,1,"float32",s),i)),i);return Fl(r,o)}});function rf(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function af(e,t,n){const s=1-e%2,r=new Float32Array(e);for(let a=0;a<e;++a){const i=2*Math.PI*a/(e+s-1);r[a]=t-n*Math.cos(i)}return Dp(r,"float32")}const of=async function(e,t,n=1){const s=uo(e,"predictions","inTopK"),r=uo(t,"targets","inTopK");Gt(s.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${s.rank}`)),Gt(s.rank-1===r.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${s.rank} and targets rank ${r.rank}`)),qt(s.shape.slice(0,s.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=s.shape[s.shape.length-1];Gt(n>0&&n<=a,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${n}`));const i=await s.data(),o=await r.data(),[l,u]=[i.length/a,a],c=tn("bool",l);for(let e=0;e<l;e++){const t=e*u,s=i.subarray(t,t+u),r=[];for(let e=0;e<s.length;e++)r.push({value:s[e],index:e});r.sort(((e,t)=>t.value-e.value)),c[e]=0;for(let t=0;t<n;t++)if(r[t].index===o[e]){c[e]=1;break}}return e!==s&&s.dispose(),t!==r&&r.dispose(),go(c,r.shape,"bool")};const lf=po({conv2DBackpropFilter_:function(e,t,n,s,r,a="NHWC",i){let o=e;3===e.rank&&(o=Ic(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=Ic(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Gt(4===o.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`)),Gt(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),Gt(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===a?o.shape[3]:o.shape[1],c="NHWC"===a?l.shape[3]:l.shape[1];Gt(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),Gt(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),_c("conv2dDerFilter",r,i);const h={x:o,dy:l},d={strides:s,pad:r,dataFormat:a,dimRoundingMode:i,filterShape:n};return eo.runKernel(as,h,d)}});function uf(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Fl(e,Np(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function cf(e,t){let n=t;const s=tu(e.shape,t.shape);return s.length>0&&(n=Rh(n,s)),Ic(n,e.shape)}function hf(e,t,n,s){if("linear"===t)return e;if("relu"===t)return np(e);if("elu"===t)return wh(e);if("relu6"===t)return sp(e);if("prelu"===t)return Ld(e,n);if("leakyrelu"===t)return Xh(e,s);if("sigmoid"===t)return Dc(e);throw new Error(`Unknown fused activation ${t}.`)}const df=(e,t)=>!(e>0)||"linear"===t;const pf=po({fusedConv2d_:function({x:e,filter:t,strides:n,pad:s,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:i,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",!1===df(eo.state.gradientDepth,l)){Gt("NHWC"===r,(()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let h=Qc(e,t,n,s,r,a,i);return null!=o&&(h=Rl(h,o)),hf(h,l,u,c)}const h=uo(e,"x","conv2d","float32"),d=uo(t,"filter","conv2d","float32");let p=h,f=!1;3===h.rank&&(f=!0,p=Ic(h,[1,h.shape[0],h.shape[1],h.shape[2]])),Gt(4===p.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`)),Gt(4===d.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`)),_c("fused conv2d",s,i);const m="NHWC"===r?p.shape[3]:p.shape[1];Gt(d.shape[2]===m,(()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${d.shape[2]}.`)),Gt(Cc(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`));const g=gc(p.shape,d.shape,n,a,s,i);let y,b;if(null!=o&&(y=uo(o,"bias","fused conv2d"),[y]=Hi(y,h),"NHWC"===r?nu(g.outShape,y.shape):(Gt(y.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`)),Gt(0===y.shape.length||y.shape[0]===g.outChannels||1===y.shape[0],(()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${g.outChannels})`)))),null!=u){const e=u.shape;if(Gt(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)Gt(1===e[0]||e[0]===g.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${g.outChannels}).`));else if(3===e.length)try{nu(e,g.outShape)}catch(t){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(n)}b=uo(u,"prelu weights","fused conv2d")}const w=(e,t)=>{Gt("NHWC"===r,(()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`));const[i,o,u,c]=t,h=uf(e,u,l);Gt(kc(a),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`));const d=[eh(o.shape,h,i,n,s),lf(o,h,i.shape,n,s)];if(null!=c){const e=cf(c,h);d.push(e)}return d},v={x:p,filter:d,bias:y,preluActivationWeights:b},x={strides:n,pad:s,dataFormat:r,dilations:a,dimRoundingMode:i,activation:l,leakyreluAlpha:c};if(null==o){const e=Pl(((e,t,n)=>{let s=eo.runKernel(La,v,x);return n([t,e,s]),f&&(s=Ic(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:w}}));return e(p,d)}{const e=Pl(((e,t,n,s)=>{let r=eo.runKernel(La,v,x);return s([t,e,r,n]),f&&(r=Ic(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}}));return e(p,d,y)}}});const ff=po({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,s,r,a=[1,1],i){let o=e;3===e.rank&&(o=Ic(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=Ic(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:o,dy:l},c={strides:s,pad:r,dimRoundingMode:i,dilations:a,filterShape:n};return eo.runKernel(bs,u,c)}});const mf=po({depthwiseConv2dNativeBackpropInput_:function(e,t,n,s,r,a=[1,1],i){let o=t,l=!1;3===t.rank&&(l=!0,o=Ic(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:o,filter:n},c={strides:s,pad:r,dimRoundingMode:i,dilations:a,inputShape:e},h=eo.runKernel(ws,u,c);return l?Ic(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const gf=po({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:s,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:i,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(!1===df(eo.state.gradientDepth,l)){let h=hh(e,t,n,s,r,a,i);return null!=o&&(h=Rl(h,o)),hf(h,l,u,c)}const h=uo(e,"x","depthwiseConv2d","float32"),d=uo(t,"filter","depthwiseConv2d","float32");let p=h,f=!1;3===h.rank&&(f=!0,p=Ic(h,[1,h.shape[0],h.shape[1],h.shape[2]])),Gt(4===p.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`)),Gt(4===d.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`)),Gt(p.shape[3]===d.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`)),null==a&&(a=[1,1]),Gt(Cc(n,a),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),_c("fused depthwiseConv2d",s,i);const m=gc(p.shape,d.shape,n,a,s,i,!0);let g,y;null!=o&&(g=uo(o,"bias","fused conv2d"),[g]=Hi(g,h),nu(m.outShape,g.shape)),null!=u&&(y=uo(u,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{Gt(kc(a),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`));const[r,o,u,c]=t,h=uf(e,u,l),d=mf(o.shape,h,r,n,s,a,i),p=ff(o,h,r.shape,n,s,a,i);if(null!=c){return[d,p,cf(g,h)]}return[d,p]},w={x:p,filter:d,bias:g,preluActivationWeights:y},v={strides:n,pad:s,dataFormat:r,dilations:a,dimRoundingMode:i,activation:l,leakyreluAlpha:c};if(null==o){const e=Pl(((e,t,n)=>{let s=eo.runKernel(Pa,w,v);return n([t,e,s]),f&&(s=Ic(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:b}}));return e(p,d)}{const e=Pl(((e,t,n,s)=>{let r=eo.runKernel(Pa,w,v);return s([t,e,r,n]),f&&(r=Ic(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(p,d,g)}}});const yf=po({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:s=!1,bias:r,activation:a="linear",preluActivationWeights:i,leakyreluAlpha:o=.2}){if(!1===df(eo.state.gradientDepth,a)){let l=Rc(e,t,n,s);return null!=r&&(l=Rl(l,r)),hf(l,a,i,o)}let l=uo(e,"a","fused matMul"),u=uo(t,"b","fused matMul");[l,u]=Hi(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],h=s?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=s?u.shape[u.rank-2]:u.shape[u.rank-1],f=l.shape.slice(0,-2),m=u.shape.slice(0,-2),g=Ht(f),y=Ht(m);Gt(c===h,(()=>`Error in fused matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${s} must match.`));const b=nu(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,p]),w=Ic(l,n?[g,c,d]:[g,d,c]),v=Ic(u,s?[y,p,h]:[y,h,p]);let x,A;null!=r&&(x=uo(r,"bias","fused matMul"),[x]=Hi(x,l),nu(b,x.shape)),null!=i&&(A=uo(i,"prelu weights","fused matMul"));const k=(e,t)=>{const[i,o,l,u]=t,c=uf(Ic(e,l.shape),l,a);let h,d;if(n||s?!n&&s?(h=Rc(c,o,!1,!1),d=Rc(c,i,!0,!1)):n&&!s?(h=Rc(o,c,!1,!0),d=Rc(i,c,!1,!1)):(h=Rc(o,c,!0,!0),d=Rc(c,i,!0,!0)):(h=Rc(c,o,!1,!0),d=Rc(i,c,!0,!1)),null!=r){return[h,d,cf(u,c)]}return[h,d]},C={a:w,b:v,bias:x,preluActivationWeights:A},S={transposeA:n,transposeB:s,activation:a,leakyreluAlpha:o};if(null==r){const e=Pl(((e,t,n)=>{const s=eo.runKernel(za,C,S);return n([e,t,s]),{value:Ic(s,b),gradFunc:k}}));return e(w,v)}{const e=Pl(((e,t,n,s)=>{const r=eo.runKernel(za,C,S);return s([e,t,r,n]),{value:Ic(r,b),gradFunc:k}}));return e(w,v,x)}}});const bf=po({hammingWindow_:function(e){return af(e,.54,.46)}});const wf=po({hannWindow_:function(e){return af(e,.5,.5)}});const vf=po({frame_:function(e,t,n,s=!1,r=0){let a=0;const i=[];for(;a+t<=e.size;)i.push(Mc(e,a,t)),a+=n;if(s)for(;a<e.size;){const s=a+t-e.size,o=Oc([Mc(e,a,t-s),Kl([s],r)]);i.push(o),a+=n}return 0===i.length?Mp([],[0,t]):Ic(Oc(i),[i.length,t])}});const xf=po({stft_:function(e,t,n,s,r=wf){null==s&&(s=rf(t));const a=vf(e,t,n),i=Fl(a,r(t));return Ep(i,s)}});const Af=po({cropAndResize_:function(e,t,n,s,r="bilinear",a=0){const i=uo(e,"image","cropAndResize"),o=uo(t,"boxes","cropAndResize","float32"),l=uo(n,"boxInd","cropAndResize","int32"),u=o.shape[0];Gt(4===i.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`)),Gt(2===o.rank&&4===o.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${o.shape}.`)),Gt(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${o.shape}.`)),Gt(2===s.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${s.length}.`)),Gt(s[0]>=1&&s[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${s}`)),Gt("bilinear"===r||"nearest"===r,(()=>`method must be bilinear or nearest, but was ${r}`));const c={image:i,boxes:o,boxInd:l},h={method:r,extrapolationValue:a,cropSize:s};return eo.runKernel(fs,c,h)}});const kf=po({flipLeftRight_:function(e){const t=uo(e,"image","flipLeftRight","float32");Gt(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return eo.runKernel(Bs,n,{})}});const Cf=po({grayscaleToRGB_:function(e){const t=uo(e,"image","grayscaleToRGB"),n=t.rank-1,s=t.shape[n];Gt(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),Gt(1===s,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${s}.`));const r=new Array(t.rank);return r.fill(1,0,n),r[n]=3,Ph(t,r)}});const Sf=po({rgbToGrayscale_:function(e){const t=uo(e,"image","RGBToGrayscale"),n=t.rank-1,s=t.shape[n];Gt(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),Gt(3===s,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${s}.`));const r=t.dtype,a=Tl(t,"float32"),i=Dp([.2989,.587,.114]);let o;switch(t.rank){case 2:o=bh("ij,j->i",a,i);break;case 3:o=bh("ijk,k->ij",a,i);break;case 4:o=bh("ijkl,l->ijk",a,i);break;case 5:o=bh("ijklm,m->ijkl",a,i);break;case 6:o=bh("ijklmn,n->ijklm",a,i);break;default:throw new Error("Not a valid tensor rank.")}return o=zh(o,-1),Tl(o,r)}});const Ef=po({rotateWithOffset_:function(e,t,n=0,s=.5){const r=uo(e,"image","rotateWithOffset","float32");Gt(4===r.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`));const a={image:r},i={radians:t,fillValue:n,center:s};return eo.runKernel(Ba,a,i)}});function _f(e,t,n,s,r,a){null==s&&(s=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==a&&(a=0);const i=e.shape[0];return n=Math.min(n,i),Gt(0<=s&&s<=1,(()=>`iouThreshold must be in [0, 1], but was '${s}'`)),Gt(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),Gt(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),Gt(1===t.rank,(()=>"scores must be a 1D tensor")),Gt(t.shape[0]===i,(()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`)),Gt(0<=a&&a<=1,(()=>`softNmsSigma must be in [0, 1], but was '${a}'`)),{maxOutputSize:n,iouThreshold:s,scoreThreshold:r,softNmsSigma:a}}const If=po({nonMaxSuppression_:function(e,t,n,s=.5,r=Number.NEGATIVE_INFINITY){const a=uo(e,"boxes","nonMaxSuppression","float32"),i=uo(t,"scores","nonMaxSuppression","float32"),o=_f(a,i,n,s,r),l={maxOutputSize:n=o.maxOutputSize,iouThreshold:s=o.iouThreshold,scoreThreshold:r=o.scoreThreshold};return eo.runKernel(kr,{boxes:a,scores:i},l)}});function Tf(e,t,n){const s=function(e,t,n){return function(e,t,n){let s=0,r=e.length,a=0,i=!1;for(;s<r;){a=s+(r-s>>>1);const o=n(t,e[a]);o>0?s=a+1:(r=a,i=!o)}return i?s:-s-1}(e,t,n||Nf)}(e,t,n),r=s<0?-(s+1):s;e.splice(r,0,t)}function Nf(e,t){return e>t?1:e<t?-1:0}function Of(e,t,n,s,r){return Mf(e,t,n,s,r,0)}function Rf(e,t,n,s,r,a){return Mf(e,t,n,s,r,0,!1,a,!0)}function Df(e,t,n,s,r,a){return Mf(e,t,n,s,r,a,!0)}function Mf(e,t,n,s,r,a,i=!1,o=!1,l=!1){const u=[];for(let e=0;e<t.length;e++)t[e]>r&&u.push({score:t[e],boxIndex:e,suppressBeginIndex:0});u.sort(zf);const c=a>0?-.5/a:0,h=[],d=[];for(;h.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:a,suppressBeginIndex:i}=t;if(n<r)break;let o=!1;for(let n=h.length-1;n>=i;--n){const i=Ff(e,a,h[n]);if(i>=s){o=!0;break}if(t.score=t.score*Bf(s,c,i),t.score<=r)break}t.suppressBeginIndex=h.length,o||(t.score===n?(h.push(a),d.push(t.score)):t.score>r&&Tf(u,t,zf))}const p=h.length,f=n-p;o&&f>0&&(h.push(...new Array(f).fill(0)),d.push(...new Array(f).fill(0)));const m={selectedIndices:h};return i&&(m.selectedScores=d),l&&(m.validOutputs=p),m}function Ff(e,t,n){const s=e.subarray(4*t,4*t+4),r=e.subarray(4*n,4*n+4),a=Math.min(s[0],s[2]),i=Math.min(s[1],s[3]),o=Math.max(s[0],s[2]),l=Math.max(s[1],s[3]),u=Math.min(r[0],r[2]),c=Math.min(r[1],r[3]),h=Math.max(r[0],r[2]),d=Math.max(r[1],r[3]),p=(o-a)*(l-i),f=(h-u)*(d-c);if(p<=0||f<=0)return 0;const m=Math.max(a,u),g=Math.max(i,c),y=Math.min(o,h),b=Math.min(l,d),w=Math.max(y-m,0)*Math.max(b-g,0);return w/(p+f-w)}function Bf(e,t,n){const s=Math.exp(t*n*n);return n<=e?s:0}function zf(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const Lf=async function(e,t,n,s=.5,r=Number.NEGATIVE_INFINITY){const a=uo(e,"boxes","nonMaxSuppressionAsync"),i=uo(t,"scores","nonMaxSuppressionAsync"),o=_f(a,i,n,s,r);n=o.maxOutputSize,s=o.iouThreshold,r=o.scoreThreshold;const l=await Promise.all([a.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:h}=Of(u,c,n,s,r);return a!==e&&a.dispose(),i!==t&&i.dispose(),Dp(h,"int32")};const Pf=po({nonMaxSuppressionWithScore_:function(e,t,n,s=.5,r=Number.NEGATIVE_INFINITY,a=0){const i=uo(e,"boxes","nonMaxSuppression"),o=uo(t,"scores","nonMaxSuppression"),l=_f(i,o,n,s,r,a),u={boxes:i,scores:o},c={maxOutputSize:n=l.maxOutputSize,iouThreshold:s=l.iouThreshold,scoreThreshold:r=l.scoreThreshold,softNmsSigma:a=l.softNmsSigma},h=eo.runKernel(Sr,u,c);return{selectedIndices:h[0],selectedScores:h[1]}}});const Vf=async function(e,t,n,s=.5,r=Number.NEGATIVE_INFINITY,a=0){const i=uo(e,"boxes","nonMaxSuppressionAsync"),o=uo(t,"scores","nonMaxSuppressionAsync"),l=_f(i,o,n,s,r,a);n=l.maxOutputSize,s=l.iouThreshold,r=l.scoreThreshold,a=l.softNmsSigma;const u=await Promise.all([i.data(),o.data()]),c=u[0],h=u[1],{selectedIndices:d,selectedScores:p}=Df(c,h,n,s,r,a);return i!==e&&i.dispose(),o!==t&&o.dispose(),{selectedIndices:Dp(d,"int32"),selectedScores:Dp(p)}};const Wf=po({nonMaxSuppressionPadded_:function(e,t,n,s=.5,r=Number.NEGATIVE_INFINITY,a=!1){const i=uo(e,"boxes","nonMaxSuppression"),o=uo(t,"scores","nonMaxSuppression"),l=_f(i,o,n,s,r,null),u={boxes:i,scores:o},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:a},h=eo.runKernel(Cr,u,c);return{selectedIndices:h[0],validOutputs:h[1]}}});const Uf=async function(e,t,n,s=.5,r=Number.NEGATIVE_INFINITY,a=!1){const i=uo(e,"boxes","nonMaxSuppressionAsync"),o=uo(t,"scores","nonMaxSuppressionAsync"),l=_f(i,o,n,s,r,null),u=l.maxOutputSize,c=l.iouThreshold,h=l.scoreThreshold,[d,p]=await Promise.all([i.data(),o.data()]),{selectedIndices:f,validOutputs:m}=Rf(d,p,u,c,h,a);return i!==e&&i.dispose(),o!==t&&o.dispose(),{selectedIndices:Dp(f,"int32"),validOutputs:Vl(m,"int32")}};const Gf=po({resizeBilinear_:function(e,t,n=!1,s=!1){const r=uo(e,"images","resizeBilinear");Gt(3===r.rank||4===r.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`)),Gt(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),Gt(!1===s||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let a=r,i=!1;3===r.rank&&(i=!0,a=Ic(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,o={images:a},l={alignCorners:n,halfPixelCenters:s,size:t},u=eo.runKernel(Gr,o,l);return i?Ic(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const qf=po({resizeNearestNeighbor_:function(e,t,n=!1,s=!1){const r=uo(e,"images","resizeNearestNeighbor");Gt(3===r.rank||4===r.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`)),Gt(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),Gt("float32"===r.dtype||"int32"===r.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),Gt(!1===s||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let a=r,i=!1;3===r.rank&&(i=!0,a=Ic(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,o={images:a},l={alignCorners:n,halfPixelCenters:s,size:t},u=eo.runKernel(Wr,o,l);return i?Ic(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const jf=po({threshold_:function(e,t="binary",n=!1,s=.5){const r=uo(e,"image","threshold"),a=r.shape[0]*r.shape[1];let i,o,l,u,c=Fl(Dp([s]),255);if(Gt(3===r.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`)),Gt(3===r.shape[2]||1===r.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`)),Gt("int32"===r.dtype||"float32"===r.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`)),Gt("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===r.shape[2]){[i,o,l]=Sp(r,[1,1,1],-1);const e=Fl(i,.2989),t=Fl(o,.587),n=Fl(l,.114);u=Rl(Rl(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,s,r,a,i,o,l=Dp([-1]),u=Dp([0]),c=Dp([0]);for(let h=0;h<e.size-1;h++){n=Mc(e,0,h+1),s=Mc(e,h+1),i=Ml(Rh(n),t),o=Ml(Rh(s),t);const d=Rh(Fl(n,Jd(0,n.size)));r=Ml(d,Rh(n));const p=Kl(s.shape,n.size),f=Rl(Jd(0,s.size),p),m=Fl(s,f);a=Ml(Rh(m),Rh(s));const g=Yl(r,a),y=Yl(r,a),b=Fl(i,o);c=Fl(Fl(b,g),y);const w=Gh(c,u);u=mh(w,c,u),l=mh(w,Dp([h]),l)}return l}(Uc(Tl(up(u),"int32"),go([]),256),a)}const h=n?Yh(u,c):Gh(u,c);return Tl(Fl(h,255),"int32")}});const Hf=po({transform_:function(e,t,n="nearest",s="constant",r=0,a){const i=uo(e,"image","transform","float32"),o=uo(t,"transforms","transform","float32");Gt(4===i.rank,(()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`)),Gt(2===o.rank&&(o.shape[0]===i.shape[0]||1===o.shape[0])&&8===o.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),Gt(null==a||2===a.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`));const l={image:i,transforms:o},u={interpolation:n,fillMode:s,fillValue:r,outputShape:a};return eo.runKernel(Ia,l,u)}});const $f=po({bandPart_:function(e,t,n){const s=uo(e,"a","bandPart");Gt(s.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${s.rank}.`));const r=s.shape,[a,i]=s.shape.slice(-2);let o,l;"number"==typeof t?(Gt(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),Gt(t<=a,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`)),o=uo(t<0?a:t,"numLower","bandPart")):(Gt("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),o=mh(Zh(t,0),a,xd(t,a))),"number"==typeof n?(Gt(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),Gt(n<=i,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`)),l=uo(n<0?i:n,"numUpper","bandPart")):(Gt("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=mh(Zh(n,0),i,xd(n,i)));const u=Ic(Jd(0,a,1,"int32"),[-1,1]),c=Jd(0,i,1,"int32"),h=Yl(u,c),d=od(Yh(h,o),qh(h,nd(l))),p=bd([a,i],s.dtype);return Ic(Tp(Hp(Ic(s,[-1,a,i])).map((e=>mh(d,e,p)))),r)}});const Kf=po({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,Gt(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)Gt(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=Sp(e,e.shape[0],0).map((e=>Ip(e,[0])));Gt(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],s=e;for(let t=0;t<e.length;++t)n.push(eo.tidy((()=>{let e=s[t];if(t>0)for(let s=0;s<t;++s){const t=Fl(Rh(Fl(n[s],e)),n[s]);e=Yl(e,t)}return Ml(e,Mh(e,"euclidean"))})));return t?Tp(n,0):n}});function Xf(e,t=!1){return eo.tidy((()=>{Gt(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],s=e.shape[1];let r=Vh(n),a=Nl(e);const i=Mp([[1]],[1,1]);let o=Nl(i);const l=n>=s?s:n;for(let e=0;e<l;++e){const t=a,l=o,u=r;[o,a,r]=eo.tidy((()=>{const t=Mc(a,[e,e],[n-e,1]),l=Mh(t),u=Mc(a,[e,e],[1,1]),c=mh(Gh(u,0),Mp([[-1]]),Mp([[1]])),h=Yl(u,Fl(c,l)),d=Ml(t,h);o=1===d.shape[0]?Nl(i):Oc([i,Mc(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const p=nd(Ml(Rc(c,h),l)),f=Mc(a,[e,0],[n-e,s]),m=Fl(p,o),g=Qp(o);if(0===e)a=Yl(f,Rc(m,Rc(g,f)));else{const t=Yl(f,Rc(m,Rc(g,f)));a=Oc([Mc(a,[0,0],[e,s]),t],0)}const y=Qp(m),b=Mc(r,[0,e],[n,r.shape[1]-e]);if(0===e)r=Yl(b,Rc(Rc(b,o),y));else{const t=Yl(b,Rc(Rc(b,o),y));r=Oc([Mc(r,[0,0],[n,e]),t],1)}return[o,a,r]})),Ao([t,l,u])}return!t&&n>s&&(r=Mc(r,[0,0],[n,s]),a=Mc(a,[0,0],[s,s])),[r,a]}))}const Zf=po({qr_:function(e,t=!1){if(Gt(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return Xf(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),s=Hp(Ic(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),r=[],a=[];s.forEach((e=>{const[n,s]=Xf(e,t);r.push(n),a.push(s)}));return[Ic(Tp(r,0),e.shape),Ic(Tp(a,0),e.shape)]}}});var Yf;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Yf||(Yf={}));const Qf=po({computeWeightedLoss_:function(e,t,n=Yf.SUM_BY_NONZERO_WEIGHTS){const s=uo(e,"losses","computeWeightedLoss");let r=null;null!=t&&(r=uo(t,"weights","computeWeightedLoss"));const a=null==r?s:Fl(s,r);if(n===Yf.NONE)return a;if(n===Yf.SUM)return Rh(a);if(n===Yf.MEAN){if(null==r)return yd(a);{const e=s.size/r.size,t=Ml(Rh(a),Rh(r));return e>1?Ml(t,Vl(e)):t}}if(n===Yf.SUM_BY_NONZERO_WEIGHTS){if(null==r)return Ml(Rh(a),Vl(s.size));{const e=Fl(r,wd(s.shape)),t=Tl(Rh(_d(e,Vl(0))),"float32");return Ml(Rh(a),t)}}throw Error(`Unknown reduction: ${n}`)}});const Jf=po({absoluteDifference_:function(e,t,n,s=Yf.SUM_BY_NONZERO_WEIGHTS){const r=uo(e,"labels","absoluteDifference"),a=uo(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=uo(n,"weights","absoluteDifference")),qt(r.shape,a.shape,"Error in absoluteDifference: ");const o=Jl(Yl(r,a));return Qf(o,i,s)}});const em=po({cosineDistance_:function(e,t,n,s,r=Yf.SUM_BY_NONZERO_WEIGHTS){const a=uo(e,"labels","cosineDistance"),i=uo(t,"predictions","cosineDistance");let o=null;null!=s&&(o=uo(s,"weights","cosineDistance")),qt(a.shape,i.shape,"Error in cosineDistance: ");const l=Vl(1),u=Yl(l,Rh(Fl(a,i),n,!0));return Qf(u,o,r)}});const tm=po({hingeLoss_:function(e,t,n,s=Yf.SUM_BY_NONZERO_WEIGHTS){let r=uo(e,"labels","hingeLoss");const a=uo(t,"predictions","hingeLoss");let i=null;null!=n&&(i=uo(n,"weights","hingeLoss")),qt(r.shape,a.shape,"Error in hingeLoss: ");const o=Vl(1);r=Yl(Fl(Vl(2),r),o);const l=np(Yl(o,Fl(r,a)));return Qf(l,i,s)}});const nm=po({huberLoss_:function(e,t,n,s=1,r=Yf.SUM_BY_NONZERO_WEIGHTS){const a=uo(e,"labels","huberLoss"),i=uo(t,"predictions","huberLoss");let o=null;null!=n&&(o=uo(n,"weights","huberLoss")),qt(a.shape,i.shape,"Error in huberLoss: ");const l=Vl(s),u=Jl(Yl(i,a)),c=xd(u,l),h=Yl(u,c),d=Rl(Fl(Vl(.5),zl(c)),Fl(l,h));return Qf(d,o,r)}});const sm=po({logLoss_:function(e,t,n,s=1e-7,r=Yf.SUM_BY_NONZERO_WEIGHTS){const a=uo(e,"labels","logLoss"),i=uo(t,"predictions","logLoss");let o=null;null!=n&&(o=uo(n,"weights","logLoss")),qt(a.shape,i.shape,"Error in logLoss: ");const l=Vl(1),u=Vl(s),c=nd(Fl(a,ed(Rl(i,u)))),h=Fl(Yl(l,a),ed(Rl(Yl(l,i),u))),d=Yl(c,h);return Qf(d,o,r)}});const rm=po({meanSquaredError_:function(e,t,n,s=Yf.SUM_BY_NONZERO_WEIGHTS){const r=uo(e,"labels","meanSquaredError"),a=uo(t,"predictions","meanSquaredError");let i=null;null!=n&&(i=uo(n,"weights","meanSquaredError")),qt(r.shape,a.shape,"Error in meanSquaredError: ");const o=_p(r,a);return Qf(o,i,s)}});const am=po({sigmoidCrossEntropy_:function(e,t,n,s=0,r=Yf.SUM_BY_NONZERO_WEIGHTS){let a=uo(e,"multiClassLabels","sigmoidCrossEntropy");const i=uo(t,"logits","sigmoidCrossEntropy");let o=null;if(null!=n&&(o=uo(n,"weights","sigmoidCrossEntropy")),qt(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),s>0){const e=Vl(s),t=Vl(1),n=Vl(.5);a=Rl(Fl(a,Yl(t,e)),Fl(n,e))}const l=function(e,t){const n=uo(e,"labels","sigmoidCrossEntropyWithLogits"),s=uo(t,"logits","sigmoidCrossEntropyWithLogits");qt(n.shape,s.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=np(s),a=Fl(s,n),i=td(Bh(nd(Jl(s))));return Rl(Yl(r,a),i)}(a,i);return Qf(l,o,r)}});const im=po({softmaxCrossEntropy_:function(e,t,n,s=0,r=Yf.SUM_BY_NONZERO_WEIGHTS){let a=uo(e,"onehotLabels","softmaxCrossEntropy");const i=uo(t,"logits","softmaxCrossEntropy");let o=null;if(null!=n&&(o=uo(n,"weights","softmaxCrossEntropy")),qt(a.shape,i.shape,"Error in softmaxCrossEntropy: "),s>0){const e=Vl(s),t=Vl(1),n=Vl(a.shape[1]);a=Rl(Fl(a,Yl(t,e)),Ml(e,n))}const l=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const s=Pl(((e,t,s)=>{const r=id(t,[n],!0),a=Yl(Tl(t,"float32"),r);s([e,a]);const i=nd(Fl(a,e));return{value:Rh(i,[n]),gradFunc:(e,t)=>{const[s,r]=t,a=Sh(e.shape,[n]);return[Fl(Ic(e,a),Yl(Tl(s,"float32"),Bh(r))),Fl(Ic(e,a),Yl(Bh(r),Tl(s,"float32")))]}}}));return s(e,t)}(a,i);return Qf(l,o,r)}});const om=po({sparseFillEmptyRows_:function(e,t,n,s){const r=uo(e,"indices","sparseFillEmptyRows","int32"),a=uo(t,"values","sparseFillEmptyRows"),i=uo(n,"denseShape","sparseFillEmptyRows","int32"),o=uo(s,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==r.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==i.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(0!==o.rank)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const l={indices:r,values:a,denseShape:i,defaultValue:o},u=eo.runKernel(ha,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const lm=po({sparseReshape_:function(e,t,n){const s=uo(e,"inputIndices","sparseReshape","int32"),r=uo(t,"inputShape","sparseReshape","int32"),a=uo(n,"newShape","sparseReshape","int32");if(2!==s.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${s.shape}`);if(1!==r.rank)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const i={inputIndices:s,inputShape:r,newShape:a},o=eo.runKernel(da,i);return{outputIndices:o[0],outputShape:o[1]}}});const um=po({sparseSegmentMean_:function(e,t,n){const s=uo(e,"data","sparseSegmentMean"),r=uo(t,"indices","sparseSegmentMean","int32"),a=uo(n,"segmentIds","sparseSegmentMean","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);const i={data:s,indices:r,segmentIds:a};return eo.runKernel(pa,i)}});const cm=po({sparseSegmentSum_:function(e,t,n){const s=uo(e,"data","sparseSegmentSum"),r=uo(t,"indices","sparseSegmentSum","int32"),a=uo(n,"segmentIds","sparseSegmentSum","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);const i={data:s,indices:r,segmentIds:a};return eo.runKernel(fa,i)}});const hm=po({stringNGrams_:function(e,t,n,s,r,a,i,o){const l=uo(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=uo(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:s,leftPad:r,rightPad:a,padWidth:i,preserveShortSequences:o},h={data:l,dataSplits:u},d=eo.runKernel(va,h,c);return{nGrams:d[0],nGramsSplits:d[1]}}});const dm=po({stringSplit_:function(e,t,n=!0){const s=uo(e,"input","stringSplit","string"),r=uo(t,"delimiter","stringSplit","string");if(1!==s.rank)throw new Error(`Input should be Tensor1D but received shape ${s.shape}`);if(0!==r.rank)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const a={skipEmpty:n},i={input:s,delimiter:r},o=eo.runKernel(xa,i,a);return{indices:o[0],values:o[1],shape:o[2]}}});const pm=po({stringToHashBucketFast_:function(e,t){const n=uo(e,"input","stringToHashBucketFast","string"),s={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return eo.runKernel(Aa,r,s)}});const fm=po({staticRegexReplace_:function(e,t,n,s=!0){const r=uo(e,"input","staticRegexReplace","string"),a={pattern:t,rewrite:n,replaceGlobal:s};return eo.runKernel(ba,{x:r},a)}}),mm={fft:Ap,ifft:kp,rfft:Ep,irfft:Cp},gm={hammingWindow:bf,hannWindow:wf,frame:vf,stft:xf},ym={flipLeftRight:kf,grayscaleToRGB:Cf,resizeNearestNeighbor:qf,resizeBilinear:Gf,rgbToGrayscale:Sf,rotateWithOffset:Ef,cropAndResize:Af,nonMaxSuppression:If,nonMaxSuppressionAsync:Lf,nonMaxSuppressionWithScore:Pf,nonMaxSuppressionWithScoreAsync:Vf,nonMaxSuppressionPadded:Wf,nonMaxSuppressionPaddedAsync:Uf,threshold:jf,transform:Hf},bm={bandPart:$f,gramSchmidt:Kf,qr:Zf},wm={absoluteDifference:Jf,computeWeightedLoss:Qf,cosineDistance:em,hingeLoss:tm,huberLoss:nm,logLoss:sm,meanSquaredError:rm,sigmoidCrossEntropy:am,softmaxCrossEntropy:im},vm={sparseFillEmptyRows:om,sparseReshape:lm,sparseSegmentMean:um,sparseSegmentSum:cm},xm={stringNGrams:hm,stringSplit:dm,stringToHashBucketFast:pm,staticRegexReplace:fm};const Am=class{static sgd(e){return new au(e)}static momentum(e,t,n=!1){return new iu(e,t,n)}static rmsprop(e,t=.9,n=0,s=null,r=!1){return new ou(e,t,n,s,r)}static adam(e=.001,t=.9,n=.999,s=null){return new Ql(e,t,n,s)}static adadelta(e=.001,t=.95,n=null){return new $l(e,t,n)}static adamax(e=.002,t=.9,n=.999,s=null,r=0){return new ru(e,t,n,s,r)}static adagrad(e,t=.1){return new Xl(e,t)}},km="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function Cm(){return new Promise((e=>km((()=>e()))))}function Sm(e,t){const n=e[0].length;e.forEach(((e,t)=>{Gt(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),Gt(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const s=e[0];e.forEach(((e,r)=>{for(let a=0;a<n;a++)Gt(a===t||e[a]===s[a],(()=>`Error in concat${n}D: Shape of tensors[${r}] (${e}) does not match the shape of the rest (${s}) along the non-concatenated axis ${r}.`))}))}function Em(e,t){const n=e[0].slice();for(let s=1;s<e.length;s++)n[t]+=e[s][t];return n}var _m;function Im(e,t,n){let s=new Array;if(null==n&&null==t)return s;if(null==t)for(;s.length<e+n.length;)s.push(-1);else s=t.slice();if(null==n)return s;if(e+n.length!==s.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${s.length}`);for(let r=1;r<n.length;++r){const a=n[r],i=s[s.length-n.length+r],o=s[i];if(a>=0)if(o>=0){if(o!==a)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${r+e}] = ${a} but shape[${r+e}] = ${o}`)}else s[i]=a}return s}function Tm(e){const t={FIRST_DIM_SIZE:_m.FIRST_DIM_SIZE,VALUE_ROWIDS:_m.VALUE_ROWIDS,ROW_LENGTHS:_m.ROW_LENGTHS,ROW_SPLITS:_m.ROW_SPLITS,ROW_LIMITS:_m.ROW_LIMITS,ROW_STARTS:_m.ROW_STARTS},n=[];for(const s of e){if(!(s in t))break;n.push(t[s])}return n}function Nm(e){return 0===e.length?0:e[0]===_m.FIRST_DIM_SIZE?e.length-1:e.length}function Om(e,t){if(null==e||null==t)return;const n=e.length,s=t.length;if(n>=s)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${s})`);for(let r=0;r<Math.min(n,s-1);++r){const n=e[r],s=t[r+1];if(n>=0&&s>=0&&1!==n&&n!==s)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${r-e.length}] = ${n} but ragged tensor input.flatValues.shape[${r-e.length}] = ${s}`)}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(_m||(_m={}));const Rm=30;function Dm(e){return e<=Rm?e:cn(e,Math.floor(Math.sqrt(e)))}function Mm(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function Fm(e,t,n,s=!0){let r=[];if(s)r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let s=0;s<n;++s)r=r.concat([e[s+1]/t[s],t[s]]);r=r.concat(e.slice(n+1))}return r}function Bm(e,t,n=!0){const s=[];if(n){s.push(t);for(let n=t+1;n<e;++n)n<=2*t?(s.push(n),s.push(n-(t+1))):s.push(n)}else{const n=[],r=[];for(let s=1;s<e;++s)s>=2*t+1||s%2==1?r.push(s):n.push(s);s.push(...n),s.push(0),s.push(...r)}return s}function zm(e,t,n,s=!0){const r=[];s?r.push(e[0]/n):r.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?s?r.push(t[n-1]*e[n]):r.push(e[n]/t[n-1]):r.push(e[n]);return r}function Lm(e,t){const n=[0];for(let s=0;s<t;++s)n.push(e[s][0]);return n}function Pm(e,t,n){const s=e.slice(0,1);for(let r=0;r<n;++r)s.push(e[r+1]-t[r][0]-t[r][1]);return s}function Vm(e,t){const n=e.shape.length,s=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(s<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${s}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[s-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[s-1]} vs. ${n}`);if(0===Ht(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const r=t.shape,a=r[r.length-1];let i=1;for(let e=0;e<r.length-1;++e)i*=r[e];const o=e.shape,l=r.slice();l.pop();let u=1;for(let e=a;e<n;++e)u*=o[e],l.push(o[e]);const c=[...hn(e.shape).map((e=>e/u)),1].slice(0,a);return[l,i,u,c]}const Wm=1.7580993408473768,Um=1.0507009873554805,Gm=.3275911,qm=.254829592,jm=-.284496736,Hm=1.421413741,$m=-1.453152027,Km=1.061405429;function Xm(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let s=0;s<n.length;s+=2)n[s]=e[s/2],n[s+1]=t[s/2];return n}function Zm(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let s=0;s<e.length;s+=2)t[s/2]=e[s],n[s/2]=e[s+1];return{real:t,imag:n}}function Ym(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),s=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],s[Math.floor(t/4)]=e[t+1];return{real:n,imag:s}}function Qm(e){const t=Math.floor(e.length/4),n=new Float32Array(t),s=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],s[Math.floor(t/4)]=e[t+1];return{real:n,imag:s}}function Jm(e,t){return{real:e[2*t],imag:e[2*t+1]}}function eg(e,t,n,s){e[2*s]=t,e[2*s+1]=n}function tg(e,t){const n=new Float32Array(e/2),s=new Float32Array(e/2);for(let r=0;r<Math.ceil(e/2);r++){const a=(t?2:-2)*Math.PI*(r/e);n[r]=Math.cos(a),s[r]=Math.sin(a)}return{real:n,imag:s}}function ng(e,t,n){const s=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(s),imag:Math.sin(s)}}const sg="->",rg=/->/g,ag=",",ig="...";function og(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(rg,"").length)/sg.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${sg}").`);const[s,r]=e.split(sg);Gt(-1===s.indexOf(ig),(()=>`The ellipsis notation ("${ig}") is not supported yet.`));const a=s.split(ag),i=a.length;if(t!==i)throw new Error(`Expected ${i} input tensors, received ${t}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let e=0;e<r.length;++e){const t=r[e];if(!a.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===o.indexOf(t)&&o.push(t)}for(let e=0;e<s.length;++e){const t=s[e];-1===o.indexOf(t)&&t!==ag&&o.push(t)}const l=new Array(a.length);for(let e=0;e<i;++e){if(new Set(a[e].split("")).size!==a[e].length)throw new Error(`Found duplicate axes in input component ${a[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<a[e].length;++t)l[e].push(o.indexOf(a[e][t]))}const u=o.length,c=[];for(let e=r.length;e<u;++e)c.push(e);return{allDims:o,summedDims:c,idDims:l}}function lg(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const s=[];for(let t=0;t<e;++t)-1===n[t]&&s.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:s}}function ug(e,t,n){const s=new Array(e);for(let e=0;e<n.length;++e){const r=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===s[t[e][n]]?s[t[e][n]]=r[n]:Gt(s[t[e][n]]===r[n],(()=>`Expected dimension ${s[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(r)}, but got dimension ${r[n]}`))}}function cg(e,t){const n=e,s=[];let r=0;0===e.length&&n.push(-1),r=e.length+1;for(let e=0;e<r;++e)s.push([]);const a=[];for(let e=0;e<n.length;++e){const r=dg(t,n[e]);for(const t of r)-1===a.indexOf(t)&&(s[e].push(t),a.push(t))}return{path:n,steps:s}}function hg(e){return e.every(((e,t)=>e===t))}function dg(e,t){const n=[];for(let s=0;s<e.length;++s)0!==e[s].length&&-1===e[s].indexOf(t)&&-1!==t||n.push(s);return n}function pg(e,t,n=0){let s=[];if("number"==typeof t)Gt(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),s=new Array(t).fill(e.shape[n]/t);else{const r=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);Gt(r<=1,(()=>"There should be only one negative value in split array."));const a=t.indexOf(-1);if(-1!==a){const s=t.reduce(((e,t)=>t>0?e+t:e));t[a]=e.shape[n]-s}Gt(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),s=t}return s}function fg(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function mg(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function gg(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function yg(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function bg(e,t){return`size ${e} must be non-negative, not ${t}`}function wg(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function vg(e,t){return`Input to reshape is a SparseTensor with ${Ht(e)}\n  dense values, but the requested shape requires a multiple of ${Ht(t)}. inputShape=${e} outputShape= ${t}`}function xg(e,t){return`Input to reshape is a tensor with ${Ht(e)} dense values, but the requested shape has ${Ht(t)}. inputShape=${e} outputShape=${t}`}function Ag(){return"segment ids must be >= 0"}function kg(){return"segment ids are not increasing"}function Cg(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function Sg(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function Eg(e,t){let n,s=!1;for(e<=Rm?(n=e,s=!0):n=cn(e,Math.floor(Math.sqrt(e)));!s;)n>t||n===e?s=!0:n=cn(e,n+1);return n}function _g(e,t,n){const s=[],r=e.length;for(let a=0;a<r;a++)a!==t?s.push(e[a]):s.push(n);return s}function Ig(e,t,n,s){const r=t.shape.length,a=e.shape.length;if(0!==s&&(s<-r||s>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${s}`);if(s<0&&(s+=r),s>a)throw new Error(`batchDims (${s}) must be less than rank(x) (\n    ${a}).`);if(n<s)throw new Error(`batchDims (${s}) must be less than or equal to axis (${n}).`);for(let n=0;n<s;++n)if(e.shape[n]!==t.shape[n])throw new Error(`x.shape[${n}]: ${e.shape[n]} should be equal to indices.shape[${n}]: ${t.shape[n]}.`);const i=e.shape[n],o=[];let l=1,u=1,c=1;for(let t=0;t<s;++t)o.push(e.shape[t]),l*=e.shape[t];for(let t=s;t<n;t++)o.push(e.shape[t]),u*=e.shape[t];for(let e=s;e<r;e++)o.push(t.shape[e]);for(let t=n+1;t<a;t++)o.push(e.shape[t]),c*=e.shape[t];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:i,outputShape:o}}function Tg(e){try{return e.map((e=>mi(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function Ng(e){return e.map((e=>fi(e)))}!function(){for(const e of lu)jl(e)}();const Og={kernelName:Tn,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(e,Np(Tl(n,"float32"),-1))}}},Rg={kernelName:Nn,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=zl(Tl(n,"float32")),s=Bl(Yl(Vl(1),t));return nd(Ml(e,s))}}}},Dg={kernelName:On,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Bl(Yl(zl(Tl(n,"float32")),1));return Ml(e,t)}}}},Mg={kernelName:Rn,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,r=nu(n.shape,s.shape);return{a:()=>{let t=e;const s=tu(n.shape,r);return s.length>0&&(t=Rh(t,s)),Ic(t,n.shape)},b:()=>{let t=e;const n=tu(s.shape,r);return n.length>0&&(t=Rh(t,n)),Ic(t,s.shape)}}}},Fg={kernelName:Dn,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,s)=>{n[s]=()=>e.clone()})),n}},Bg={kernelName:Bn,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ll(n)}}},zg={kernelName:zn,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ll(n)}}},Lg={kernelName:Ln,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ml(e,Bl(Yl(Vl(1),zl(Tl(n,"float32")))))}}},Pg={kernelName:Pn,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Bl(Rl(Vl(1),zl(Tl(n,"float32"))));return Ml(e,t)}}}},Vg={kernelName:Un,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,r=nu(n.shape,s.shape);return{a:()=>{const t=Rl(zl(n),zl(s));let a=Fl(e,Ml(s,t));const i=tu(n.shape,r);return i.length>0&&(a=Rh(a,i)),Ic(a,n.shape)},b:()=>{const t=Rl(zl(n),zl(s));let a=nd(Fl(e,Ml(n,t)));const i=tu(s.shape,r);return i.length>0&&(a=Rh(a,i)),Ic(a,s.shape)}}}},Wg={kernelName:Vn,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ml(e,Rl(zl(Tl(n,"float32")),1))}}},Ug={kernelName:Wn,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ml(e,Yl(Vl(1),zl(Tl(n,"float32"))))}}};const Gg=po({avgPool3dGrad_:function(e,t,n,s,r,a){const i=uo(e,"dy","avgPool3dGrad"),o=uo(t,"input","avgPool3dGrad");let l=i,u=o,c=!1;4===o.rank&&(c=!0,l=Ic(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),u=Ic(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Gt(5===l.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`)),Gt(5===u.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`)),_c("avgPool3dGrad",r,a);const h={dy:l,input:u},d={filterSize:n,strides:s,pad:r,dimRoundingMode:a},p=eo.runKernel(Hn,h,d);return c?Ic(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),qg={kernelName:jn,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{filterSize:r,strides:a,pad:i,dimRoundingMode:o}=n;return{x:()=>Gg(e,s,r,a,i,o)}}};const jg=po({avgPoolGrad_:function(e,t,n,s,r){const a=uo(e,"dy","avgPoolGrad"),i=uo(t,"input","avgPoolGrad");Gt(i.rank===a.rank,(()=>`Rank of input (${i.rank}) does not match rank of dy (${a.rank})`));let o=i,l=a,u=!1;3===i.rank&&(u=!0,o=Ic(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=Ic(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Gt(4===l.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),Gt(4===o.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`));const c={dy:l,input:o},h={filterSize:n,strides:s,pad:r},d=eo.runKernel(qn,c,h);return u?Ic(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),Hg={kernelName:Gn,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{filterSize:r,strides:a,pad:i}=n;return{x:()=>jg(e,s,r,a,i)}}},$g={kernelName:$n,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[s,r]=t,{transposeA:a,transposeB:i}=n;return a||i?!a&&i?{a:()=>Rc(e,r,!1,!1),b:()=>Rc(e,s,!0,!1)}:a&&!i?{a:()=>Rc(r,e,!1,!0),b:()=>Rc(s,e,!1,!1)}:{a:()=>Rc(r,e,!0,!0),b:()=>Rc(e,s,!0,!0)}:{a:()=>Rc(e,r,!1,!0),b:()=>Rc(s,e,!0,!1)}}},Kg={kernelName:Kn,gradFunc:(e,t,n)=>{const{blockShape:s,crops:r}=n;return{x:()=>Bd(e,s,r)}}},Xg={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const s=n,r=s.inputShape,a=s.shape,i=Array.from(a);for(let e=r.length-1;e>=0;e--)if(r[e]===a[e])i[e]=1;else if(1!==r[e])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${a}].`);const o=[];for(let e=0;e<i.length;e++)i[e]>1&&o.push(e);return{x:()=>Rh(e,o,!0)}}},Zg={kernelName:Qn,gradFunc:e=>({x:()=>e.clone()})},Yg={kernelName:Jn,gradFunc:e=>({x:()=>Ll(e)})},Qg={kernelName:es,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{clipValueMin:r,clipValueMax:a}=n;return{x:()=>mh(od(qh(s,r),Yh(s,a)),e,Ll(e))}}},Jg={kernelName:ns,inputsToSave:["x"],gradFunc:Og.gradFunc},ey={kernelName:ss,saveAllInputs:!0,gradFunc:(e,t,n)=>{const s=t.map((e=>e.shape)),{axis:r}=n,a=Jt(r,t[0].shape)[0],i=s.map((e=>e[a]));return Sp(e,i,a).map((e=>()=>e))}},ty={kernelName:rs,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[s,r]=t,{dilations:a,strides:i,pad:o,dataFormat:l}=n;return Gt(kc(a),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`)),{x:()=>eh(s.shape,e,r,i,o,l),filter:()=>lf(s,e,r.shape,i,o,l)}}},ny={kernelName:is,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[s,r]=t,{strides:a,pad:i,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>Qc(e,r,a,i,o,1,l),filter:()=>lf(e,s,r.shape,a,i,o,l)}}};const sy=po({conv3DBackpropFilter_:function(e,t,n,s,r){let a=e;4===e.rank&&(a=Ic(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let i=t;4===i.rank&&(i=Ic(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),Gt(5===a.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${a.shape}.`)),Gt(5===i.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${i.shape}.`)),Gt(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),Gt(a.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${a.shape[4]}) must match input depth in filter (${n[3]}.`)),Gt(i.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${n[4]}).`));const o={x:a,dy:i},l={strides:s,pad:r,filterShape:n};return eo.runKernel(ls,o,l)}}),ry={kernelName:os,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:s,strides:r,pad:a}=n;Gt(kc(s),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`));const[i,o]=t;return{x:()=>sh(i.shape,e,o,r,a),filter:()=>sy(i,e,o.shape,r,a)}}},ay={kernelName:cs,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(nd(mp(Tl(n,"float32"))),e)}}},iy={kernelName:hs,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(gp(Tl(n,"float32")),e)}}},oy={kernelName:ps,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{axis:r,exclusive:a,reverse:i}=n;return{x:()=>{const t=_h([r],s.rank);let n=lh(e,r,a,!i);return null!=t&&(n=Qp(n,t)),n}}}},ly={kernelName:ys,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:s,strides:r,pad:a,dimRoundingMode:i}=n,o=null==s?[1,1]:s;Gt(kc(o),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[l,u]=t;return Gt(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),Gt(4===u.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`)),Gt(l.shape[3]===u.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`)),Gt(Cc(r,o),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${o}'.`)),_c("depthwiseConv2d",a,i),{x:()=>mf(l.shape,e,u,r,a,o,i),filter:()=>ff(l,e,u.shape,r,a,o,i)}}},uy={kernelName:xs,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[s,r]=t,a={x:s,filter:r,dy:e},i={x:s,filter:r,dy:e};return{x:()=>eo.runKernel(As,a,n),filter:()=>eo.runKernel(ks,i,n)}}},cy={kernelName:_s,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,s={dy:e,y:n};return{x:()=>eo.runKernel(Is,s)}}},hy={kernelName:Ts,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,s=Fl(Bh(nd(zl(n))),2/Math.sqrt(Math.PI));return{x:()=>Fl(e,s)}}},dy={kernelName:Os,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(e,n)}}},py={kernelName:Rs,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>Ic(e,n.shape)}}},fy={kernelName:Ds,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(e,Bh(n))}}},my={kernelName:zs,gradFunc:e=>({x:()=>Ll(e)})},gy={kernelName:Ls,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,r=nu(n.shape,s.shape);return{a:()=>{const t=Ml(e,Tl(s,"float32")),a=tu(n.shape,r);return a.length>0?Ic(Rh(t,a),n.shape):t},b:()=>{let t=Fl(e,Tl(n,"float32"));const a=tu(s.shape,r);a.length>0&&(t=Ic(Rh(t,a),s.shape));const i=zl(s);return nd(Ml(t,Tl(i,"float32")))}}}},yy={kernelName:Ps,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:s}=n,[r,a,i,o]=t,l=null==o?Vl(1):o,u=tu(a.shape,r.shape),c=[];if(1===a.rank){for(let e=0;e<r.shape.length-1;++e)c.push(r.shape[e]);c.push(1)}const h=Yl(r,a),d=Fl(e,l),p=cp(Rl(i,Vl(s))),f=Fl(Fl(Fl(p,p),p),Vl(-.5));return{x:()=>1===a.rank?Ic(Fl(Fl(e,Ph(Ic(p,[1,1,1,a.shape[0]]),c)),l),r.shape):Ic(Fl(Fl(e,p),l),r.shape),mean:()=>{let e=Fl(Fl(p,Vl(-1)),d);return 1===a.rank&&(e=Rh(e,u)),Ic(e,a.shape)},variance:()=>{let e=Fl(Fl(f,h),d);return 1===a.rank&&(e=Rh(e,u)),Ic(e,a.shape)},scale:()=>{const t=Fl(h,p);let n=Fl(e,t);return 1===a.rank&&(n=Rh(n,u)),Ic(n,a.shape)},offset:()=>{let t=e;return 1===a.rank&&(t=Rh(t,u)),Ic(t,a.shape)}}}},by={kernelName:Vs,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[s,r]=t,{axis:a,batchDims:i}=n,o=Jt(a,s.shape)[0],l=(e,t,n)=>()=>{const s=e.shape,r=t.size,i=s.slice(0,o),l=i.length,u=s.slice(a,s.length).slice(1),c=u.length,h=wy(0,l),d=wy(l+1,l+1+c),p=vy([i,[r],u]),f=Ic(n,p),m=Ic(t,[r]),g=vy([[l],h,d]),y=Qp(f,g);let b=jp(y,m,e.shape[o]);const w=Ih(g);return b=Qp(b,w),b};if(1===i){const t=s.shape[0],n=s.split(t,0);return{x:()=>{const t=Tp(n.map(((t,n)=>l(t,r.slice(n,1),e.slice(n,1))())));return t.reshape(s.shape)},indices:()=>r}}return{x:l(s,r,e),indices:()=>r}}};function wy(e,t){const n=[];for(let s=e;s<t;++s)n.push(s);return n}function vy(e){const t=[];for(let n=0;n<e.length;++n)for(let s=0;s<e[n].length;++s)t.push(e[n][s]);return t}const xy={kernelName:Gs,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t;return{a:()=>Ll(n),b:()=>Ll(s)}}},Ay={kernelName:qs,gradFunc:e=>({x:()=>Tl(e,"float32")})},ky={kernelName:$s,gradFunc:e=>({x:()=>Ll(e)})},Cy={kernelName:Ks,gradFunc:e=>({x:()=>Ll(e)})},Sy={kernelName:Xs,gradFunc:e=>({x:()=>Ll(e)})},Ey={kernelName:Zs,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{alpha:r}=n,a=Gh(s,0);return{x:()=>mh(a,e,Fl(e,r))}}},_y={kernelName:tr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ml(e,Rl(n,1))}}},Iy={kernelName:er,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ml(e,Tl(n,"float32"))}}},Ty={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s]=t,{axis:r}=n;return{logits:()=>{const t=Bh(s);return Yl(e,Fl(Rh(e,r,!0),t))}}}};const Ny=po({localResponseNormalizationBackprop_:function(e,t,n,s=5,r=1,a=1,i=.5){const o={x:e,y:t,dy:n},l={depthRadius:s,bias:r,alpha:a,beta:i};return eo.runKernel(ir,o,l)}}),Oy={kernelName:ar,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s,r]=t,{depthRadius:a,bias:i,alpha:o,beta:l}=n;return{x:()=>Ny(s,r,e,a,i,o,l)}}};function Ry(e,t,n,s){return t.rank<n.rank&&(t=Ic(t,Sh(t.shape,s))),e.rank<n.rank&&(e=Ic(e,Sh(e.shape,s))),{x:()=>Fl(e,Tl(fh(n,t),e.dtype))}}const Dy={kernelName:or,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const s=n,{reductionIndices:r}=s,a=t[0],i=Ry(e,t[1],a,Jt(r,a.shape));return{x:()=>i.x()}}},My={kernelName:lr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t;return{a:()=>Fl(e,Tl(qh(n,s),"float32")),b:()=>Fl(e,Tl(Zh(n,s),"float32"))}}};const Fy=po({maxPool3dGrad_:function(e,t,n,s,r,a,i){const o=uo(e,"dy","maxPool3dGrad"),l=uo(t,"input","maxPool3dGrad"),u=uo(n,"output","maxPool3dGrad");let c=o,h=l,d=u,p=!1;4===l.rank&&(p=!0,c=Ic(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),h=Ic(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=Ic(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Gt(5===c.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`)),Gt(5===h.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${h.rank}.`)),Gt(5===d.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`)),_c("maxPool3dGrad",a,i);const f={dy:c,input:h,output:d},m={filterSize:s,strides:r,pad:a,dimRoundingMode:i},g=eo.runKernel(dr,f,m);return p?Ic(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),By={kernelName:hr,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s,r]=t,{filterSize:a,strides:i,pad:o,dimRoundingMode:l}=n;return{x:()=>Fy(e,s,r,a,i,o,l)}}};const zy=po({maxPoolGrad_:function(e,t,n,s,r,a,i){const o=uo(e,"dy","maxPoolGrad"),l=uo(t,"input","maxPoolGrad"),u=uo(n,"output","maxPoolGrad");Gt(l.rank===o.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`)),Gt(4===o.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`)),Gt(4===l.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`)),_c("maxPoolGrad",a,i);const c={dy:o,input:l,output:u},h={filterSize:s,strides:r,pad:a,dimRoundingMode:i};return eo.runKernel(cr,c,h)}}),Ly={kernelName:ur,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s,r]=t,{filterSize:a,strides:i,pad:o}=n;return{x:()=>zy(e,s,r,a,i,o)}}},Py={kernelName:yr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const s=t[0],{paddings:r}=n,a=r.map((e=>e[0]));return{x:()=>Mc(e,a,s.shape)}}},Vy={kernelName:Ir,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:s}=n;return Hp(e,s).map((e=>()=>e))}},Wy={kernelName:Tr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const s=t[0],{paddings:r}=n,a=r.map((e=>e[0]));return{x:()=>Mc(e,a,s.shape)}}},Uy={kernelName:Nr,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,s,r]=t,a=n,i=s,o=nu(a.shape,i.shape);return{a:()=>{const t=Tl(i,"float32");let n=Fl(e,Fl(t,Zl(a,Yl(t,Vl(1)))));const s=tu(a.shape,o);return s.length>0&&(n=Rh(n,s)),Ic(n,a.shape)},b:()=>{const t=Gh(a,0),n=mh(t,ed(a),Ll(a));let s=Fl(e,Fl(r,n));const l=tu(i.shape,o);return l.length>0&&(s=Rh(s,l)),Ic(s,i.shape)}}}};function Gy(e,t,n){const s=e.shape.length,r=s-n.length,a=_h(n,s);let i=e;null!=a&&(i=Qp(e,a));const o=i.shape.slice(),l=o.splice(s-n.length,n.length).reduce(((e,t)=>e*t),1);o.push(l);let u=function(e,t,n){const s=e.shape.slice();s[n]=1;const r=Ic(t,s),a=oh(e,n,!0,!1),i=oh(e,n,!0,!0),o=Fl(a,i);return Fl(r,o)}(i.reshape(o),t,r);if(u=u.reshape(i.shape),null!=a){const e=Ih(a);u=Qp(u,e)}return u}const qy={kernelName:Jr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Gh(n,Vl(0)),s=Vl(Wm),r=Vl(Um),a=Fl(e,r),i=Fl(Fl(e,s),Bh(Tl(n,"float32")));return mh(t,a,i)}}}},jy={kernelName:la,gradFunc:(e,t,n)=>{const{blockShape:s,paddings:r}=n;return{x:()=>zc(e,s,r)}}},Hy={kernelName:ua,gradFunc:(e,t,n)=>{const{axis:s}=n;return{x:()=>Oc(e,s)}}},$y={kernelName:Ea,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{reps:r}=n;return{x:()=>{let t=Ll(s);if(1===s.rank)for(let n=0;n<r[0];++n)t=Rl(t,Mc(e,[n*s.shape[0]],[s.shape[0]]));else if(2===s.rank)for(let n=0;n<r[0];++n)for(let a=0;a<r[1];++a)t=Rl(t,Mc(e,[n*s.shape[0],a*s.shape[1]],[s.shape[0],s.shape[1]]));else if(3===s.rank)for(let n=0;n<r[0];++n)for(let a=0;a<r[1];++a)for(let i=0;i<r[2];++i)t=Rl(t,Mc(e,[n*s.shape[0],a*s.shape[1],i*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(4!==s.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${s.rank} tensors yet.`);for(let n=0;n<r[0];++n)for(let a=0;a<r[1];++a)for(let i=0;i<r[2];++i)for(let o=0;o<r[3];++o)t=Rl(t,Mc(e,[n*s.shape[0],a*s.shape[1],i*s.shape[2],o*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return t}}}};const Ky=[Og,Rg,Dg,Mg,Fg,Bg,zg,Lg,Pg,Vg,Wg,Ug,qg,Hg,$g,Kg,Xg,Zg,Yg,Qg,Jg,ey,ny,ty,ry,ay,iy,oy,ly,uy,{kernelName:Ss,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,r=nu(n.shape,s.shape);return{a:()=>{const t=Ml(e,Tl(s,"float32")),a=tu(n.shape,r);return a.length>0?Ic(Rh(t,a),n.shape):t},b:()=>{let t=Fl(e,Tl(n,"float32"));const a=tu(s.shape,r);a.length>0&&(t=Ic(Rh(t,a),s.shape));const i=zl(s);return nd(Ml(t,Tl(i,"float32")))}}}},cy,hy,dy,py,fy,gy,my,yy,by,xy,Ay,ky,Cy,Sy,Ey,_y,Iy,Ty,Oy,Dy,Dy,My,By,Ly,{kernelName:fr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{axis:r}=n,a=Jt(r,s.shape),i=Ht(Ch(s.shape,a)[1]);return{x:()=>{const t=s.shape.slice();a.forEach((e=>{t[e]=1}));const n=Ic(e,t);return Ml(Fl(n,wd(s.shape,"float32")),i)}}}},{kernelName:mr,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const s=n,{axis:r}=s,[a,i]=t,o=Ry(e,i,a,Jt(r,a.shape));return{x:()=>o.x()}}},{kernelName:gr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t;return{a:()=>Fl(e,Tl(Yh(n,s),"float32")),b:()=>Fl(e,Tl(Gh(n,s),"float32"))}}},Py,{kernelName:br,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,r=nu(n.shape,s.shape);return{a:()=>{const t=tu(n.shape,r);return t.length>0?Ic(Rh(e,t),n.shape):e},b:()=>{const t=Fl(e,nd(Wh(Ml(n,s)))),a=tu(s.shape,r);return a.length>0?Ic(Rh(t,a),s.shape):t}}}},{kernelName:vr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,r=nu(n.shape,s.shape);return{a:()=>{const t=Fl(e,Tl(s,"float32")),a=tu(n.shape,r);return a.length>0?Ic(Rh(t,a),n.shape):t},b:()=>{const t=Fl(e,Tl(n,"float32")),a=tu(s.shape,r);return a.length>0?Ic(Rh(t,a),s.shape):t}}}},{kernelName:xr,gradFunc:e=>({x:()=>nd(e)})},{kernelName:_r,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>bd(n.shape,"float32")}}},{kernelName:Er,gradFunc:e=>({x:()=>Ll(e)})},Vy,Wy,Wy,Uy,{kernelName:Or,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,s]=t,r=Gh(n,0);return{x:()=>mh(r,e,Fl(e,s)),alpha:()=>{let t=mh(r,Ll(e),Fl(e,n));const a=tu(s.shape,e.shape);return a.length>0&&(t=Rh(t,a)),Ic(t,s.shape)}}}},{kernelName:Rr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{axis:r}=n;let a=[];return a=null==r?s.shape.map(((e,t)=>t)):"number"==typeof r?[r]:r,{x:()=>Gy(s,e,a)}}},{kernelName:Lr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ml(e,nd(zl(n)))}}},{kernelName:jr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,s=Fl(Yh(n,6),Np(n));return{x:()=>Fl(e,Tl(s,"float32"))}}},{kernelName:Pr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(e,Tl(Np(n),"float32"))}}},{kernelName:Vr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ic(e,n.shape)}}},{kernelName:Gr,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[s]=t,r={dy:e,images:s};return{images:()=>eo.runKernel(qr,r,n)}}},{kernelName:Wr,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[s]=t,r={dy:e,images:s};return{images:()=>eo.runKernel(Ur,r,n)}}},{kernelName:Hr,gradFunc:(e,t,n)=>{const{dims:s}=n,r=Jt(s,e.shape);return{x:()=>rp(e,r)}}},{kernelName:$r,gradFunc:e=>({x:()=>Ll(e)})},{kernelName:Kr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>nd(Ml(e,Fl(Zl(n,1.5),2)))}}},{kernelName:Qr,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>Tl(Ll(n),"float32"),t:()=>Fl(e,Tl(n,e.dtype)),e:()=>Fl(e,Tl(ld(n),e.dtype))}}},qy,{kernelName:ra,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(e,Fl(n,Yl(Vl(1),n)))}}},{kernelName:sa,gradFunc:e=>({x:()=>Ll(e)})},{kernelName:ta,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(ah(Tl(n,"float32")),e)}}},{kernelName:na,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(ih(Tl(n,"float32")),e)}}},{kernelName:ea,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{begin:r,size:a}=n,i=s.shape,[o,l]=Qu(s,r,a),u=[];for(let t=0;t<e.rank;t++)u.push([o[t],i[t]-o[t]-l[t]]);return{x:()=>Od(e,u)}}},{kernelName:ca,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s]=t,{dim:r}=n,a=Fl(e,s);return{logits:()=>Yl(a,Fl(Rh(a,[r],true),s))}}},{kernelName:aa,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(e,Dc(n))}}},jy,jy,Hy,Hy,{kernelName:ia,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ml(e,Fl(Bl(Tl(n,"float32")),2))}}},{kernelName:ga,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,r=Vl(2);return{a:()=>Fl(e,Fl(r,Yl(n,s))),b:()=>Fl(e,Fl(r,Yl(s,n)))}}},{kernelName:ya,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(e,Fl(Tl(n,"float32"),2))}}},{kernelName:Ma,gradFunc:e=>({x:()=>Ll(e)})},{kernelName:ka,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,r=nu(n.shape,s.shape);return{a:()=>{let t=e;const s=tu(n.shape,r);return s.length>0&&(t=Rh(t,s)),Ic(t,n.shape)},b:()=>{let t=e;const n=tu(s.shape,r);return n.length>0&&(t=Rh(t,n)),Ic(nd(t),s.shape)}}}},{kernelName:oa,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,r=s.shape.slice(),{axis:a}=n;Jt(a,s.shape).forEach((e=>{r[e]=1}));const i=Ic(e,r),o=Fl(i,wd(s.shape,"float32"));return{x:()=>o}}},{kernelName:Ca,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ml(e,zl(ah(n)))}}},{kernelName:Sa,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Fl(Yl(Vl(1),zl(n)),e)}}},$y,{kernelName:Ta,gradFunc:(e,t,n)=>{const s=n,{perm:r}=s,a=Ih(r);return{x:()=>Qp(e,a)}}},{kernelName:Oa,gradFunc:(e,t,n)=>{const s=n,{axis:r}=s;return{value:()=>Tp(e,r)}}},{kernelName:Ra,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=su(t,Ll(t)),s=Uh(e,n);let r=qh(t,Vl(0,"int32"));const a=s.rank-r.rank;for(let e=0;e<a;++e)r=zh(r,e+1);r=od(r,wd(s.shape,"bool"));const i=Ll(s);return mh(r,s,i)}(e,n)}}},{kernelName:Da,gradFunc:e=>({x:()=>Ll(e)})}];for(const e of Ky)Ka(e);Mi().prototype.abs=function(){return this.throwIfDisposed(),Jl(this)},Mi().prototype.acos=function(){return this.throwIfDisposed(),tc(this)},Mi().prototype.acosh=function(){return this.throwIfDisposed(),nc(this)},Mi().prototype.add=function(e){return this.throwIfDisposed(),Rl(this,e)},Mi().prototype.all=function(e,t){return this.throwIfDisposed(),rc(this,e,t)},Mi().prototype.any=function(e,t){return this.throwIfDisposed(),ac(this,e,t)},Mi().prototype.argMax=function(e){return this.throwIfDisposed(),ic(this,e)},Mi().prototype.argMin=function(e){return this.throwIfDisposed(),oc(this,e)},Mi().prototype.asScalar=function(){return this.throwIfDisposed(),Gt(1===this.size,(()=>"The array must have only 1 element.")),Ic(this,[])},Mi().prototype.asType=function(e){return this.throwIfDisposed(),Tl(this,e)},Mi().prototype.as1D=function(){return this.throwIfDisposed(),Ic(this,[this.size])},Mi().prototype.as2D=function(e,t){return this.throwIfDisposed(),Ic(this,[e,t])},Mi().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),Ic(this,[e,t,n])},Mi().prototype.as4D=function(e,t,n,s){return this.throwIfDisposed(),Ic(this,[e,t,n,s])},Mi().prototype.as5D=function(e,t,n,s,r){return this.throwIfDisposed(),Ic(this,[e,t,n,s,r])},Mi().prototype.asin=function(){return this.throwIfDisposed(),lc(this)},Mi().prototype.asinh=function(){return this.throwIfDisposed(),uc(this)},Mi().prototype.atan=function(){return this.throwIfDisposed(),cc(this)},Mi().prototype.atan2=function(e){return this.throwIfDisposed(),hc(this,e)},Mi().prototype.atanh=function(){return this.throwIfDisposed(),dc(this)},Mi().prototype.avgPool=function(e,t,n,s){return this.throwIfDisposed(),Tc(this,e,t,n,s)},Mi().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),zc(this,e,t)},Mi().prototype.batchNorm=function(e,t,n,s,r){return this.throwIfDisposed(),Lc(this,e,t,n,s,r)},Mi().prototype.broadcastTo=function(e){return this.throwIfDisposed(),jc(this,e)},Mi().prototype.cast=function(e){return this.throwIfDisposed(),Tl(this,e)},Mi().prototype.ceil=function(){return this.throwIfDisposed(),Hc(this)},Mi().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),$c(this,e,t)},Mi().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Di&&(e=[e]),Oc([this,...e],t)},Mi().prototype.conv1d=function(e,t,n,s,r,a){return this.throwIfDisposed(),Jc(this,e,t,n,s,r,a)},Mi().prototype.conv2dTranspose=function(e,t,n,s,r){return this.throwIfDisposed(),th(this,e,t,n,s,r)},Mi().prototype.conv2d=function(e,t,n,s,r,a){return this.throwIfDisposed(),Qc(this,e,t,n,s,r,a)},Mi().prototype.cos=function(){return this.throwIfDisposed(),ah(this)},Mi().prototype.cosh=function(){return this.throwIfDisposed(),ih(this)},Mi().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),oh(this,e,t,n)},Mi().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),lh(this,e,t,n)},Mi().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),ch(this,e,t)},Mi().prototype.depthwiseConv2d=function(e,t,n,s,r,a){return this.throwIfDisposed(),hh(this,e,t,n,s,r,a)},Mi().prototype.dilation2d=function(e,t,n,s,r){return this.throwIfDisposed(),ph(this,e,t,n,s,r)},Mi().prototype.divNoNan=function(e){return this.throwIfDisposed(),gh(this,e)},Mi().prototype.div=function(e){return this.throwIfDisposed(),Ml(this,e)},Mi().prototype.dot=function(e){return this.throwIfDisposed(),yh(this,e)},Mi().prototype.elu=function(){return this.throwIfDisposed(),wh(this)},Mi().prototype.equal=function(e){return this.throwIfDisposed(),fh(this,e)},Mi().prototype.erf=function(){return this.throwIfDisposed(),xh(this)},Mi().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),Fh(this,e,t)},Mi().prototype.exp=function(){return this.throwIfDisposed(),Bh(this)},Mi().prototype.expandDims=function(e){return this.throwIfDisposed(),zh(this,e)},Mi().prototype.expm1=function(){return this.throwIfDisposed(),Lh(this)},Mi().prototype.fft=function(){return this.throwIfDisposed(),Ap(this)},Mi().prototype.flatten=function(){return this.throwIfDisposed(),Ic(this,[this.size])},Mi().prototype.floor=function(){return this.throwIfDisposed(),Wh(this)},Mi().prototype.floorDiv=function(e){return this.throwIfDisposed(),Dl(this,e)},Mi().prototype.gather=function(e,t,n){return this.throwIfDisposed(),Uh(this,e,t,n)},Mi().prototype.greaterEqual=function(e){return this.throwIfDisposed(),qh(this,e)},Mi().prototype.greater=function(e){return this.throwIfDisposed(),Gh(this,e)},Mi().prototype.ifft=function(){return this.throwIfDisposed(),kp(this)},Mi().prototype.irfft=function(){return this.throwIfDisposed(),Cp(this)},Mi().prototype.isFinite=function(){return this.throwIfDisposed(),Hh(this)},Mi().prototype.isInf=function(){return this.throwIfDisposed(),$h(this)},Mi().prototype.isNaN=function(){return this.throwIfDisposed(),Kh(this)},Mi().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Xh(this,e)},Mi().prototype.lessEqual=function(e){return this.throwIfDisposed(),Yh(this,e)},Mi().prototype.less=function(e){return this.throwIfDisposed(),Zh(this,e)},Mi().prototype.localResponseNormalization=function(e,t,n,s){return this.throwIfDisposed(),Jh(this,e,t,n,s)},Mi().prototype.logSigmoid=function(){return this.throwIfDisposed(),rd(this)},Mi().prototype.logSoftmax=function(e){return this.throwIfDisposed(),ad(this,e)},Mi().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),id(this,e,t)},Mi().prototype.log=function(){return this.throwIfDisposed(),ed(this)},Mi().prototype.log1p=function(){return this.throwIfDisposed(),td(this)},Mi().prototype.logicalAnd=function(e){return this.throwIfDisposed(),od(this,e)},Mi().prototype.logicalNot=function(){return this.throwIfDisposed(),ld(this)},Mi().prototype.logicalOr=function(e){return this.throwIfDisposed(),ud(this,e)},Mi().prototype.logicalXor=function(e){return this.throwIfDisposed(),cd(this,e)},Mi().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Rc(this,e,t,n)},Mi().prototype.maxPool=function(e,t,n,s){return this.throwIfDisposed(),fd(this,e,t,n,s)},Mi().prototype.max=function(e,t){return this.throwIfDisposed(),Nh(this,e,t)},Mi().prototype.maximum=function(e){return this.throwIfDisposed(),su(this,e)},Mi().prototype.mean=function(e,t){return this.throwIfDisposed(),yd(this,e,t)},Mi().prototype.min=function(e,t){return this.throwIfDisposed(),Oh(this,e,t)},Mi().prototype.minimum=function(e){return this.throwIfDisposed(),xd(this,e)},Mi().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),Ad(this,e,t)},Mi().prototype.mod=function(e){return this.throwIfDisposed(),kd(this,e)},Mi().prototype.mul=function(e){return this.throwIfDisposed(),Fl(this,e)},Mi().prototype.neg=function(){return this.throwIfDisposed(),nd(this)},Mi().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Mh(this,e,t,n)},Mi().prototype.notEqual=function(e){return this.throwIfDisposed(),_d(this,e)},Mi().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),Id(this,e,t,n)},Mi().prototype.onesLike=function(){return this.throwIfDisposed(),Td(this)},Mi().prototype.pad=function(e,t){return this.throwIfDisposed(),Od(this,e,t)},Mi().prototype.pool=function(e,t,n,s,r,a){return this.throwIfDisposed(),zd(this,e,t,n,s,r,a)},Mi().prototype.pow=function(e){return this.throwIfDisposed(),Zl(this,e)},Mi().prototype.prelu=function(e){return this.throwIfDisposed(),Ld(this,e)},Mi().prototype.prod=function(e,t){return this.throwIfDisposed(),Pd(this,e,t)},Mi().prototype.reciprocal=function(){return this.throwIfDisposed(),tp(this)},Mi().prototype.relu=function(){return this.throwIfDisposed(),np(this)},Mi().prototype.relu6=function(){return this.throwIfDisposed(),sp(this)},Mi().prototype.reshapeAs=function(e){return this.throwIfDisposed(),Ic(this,e.shape)},Mi().prototype.reshape=function(e){return this.throwIfDisposed(),Ic(this,e)},Mi().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Gf(this,e,t,n)},Mi().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),qf(this,e,t,n)},Mi().prototype.reverse=function(e){return this.throwIfDisposed(),rp(this,e)},Mi().prototype.rfft=function(){return this.throwIfDisposed(),Ep(this)},Mi().prototype.round=function(){return this.throwIfDisposed(),up(this)},Mi().prototype.rsqrt=function(){return this.throwIfDisposed(),cp(this)},Mi().prototype.selu=function(){return this.throwIfDisposed(),hp(this)},Mi().prototype.separableConv2d=function(e,t,n,s,r,a){return this.throwIfDisposed(),dp(this,e,t,n,s,r,a)},Mi().prototype.sigmoid=function(){return this.throwIfDisposed(),Dc(this)},Mi().prototype.sign=function(){return this.throwIfDisposed(),fp(this)},Mi().prototype.sin=function(){return this.throwIfDisposed(),mp(this)},Mi().prototype.sinh=function(){return this.throwIfDisposed(),gp(this)},Mi().prototype.slice=function(e,t){return this.throwIfDisposed(),Mc(this,e,t)},Mi().prototype.softmax=function(e){return this.throwIfDisposed(),xp(this,e)},Mi().prototype.softplus=function(){return this.throwIfDisposed(),sd(this)},Mi().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Bd(this,e,t)},Mi().prototype.split=function(e,t){return this.throwIfDisposed(),Sp(this,e,t)},Mi().prototype.sqrt=function(){return this.throwIfDisposed(),Bl(this)},Mi().prototype.square=function(){return this.throwIfDisposed(),zl(this)},Mi().prototype.squaredDifference=function(e){return this.throwIfDisposed(),_p(this,e)},Mi().prototype.squeeze=function(e){return this.throwIfDisposed(),Ip(this,e)},Mi().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Di?[this,e]:[this,...e];return Tp(n,t)},Mi().prototype.step=function(e){return this.throwIfDisposed(),Np(this,e)},Mi().prototype.stridedSlice=function(e,t,n,s,r,a,i,o){return this.throwIfDisposed(),Op(this,e,t,n,s,r,a,i,o)},Mi().prototype.sub=function(e){return this.throwIfDisposed(),Yl(this,e)},Mi().prototype.sum=function(e,t){return this.throwIfDisposed(),Rh(this,e,t)},Mi().prototype.tan=function(){return this.throwIfDisposed(),Rp(this)},Mi().prototype.tanh=function(){return this.throwIfDisposed(),Fc(this)},Mi().prototype.tile=function(e){return this.throwIfDisposed(),Ph(this,e)},Mi().prototype.toBool=function(){return this.throwIfDisposed(),Tl(this,"bool")},Mi().prototype.toFloat=function(){return this.throwIfDisposed(),Tl(this,"float32")},Mi().prototype.toInt=function(){return this.throwIfDisposed(),Tl(this,"int32")},Mi().prototype.topk=function(e,t){return this.throwIfDisposed(),Up(this,e,t)},Mi().prototype.transpose=function(e){return this.throwIfDisposed(),Qp(this,e)},Mi().prototype.unique=function(e){return this.throwIfDisposed(),qp(this,e)},Mi().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),jp(this,e,t)},Mi().prototype.unstack=function(e){return this.throwIfDisposed(),Hp(this,e)},Mi().prototype.where=function(e,t){return this.throwIfDisposed(),mh(e,this,t)},Mi().prototype.zerosLike=function(){return this.throwIfDisposed(),Ll(this)};class Xy extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Xy.prototype)}}class Zy extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Zy.prototype)}}class Yy extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Yy.prototype)}}class Qy extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Qy.prototype)}}class Jy extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Jy.prototype)}}Error;class eb{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function tb(e,t){if(Array.isArray(e)){let n=[];for(let s=0;s<t;s++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function nb(e,t){if(!e)throw new Jy(t)}function sb(e,t){let n=0;for(const s of e)s===t&&n++;return n}function rb(e){return 1===e.length?e[0]:e}function ab(e){return Array.isArray(e)?e:[e]}function ib(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function ob(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let lb={};function ub(e){if(null==e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function cb(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((e=>cb(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"==typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!=typeof t.value?cb(t):e[n]=t.value)}}}function hb(e,t={},n={},s="object",r=!1){if("string"==typeof e){const r=e;let a;if(r in n)a=n[r];else if(r in lb)a=lb[r];else if(a=t[r],null==a)throw new Yy(`Unknown ${s}: ${e}. This may be due to one of the following reasons:\n1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return a}{const a=e;if(null==a.className||null==a.config)throw new Yy(`${s}: Improper config format: ${JSON.stringify(a)}.\n'className' and 'config' must set.`);const i=a.className;let o,l;if(i in n?[o,l]=n[i]:i in lb?[o,l]=lb.className:i in t&&([o,l]=t[i]),null==o)throw new Yy(`Unknown ${s}: ${i}. This may be due to one of the following reasons:\n1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const t of Object.keys(lb))e[t]=lb[t];for(const t of Object.keys(n))e[t]=n[t];a.config.customObjects=e;const t=Object.assign({},lb);for(const e of Object.keys(n))lb[e]=n[e];cb(a.config);const s=l(o,a.config,n,r);return lb=Object.assign({},t),s}{const e=Object.assign({},lb);for(const e of Object.keys(n))lb[e]=n[e];const t=new o(a.config);return lb=Object.assign({},e),t}}}function db(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function pb(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function fb(e){if(null==e)throw new Yy(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function mb(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Yy(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function gb(e,t,n=0,s=1/0){return nb(n>=0),nb(s>=n),Array.isArray(e)&&e.length>=n&&e.length<=s&&e.every((e=>typeof e===t))}function yb(e,t){Array.isArray(e)?(Gt(e.length>0,(()=>`${t} is unexpectedly an empty array.`)),e.forEach(((e,n)=>yb(e,`element ${n+1} of ${t}`)))):Gt(Number.isInteger(e)&&e>0,(()=>`Expected ${t} to be a positive integer, but got ${bb(e)}.`))}function bb(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>bb(e))).join(",")+"]":"string"==typeof e?`"${e}"`:`${e}`}function wb(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let vb=0;function xb(){return vb++}const Ab={};function kb(e=""){return e in Ab||(Ab[e]=0),Ab[e]+=1,e+Ab[e].toString()}const Cb=["channelsFirst","channelsLast"],Sb=["nearest","bilinear"],Eb=["valid","same","causal"],_b=["max","avg"],Ib=["sum","mul","concat","ave"],Tb=new Map;function Nb(e){mb(Cb,"DataFormat",e)}function Ob(e){mb(Eb,"PaddingMode",e)}function Rb(e){mb(_b,"PoolMode",e)}const Db=[],Mb="/";function Fb(e,t){Db.push(e);try{const e=t();return Db.pop(),e}catch(e){throw Db.pop(),e}}function Bb(e){if(!Pb(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Db.length?"":Db.join(Mb)+Mb)+e}function zb(e){if(!Pb(e))throw new Error("Not a valid tensor name: '"+e+"'");Tb.has(e)||Tb.set(e,0);const t=Tb.get(e);if(Tb.set(e,Tb.get(e)+1),t>0){const n=`${e}_${t}`;return Tb.set(n,1),n}return e}const Lb=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Pb(e){return!!e.match(Lb)}function Vb(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let s=1;for(let r=t;r<n;++r)s*=e[r];return s}function Wb(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const s=e[n];s<t&&(t=s)}return t}function Ub(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const s=e[n];s>t&&(t=s)}return t}function Gb(e,t){if(t<e)throw new Yy(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let s=e;s<t;++s)n.push(s);return n}let qb;function jb(){return null==qb&&(qb=So().epsilon()),qb}function Hb(e,t){return Tl(e,t)}function $b(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),Ic(e,n)}function Kb(e,t,n){return xo((()=>{switch(e.rank){case 1:return yp(e,t,n);case 2:return bp(e,[t,0],[n,e.shape[1]]);case 3:return wp(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return vp(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Mc(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Mc(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Yy(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Xb(e,t,n){return xo((()=>{switch(e.rank){case 1:return yp(e,t,n);case 2:return bp(e,[0,t],[e.shape[0],n]);case 3:return wp(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return vp(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Yy(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Zb(e,t,n,s){return xo((()=>{switch(e.rank){case 1:return yp(e,t,n);case 2:switch(s){case 1:return Kb(e,t,n);case 2:return Xb(e,t,n);default:throw new Yy(`The axis is not within the rank of the tensor ${s}`)}case 3:switch(s){case 1:return Kb(e,t,n);case 2:return wp(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Xb(e,t,n);default:throw new Yy(`The axis is not within the rank of the tensor ${s}`)}case 4:switch(s){case 1:return Kb(e,t,n);case 2:return vp(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return vp(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Xb(e,t,n);default:throw new Yy(`The axis is not within the rank of the tensor ${s}`)}default:throw new Yy(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Yb(e,t=-1){let n;return t<0&&(n=e[0].rank,t=0!==n?n:0),t===e[0].rank&&(t=-1),Oc(e,t)}function Qb(e,t){switch(e.rank){case 1:return Kc([e,t]);case 2:return Xc([e,t],0);case 3:return Zc([e,t],0);case 4:return Yc([e,t],0);default:throw new Yy(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function Jb(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Yy(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return Ph(e,t)}function ew(e,t=0,n=1,s,r){return Xd(e,t,n,s,r)}function tw(e,t,n,s){if(e.rank<2||t.rank<2)throw new Qy(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Qy(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){return yf({a:e,b:t,transposeA:!1,transposeB:!1,bias:s?rw(e.rank,s,"channelsLast"):null,activation:n})}{const r=e.shape.slice(),a=r.pop();e=Ic(e,[-1,a]);const i=t.shape.slice(),o=i.pop(),l=i.pop(),u=[...i,o],c=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=Ic(Qp(t,c),[l,-1]);const h=[...r,...u];return Ic(yf({a:e,b:t,transposeA:!1,transposeB:!1,bias:s?rw(e.rank,s,"channelsLast"):null,activation:n}),h)}}function nw(e,t,n){return xo((()=>(t=Array.isArray(t)?Dp(t,"int32"):Tl(t,"int32"),Uh(e,t,n))))}function sw(e){return Fl(e,e)}function rw(e,t,n){const s=t.shape;if(1!==t.rank&&t.rank!==e)throw new Yy(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===s.length?Ic(t,[1,s[0],1,1,1]):Ic(t,[1,s[3],s[0],s[1],s[2]]);if("channelsLast"===n)return 1===s.length?Ic(t,[1,1,1,1,s[0]]):Ic(t,[1].concat(s))}else if(4===e){if("channelsFirst"===n)return 1===s.length?Ic(t,[1,s[0],1,1]):Ic(t,[1,s[2],s[0],s[1]]);if("channelsLast"===n)return 1===s.length?Ic(t,[1,1,1,s[0]]):Ic(t,[1].concat(s))}else if(3===e){if("channelsFirst"===n)return 1===s.length?Ic(t,[1,s[0],1]):Ic(t,[1,s[1],s[0]]);if("channelsLast"===n)return 1===s.length?Ic(t,[1,1,s[0]]):Ic(t,[1].concat(s))}else if(e<3)return t;throw new Yy(`Unsupported input rank by biasAdd: ${t.rank}`)}function aw(e,t,n){return xo((()=>(null==n&&(n="channelsLast"),Nb(n),Rl(e,rw(e.rank,t,n)))))}function iw(e,t,n,s){return xo((()=>sf(e,t,n,s)))}function ow(e,t,n=!1){return n?e():t()}const lw=["fanIn","fanOut","fanAvg"],uw=["normal","uniform","truncatedNormal"];class cw extends Gl{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class hw extends cw{apply(e,t){return bd(e,t)}}hw.className="Zeros",jl(hw);class dw extends cw{apply(e,t){return wd(e,t)}}dw.className="Ones",jl(dw);class pw extends cw{constructor(e){if(super(),"object"!=typeof e)throw new Yy(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new Yy(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return xo((()=>Fl(Vl(this.value),wd(e,t))))}getConfig(){return{value:this.value}}}pw.className="Constant",jl(pw);class fw extends cw{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return Yd(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}fw.className="RandomUniform",jl(fw);class mw extends cw{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Qy(`randomNormal does not support dType ${t}.`);return ew(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}mw.className="RandomNormal",jl(mw);class gw extends cw{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Qy(`truncatedNormal does not support dType ${t}.`);return Gp(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}gw.className="TruncatedNormal",jl(gw);class yw extends cw{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return xo((()=>{if(2!==e.length||e[0]!==e[1])throw new Yy("Identity matrix initializer can only be used for 2D square matrices.");return Fl(this.gain,Vh(e[0]))}))}getConfig(){return{gain:this.gain}}}yw.className="Identity",jl(yw);class bw extends cw{constructor(e){if(super(),e.scale<0)throw new Yy(`scale must be a positive float. Got: ${e.scale}`);var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,mb(lw,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){mb(uw,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e,t="channelsLast"){let n,s;if(Nb(t),2===e.length)n=e[0],s=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){const t=Vb(e,2);n=e[1]*t,s=e[0]*t}else if("channelsLast"===t){const t=Vb(e,0,e.length-2);n=e[e.length-2]*t,s=e[e.length-1]*t}}else{const t=Vb(e);n=Math.sqrt(t),s=Math.sqrt(t)}return[n,s]}(e),s=n[0],r=n[1];let a=this.scale;if("fanIn"===this.mode?a/=Math.max(1,s):"fanOut"===this.mode?a/=Math.max(1,r):a/=Math.max(1,(s+r)/2),"normal"===this.distribution){const n=Math.sqrt(a);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Qy(`${this.getClassName()} does not support dType ${t}.`);return Gp(e,0,n,t,this.seed)}{const n=Math.sqrt(3*a);return Yd(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}bw.className="VarianceScaling",jl(bw);class ww extends bw{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return bw.className}}ww.className="GlorotUniform",jl(ww);class vw extends bw{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return bw.className}}vw.className="GlorotNormal",jl(vw);class xw extends bw{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return bw.className}}xw.className="HeNormal",jl(xw);class Aw extends bw{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return bw.className}}Aw.className="HeUniform",jl(Aw);class kw extends bw{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return bw.className}}kw.className="LeCunNormal",jl(kw);class Cw extends bw{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return bw.className}}Cw.className="LeCunUniform",jl(Cw);class Sw extends cw{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return xo((()=>{if(e.length<2)throw new Qy("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError(`Unsupported data type ${t}.`);const n=Ht(e.slice(0,-1)),s=e[e.length-1];this.ELEMENTS_WARN_SLOW;const r=ew([Math.max(s,n),Math.min(s,n)],0,1,t,this.seed),a=bm.qr(r,!1);let i=a[0];const o=a[1].flatten().stridedSlice([0],[Math.min(s,n)*Math.min(s,n)],[Math.min(s,n)+1]);return i=Fl(i,o.sign()),n<s&&(i=i.transpose()),Fl(Vl(this.gain),i.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}Sw.className="Orthogonal",jl(Sw);const Ew={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function _w(e,t={}){return hb(e,ql.getMap().classNameMap,t,"initializer")}function Iw(e){return ub(e)}function Tw(e){if("string"==typeof e){const t=e in Ew?Ew[e]:e;if("GlorotNormal"===t)return new vw;if("GlorotUniform"===t)return new ww;if("HeNormal"===t)return new xw;if("HeUniform"===t)return new Aw;if("LeCunNormal"===t)return new kw;if("LeCunUniform"===t)return new Cw;{const e={};return e.className=t,e.config={},_w(e)}}return e instanceof cw?e:_w(e)}function Nw(e){return Array.isArray(e)&&Array.isArray(e[0])}function Ow(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Rw(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new Yy(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function Dw(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new Yy(`Expected exactly 1 Shape; got ${e.length}`)}return e}function Mw(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const Fw="Variable";class Bw{constructor(e,t="float32",n=Fw,s=!0,r=null){this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=xb(),n=null==n?Fw:n,this.originalName=Bb(n),this.name=zb(this.originalName),this.trainable_=s,this.constraint=r,this.val=Kp(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function zw(e){return e.map((e=>e.read()))}function Lw(e){e.forEach((e=>{e[0].write(e[1])}))}class Pw{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Vw{constructor(e,t,n,s,r,a,i){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=s,this.callArgs=r,this.outputTensorIndex=i,this.id=xb(),null!=a&&(this.originalName=Bb(a),this.name=zb(this.originalName)),this.rank=t.length}}let Ww=0;class Uw{constructor(e,t){this.callArgs=t,this.id=Ww++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const t of e.inboundLayers)null!=t&&t.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let Gw=0;class qw extends Gl{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Gw++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=ib(e)+"_"+kb(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new Zy(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new Yy(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return rb(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return rb(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Xy(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new Xy(`Layer ${this.name} is not connected, no input to return.`);return rb(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new Xy(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Xy(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return rb(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=ab(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=ab(this.inputSpec);if(t.length!==n.length)throw new Yy(`Layer ${this.name} expects ${n.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let e=0;e<t.length;e++){const s=t[e],r=n[e];if(null==r)continue;const a=s.rank;if(null!=r.ndim&&a!==r.ndim)throw new Yy(`Input ${e} is incompatible with layer ${this.name}: expected ndim=${r.ndim}, found ndim=${a}`);if(null!=r.maxNDim&&a>r.maxNDim)throw new Yy(`Input ${e} is incompatible with layer ${this.name}: expected max_ndim=${r.maxNDim}, found ndim=${a}`);if(null!=r.minNDim&&a<r.minNDim)throw new Yy(`Input ${e} is incompatible with layer ${this.name}: expected min_ndim=${r.minNDim}, found ndim=${a}.`);if(null!=r.dtype&&s.dtype!==r.dtype)throw new Yy(`Input ${e} is incompatible with layer ${this.name} : expected dtype=${r.dtype}, found dtype=${s.dtype}.`);if(r.axes){const t=s.shape;for(const n in r.axes){const s=Number(n),a=r.axes[n],i=s>=0?t[s]:t[t.length+s];if(null!=a&&-1===[a,null].indexOf(i))throw new Yy(`Input ${e} is incompatible with layer ${this.name}: expected axis ${s} of input shape to have value ${a} but got shape ${t}.`)}}if(null!=r.shape)for(let t=0;t<r.shape.length;++t){const n=r.shape[t],a=s.shape[t];if(null!=n&&null!=a&&n!==a)throw new Yy(`Input ${e} is incompatible with layer ${this.name}: expected shape=${r.shape}, found shape=${s.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=ab(e),s=function(e){let t=!0;for(const n of ab(e))if(!(n instanceof Vw)){t=!1;break}return t}(e),r=function(e){let t=!0;for(const n of ab(e))if(n instanceof Vw){t=!1;break}return t}(e);if(s===r)throw new Yy("Arguments to apply() must be all SymbolicTensors or all Tensors");return Fb(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of ab(e))t.push(n.shape);this.build(rb(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&r&&(this._refCount=1)}if(this.assertInputCompatibility(e),r){let s=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,s);const r=ab(s),a=[];for(let e of r)-1!==n.indexOf(e)&&(e=e.clone()),a.push(e);if(s=rb(a),null!=this.activityRegularizer)throw new Qy("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return s}{const n=function(e){e=ab(e);const t=[];for(const n of e)t.push(n.shape);return rb(t)}(e),s=this.computeOutputShape(n);let r;const a="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),r=null!=s&&s.length>0&&Array.isArray(s[0])?s.map(((n,s)=>new Vw(a,n,this,ab(e),t,this.name,s))):new Vw(a,s,this,ab(e),t,this.name),this.addInboundNode(e,r,null,null,n,s,t),this._refCount++,null!=this.activityRegularizer)throw new Qy("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length);else{let t=!1;this.batchInputShape.forEach(((n,s)=>{null!=n&&null!=e[s]&&e[s]!==n&&(t=!0)}))}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Xy(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new Xy(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Zy(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Mw(this.weights)}build(e){this.built=!0}getWeights(e=!1){return zw(e?this.trainableWeights:this.weights)}setWeights(e){xo((()=>{const t=this.weights;if(t.length!==e.length)throw new Yy(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],s=zw(t);for(let r=0;r<s.length;++r){const a=s[r],i=t[r],o=e[r];if(!$t(a.shape,o.shape))throw new Yy(`Layer weight shape ${a.shape} not compatible with provided weight shape ${o.shape}`);n.push([i,o])}Lw(n)}))}addWeight(e,t,n,s,r,a,i,o){if(-1!==this._addedWeightNames.indexOf(e))throw new Yy(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(s=null!=o?o():Tw("zeros"));const l=s.apply(t,n),u=new Bw(l,n,e,a,i);return l.dispose(),null!=r&&this.addLoss((()=>r.apply(u.read()))),null==a&&(a=!0),a?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=ab(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const s=this.computeMask(e,n),r=ab(t),a=ab(s);if(r.length!==a.length)throw new Error(`${this.name} outputs ${r.length} tensors but ${r.length} masks for those tensors`);for(let e=0;e<r.length;e++)r[e].kerasMask=a[e]}addInboundNode(e,t,n,s,r,a,i=null){const o=ab(e);t=ab(t),n=ab(n),s=ab(s),r=Ow(r),a=Ow(a);const l=[],u=[],c=[];for(const e of o)l.push(e.sourceLayer),u.push(e.nodeIndex),c.push(e.tensorIndex);new Uw({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:o,outputTensors:t,inputMasks:n,outputMasks:s,inputShapes:r,outputShapes:a},i);for(let e=0;e<t.length;e++)t[e].sourceLayer=this,t[e].nodeIndex=this.inboundNodes.length-1,t[e].tensorIndex=e}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function jw(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const s=jw(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of s)-1===t.indexOf(e)&&t.push(e)}return t}}}class Hw extends qw{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:kb("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Yy("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new Yy("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Yy("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const s=new Vw(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new Uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new Yy(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}Hw.className="InputLayer",jl(Hw);class $w{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof $w)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new Yy(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Tl(t,e.dtype)}catch(n){throw new Yy(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Vw){if(null==this.id2Value[e.id])throw new Yy(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new Yy(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof Vw){if(null==this.id2Value[e.id])throw new Yy(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new Yy(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&Ao(this.id2Mask)}}const Kw=new eb,Xw=new eb;function Zw(e,t,n,s){const r=null!=n&&n.training,a=Array.isArray(e),i=a?e:[e],o=i.map((e=>e.name)),l=[],u=t.names();for(const e of o)-1!==u.indexOf(e)?l.push(t.getValue(e)):l.push(null);null!=s&&(s.maxNumTensors=-1/0,s.minNumTensors=1/0);const c=o.join(",")+"|"+t.names().sort().join(",");let h,d=Kw.get(c);if(null==d){const e=function(e,t){Gt(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],s={};if(1===e.length){const r=Qw(e[0],t);n=r.sorted,s=r.recipientMap}else{const r=new Set;for(const a of e){const{sorted:e,recipientMap:i}=Qw(a,t);for(const t of e)r.has(t.name)||(n.push(t),r.add(t.name));for(const e in i)null==s[e]&&(s[e]=new Set),i[e].forEach((t=>s[e].add(t)))}}return{sorted:n,recipientCounts:Yw(s)}}(i,t);d=e.sorted,h=e.recipientCounts,Kw.put(c,d),Xw.put(c,h)}h={},r||Object.assign(h,Xw.get(c));const p=new $w(t);for(let e=0;e<d.length;++e){if(null!=s){const e=vo().numTensors;e>s.maxNumTensors&&(s.maxNumTensors=e),e<s.minNumTensors&&(s.minNumTensors=e)}const a=d[e],i=a.sourceLayer;if(i instanceof Hw)continue;const u=[],c=[],f=[];let m=!1;for(const e of a.inputs){const n=p.getValue(e),s=p.getMask(e);u.push(n),c.push(s),null!=s&&(m=!0),r||(h[e.name]--,0!==h[e.name]||t.hasKey(e)||-1!==o.indexOf(e.name)||n.isDisposed||!0===e.sourceLayer.stateful||f.push(n))}m&&((n=n||{}).mask=c[0]);const g=ab(i.apply(u,n));let y=null;i.supportsMasking&&(y=i.computeMask(u,c));const b=Jw(a),w=Array.isArray(b)?b:[b];for(let e=0;e<w.length;++e){p.hasKey(w[e])||p.add(w[e],g[e],Array.isArray(y)?y[0]:y);const t=o.indexOf(w[e].name);-1!==t&&(l[t]=g[e])}r||Ao(f)}return p.disposeMasks(),a?l:l[0]}function Yw(e){const t={};for(const n in e)t[n]=e[n].size;return t}function Qw(e,t){const n=new Set,s=[],r={};for(const e of t.names())n.add(e);const a=[],i=[];for(a.push(e);a.length>0;){const e=a[a.length-1];if(n.has(e.name)){a.pop();continue}const t=i[i.length-1]===a.length-1;if(0===e.inputs.length||t)a.pop(),s.push(e),n.add(e.name),t&&i.pop();else{i.push(a.length-1);for(const t of e.inputs)null==r[t.name]&&(r[t.name]=new Set),r[t.name].add(e.name),n.has(t.name)||a.push(t)}}return{sorted:s,recipientMap:r}}function Jw(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const s of e.sourceLayer.inboundNodes[t].outputTensors)if(s.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function ev(e,t){return xo((()=>Bl(Rh(Fl(e,e),t,!0))))}Cn().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=Kw&&Kw.setMaxEntries(e),null!=Xw&&Xw.setMaxEntries(e)}));class tv extends Gl{getConfig(){return{}}}class nv extends tv{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return xo((()=>{const t=ev(e,this.axis),n=$c(t,0,this.maxValue);return Fl(e,Ml(n,Rl(jb(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}nv.className="MaxNorm",jl(nv);class sv extends tv{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return xo((()=>Ml(e,Rl(jb(),ev(e,this.axis)))))}getConfig(){return{axis:this.axis}}}sv.className="UnitNorm",jl(sv);class rv extends tv{apply(e){return np(e)}}rv.className="NonNeg",jl(rv);class av extends tv{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return xo((()=>{const t=ev(e,this.axis),n=Rl(Fl(this.rate,$c(t,this.minValue,this.maxValue)),Fl(1-this.rate,t));return Fl(e,Ml(n,Rl(jb(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}av.className="MinMaxNorm",jl(av);const iv={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function ov(e){return ub(e)}function lv(e,t={}){return hb(e,ql.getMap().classNameMap,t,"constraint")}function uv(e){if(null==e)return null;if("string"==typeof e){return lv({className:e in iv?iv[e]:e,config:{}})}return e instanceof tv?e:lv(e)}async function cv(e){if(null==e)return;const t=[],n=[],s=[];for(const r in e){const a=e[r];if("number"!=typeof a){const e=a;t.push(e.data()),n.push(r),s.push(e)}}if(t.length>0){const r=await Promise.all(t);for(let t=0;t<r.length;++t)e[n[t]]=r[t][0];Ao(s)}}function hv(e){if(null!=e)for(const t in e){const n=e[t];"number"!=typeof n&&n.dispose()}}var dv;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(dv||(dv={}));class pv{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class fv{constructor(e,t=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class mv extends pv{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const e in t){const s=t[e];if("number"==typeof s)this.totals.hasOwnProperty(e)||(this.totals[e]=0),this.totals[e]=this.totals[e]+s*n;else{let t;e in this.totals?t=this.totals[e]:this.totals[e]=0;const r=xo((()=>Rl(this.totals[e],Fl(s,n))));this.totals[e]=r,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const e of this.params.metrics)null!=this.totals[e]&&("number"==typeof this.totals[e]?t[e]=this.totals[e]/this.seen:xo((()=>{const n=Fl(Ml(1,this.seen),this.totals[e]);t[e]=n,this.totals[e].dispose(),ko(t[e])})))}}class gv extends pv{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const e in t)null==this.history[e]&&(this.history[e]=[]),this.history[e].push(t[e])}async syncData(){const e=[],t=[],n=[];for(const s in this.history){const r=this.history[s];for(let a=0;a<r.length;++a)if("number"!=typeof r[a]){const i=r[a];e.push(i.data()),t.push(s),n.push(a)}}const s=await Promise.all(e);for(let e=0;e<s.length;++e){this.history[t[e]][n[e]].dispose(),this.history[t[e]][n[e]]=s[e][0]}}}class yv extends pv{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||Cm,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");on(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let s,r=null!=n?n():pi();return(...a)=>{const i=null!=n?n():pi();return i-r<t||(r=i,s=e(...a)),s}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const s=[];null!=this.yield&&(await cv(n),s.push(this.yield(e,t,n))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await cv(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await cv(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await cv(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await cv(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):on(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await cv(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await cv(e),await this.trainEnd(e))}}function bv(e,t){if(null==e&&(e={}),e instanceof pv)return[e];if(Array.isArray(e)&&e[0]instanceof pv)return e;return ab(e).map((e=>new yv(e,t)))}class wv{constructor(){}static registerCallbackConstructor(e,t){Gt(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),wv.checkForDuplicate(t),null==wv.constructors[e]&&(wv.constructors[e]=[]),wv.constructors[e].push(t)}static checkForDuplicate(e){for(const t in wv.constructors){wv.constructors[+t].forEach((t=>{if(t===e)throw new Yy("Duplicate callback constructor.")}))}}static clear(){wv.constructors={}}static createCallbacks(e){const t=[];for(const n in wv.constructors){const s=+n;e>=s&&t.push(...wv.constructors[s])}return t.map((e=>new e))}}function vv(e,t,n,s,r,a,i,o,l){const u=new gv,c=[new mv,...wv.createCallbacks(t)];null!=e&&c.push(...e),c.push(u);const h=new fv(c);return h.setParams({epochs:n,initialEpoch:s,samples:r,steps:a,batchSize:i,verbose:t,doValidation:o,metrics:l}),{callbackList:h,history:u}}function xv(e,t={},n=!1){return hb(e,ql.getMap().classNameMap,t,"layer",n)}function Av(e,t){return xo((()=>{"float32"!==e.dtype&&(e=Tl(e,"float32"));const n=Rh(sw(e),t,!0),s=Kl(n.shape,jb()),r=Bl(su(n,s));return Ml(e,r)}))}function kv(e,t){return xo((()=>yd(sw(Yl(t,e)),-1)))}function Cv(e,t){return xo((()=>yd(Jl(Yl(t,e)),-1)))}function Sv(e,t){return xo((()=>{const n=Yl(e,t),s=$c(Jl(e),jb(),Number.MAX_VALUE),r=Jl(Ml(n,s));return Fl(100,yd(r,-1))}))}function Ev(e,t){return xo((()=>{const n=$c(t,jb(),Number.MAX_VALUE),s=ed(Rl(1,n)),r=$c(e,jb(),Number.MAX_VALUE),a=ed(Rl(1,r));return yd(sw(Yl(s,a)),-1)}))}function _v(e,t,n=!1){return xo((()=>{if(n)t=xp(t);else{const e=Rh(t,t.shape.length-1,!0);t=Ml(t,e)}return t=$c(t,jb(),1-jb()),nd(Rh(Fl(Tl(e,"float32"),ed(t)),t.shape.length-1))}))}function Iv(e,t,n=!1){return xo((()=>{const s=Tl(Wh(function(e){const t=[Vb(e.shape)];return Ic(e,t)}(e)),"int32"),r=(t=$c(t,jb(),1-jb())).shape;return _v(Ic(Id(s,r[r.length-1]),r),t,n)}))}function Tv(e,t){return xo((()=>{let n;return n=$c(t,jb(),1-jb()),n=ed(Ml(n,Yl(1,n))),yd(function(e,t){if(!$t(e.shape,t.shape))throw new Yy(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return xo((()=>{const n=np(t),s=nd(Jl(t));return Rl(Yl(n,Fl(t,e)),td(Bh(s)))}))}(e,n),-1)}))}function Nv(e,t){return xo((()=>{const n=$c(e,jb(),1),s=$c(t,jb(),1);return Rh(Fl(e,ed(Ml(n,s))),-1)}))}function Ov(e,t){return xo((()=>{const n=Av(e,-1),s=Av(t,-1),r=Fl(n,s);return nd(Rh(r,-1))}))}wv.constructors={};const Rv={meanSquaredError:kv,meanAbsoluteError:Cv,meanAbsolutePercentageError:Sv,meanSquaredLogarithmicError:Ev,squaredHinge:function(e,t){return xo((()=>{const n=su(0,Yl(1,Fl(e,t)));return yd(sw(n),-1)}))},hinge:function(e,t){return xo((()=>{const n=su(0,Yl(1,Fl(e,t)));return yd(n,-1)}))},categoricalHinge:function(e,t){return xo((()=>{const n=Rh(Fl(e,t),-1),s=Nh(Fl(Yl(1,e),t),-1);return su(0,Rl(1,Yl(s,n)))}))},logcosh:function(e,t){return xo((()=>{const n=Math.log(2),s=Yl(t,e),r=Yl(Rl(s,sd(Fl(-2,s))),n);return yd(r,-1)}))},categoricalCrossentropy:_v,sparseCategoricalCrossentropy:Iv,binaryCrossentropy:Tv,kullbackLeiblerDivergence:Nv,poisson:function(e,t){return xo((()=>{const n=ed(Rl(jb(),t));return yd(Yl(t,Fl(e,n)),-1)}))},cosineProximity:Ov};function Dv(e){if("string"==typeof e){if(e in Rv)return Rv[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Yy(t)}return e}function Mv(e,t){return xo((()=>{const n=Fl(.5,Td(t)),s=Hb(Gh(t,n),e.dtype);return yd(fh(e,s),-1)}))}function Fv(e,t){return xo((()=>Hb(fh(ic(e,-1),ic(t,-1)),"float32")))}function Bv(e,t){return xo((()=>Tl(Rh(od(fh(e,1),fh(t,1))),"float32")))}function zv(e,t){return Tv(e,t)}function Lv(e,t){return e.rank===t.rank&&(e=Ip(e,[e.rank-1])),(t=ic(t,-1)).dtype!==e.dtype&&(t=Tl(t,e.dtype)),Tl(fh(e,t),"float32")}const Pv=_v,Vv=Iv,Wv={binaryAccuracy:Mv,categoricalAccuracy:Fv,precision:function(e,t){return xo((()=>{const n=Bv(e,t),s=function(e,t){return xo((()=>Tl(Rh(od(fh(e,0),fh(t,1))),"float32")))}(e,t),r=Rl(n,s);return Tl(mh(Gh(r,0),Ml(n,r),0),"float32")}))},categoricalCrossentropy:Pv,sparseCategoricalCrossentropy:Vv,mse:kv,MSE:kv,mae:Cv,MAE:Cv,mape:Sv,MAPE:Sv,cosine:Ov};function Uv(e){if("string"==typeof e&&e in Wv)return Wv[e];if("string"!=typeof e&&null!=e)return e;throw new Yy(`Unknown metric ${e}`)}function Gv(e){if(nb(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let t;for(const n of Object.keys(Rv))if(Rv[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(Wv))if(Wv[n]===e){t=n;break}return void 0!==t?t:e.name}}function qv(e,t,n=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!jv(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){JSON.stringify(e).length}}function jv(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!=typeof n)return!1;if(!jv(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!jv(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function Hv(e,t,n,s=console.log){const r=function(e){let t=!0;const n=[],s=[];for(const t in e.nodesByDepth)n.push(e.nodesByDepth[t]);for(const e of n){if(e.length>1||1===e.length&&e[0].inboundLayers.length>1){t=!1;break}s.push(...e)}if(t)for(const n of e.layers){let e=!1;for(const r of n.inboundNodes)if(-1!==s.indexOf(r)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),a=["Layer (type)","Input Shape","Output shape","Param #"];let i;if(r?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!r){a.push("Receives inputs"),i=[];for(const t in e.nodesByDepth)i.push(...e.nodesByDepth[t])}s("_".repeat(t)),$v(a,n,s),s("=".repeat(t));const o=e.layers;for(let e=0;e<o.length;++e)r?Kv(o[e],n,s):Xv(o[e],n,i,s),s((e===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?Mw(e.collectedTrainableWeights):Mw(e.trainableWeights);return t}(e),u=Mw(e.nonTrainableWeights);s(`Total params: ${l+u}`),s(`Trainable params: ${l}`),s(`Non-trainable params: ${u}`),s("_".repeat(t))}function $v(e,t,n=console.log){let s="";for(let n=0;n<e.length;++n)n>0&&(s=s.slice(0,s.length-1)+" "),s+=e[n],s=s.slice(0,t[n]),s+=" ".repeat(t[n]-s.length);n(s)}function Kv(e,t,n){let s,r;try{r=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){r="multiple"}try{s=JSON.stringify(e.outputShape)}catch(e){s="multiple"}$v([`${e.name} (${e.getClassName()})`,r,s,e.countParams().toString()],t,n)}function Xv(e,t,n,s){let r,a;try{a=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}const i=[];for(const t of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(t)))for(let e=0;e<t.inboundLayers.length;++e){const n=t.inboundLayers[e].name,s=t.nodeIndices[e],r=t.tensorIndices[e];i.push(`${n}[${s}][${r}]`)}const o=e.name,l=e.getClassName(),u=0===i.length?"":i[0];$v([`${o} (${l})`,a,r,e.countParams().toString(),u],t,s);for(let e=1;e<i.length;++e)$v(["","","","",i[e]],t,s)}function Zv(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function Yv(e,t){if(null===e)return null;if("string"==typeof e)return ob(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],s=e.length;for(let r=0;r<s;++r){const s=e[r];Zv(t,r,s)?n.push(s):n.push(Yv(s,t))}return n}{const t={};for(const n of Object.keys(e)){const s=e[n];if("name"===n&&"string"==typeof s)t[n]=s;else{const e=ob(n);t[e]=Yv(s,e)}}return t}}function Qv(e,t){if(null==e)return null;if("string"==typeof e)return ib(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],s=e.length;for(let r=0;r<s;++r){const s=e[r];Zv(t,r,s)?n.push(s):n.push(Qv(s,t))}return n}{const t={};for(const n of Object.keys(e)){const s=e[n],r=ib(n);t[r]="name"!==n&&"className"!==n||"string"!=typeof s?Qv(s,n):s}return t}}const Jv="4.19.0";class ex extends qw{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=kb(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],pb(this.inputs).length!==this.inputs.length)throw new Yy(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);pb(this.outputs).length,this.outputs.length,this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const e of this.outputs){const t=e.sourceLayer,n=e.nodeIndex,s=e.tensorIndex;this.outputLayers.push(t),this.outputLayersNodeIndices.push(n),this.outputLayersTensorIndices.push(s)}for(const e of this.inputs){const t=e.sourceLayer,n=e.nodeIndex,s=e.tensorIndex;nb(0===n,"input layer has >1 nodes"),nb(0===s,"input layer has >1 tensors"),this.inputLayers.push(t),this.inputLayersNodeIndices.push(n),this.inputLayersTensorIndices.push(s)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let t=0;t<this.inputLayers.length;t++){const n=this.inputLayers[t];if(!(n instanceof Hw))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${t} (0-based) originates from layer type ${n.getClassName()}.`);this.inputNames.push(n.name),this.feedInputShapes.push(n.batchInputShape),this.feedInputNames.push(n.name)}for(const e of this.outputLayers)this.outputNames.push(e.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},s={},r={},a={},i=[],o=(e,t,n,s,r,l)=>{null!=s&&null!=r&&null!=l||(s=e.sourceLayer,r=e.nodeIndex,l=e.tensorIndex);const u=s.inboundNodes[r];if(-1!==n.indexOf(u))throw new Zy(`The tensor ${e.name} at layer "${s.name}" is part of a cycle.`);if(-1!==t.indexOf(u))return;this.containerNodes.add(ex.nodeKey(s,r)),s.id in a||(a[s.id]=Object.keys(a).length),-1===n.indexOf(u)&&n.push(u);const c=u.inboundLayers.length;for(let e=0;e<c;e++){const s=u.inputTensors[e],r=u.inboundLayers[e],a=u.nodeIndices[e],i=u.tensorIndices[e];o(s,t,n,r,a,i)}for(t.push(u);n.indexOf(u)>=0;)n.splice(n.indexOf(u),1);i.push(u)},l=[],u=[];for(const e of this.outputs)o(e,l,u);const c=i.slice().reverse();for(const e of c){n[e.id]=e,e.id in t||(t[e.id]=0);let a=t[e.id];const i=null==s[e.outboundLayer.id]?0:s[e.outboundLayer.id];a=Math.max(a,i),s[e.outboundLayer.id]=a,r[e.outboundLayer.id]=e.outboundLayer,t[e.id]=a;for(let s=0;s<e.inboundLayers.length;s++){const r=e.inboundLayers[s],i=e.nodeIndices[s],o=r.inboundNodes[i],l=null==t[o.id]?0:t[o.id];t[o.id]=Math.max(a+1,l),n[o.id]=o}}const h={};for(const e in t){const s=t[e];s in h||(h[s]=[]),h[s].push(n[e])}const d={};for(const e in s){const t=s[e];t in d||(d[t]=[]),d[t].push(r[e])}let p=Object.keys(d).map((e=>parseInt(e,10))).sort(db);this.layers=[];for(const e of p){const t=d[e];t.sort(((e,t)=>{const n=a[e.id],s=a[t.id];return n<s?-1:n>s?1:0}));for(const e of t)e instanceof ex&&this.internalContainerRefs.push(e),this.layers.push(e)}this.layersByDepth=d,p=Object.keys(h).map((e=>parseInt(e,10))).sort(db);const f=this.inputs.slice(),m=[];for(const e of p)for(const t of h[e]){const e=t.outboundLayer;if(null!=e){for(const n of t.inputTensors)if(-1===f.indexOf(n))throw new Zy(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${e.name}". The following previous layers were accessed without issue: ${m}`);for(const e of t.outputTensors)f.push(e);m.push(e.name)}}this.nodesByDepth=h;const g=this.layers.map((e=>e.name));for(const e of g){const t=g.filter((t=>t===e)).length;if(1!==t)throw new Zy(`The name "${e}" is used ${t} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new Uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Yy("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){const n={};let s=0;const r=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);r&&this.parseWeights(e);for(const e of this.layers)for(const[t,a]of e.weights.entries()){const e=r?`${a.name.split("/").slice(0,-1).join("/")+"/"}${t}`:a.originalName;if(null!=n[e])throw new Yy(`Duplicate weight name: ${e}`);n[e]=a,s++}const a=[];for(const s in e){let r=s;if(null==n[s]){const e=s.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])a.push([n[r],e[s]]);else if(t)throw new Yy(`Provided weight data has no target variable: ${s}`);delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new Yy(`${e.length} of ${s} weights are not set: ${e}`)}Lw(a)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),s=["vars","layer_checkpoint_dependencies"],r=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!s.includes(e))).join("/");r!==t&&(e[r]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${Jv}`,t.backend="TensorFlow.js",t}toJSON(e,t=!0){const n=Qv(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return xo((()=>{e=ab(e);const n=new $w;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return Zw(this.outputs,n,t)}))}computeMask(e,t){return xo((()=>{let n;return e=ab(e),n=null==t?tb(null,e.length):ab(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=Ow(e);if(t.length!==this.inputLayers.length)throw new Yy(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let e=0;e<t.length;e++){const s=this.inputLayers[e],r=t[e];n[s.name+"_0_0"]=r}const s=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(db);if(s.length>1)for(const e of s){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(t.id))continue;const s=[];for(let t=0;t<e.inboundLayers.length;t++){const r=e.inboundLayers[t],a=e.nodeIndices[t],i=e.tensorIndices[t],o=n[`${r.name}_${a}_${i}`];s.push(o)}const r=Ow(t.computeOutputShape(rb(s))),a=t.inboundNodes.indexOf(e);for(let e=0;e<r.length;e++){n[`${t.name}_${a}_${e}`]=r[e]}}}const r=[],a=[];for(let e=0;e<this.outputLayers.length;e++){const t=this.outputLayers[e],n=this.outputLayersNodeIndices[e],s=this.outputLayersTensorIndices[e],r=`${t.name}_${n}_${s}`;a.push(r)}for(let e=0;e<a.length;e++){const t=a[e];nb(t in n),r.push(n[t])}return rb(r)}runInternalGraph(e,t){null==t&&(t=tb(null,e.length));const n={};for(let s=0;s<this.inputs.length;++s){const r=this.inputs[s],a=e[s],i=t[s];n[r.id]=[a,i]}const s=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(db);for(const e of s){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer,s=e.inputTensors,r=e.outputTensors,a=new Array;for(const e of s)e.id in n&&a.push(n[e.id]);if(a.length===s.length){let s,i,o,l,u={};if(null!=e.callArgs&&(u=e.callArgs),1===a.length){const[e,n]=a[0];null==u.mask&&(u.mask=n),o=ab(t.call(e,u)),l=ab(t.computeMask(e,n)),s=[e],i=[n]}else s=a.map((e=>e[0])),i=a.map((e=>e[1])),null==u.mask&&(u.mask=i),o=ab(t.call(s,u)),l=ab(t.computeMask(s,i));if(t.activityRegularizer)throw new Qy("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<r.length;++e){const t=r[e],s=o[e],a=l[e];n[t.id]=[s,a]}}}}const r=[],a=[],i=[];for(const e of this.outputs){nb(e.id in n,`Could not compute output ${e.name} : ${e.id}`);const[t,s]=n[e.id];i.push(t.shape),r.push(t),a.push(s)}return[r,a,i]}buildNodeConversionMap(e){const t={};let n;for(const e of this.layers){n=e instanceof ex?1:0;for(let s=0;s<e.inboundNodes.length;s++){const r=ex.nodeKey(e,s);this.containerNodes.has(r)&&(t[r]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new Yy("Provide either a layer name or layer index");if("number"==typeof e)return this.findLayer(e);for(const t of this.layers)if(t.name===e)return t;throw new Yy(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new Yy(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return xo((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const s=ex.nodeKey(t,n);this.containerNodes.has(s)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const e of this.layers){const s=e.getClassName(),r=e.getConfig(),a=[];for(let n=0;n<e.inboundNodes.length;n++){const s=e.inboundNodes[n],r=ex.nodeKey(e,n);let i={};if(this.containerNodes.has(r)){if(s.callArgs)try{JSON.stringify(s.callArgs),i=s.callArgs}catch(e){i={}}if(s.inboundLayers.length>0){const e=[];for(let n=0;n<s.inboundLayers.length;n++){const r=s.inboundLayers[n],a=s.nodeIndices[n],o=s.tensorIndices[n];let l=t[ex.nodeKey(r,a)];null==l&&(l=0),e.push([r.name,l,o,i])}a.push(e)}}}const i={};i.name=e.name,i.className=s,i.config=r,i.inboundNodes=a,n.push(i)}e.layers=n;const s=[];for(let e=0;e<this.inputLayers.length;e++){const n=this.inputLayers[e],r=this.inputLayersNodeIndices[e],a=ex.nodeKey(n,r);if(!this.containerNodes.has(a))continue;let i=t[a];null==i&&(i=0);const o=this.inputLayersTensorIndices[e];s.push([n.name,i,o])}e.inputLayers=s;const r=[];for(let e=0;e<this.outputLayers.length;e++){const n=this.outputLayers[e],s=this.outputLayersNodeIndices[e],a=ex.nodeKey(n,s);if(!this.containerNodes.has(a))continue;let i=t[a];null==i&&(i=0);const o=this.outputLayersTensorIndices[e];r.push([n.name,i,o])}return e.outputLayers=r,e}static fromConfig(e,t,n={},s=!1){const r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){const n=[];let s;for(const a of t){const o=a[0],l=a[1],u=a[2];if(s=null==a[3]?{}:a[3],!(o in r))return void i(e,t);const c=r[o];if(c.inboundNodes.length<=l)return void i(e,t);const h=c.inboundNodes[l];n.push(h.outputTensors[u])}n.length>0&&e.apply(rb(n),s)}function l(e){const n=e.name,a=xv(e,null!=t.customObjects?t.customObjects:{});a.setFastWeightInitDuringBuild(s),r[n]=a;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new Yy(`Corrupted configuration, expected array for nodeData: ${e}`);i(a,e)}))}const u=t.name,c=t.layers;for(const e of c)l(e);for(;!fb(a);)for(const e of c){const t=r[e.name];if(t.name in a){const e=a[t.name];delete a[t.name];for(const n of e)o(t,n)}}const h=[],d=[],p=t.inputLayers;for(const e of p){const t=e[0],n=e[1],s=e[2];nb(t in r);const a=r[t].inboundNodes[n].outputTensors;h.push(a[s])}const f=t.outputLayers;for(const e of f){const t=e[0],n=e[1],s=e[2];nb(t in r);const a=r[t].inboundNodes[n].outputTensors;d.push(a[s])}return new e({inputs:h,outputs:d,name:u})}get stateful(){if(this._stateful)throw new Yy("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){xo((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function tx(e,t,n){const s=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===s)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==s)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${s} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error(`The model has multiple (${s}) outputs, so ${n} must be either an array with ${s} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function nx(e,t){return tx(e,t,"classWeight")}async function sx(e,t,n,s){if(null!=t||null!=s)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=xo((()=>{if(1===e.shape.length)return Nl(e);if(2===e.shape.length){if(e.shape[1]>1){return ic(e,1)}if(1===e.shape[1])return Ic(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),s=Array.from(await t.data());Ao(t);const r=[];return s.forEach((e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);r.push(n[e])})),Dp(r,"float32")}return null}function rx(e,t){return Fl(e,t)}function ax(e,t){let n,s;const r=t;n=r.xs,s=r.ys,Gt(null!=n&&null!=s,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`));const a=ix("input",e.inputNames,n),i=ix("output",e.outputNames,s),o=a[0].shape[0];Gt(a.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${a.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),Gt(i.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${i.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let t=0;t<a.length;t++)Gt(a[t].shape[0]===o,(()=>`Batch size mismatch: input ${e.inputNames[t]} has ${a[t].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));for(let t=0;t<i.length;t++)Gt(i[t].shape[0]===o,(()=>`Batch size mismatch: output ${e.outputNames[t]} has ${i[t].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));return{xs:a,ys:i}}function ix(e,t,n){if(n instanceof Di)return[n];if(Array.isArray(n))return Gt(n.length===t.length,(()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`)),n;{const s=[];for(const r of t){if(null==n[r])throw new Yy(`The feature data generated by the dataset lacks the required ${e} key '${r}'.`);s.push(n[r])}return s}}async function ox(e,t,n){const s=null!=n.batchesPerEpoch;if(Gt(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),Gt(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),Gt(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`)),Gt(!s||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`)),Gt(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const r=null!=n.validationData;let a,i;if(r)if(lx(n.validationData))Gt(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`));else{const e=function(e){if(3===e.length)throw new Qy("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);a=e.xs,i=e.ys}const o=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;u=r?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const c=bv(n.callbacks,n.yieldEvery),h=null==n.verbose?1:n.verbose,{callbackList:d,history:p}=vv(c,h,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,r,u);d.setModel(e),e.history=p,await d.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const u={};await d.onEpochBegin(f);let c=0,h=0;for(s||(m=await t.iterator());!s||c<n.batchesPerEpoch;){const t=await m.next();if(s&&t.done)break;if(null!=t.value){const{xs:s,ys:r}=ax(e,t.value),a={};a.batch=h,a.size=s[0].shape[0],await d.onBatchBegin(h,a);const i=[];if(null!=n.classWeight){const t=nx(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)i.push(await sx(r[e],null,t[e]))}const u=s.concat(r).concat(i),p=o(u);Ao(u);for(let e=0;e<l.length;++e){const t=l[e],n=p[e];a[t]=n,ko(n)}await d.onBatchEnd(h,a),hv(a),h++,c++}if(s?c>=n.batchesPerEpoch:t.done){if(r){let t;t=lx(n.validationData)?ab(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):ab(e.evaluate(a,i,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)u[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(f,u),f++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function lx(e){return"function"==typeof e.iterator}function ux(e){Gt(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function cx(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>Kb(e,t,n-t))):Kb(e,t,n-t)}function hx(e,t){return xo((()=>null==e?null:Array.isArray(e)?e.map((e=>hx(e,t))):nw(e,"int32"===t.dtype?t:Tl(t,"int32"))))}function dx(e,t){const n=[];let s=0,r=null;for(;s<e;)r=s+t,r>=e&&(r=e),n.push([s,r]),s=r;return n}function px(e){const t=[];e instanceof Di&&(e=[e]);for(let n=0;n<e.length;++n){const s=e[n];if(1===s.rank)t.push($b(s,1));else{if(0===s.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(s)}}return t}function fx(e,t){if(null==e)return;const n=[];if(t instanceof Di)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const e in t){const s=t[e];n.push(s.id)}const s=[];if(e instanceof Di)-1===n.indexOf(e.id)&&s.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&s.push(e)}));else if(null!=e)for(const t in e){const r=e[t];-1===n.indexOf(r.id)&&s.push(r)}s.forEach((e=>{e.isDisposed||e.dispose()}))}function mx(e){return Array.isArray(e)}function gx(e){return!function(e){return e instanceof Di}(e)&&!mx(e)}function yx(e,t,n,s=!0,r=""){if(null==t||0===t.length){if(null!=e){let t=!1;if(mx(e)&&e.length>0)t=!0;else if(gx(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new Yy(`Error when checking model ${r} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((e=>null));let a;if(gx(e)){a=[];for(const n of t){if(null==e[n])throw new Yy(`No data provided for "${n}". Need data for each key in: ${t}`);a.push(e[n])}}else if(mx(e)){if(e.length!==t.length)throw new Yy(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);a=e}else{if(t.length>1)throw new Yy(`The model ${r} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);a=[e]}if(a=px(a),null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const i=a[e];if(i.shape.length!==n[e].length)throw new Yy(`Error when checking ${r}: expected ${t[e]} to have ${n[e].length} dimension(s). but got array with shape ${i.shape}`);for(let t=0;t<n[e].length;++t){if(0===t&&!s)continue;const a=i.shape[t],o=n[e][t];if(null!=o&&o>=0&&a!==o)throw new Yy(`${r} expected a batch of elements where each example has shape [${n[e].slice(1,n[e].length)}] (i.e.,tensor shape [*,${n[e].slice(1,n[e].length)}]) but the ${r} received an input with ${i.shape[0]} examples, each with shape [${i.shape.slice(1,i.shape.length)}] (tensor shape [${i.shape}])`)}}return a}function bx(e,t,n,s=!0,r=""){let a;if(Array.isArray(e)){if(e.length!==t.length)throw new Yy(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);a=e}else{if(t.length>1)throw new Yy(`The model expects ${t.length} ${r} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);a=[e]}if(null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const i=a[e];if(i.shape.length!==n[e].length)throw new Yy(`Error when checking ${r}: expected ${t[e]} to have ${n[e].length} dimension(s), but got array with shape ${JSON.stringify(i.shape)}`);for(let a=0;a<n[e].length;++a){if(0===a&&!s)continue;const o=i.shape[a],l=n[e][a];if(null!=l&&l!==o)throw new Yy(`Error when checking ${r}: expected ${t[e]} to have shape ${JSON.stringify(n[e])} but got array with shape ${JSON.stringify(i.shape)}.`)}}}class wx extends ex{constructor(e){super(e),this.isTraining=!1}summary(e,t,n=console.log){if(!this.built)throw new Yy("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Hv(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>Am.adagrad(.01),Adadelta:()=>Am.adadelta(1,.95,jb()),Adam:()=>Am.adam(.001,.9,.999,jb()),Adamax:()=>Am.adamax(.002,.9,.999,jb(),0),RMSProp:()=>Am.rmsprop(.001,.9,0,jb()),SGD:()=>Am.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Yy(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Hl))throw new Yy("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Yy(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map((e=>Dv(e)))}else{const n=Dv(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new Yy(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)e.loss[n],t.push(Dv(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let e=0;e<this.outputs.length;++e){const t=this.internalOutputShapes[e],n=this.outputNames[e];this.feedOutputNames.push(n),this.feedOutputShapes.push(t),this.feedLossFns.push(this.lossFunctions[e])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Fb("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const s=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const s of t){let t=n.hasOwnProperty(s)?n[s]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),r=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};Fb("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,s,a;for(const i of t){if("string"==typeof i&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(i)){const t=this.internalOutputShapes[e];let r;1===t[t.length-1]||this.lossFunctions[e]===Tv?-1!==["accuracy","acc"].indexOf(i)?s=Mv:-1!==["crossentropy","ce"].indexOf(i)&&(s=zv):this.lossFunctions[e]===Iv?-1!==["accuracy","acc"].indexOf(i)?s=Lv:-1!==["crossentropy","ce"].indexOf(i)&&(s=Vv):-1!==["accuracy","acc"].indexOf(i)?s=Fv:-1!==["crossentropy","ce"].indexOf(i)&&(s=Pv),-1!==["accuracy","acc"].indexOf(i)?r="acc":-1!==["crossentropy","ce"].indexOf(i)&&(r="ce"),a=s,n=""+r}else{const e=Uv(i);a=e,n=""+Gv(i)}let t;Fb(n,(()=>{t=a})),r(e,n,t)}})(s[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&(this.trainableWeights.length,this.collectedTrainableWeights.length)}evaluate(e,t,n={}){const s=null==n.batchSize?32:n.batchSize;ux(s);const r=this.standardizeUserDataXY(e,t,!0,s);try{const e=r[0].concat(r[1]);this.makeTestFunction();const t=this.testFunction;return rb(this.testLoop(t,e,s,n.verbose,n.steps))}finally{fx(r[0],e),fx(r[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const s=null!=(n=n||{}).batches,r=e.testFunction;let a=[];if(n.verbose>0)throw new Qy("Verbose mode is not implemented yet.");Gt(!s||n.batches>0&&Number.isInteger(n.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`));const i="function"==typeof t.next?t:await t.iterator();let o=0,l=0;for(;!s||l<n.batches;){const t=await i.next();if(a=xo((()=>{if(t.value){const{xs:n,ys:s}=ax(e,t.value),i=n.concat(s),u=xo((()=>r(i)));if(Ao(i),0===l)for(let e=0;e<u.length;++e)a.push(Vl(0));const c=i[0].shape[0];for(let e=0;e<u.length;++e){const t=u[e],n=a[e];a[e]=xo((()=>Rl(a[e],Fl(c,t)))),l>0&&Ao(n)}Ao(u),o+=c,++l}return a})),t.done)break}for(let e=0;e<a.length;++e){const t=a[e];a[e]=Ml(a[e],o),Ao(t)}return rb(a)}(this,e,t)}checkNumSamples(e,t,n,s="steps"){let r;if(null!=n){if(r=null,null!=t)throw new Yy(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new Yy(`Either the input data should have a defined shape, or ${s} shoud be specified.`);r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new Yy("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),s=n?t:[t],r=this.retrieveSymbolicTensors(s),a=new $w;if(e instanceof Di&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Yy(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)a.add(this.inputs[t],e[t])}else for(const t of this.inputs){const n=e[t.name];if(null==n)throw new Yy(`No value is provided for the model's input ${t.name}`);a.add(t,n)}const i=Zw(r,a);return n?i:i[0]}retrieveSymbolicTensors(e){const t=tb(null,e.length);let n=e.length;for(const s of this.layers){const r=Array.isArray(s.output)?s.output:[s.output],a=r.map((e=>e.name));for(let s=0;s<e.length;++s){const i=a.indexOf(e[s]);if(-1!==i&&(t[s]=r[i],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,s)=>{null==t&&n.push(e[s])})),new Yy(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e,t=32,n=!1){return xo((()=>{const s=this.checkNumSamples(e);if(n)throw new Qy("Verbose predictLoop() is not implemented yet.");const r=dx(s,t),a=this.outputs.map((e=>[]));for(let t=0;t<r.length;++t){xo((()=>{const n=r[t][0],s=r[t][1],a=cx(e,n,s),i=[];if(Array.isArray(a))for(let e=0;e<a.length;++e)i.push({key:this.inputs[e],value:a[e]});else i.push({key:this.inputs[0],value:a});const o=new $w(i);return Zw(this.outputs,o)})).forEach(((e,t)=>a[t].push(e)))}return rb(a.map((e=>Oc(e,0))))}))}predict(e,t={}){const n=px(e);bx(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return ux(e),this.predictLoop(n,e)}finally{fx(n,e)}}predictOnBatch(e){bx(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,n=!0,s){if(null==this.optimizer_)throw new Zy("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let e=0;e<this.feedOutputShapes.length;++e){const t=this.feedOutputShapes[e];this.feedLossFns[e]===Iv?r.push(t.slice(0,t.length-1).concat([1])):r.push(t)}if(function(e,t,n){const s=pb(e.map((e=>e.shape[0])));s.sort();const r=pb(t.map((e=>e.shape[0])));if(r.sort(),s.length>1)throw new Yy(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(r.length>1)throw new Yy(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((e=>e.shape)))}`);if(s.length>0&&r.length>0&&!$t(s,r))throw new Yy(`Input Tensors should have the same number of samples as target Tensors. Found ${s[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=yx(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=yx(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){const s=[kv,Tv,_v];for(let r=0;r<e.length;++r){const a=e[r],i=t[r],o=n[r];if(null!=i){if(i===_v&&1===a.shape[a.shape.length-1])throw new Yy(`You are passing a target array of shape ${a.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==s.indexOf(i)){const e=a.shape.slice(1),t=o.slice(1);for(let n=0;n<e.length;++n){const s=e[n],r=t[n];if(null!=r&&s!==r)throw new Yy(`A target Tensor with shape ${a.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=s&&s>0&&e[0].shape[0]%s!=0)throw new Yy(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,s,r=!0,a){const[i,o]=this.standardizeUserDataXY(e,t,r,a);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=s){const e=nx(s,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await sx(o[t],null,e[t]))}return[i,o,l]}testLoop(e,t,n,s=0,r){return xo((()=>{const a=this.checkNumSamples(t,n,r,"steps"),i=[];if(s>0)throw new Qy("Verbose mode is not implemented yet.");if(null!=r)throw new Qy("steps mode in testLoop() is not implemented yet");{const s=dx(a,n),r=Dp(Gb(0,a));for(let n=0;n<s.length;++n){const a=s[n][0],o=s[n][1],l=Kb(r,a,o-a),u=hx(t,l),c=e(u);if(0===n)for(let e=0;e<c.length;++e)i.push(Vl(0));for(let e=0;e<c.length;++e){const t=c[e];i[e]=Rl(i[e],Fl(o-a,t))}}for(let e=0;e<i.length;++e)i[e]=Ml(i[e],a)}return i}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const s=e[n];let r=s;if(sb(e,s)>1){r+=`_${sb(e.slice(0,n),s)}`}t.push(r)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),r=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),a=[],i=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const i=new $w(e),o=Zw(this.outputs,i,{training:!0});let l;for(let e=0;e<this.lossFunctions.length;++e){let n=(0,this.lossFunctions[e])(s[e],o[e]);null!=r[e]&&(n=rx(n,r[e]));const a=yd(n);t.push(a),l=0===e?n:Rl(l,n)}for(let e=0;e<this.metricsTensors.length;++e){let n;if(this.outputs.length>1&&e<this.outputs.length)n=t[e];else{const t=this.metricsTensors[e][0],r=this.metricsTensors[e][1];n=yd(t(s[r],o[r]))}ko(n),a.push(n)}return l=yd(l),this.calculateLosses().forEach((e=>{l=Rl(l,e)})),l}),!0,i)].concat(a)}}makeTestFunction(){this.testFunction=e=>xo((()=>{const t=[];let n;const s=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=[];for(let e=0;e<this.inputs.length;++e)a.push({key:this.inputs[e],value:s[e]});const i=new $w(a),o=Zw(this.outputs,i);for(let e=0;e<this.lossFunctions.length;++e){const s=this.lossFunctions[e],a=yd(s(r[e],o[e]));n=0===e?a:Rl(n,a),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],s=this.metricsTensors[e][1],a=yd(n(r[s],o[s]));t.push(a)}return t}))}async fit(e,t,n={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let s,r,a,i,o,l,u,c,h;this.isTraining=!0;try{const d=null==n.batchSize?32:n.batchSize;ux(d);const p=!1,f=await this.standardizeUserData(e,t,n.sampleWeight,n.classWeight,p,d);s=f[0],r=f[1],h=f[2];let m,g=!1;if(null!=n.validationData&&n.validationData.length>0){if(g=!0,2!==n.validationData.length)throw 3===n.validationData.length?new Qy("validationData including sample weights is not supported yet."):new Yy(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${n.validationData} is invalid.`);o=n.validationData[0],l=n.validationData[1];const e=!0,t=await this.standardizeUserData(o,l,null,null,e,d);u=t[0],c=t[1],m=u.concat(c)}else if(null!=n.validationSplit&&n.validationSplit>0&&n.validationSplit<1){g=!0;const e=Math.floor(s[0].shape[0]*(1-n.validationSplit)),t=s[0].shape[0];u=cx(s,e,t),a=s,s=cx(s,0,e),c=cx(r,e,t),i=r,r=cx(r,0,e),m=u.concat(c)}else null!=n.validationSteps&&(g=!0);const y=s.concat(r).concat(h);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),w=this.getDedupedMetricsNames();let v,x;g?(this.makeTestFunction(),v=this.testFunction,x=w.slice().concat(w.map((e=>"val_"+e)))):(v=null,m=[],x=w.slice());const A=bv(n.callbacks,n.yieldEvery);return await this.fitLoop(b,y,w,d,n.epochs,n.verbose,A,v,m,n.shuffle,x,n.initialEpoch,null,null)}finally{this.isTraining=!1,fx(s,e),fx(r,t),fx(a,e),fx(i,t),fx(u,o),fx(c,l),null!=h&&Ao(h)}}async fitLoop(e,t,n,s,r,a,i,o,l,u,c,h,d,p){null==s&&(s=32),null==r&&(r=1),null==u&&(u=!0),null==h&&(h=0);let f=!1;if(null!=o&&null!=l&&(f=!0),null!=p&&(f=!0,null==d))throw new Yy("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,s,d,"steps_per_epoch");let g;null!=m&&(g=Gb(0,m)),null==a&&(a=1);const{callbackList:y,history:b}=vv(i,a,r,h,m,d,s,f,c);y.setModel(this),this.history=b,await y.onTrainBegin(),this.stopTraining_=!1;for(let a=h;a<r;++a){await y.onEpochBegin(a);const r={};if(null!=d)throw new Qy("stepsPerEpoch mode is not implemented yet.");{if("batch"===u)throw new Qy("batch shuffling is not implemneted yet");u&&Pt(g);const a=Dp(g),i=dx(m,s);for(let u=0;u<i.length;++u){const c={};if(await y.onBatchBegin(u,c),xo((()=>{const h=i[u][0],d=i[u][1],p=Kb(a,h,d-h);c.batch=u,c.size=d-h;const m=hx(t,p),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],s=g[e];c[t]=s,ko(s)}if(u===i.length-1&&f){const e=this.testLoop(o,l,s);for(let t=0;t<n.length;++t){const s=n[t],a=e[t];ko(a),r["val_"+s]=a}}})),await y.onBatchEnd(u,c),hv(c),this.stopTraining_)break}a.dispose()}if(await y.onEpochEnd(a,r),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return ox(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),s=n[0],r=n[1],a=this.makeTrainFunction()(s.concat(r)),i=[];for(const e of a){const t=await e.data();i.push(t[0])}return Ao(a),fx(n[0],e),fx(n[1],t),rb(i)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,s=n?this.trainableWeights:this.weights,r=this.getWeights(n);for(let e=0;e<s.length;++e)n&&!s[e].trainable||t.push({name:s[e].originalName,tensor:r[e]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=vo().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-vo().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=ib(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!=typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>ib(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const s of t){if("string"!=typeof n[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=ib(n[s])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[ib(Gv(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>ib(Gv(e))));{const e={};for(const t in this.metrics)e[t]=ib(Gv(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=xv(Yv(e.optimizer_config));let n,s;if("string"==typeof e.loss)n=ob(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>ob(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=ob(e.loss[t])}if(Array.isArray(e.metrics))s=e.metrics.map((e=>ob(e)));else if(null!=e.metrics){s={};for(const t in e.metrics)s[t]=ob(e.metrics[t])}this.compile({loss:n,metrics:s,optimizer:t})}async save(e,t){if("string"==typeof e){const t=$o(e);if(0===t.length)throw new Yy(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Yy(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Yy("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await _o(this.getNamedWeights(t)),s={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${Jv}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){s.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:r}=await _o(await this.optimizer.getWeights(),e);n.specs.push(...r),n.data=zo([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;qv(this.userDefinedMetadata,this.name,e),s.userDefinedMetadata=this.userDefinedMetadata}return s.weightData=n.data,s.weightSpecs=n.specs,e.save(s)}setUserDefinedMetadata(e){qv(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}wx.className="Model",jl(wx);class vx extends wx{}vx.className="Functional",jl(vx);class xx extends wx{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:kb("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new Yy(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof xx||e instanceof wx;let n;if(t){if(n=e,1!==n.outputs.length)throw new Yy("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new Yy("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Yy("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Yy("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new Hw({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new Yy(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new Yy("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=jw(this.outputs[0])}this.inboundNodes=[],new Uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:tb(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(Dw(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new wx({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,n=console.log){this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t,n={}){if(!this.built)throw new Zy("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new Zy("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,n={}){if(!this.built)throw new Zy("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new Zy("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,n={},s=!1){let r,a={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new Yy("Legacy serialization format not supported yet.");r=t}else Gt(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),r=t.layers,delete t.layers,a=t;const i=new e(a);if(!(i instanceof xx))throw new Qy(`Sequential.fromConfig called on non-Sequential input: ${i}`);for(const e of r){const t=xv(e,void 0,s);s&&t.setFastWeightInitDuringBuild(!0),i.add(t)}return i}set stopTraining(e){if(null==this.model)throw new Yy("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new Yy("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}xx.className="Sequential",jl(xx);class Ax extends Gl{getConfig(){return{}}}class kx extends Ax{apply(e,t=1){return function(e,t=1){if(1!==t)throw new Qy(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return wh(e)}(e,t)}}kx.className="elu",jl(kx);class Cx extends Ax{apply(e){return hp(e)}}Cx.className="selu",jl(Cx);class Sx extends Ax{apply(e){return np(e)}}Sx.className="relu",jl(Sx);class Ex extends Ax{apply(e){return xo((()=>xd(6,np(e))))}}Ex.className="relu6",jl(Ex);class _x extends Ax{apply(e){return e}}_x.className="linear",jl(_x);class Ix extends Ax{apply(e){return Dc(e)}}Ix.className="sigmoid",jl(Ix);class Tx extends Ax{apply(e){return function(e){return xo((()=>{const t=Rl(.5,Fl(.2,e));return $c(t,0,1)}))}(e)}}Tx.className="hardSigmoid",jl(Tx);class Nx extends Ax{apply(e){return sd(e)}}Nx.className="softplus",jl(Nx);class Ox extends Ax{apply(e){return function(e){return xo((()=>Ml(e,Rl(Jl(e),1))))}(e)}}Ox.className="softsign",jl(Ox);class Rx extends Ax{apply(e){return Fc(e)}}Rx.className="tanh",jl(Rx);class Dx extends Ax{apply(e,t=-1){return xp(e,t)}}Dx.className="softmax",jl(Dx);class Mx extends Ax{apply(e,t=-1){return ad(e,t)}}Mx.className="logSoftmax",jl(Mx);class Fx extends Ax{apply(e){return xo((()=>xo((()=>{const t=Math.sqrt(2),n=Fl(.5,Rl(1,xh(Ml(e,t))));return Fl(e,n)}))))}}Fx.className="gelu",jl(Fx);class Bx extends Ax{apply(e){return xo((()=>Fl(.5,Fl(e,Rl(1,Fc(Fl(Bl(Ml(2,Math.PI)),Rl(e,Fl(.044715,Zl(e,3))))))))))}}Bx.className="gelu_new",jl(Bx);class zx extends Ax{apply(e){return xo((()=>Fl(e,Fc(sd(e)))))}}zx.className="mish",jl(zx);class Lx extends Ax{apply(e,t=1){return xo((()=>Fl(Dc(Fl(e,t)),e)))}}function Px(e){return e.getClassName()}function Vx(e,t={}){return hb(e,ql.getMap().classNameMap,t,"activation")}function Wx(e){if(null==e){const e={className:"linear",config:{}};return Vx(e)}if("string"==typeof e){const t={};return t.className=e,t.config={},Vx(t)}return e instanceof Ax?e:Vx(e)}function Ux(e){if(null!=e&&"object"!=typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}Lx.className="swish",jl(Lx);class Gx extends Gl{}class qx extends Gx{constructor(e){super(),Ux(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return xo((()=>{let t=bd([1]);return this.hasL1&&(t=Rl(t,Rh(Fl(this.l1,Jl(e))))),this.hasL2&&(t=Rl(t,Rh(Fl(this.l2,sw(e))))),Ic(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}qx.className="L1L2",jl(qx);const jx={l1l2:"L1L2"};function Hx(e){return ub(e)}function $x(e,t={}){return hb(e,ql.getMap().classNameMap,t,"regularizer")}function Kx(e){if(null==e)return null;if("string"==typeof e){return $x({className:e in jx?jx[e]:e,config:{}})}return e instanceof Gx?e:$x(e)}class Xx extends qw{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=Rw(e);let n=np(e);return null!=this.maxValue&&(n=$c(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}Xx.className="ReLU",jl(Xx);class Zx extends qw{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Rw(e);return Xh(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}Zx.className="LeakyReLU",jl(Zx);class Yx extends qw{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=Tw(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Kx(e.alphaRegularizer),this.alphaConstraint=uv(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new Yy(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=Dw(e)).slice(1);if(null!=this.sharedAxes)for(const e of this.sharedAxes)t[e-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let t=1;t<e.length;++t)n[t]=e[t];this.inputSpec=[new Pw({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=Rw(e),Ld(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Iw(this.alphaInitializer),alphaRegularizer:Hx(this.alphaRegularizer),alphaConstraint:ov(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}Yx.className="PReLU",jl(Yx);class Qx extends qw{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new Qy(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Rw(e);return wh(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}Qx.className="ELU",jl(Qx);class Jx extends qw{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=Rw(e);return Fl(n,Tl(Gh(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}Jx.className="ThresholdedReLU",jl(Jx);class eA extends qw{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new Dx).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return xo((()=>{let n=Rw(e);const s=t.mask;if(null!=s){const e=Fl(Yl(wd(n.shape),Tl(s,n.dtype)),Vl(-1e9));n=Rl(n,e)}return this.axis instanceof Array?this.axis.length>1?Bh(Yl(n,id(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function tA(e,t,n){if("number"==typeof e)return tb(e,t);if(e.length!==t)throw new Yy(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const a=e[r];if((s=a)!==parseInt(s.toString(),10))throw new Yy(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${a}`)}return e;var s}function nA(e,t,n,s,r=1){if(null==e)return e;let a;return a="same"===n?e:e-(t+(t-1)*(r-1))+1,Math.floor((a+s-1)/s)}function sA(e,t,n,s){if(null==e)return null;if("valid"===s)e=e*t+Ub([n-t,0]);else{if("same"!==s)throw new Yy(`Unsupport padding mode: ${s}.`);e*=t}return e}function rA(e,t){return xo((()=>(Nb(t),"channelsFirst"===t?Qp(e,[0,2,3,1]):e)))}function aA(e,t){return xo((()=>(Nb(t),"channelsFirst"===t?Qp(e,[0,2,3,4,1]):e)))}function iA(e,t,n,s=1,r="valid",a,i=1){return xo((()=>{if(null==a&&(a="channelsLast"),Nb(a),3!==e.shape.length)throw new Yy(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new Yy(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new Yy(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if("channelsFirst"===a&&(e=Qp(e,[0,2,1])),"causal"===r)throw new Qy("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=Jc(e,t,s,"same"===r?"same":"valid","NWC",i);return null!=n&&(o=aw(o,n)),o}))}function oA(e,t,n,s=[1,1],r="valid",a,i,o=null){return xo((()=>{if(null==a&&(a="channelsLast"),Nb(a),3!==e.rank&&4!==e.rank)throw new Yy(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new Yy(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=rA(e,a);if("causal"===r)throw new Qy("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=pf({x:l,filter:t,strides:s,pad:"same"===r?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:o}),"channelsFirst"===a&&(l=Qp(l,[0,3,1,2])),l}))}function lA(e,t,n,s=[1,1,1],r="valid",a,i){return xo((()=>{if(null==a&&(a="channelsLast"),Nb(a),4!==e.rank&&5!==e.rank)throw new Yy(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new Yy(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let o=aA(e,a);if("causal"===r)throw new Qy("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=nh(o,t,s,"same"===r?"same":"valid","NDHWC",i),null!=n&&(o=aw(o,n)),"channelsFirst"===a&&(o=Qp(o,[0,4,1,2,3])),o}))}eA.className="Softmax",jl(eA);class uA extends qw{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",uA.verifyArgs(t),this.rank=e,yb(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new Qy(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=tA(t.kernelSize,e,"kernelSize"),this.strides=tA(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Ob(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Nb(this.dataFormat),this.activation=Wx(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=Tw(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=uv(t.biasConstraint),this.biasRegularizer=Kx(t.biasRegularizer),this.activityRegularizer=Kx(t.activityRegularizer),this.dilationRate=tA(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new Yy(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new Yy(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new Yy(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(nb("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!gb(e.kernelSize,"number",1,3))throw new Yy(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Px(this.activation),useBias:this.useBias,biasInitializer:Iw(this.biasInitializer),biasRegularizer:Hx(this.biasRegularizer),activityRegularizer:Hx(this.activityRegularizer),biasConstraint:ov(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class cA extends uA{constructor(e,t){super(e,t),this.kernel=null,cA.verifyArgs(t),this.filters=t.filters,yb(this.filters,"filters"),this.kernelInitializer=Tw(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=uv(t.kernelConstraint),this.kernelRegularizer=Kx(t.kernelRegularizer)}build(e){e=Dw(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Yy(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],s=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return xo((()=>{let t;e=Rw(e);const n=null==this.bias?null:this.bias.read(),s=wb(this.activation.getClassName());if(null!=s&&2===this.rank)t=oA(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,s);else{if(1===this.rank)t=iA(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=oA(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new Qy("convolutions greater than 3D are not implemented yet.");t=lA(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=Dw(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let e=0;e<n.length;++e){const s=nA(n[e],this.kernelSize[e],this.padding,this.strides[e],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[e]);t.push(s)}let s=[e[0]];return"channelsLast"===this.dataFormat?(s=s.concat(t),s.push(this.filters)):(s.push(this.filters),s=s.concat(t)),s}getConfig(){const e={filters:this.filters,kernelInitializer:Iw(this.kernelInitializer),kernelRegularizer:Hx(this.kernelRegularizer),kernelConstraint:ov(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new Yy(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class hA extends cA{constructor(e){super(2,e),hA.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!gb(e.kernelSize,"number",1,2))throw new Yy(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}hA.className="Conv2D",jl(hA);class dA extends cA{constructor(e){super(3,e),dA.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Yy(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}dA.className="Conv3D",jl(dA);class pA extends hA{constructor(e){if(super(e),this.inputSpec=[new Pw({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new Yy(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=Dw(e)).length)throw new Yy("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Yy("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],s=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Pw({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return xo((()=>{let t=Rw(e);if(4!==t.shape.length)throw new Yy(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,s=n[0];let r,a;"channelsFirst"===this.dataFormat?(r=2,a=3):(r=1,a=2);const i=n[r],o=n[a],l=this.kernelSize[0],u=this.kernelSize[1],c=this.strides[0],h=this.strides[1],d=[s,sA(i,c,l,this.padding),sA(o,h,u,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=Qp(t,[0,2,3,1]));let p=th(t,this.kernel.read(),d,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(p=Qp(p,[0,3,1,2])),null!=this.bias&&(p=aw(p,this.bias.read(),this.dataFormat)),null!=this.activation&&(p=this.activation.apply(p)),p}))}computeOutputShape(e){const t=(e=Dw(e)).slice();let n,s,r;"channelsFirst"===this.dataFormat?(n=1,s=2,r=3):(n=3,s=1,r=2);const a=this.kernelSize[0],i=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[s]=sA(t[s],o,a,this.padding),t[r]=sA(t[r],l,i,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}pA.className="Conv2DTranspose",jl(pA);class fA extends dA{constructor(e){if(super(e),this.inputSpec=[new Pw({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new Yy(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=Dw(e)).length)throw new Yy("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Yy("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],s=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Pw({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return xo((()=>{let t=Rw(e);if(5!==t.shape.length)throw new Yy(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,s=n[0];let r,a,i;"channelsFirst"===this.dataFormat?(i=2,r=3,a=4):(i=1,r=2,a=3);const o=n[i],l=n[r],u=n[a],c=this.kernelSize[0],h=this.kernelSize[1],d=this.kernelSize[2],p=this.strides[0],f=this.strides[1],m=this.strides[2],g=[s,sA(o,p,c,this.padding),sA(l,f,h,this.padding),sA(u,m,d,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=Qp(t,[0,2,3,4,1]));let y=rh(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=Qp(y,[0,4,1,2,3])),null!==this.bias&&(y=aw(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=Dw(e)).slice();let n,s,r,a;"channelsFirst"===this.dataFormat?(n=1,s=2,r=3,a=4):(n=4,s=1,r=2,a=3);const i=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],c=this.strides[1],h=this.strides[2];return t[n]=this.filters,t[s]=sA(t[s],u,i,this.padding),t[r]=sA(t[r],c,o,this.padding),t[a]=sA(t[a],h,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}fA.className="Conv3DTranspose",jl(fA);class mA extends cA{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new Yy("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new Yy("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new Yy(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=Tw(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Kx(t.depthwiseRegularizer),this.depthwiseConstraint=uv(t.depthwiseConstraint),this.pointwiseInitializer=Tw(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Kx(t.pointwiseRegularizer),this.pointwiseConstraint=uv(t.pointwiseConstraint)}build(e){if((e=Dw(e)).length<this.rank+2)throw new Yy(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new Yy(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],s=this.kernelSize.concat([n,this.depthMultiplier]),r=[];for(let e=0;e<this.rank;++e)r.push(1);r.push(n*this.depthMultiplier,this.filters);const a=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,a,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",r,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,a,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,a,this.biasConstraint):this.bias=null,this.inputSpec=[new Pw({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return xo((()=>{let t;if(e=Rw(e),1===this.rank)throw new Qy("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=Qp(e,[0,2,3,1])),t=dp(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=aw(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=Qp(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Iw(this.depthwiseInitializer),e.pointwiseInitializer=Iw(this.pointwiseInitializer),e.depthwiseRegularizer=Hx(this.depthwiseRegularizer),e.pointwiseRegularizer=Hx(this.pointwiseRegularizer),e.depthwiseConstraint=ov(this.depthwiseConstraint),e.pointwiseConstraint=ov(this.pointwiseConstraint),e}}mA.className="SeparableConv";class gA extends mA{constructor(e){super(2,e)}}gA.className="SeparableConv2D",jl(gA);class yA extends cA{constructor(e){super(1,e),yA.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!gb(e.kernelSize,"number",1,1))throw new Yy(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}yA.className="Conv1D",jl(yA);class bA extends qw{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return xo((()=>{if(e=Rw(e),"channelsLast"===this.dataFormat){const t=Zb(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return Zb(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=Zb(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return Zb(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}bA.className="Cropping2D",jl(bA);class wA extends qw{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Nb(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,mb(Sb,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return xo((()=>{let t=Rw(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=Qp(t,[0,2,3,1]);const e=this.size[0]*n[2],s=this.size[1]*n[3],r="nearest"===this.interpolation?ym.resizeNearestNeighbor(t,[e,s]):ym.resizeBilinear(t,[e,s]);return Qp(r,[0,3,1,2])}{const e=this.size[0]*n[1],s=this.size[1]*n[2];return"nearest"===this.interpolation?ym.resizeNearestNeighbor(t,[e,s]):ym.resizeBilinear(t,[e,s])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}wA.className="UpSampling2D",jl(wA);class vA extends uA{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=Tw(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=uv(e.depthwiseConstraint),this.depthwiseRegularizer=Kx(e.depthwiseRegularizer)}build(e){if((e=Dw(e)).length<4)throw new Yy(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Yy(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],s=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return xo((()=>{let t=function(e,t,n=[1,1],s="valid",r,a){return xo((()=>{null==r&&(r="channelsLast"),Nb(r);let i=rA(e,r);if(4!==e.rank)throw new Yy(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new Yy(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return i=hh(i,t,n,"same"===s?"same":"valid","NHWC",a),"channelsFirst"===r&&(i=Qp(i,[0,3,1,2])),i}))}(e=Rw(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=aw(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=Dw(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],s="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,r=nA(t,this.kernelSize[0],this.padding,this.strides[0]),a=nA(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],s,r,a]:[e[0],r,a,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Iw(this.depthwiseInitializer),e.depthwiseRegularizer=Hx(this.depthwiseRegularizer),e.depthwiseConstraint=ov(this.depthwiseRegularizer),e}}function xA(e,t,n,s){if(Array.isArray(e)){if(null!=t||null!=n)throw new Yy("When inputs is an array, neither initialState or constants should be provided");null!=s&&(n=e.slice(e.length-s,e.length),e=e.slice(0,e.length-s)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function r(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=r(t),constants:n=r(n)}}function AA(e,t,n,s=!1,r,a,i=!1,o=!1){return xo((()=>{const i=t.shape.length;if(i<3)throw new Yy(`Input should be at least 3D, but is ${i}D.`);const l=[1,0].concat(Gb(2,i));if(t=Qp(t,l),null!=a)throw new Qy("The rnn() functoin of the deeplearn.js backend does not support constants yet.");null!=r&&((r=Tl(Tl(r,"bool"),"float32")).rank===i-1&&(r=zh(r,-1)),r=Qp(r,l)),s&&(t=rp(t,0),null!=r&&(r=rp(r,0)));const u=[];let c,h=n;const d=t.shape[0],p=Hp(t);let f,m;null!=r&&(f=Hp(r));for(let t=0;t<d;++t){const n=p[t],s=xo((()=>e(n,h)));if(null==r)c=s[0],h=s[1];else{const e=xo((()=>{const e=f[t],n=Yl(Td(e),e);return{output:Rl(Fl(s[0],e),Fl(h[0],n)),newStates:h.map(((t,r)=>Rl(Fl(s[1][r],e),Fl(t,n))))}}));c=e.output,h=e.newStates}o&&u.push(c)}if(o){m=Tp(u,1)}return[c,m,h]}))}vA.className="DepthwiseConv2D",jl(vA);class kA extends qw{constructor(e){let t;if(super(e),null==e.cell)throw new Yy("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new OA({cells:e.cell}):e.cell,null==t.stateSize)throw new Yy("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new Pw({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return Gb(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){Nw(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let s;if(s=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const s of t)n.push([e[0],s]);return[s].concat(n)}return s}computeMask(e,t){return xo((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new Qy("Constants support is not implemented in RNN yet.");Nw(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Pw({shape:[t,null,...n]});const s=[e[0]].concat(e.slice(2));let r;if(this.cell.build(s),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!$t(this.stateSpec.map((e=>e.shape[e.shape.length-1])),r))throw new Yy(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=r.map((e=>new Pw({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e,t=!1){xo((()=>{if(!this.stateful)throw new Xy("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new Yy("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>bd([n,e]))):this.states_=[bd([n,this.cell.stateSize])];else if(null==e)Ao(this.states_),null!=this.keptStates&&(Ao(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>bd([n,e]))):this.states_[0]=bd([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Yy(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):Ao(this.states_);for(let t=0;t<this.states_.length;++t){const s=e[t],r=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,a=[n,r];if(!$t(s.shape,a))throw new Yy(`State ${t} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${s.shape}`);this.states_[t]=s}}this.states_=this.states_.map((e=>ko(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,s=null==t?null:t.constants;null==t&&(t={});const r=xA(e,n,s,this.numConstants);e=r.inputs,n=r.initialState,s=r.constants;let a=[],i=[];if(null!=n){t.initialState=n,a=a.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new Pw({shape:e.shape}));i=i.concat(this.stateSpec)}null!=s&&(t.constants=s,a=a.concat(s),this.numConstants=s.length);if(a[0]instanceof Vw){const n=[e].concat(a),s=this.inputSpec.concat(i),r=this.inputSpec;this.inputSpec=s;const o=super.apply(n,t);return this.inputSpec=r,o}return super.apply(e,t)}call(e,t){return xo((()=>{const n=null==t?null:t.mask,s=null==t?null:t.training;let r=null==t?null:t.initialState;e=Rw(e),null==r&&(r=this.stateful?this.states_:this.getInitialState(e));const a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(r.length!==a)throw new Yy(`RNN Layer has ${a} state(s) but was passed ${r.length} initial state(s).`);this.unroll;const i={training:s},o=AA(((e,t)=>{const n=this.cell.call([e].concat(t),i);return[n[0],n.slice(1)]}),e,r,this.goBackwards,n,null,this.unroll,this.returnSequences),l=o[0],u=o[1],c=o[2];this.stateful&&this.resetStates(c,s);const h=this.returnSequences?u:l;return this.returnState?[h].concat(c):h}))}getInitialState(e){return xo((()=>{let t=bd(e.shape);return t=Rh(t,[1,2]),t=$b(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?Jb(t,[1,e]):t)):this.cell.stateSize>1?[Jb(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===kA.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t,n={}){const s=xv(t.cell,n);return new e(Object.assign(t,{cell:s}))}}kA.className="RNN",jl(kA);class CA extends qw{}class SA extends CA{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,yb(this.units,"units"),this.activation=Wx(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=Tw(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Tw(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Tw(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Kx(e.kernelRegularizer),this.recurrentRegularizer=Kx(e.recurrentRegularizer),this.biasRegularizer=Kx(e.biasRegularizer),this.kernelConstraint=uv(e.kernelConstraint),this.recurrentConstraint=uv(e.recurrentConstraint),this.biasConstraint=uv(e.biasConstraint),this.dropout=Wb([1,Ub([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Wb([1,Ub([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Dw(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return xo((()=>{if(2!==e.length)throw new Yy(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const s=null!=t.training&&t.training;let r;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=RA({ones:()=>Td(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=RA({ones:()=>Td(n),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,i=this.recurrentDropoutMask;r=tw(null!=a?Fl(e,a):e,this.kernel.read()),null!=this.bias&&(r=aw(r,this.bias.read())),null!=i&&(n=Fl(n,i));let o=Rl(r,tw(n,this.recurrentKernel.read()));return null!=this.activation&&(o=this.activation.apply(o)),[o,o]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Px(this.activation),useBias:this.useBias,kernelInitializer:Iw(this.kernelInitializer),recurrentInitializer:Iw(this.recurrentInitializer),biasInitializer:Iw(this.biasInitializer),kernelRegularizer:Hx(this.kernelRegularizer),recurrentRegularizer:Hx(this.recurrentRegularizer),biasRegularizer:Hx(this.biasRegularizer),activityRegularizer:Hx(this.activityRegularizer),kernelConstraint:ov(this.kernelConstraint),recurrentConstraint:ov(this.recurrentConstraint),biasConstraint:ov(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}SA.className="SimpleRNNCell",jl(SA);class EA extends kA{constructor(e){e.cell=new SA(e),super(e)}call(e,t){return xo((()=>{null!=this.cell.dropoutMask&&(Ao(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Ao(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,s=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:s,initialState:r})}))}static fromConfig(e,t){return new e(t)}}EA.className="SimpleRNN",jl(EA);class _A extends CA{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Yy("GRUCell does not support reset_after parameter set to true.");this.units=e.units,yb(this.units,"units"),this.activation=Wx(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Wx(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=Tw(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Tw(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Tw(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Kx(e.kernelRegularizer),this.recurrentRegularizer=Kx(e.recurrentRegularizer),this.biasRegularizer=Kx(e.biasRegularizer),this.kernelConstraint=uv(e.kernelConstraint),this.recurrentConstraint=uv(e.recurrentConstraint),this.biasConstraint=uv(e.biasConstraint),this.dropout=Wb([1,Ub([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Wb([1,Ub([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=Dw(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return xo((()=>{if(2!==e.length)throw new Yy(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=RA({ones:()=>Td(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=RA({ones:()=>Td(s),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const r=this.dropoutMask,a=this.recurrentDropoutMask;let i,o,l;0<this.dropout&&this.dropout<1&&(e=Fl(e,r[0]));let u=tw(e,this.kernel.read());this.useBias&&(u=aw(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=Fl(s,a[0]));const c=this.recurrentKernel.read(),[h,d]=Sp(c,[2*this.units,this.units],c.rank-1),p=tw(s,h),[f,m,g]=Sp(u,3,u.rank-1),[y,b]=Sp(p,2,p.rank-1);i=this.recurrentActivation.apply(Rl(f,y)),o=this.recurrentActivation.apply(Rl(m,b));const w=tw(Fl(o,s),d);l=this.activation.apply(Rl(g,w));const v=Rl(Fl(i,s),Fl(Rl(1,nd(i)),l));return[v,v]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Px(this.activation),recurrentActivation:Px(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Iw(this.kernelInitializer),recurrentInitializer:Iw(this.recurrentInitializer),biasInitializer:Iw(this.biasInitializer),kernelRegularizer:Hx(this.kernelRegularizer),recurrentRegularizer:Hx(this.recurrentRegularizer),biasRegularizer:Hx(this.biasRegularizer),activityRegularizer:Hx(this.activityRegularizer),kernelConstraint:ov(this.kernelConstraint),recurrentConstraint:ov(this.recurrentConstraint),biasConstraint:ov(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}_A.className="GRUCell",jl(_A);class IA extends kA{constructor(e){e.implementation,e.cell=new _A(e),super(e)}call(e,t){return xo((()=>{null!=this.cell.dropoutMask&&(Ao(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Ao(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,s=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:s,initialState:r})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}IA.className="GRU",jl(IA);class TA extends CA{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,yb(this.units,"units"),this.activation=Wx(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Wx(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=Tw(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Tw(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Tw(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Kx(e.kernelRegularizer),this.recurrentRegularizer=Kx(e.recurrentRegularizer),this.biasRegularizer=Kx(e.biasRegularizer),this.kernelConstraint=uv(e.kernelConstraint),this.recurrentConstraint=uv(e.recurrentConstraint),this.biasConstraint=uv(e.biasConstraint),this.dropout=Wb([1,Ub([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Wb([1,Ub([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=Dw(e))[e.length-1];let s;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;s=new((t=class extends cw{apply(t,s){const r=e.apply([n]),a=(new dw).apply([n]),i=e.apply([2*n]);return Qb(Qb(r,a),i)}}).className="CustomInit",t)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return xo((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new Yy(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const r=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=RA({ones:()=>Td(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=RA({ones:()=>Td(s),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,i=this.recurrentDropoutMask;let o,l,u,c;0<this.dropout&&this.dropout<1&&(e=Fl(e,a[0]));let h=tw(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=Fl(s,i[0])),h=Rl(h,tw(s,this.recurrentKernel.read())),this.useBias&&(h=aw(h,this.bias.read()));const[d,p,f,m]=Sp(h,4,h.rank-1);o=this.recurrentActivation.apply(d),l=this.recurrentActivation.apply(p),u=Rl(Fl(l,r),Fl(o,this.activation.apply(f))),c=this.recurrentActivation.apply(m);const g=Fl(c,this.activation.apply(u));return[g,g,u]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Px(this.activation),recurrentActivation:Px(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Iw(this.kernelInitializer),recurrentInitializer:Iw(this.recurrentInitializer),biasInitializer:Iw(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Hx(this.kernelRegularizer),recurrentRegularizer:Hx(this.recurrentRegularizer),biasRegularizer:Hx(this.biasRegularizer),activityRegularizer:Hx(this.activityRegularizer),kernelConstraint:ov(this.kernelConstraint),recurrentConstraint:ov(this.recurrentConstraint),biasConstraint:ov(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}TA.className="LSTMCell",jl(TA);class NA extends kA{constructor(e){e.implementation,e.cell=new TA(e),super(e)}call(e,t){return xo((()=>{null!=this.cell.dropoutMask&&(Ao(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Ao(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,s=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:s,initialState:r})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}NA.className="LSTM",jl(NA);class OA extends CA{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return xo((()=>{let n=e.slice(1);const s=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?s.push(n.splice(0,e.stateSize.length)):s.push(n.splice(0,1));s.reverse();const r=[];let a;for(let i=0;i<this.cells.length;++i){const o=this.cells[i];n=s[i],a=0===i?[e[0]].concat(n):[a[0]].concat(n),a=o.call(a,t),r.push(a.slice(1))}n=[];for(const e of r.slice().reverse())n.push(...e);return[a[0]].concat(n)}))}build(e){let t;Nw(e)&&(e=e[0]),this.cells.forEach(((n,s)=>{Fb(`RNNCell_${s}`,(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t,n={}){const s=[];for(const e of t.cells)s.push(xv(e,n));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return zw(e)}setWeights(e){const t=[];for(const n of this.cells){const s=n.weights.length,r=e.splice(s);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],r[e]])}Lw(t)}}function RA(e){const{ones:t,rate:n,training:s=!1,count:r=1,dropoutFunc:a}=e,i=()=>null!=a?a(t(),n):iw(t(),n),o=()=>ow(i,t,s);if(!r||r<=1)return ko(o().clone());return Array(r).fill(void 0).map(o).map((e=>ko(e.clone())))}OA.className="StackedRNNCells",jl(OA);var DA=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};class MA extends kA{constructor(e){if(e.unroll)throw new Qy("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Qy("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Pw({ndim:5})]}call(e,t){return xo((()=>{if(null!=this.cell.dropoutMask&&(Ao(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Ao(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new Yy("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,s=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:s,initialState:r})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return xo((()=>{const{stateSize:t}=this.cell,n=e.shape,s=this.computeSingleOutputShape(n),r=bd([s[0],...s.slice(2)]);return Array.isArray(t)?Array(t.length).fill(r):[r]}))}resetStates(e,t=!1){xo((()=>{if(!this.stateful)throw new Xy("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,s=this.computeSingleOutputShape(n),r=[s[0],...s.slice(2)];if(null==n[0])throw new Yy("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>bd(r))):this.states_=[bd(r)];else if(null==e)Ao(this.states_),null!=this.keptStates&&(Ao(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>bd(r))):this.states_[0]=bd(r);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Yy(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):Ao(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],s=r;if(!$t(n.shape,s))throw new Yy(`State ${t} is incompatible with layer ${this.name}: expected shape=${s}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map((e=>ko(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:s,padding:r,strides:a,dilationRate:i}=this.cell,o="channelsFirst"===t,l=e[o?3:2],u=e[o?4:3],c=nA(l,s[0],r,a[0],i[0]),h=nA(u,s[1],r,a[1],i[1]);return[...e.slice(0,2),...o?[n,c,h]:[c,h,n]]}}MA.className="ConvRNN2D";class FA extends TA{constructor(e){const{filters:t,kernelSize:n,strides:s,padding:r,dataFormat:a,dilationRate:i}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,yb(this.filters,"filters"),this.kernelSize=tA(n,2,"kernelSize"),this.kernelSize.forEach((e=>yb(e,"kernelSize"))),this.strides=tA(s||1,2,"strides"),this.strides.forEach((e=>yb(e,"strides"))),this.padding=r||"valid",Ob(this.padding),this.dataFormat=a||"channelsLast",Nb(this.dataFormat),this.dilationRate=tA(i||1,2,"dilationRate"),this.dilationRate.forEach((e=>yb(e,"dilationRate")))}build(e){var t;e=Dw(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Yy(`The channel dimension of the input should be defined. Found ${e[n]}`);const s=e[n],r=this.kernelSize.concat([s,4*this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,s=this.filters;e=new((t=class extends cw{apply(e,t){return Yb([n.apply([s]),wd([s]),n.apply([2*s])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return xo((()=>{if(3!==e.length)throw new Yy(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,s=e[0],r=e[1],a=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=RA({ones:()=>Td(s),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=(e,t,n)=>t&&t[n]?Fl(t[n],e):e;let l=o(s,i,0),u=o(s,i,1),c=o(s,i,2),h=o(s,i,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=RA({ones:()=>Td(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const d=this.recurrentDropoutMask;let p=o(r,d,0),f=o(r,d,1),m=o(r,d,2),g=o(r,d,3);const[y,b,w,v]=Sp(this.kernel.read(),4,3),[x,A,k,C]=this.useBias?Sp(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,y,x,this.padding),u=this.inputConv(u,b,A,this.padding),c=this.inputConv(c,w,k,this.padding),h=this.inputConv(h,v,C,this.padding);const[S,E,_,I]=Sp(this.recurrentKernel.read(),4,3);p=this.recurrentConv(p,S),f=this.recurrentConv(f,E),m=this.recurrentConv(m,_),g=this.recurrentConv(g,I);const T=this.recurrentActivation.apply(Rl(l,p)),N=this.recurrentActivation.apply(Rl(u,f)),O=Rl(Fl(N,a),Fl(T,this.activation.apply(Rl(c,m)))),R=Fl(this.recurrentActivation.apply(Rl(h,g)),this.activation.apply(O));return[R,R,O]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=DA(e,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),s)}inputConv(e,t,n,s){const r=Qc(e,t,this.strides,s||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?aw(r,n,this.dataFormat):r}recurrentConv(e,t){return Qc(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}FA.className="ConvLSTM2DCell",jl(FA);class BA extends MA{constructor(e){const t=new FA(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}BA.className="ConvLSTM2D",jl(BA);class zA extends qw{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let e=0;e<this.noiseShape.length;++e)n.push(null==this.noiseShape[e]?t[e]:this.noiseShape[e]);return n}call(e,t){return xo((()=>{this.invokeCallHook(e,t);const n=Rw(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,s=this.getNoiseShape(n);return ow((()=>iw(n,this.rate,s,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}zA.className="Dropout",jl(zA);class LA extends zA{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}LA.className="SpatialDropout1D",jl(LA);class PA extends qw{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,yb(this.units,"units"),this.activation=Wx(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=Tw(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Tw(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=uv(e.kernelConstraint),this.biasConstraint=uv(e.biasConstraint),this.kernelRegularizer=Kx(e.kernelRegularizer),this.biasRegularizer=Kx(e.biasRegularizer),this.activityRegularizer=Kx(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=Dw(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=Dw(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return xo((()=>{this.invokeCallHook(e,t);const n=Rw(e),s=wb(this.activation.getClassName());let r;return null!=s?r=tw(n,this.kernel.read(),s,this.bias?this.bias.read():null):(r=tw(n,this.kernel.read()),null!=this.bias&&(r=aw(r,this.bias.read())),null!=this.activation&&(r=this.activation.apply(r))),r}))}getConfig(){const e={units:this.units,activation:Px(this.activation),useBias:this.useBias,kernelInitializer:Iw(this.kernelInitializer),biasInitializer:Iw(this.biasInitializer),kernelRegularizer:Hx(this.kernelRegularizer),biasRegularizer:Hx(this.biasRegularizer),activityRegularizer:Hx(this.activityRegularizer),kernelConstraint:ov(this.kernelConstraint),biasConstraint:ov(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}PA.className="Dense",jl(PA);class VA extends qw{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Dw(e);for(const t of e.slice(1))if(null==t)throw new Yy(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Vb(e,1)]}call(e,t){return xo((()=>{this.invokeCallHook(e,t);let n=Rw(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=Qp(n,e)}return function(e){if(e.rank<=1)throw new Yy(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],Vb(e.shape,1)];return Ic(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}VA.className="Flatten",jl(VA);class WA extends qw{constructor(e){super(e),this.supportsMasking=!0,this.activation=Wx(e.activation)}call(e,t){return xo((()=>{this.invokeCallHook(e,t);const n=Rw(e);return this.activation.apply(n)}))}getConfig(){const e={activation:Px(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}WA.className="Activation",jl(WA);class UA extends qw{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return xo((()=>{return e=Rw(e),t=e,n=this.n,xo((()=>{if(2!==t.shape.length)throw new Yy(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);return Jb($b(t,1),[1,n,1])}));var t,n}))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}UA.className="RepeatVector",jl(UA);class GA extends qw{constructor(e){super(e),this.targetShape=e.targetShape;for(let e=0;e<this.targetShape.length;++e)this.isUnknown(this.targetShape[e])&&(this.targetShape[e]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",s=t.slice();let r=1,a=null;for(let e=0;e<s.length;++e){const t=s[e];if(this.isUnknown(t)){if(null!==a)throw new Yy("Can only specifiy one unknown dimension.");a=e}else r*=t}const i=Vb(e);if(null!==a){if(0===r||i%r!=0)throw new Yy(n);s[a]=i/r}else if(i!==r)throw new Yy(n);return s}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return xo((()=>{this.invokeCallHook(e,t);const n=Rw(e),s=n.shape,r=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return Ic(n,r)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}GA.className="Reshape",jl(GA);class qA extends qw{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=Gb(1,e.dims.length+1);if(!$t(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Pw({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=Dw(e)).slice();return this.dims.forEach(((n,s)=>{t[s+1]=e[n]})),t}call(e,t){return Qp(Rw(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}qA.className="Permute",jl(qA);class jA extends qw{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=Rw(e);return ac(_d(n,this.maskValue),-1)}call(e,t){return xo((()=>{this.invokeCallHook(e,t);const n=Rw(e),s=ac(_d(n,this.maskValue),-1,!0);return Fl(n,Tl(s,n.dtype))}))}}jA.className="Masking",jl(jA);class HA extends qw{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(ab(e.inputLength))}this.inputDim=e.inputDim,yb(this.inputDim,"inputDim"),this.outputDim=e.outputDim,yb(this.outputDim,"outputDim"),this.embeddingsInitializer=Tw(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Kx(e.embeddingsRegularizer),this.activityRegularizer=Kx(e.activityRegularizer),this.embeddingsConstraint=uv(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return xo((()=>this.maskZero?(e=Rw(e),_d(e,Ll(e))):null))}computeOutputShape(e){if(e=Dw(e),null==this.inputLength)return[...e,this.outputDim];const t=ab(this.inputLength);if(t.length!==e.length-1)throw new Yy(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let s=0;s<t.length;++s){const r=t[s],a=e[s+1];if(null!=r&&null!=a&&r!==a)throw new Yy(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==r&&(t[n]=a),n++}}return[e[0],...t,this.outputDim]}call(e,t){return xo((()=>{this.invokeCallHook(e,t);let n=Rw(e);"int32"!==n.dtype&&(n=Hb(n,"int32"));const s=nw(this.embeddings.read(),Ic(n,[n.size]));return Ic(s,Dw(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Iw(this.embeddingsInitializer),embeddingsRegularizer:Hx(this.embeddingsRegularizer),activityRegularizer:Hx(this.activityRegularizer),embeddingsConstraint:ov(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}HA.className="Embedding",jl(HA);class $A extends qw{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Qy}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let s=0;s<t.length;++s){const r=e[e.length-t.length+s],a=t[s];if(null==r||null==a||r<0||a<0)n.push(null);else if(1===r)n.push(a);else if(1===a)n.push(r);else{if(r!==a)throw new Yy("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(r)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Dw(e)]),e.length<2)throw new Yy(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const n of e)null!=n&&null!==n[0]&&t.push(n[0]);if(t=pb(t),t.length>1)throw new Yy(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let t=1;t<e.length;++t){const s=null==e[t]?null:e[t].slice(1);n=this.computeElementwiseOpOutputShape(n,s)}const s=e.map((e=>e.length));-1===e.indexOf(null)&&1===pb(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return xo((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const s=Ub(n);for(let n of e){const e=n.rank;for(let t=0;t<s-e;++t)n=$b(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const s of e){const e=s.rank;if(null==e){const e=s.shape,r=e[0],a=e.slice(1).concat([r]);let i=Ic(s,[r].concat(Vb(e.slice(1))));i=Qp(i,[1,0]),i=Ic(i,a),t.push(i),n=!0}else if(e>1){const r=Gb(1,e).concat([0]);t.push(Qp(s,r)),n=!0}else t.push(s)}let s=this.mergeFunction(t);const r=s.rank;if(n)if(null==r){const e=s.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));s=Ic(Qp(Ic(s,[-1,t]),[1,0]),n)}else if(r>1){const e=[r-1].concat(Gb(0,r-1));s=Qp(s,e)}return s}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let n=1;n<e.length;++n){const s=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,s)}let n=[];for(const t of e)null!=t&&null!==t[0]&&n.push(t[0]);return n=pb(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return xo((()=>{if(null==t)return null;if(!Array.isArray(t))throw new Yy("`mask` should be an Array");if(!Array.isArray(e))throw new Yy("`inputs` should be an Array");if(t.length!==e.length)throw new Yy(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((e=>null==e)))return null;let n=(t=t.map((e=>null==e?e:zh(e,0))))[0];for(let e=1;e<t.length-1;++e)n=od(n,t[e]);return n}))}}class KA extends $A{constructor(e){super(e)}mergeFunction(e){return xo((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Rl(t,e[n]);return t}))}}KA.className="Add",jl(KA);class XA extends $A{constructor(e){super(e)}mergeFunction(e){return xo((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Fl(t,e[n]);return t}))}}XA.className="Multiply",jl(XA);class ZA extends $A{constructor(e){super(e)}mergeFunction(e){return xo((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Rl(t,e[n]);return Fl(1/e.length,t)}))}}ZA.className="Average",jl(ZA);class YA extends $A{constructor(e){super(e)}mergeFunction(e){return xo((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=su(t,e[n]);return t}))}}YA.className="Maximum",jl(YA);class QA extends $A{constructor(e){super(e)}mergeFunction(e){return xo((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=xd(t,e[n]);return t}))}}QA.className="Minimum",jl(QA);class JA extends $A{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Yy("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const n of e)if(null!=n){t=!1;break}if(t)return;const n=[];for(let t=0;t<e.length;++t){const s=e[t].slice();s.splice(this.axis,1);let r=!1;for(const e of n)if($t(e,s)){r=!0;break}r||n.push(s)}if(n.length>1)throw new Yy("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return xo((()=>Yb(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Yy("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),s=this.axis<0?n.length+this.axis:this.axis;for(const e of t.slice(1)){if(null==n[s]||null==e[s]){n[s]=null;break}n[s]+=e[s]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new Yy("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Yy("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Yy(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return xo((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const s=[];for(let n=0;n<e.length;++n)null==t[n]?s.push(Tl(Td(e[n]),"bool")):t[n].rank<e[n].rank?s.push(zh(t[n],-1)):s.push(t[n]);const r=Oc(s,this.axis);return rc(r,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function ek(e,t){for(;e<0;)e+=t;return e}JA.className="Concatenate",jl(JA);class tk extends $A{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Gt(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Qy("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(t,n);if(t[s[0]]!==n[s[1]])throw new Yy(`Dimension incompatibility: ${t[s[0]]} !== ${n[s[1]]}`)}mergeFunction(e){if(2!==e.length)throw new Yy(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],s=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>ek(t,e[n].shape.length))):[ek(this.axes,n.shape.length),ek(this.axes,s.shape.length)],this.normalize&&(n=Av(n,t[0]),s=Av(s,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Qy("batchDot is not implemented for tensors of 4D or higher rank yet");if(Gt(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),Gt(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`)),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Qy("batchDot is not implemented for complex64-type Tensors yet.");const s=e.shape.length,r=t.shape.length;null==n&&(n=[s-1,r-2]);const a=n;return xo((()=>{let n,i;if(s>r){n=s-r;const e=[];for(let t=0;t<n;++t)e.push(1);t=Ic(t,t.shape.concat(e))}else if(r>s){n=r-s;const t=[];for(let e=0;e<n;++e)t.push(1);e=Ic(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)i=a[0]===a[1]?Rh(Fl(e,t),a[0]):Rh(Fl(Qp(e,[1,0]),t),a[1]);else{const n=a[0]!==e.shape.length-1,s=a[1]===t.shape.length-1;i=Rc(e,t,n,s)}if(n>0){let e;e=s>r?s+r-3:s-1;const t=[];for(let s=e;s<e+n;++s)t.push(s);i=Ip(i,t)}return 1===i.shape.length&&(i=zh(i,1)),i}))}(n,s,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[ek(this.axes,e.length),ek(this.axes,t.length)],n}computeOutputShape(e){Gt(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Qy("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(t,n);t.splice(s[0],1),n.splice(s[1],1),n.splice(0,1);const r=t.concat(n);return 1===r.length&&r.push(1),r}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}tk.className="Dot",jl(tk);class nk extends qw{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return xo((()=>{this.invokeCallHook(e,t);const n=Rw(e);return ow((()=>Rl(ew(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}nk.className="GaussianNoise",jl(nk);class sk extends qw{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return xo((()=>{this.invokeCallHook(e,t);const n=Rw(e);if(this.rate>0&&this.rate<1){return ow((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return Fl(n,ew(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}sk.className="GaussianDropout",jl(sk);class rk extends qw{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Rw(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return xo((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),s=()=>{const t=Rw(e),s=-1.7580993408473766;let r=qh(Yd(n),this.rate);r=Hb(r,"float32");const a=((1-this.rate)*(1+this.rate*s**2))**-.5,i=-a*s*this.rate,o=Rl(Fl(t,r),Fl(Rl(r,-1),s));return Rl(Fl(o,a),i)};return ow(s,(()=>Rw(e)),t.training||!1)}return e}))}}function ak(e,t,n,s,r,a=.001){let i;if(2===e.rank)i=Pc(e,t,n,s,r,a);else if(3===e.rank)i=Vc(e,t,n,s,r,a);else{if(4!==e.rank)throw new Qy(`batchNormalization is not implemented for array of rank ${e.rank} yet`);i=Wc(e,t,n,s,r,a)}return i}function ik(e,t,n,s,r=.001){return $t(s.slice().sort(),Gb(0,e.rank-1))?function(e,t,n,s,r=.001){return xo((()=>{const a=Cd(e,s),i=a.mean,o=a.variance;return[ak(e,i,o,n,t,r),i,o]}))}(e,t,n,s,r):function(e,t,n,s,r=.001){return xo((()=>{const a=Cd(e,s),i=a.mean,o=a.variance,l=[];for(const t of Gb(0,e.rank))-1!==s.indexOf(t)?l.push(1):l.push(e.shape[t]);const u=Ic(i,l),c=Ic(o,l),h=null==t?null:Ic(t,l),d=null==n?null:Ic(n,l);return[ak(e,u,c,d,h,r),i,o]}))}(e,t,n,s,r)}rk.className="AlphaDropout",jl(rk);class ok extends qw{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=Tw(e.betaInitializer||"zeros"),this.gammaInitializer=Tw(e.gammaInitializer||"ones"),this.movingMeanInitializer=Tw(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Tw(e.movingVarianceInitializer||"ones"),this.betaConstraint=uv(e.betaConstraint),this.gammaConstraint=uv(e.gammaConstraint),this.betaRegularizer=Kx(e.betaRegularizer),this.gammaRegularizer=Kx(e.gammaRegularizer)}build(e){e=Dw(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Yy(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Pw({ndim:e.length,axes:{[t]:n}})];const s=[n];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return xo((()=>{const n=null!=t.training&&t.training,s=Rw(e),r=s.shape,a=r.length,i=Gb(0,a),o=this.axis>=0?this.axis:this.axis+a;i.splice(o,1);const l=tb(1,a);l[o]=r[o];const u=i.slice();u.sort();const c=!$t(u,Gb(0,a).slice(0,a-1));if(!n)return(()=>{if(c){const e=Ic(this.movingMean.read(),l),t=Ic(this.movingVariance.read(),l),n=this.center?Ic(this.beta.read(),l):null,r=this.scale?Ic(this.gamma.read(),l):null;return ak(s,e,t,n,r,this.epsilon)}return ak(s,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[h,d,p]=ik(s,this.gamma.read(),this.beta.read(),i,this.epsilon),f=(e,t,n)=>{xo((()=>{const s=1-n,r=e.read(),a=Fl(Yl(r,t),s);e.write(Yl(r,a))}))};return(()=>{f(this.movingMean,d,this.momentum),f(this.movingVariance,p,this.momentum)})(),h}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Iw(this.betaInitializer),gammaInitializer:Iw(this.gammaInitializer),movingMeanInitializer:Iw(this.movingMeanInitializer),movingVarianceInitializer:Iw(this.movingVarianceInitializer),betaRegularizer:Hx(this.betaRegularizer),gammaRegularizer:Hx(this.gammaRegularizer),betaConstraint:ov(this.betaConstraint),gammaConstraint:ov(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}ok.className="BatchNormalization",jl(ok);class lk extends qw{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=Tw(e.betaInitializer||"zeros"),this.gammaInitializer=Tw(e.gammaInitializer||"ones"),this.betaRegularizer=Kx(e.betaRegularizer),this.gammaRegularizer=Kx(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=Dw(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let e=0;e<this.axis.length;++e)this.axis[e]<0&&(this.axis[e]+=t);for(const e of this.axis)if(e<0||e>=t)throw new Error(`Invalid axis: ${e}`);if(this.axis.length!==pb(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map((t=>e[t])),s=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,t){const n=Rw(e),s=n.shape,r=s.length;return xo((()=>{let{mean:e,variance:t}=Cd(n,this.axis,!0);const a=tb(1,r);for(const e of this.axis)a[e]=s[e];const i=e=>null!=e&&e.shape.length!==r?Ic(e,a):e;let o=this.scale?i(this.gamma.read()):null,l=this.center?i(this.beta.read()):null;const u=[],c=[];for(let e=0;e<r;++e)-1!==this.axis.indexOf(e)?(u.push(s[e]),c.push(1)):(u.push(1),c.push(s[e]));return e=Ph(e,u),t=Ph(t,u),null!=o&&(o=Ph(o,c)),null!=l&&(l=Ph(l,c)),ak(n,e,t,l,o,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Iw(this.betaInitializer),gammaInitializer:Iw(this.gammaInitializer),betaRegularizer:Hx(this.betaRegularizer),gammaRegularizer:Hx(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}lk.className="LayerNormalization",jl(lk);class uk extends qw{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Yy(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"==typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Yy(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new Yy(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new Pw({ndim:4})]}computeOutputShape(e){let t,n;return e=Dw(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return xo((()=>{return t=Rw(e),n=this.padding,s=this.dataFormat,xo((()=>{if(4!==t.rank)throw new Yy(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new Yy("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==s&&(s="channelsLast"),"channelsLast"!==s&&"channelsFirst"!==s)throw new Yy(`Unknown data format: ${s}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let e;return e="channelsFirst"===s?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],Od(t,e)}));var t,n,s}))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function ck(e,t,n,s,r,a){return xo((()=>{let i;Nb(r),Rb(a),Ob(s),null==n&&(n=[1,1]),null==s&&(s="valid"),null==r&&(r="channelsLast"),null==a&&(a="max"),e=rA(e,r);const o="same"===s?"same":"valid";return i="max"===a?fd(e,t,n,o):Tc(e,t,n,o),"channelsFirst"===r&&(i=Qp(i,[0,3,1,2])),i}))}function hk(e,t,n,s,r,a){return xo((()=>{let i;Nb(r),Rb(a),Ob(s),null==n&&(n=[1,1,1]),null==s&&(s="valid"),null==r&&(r="channelsLast"),null==a&&(a="max"),e=aA(e,r);const o="same"===s?"same":"valid";return i="max"===a?md(e,t,n,o):Nc(e,t,n,o),"channelsFirst"===r&&(i=Qp(i,[0,4,1,2,3])),i}))}uk.className="ZeroPadding2D",jl(uk);class dk extends qw{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new Yy(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(yb(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new Yy(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}yb(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Ob(this.padding),this.inputSpec=[new Pw({ndim:3})]}computeOutputShape(e){const t=nA((e=Dw(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return xo((()=>{this.invokeCallHook(e,t),e=$b(Rw(e),2);const n=this.poolingFunction(Rw(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Ip(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class pk extends dk{constructor(e){super(e)}poolingFunction(e,t,n,s,r){return Nb(r),Ob(s),ck(e,t,n,s,r,"max")}}pk.className="MaxPooling1D",jl(pk);class fk extends dk{constructor(e){super(e)}poolingFunction(e,t,n,s,r){return Nb(r),Ob(s),ck(e,t,n,s,r,"avg")}}fk.className="AveragePooling1D",jl(fk);class mk extends qw{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Yy(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];yb(this.poolSize,"poolSize"),yb(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Nb(this.dataFormat),Ob(this.padding),this.inputSpec=[new Pw({ndim:4})]}computeOutputShape(e){e=Dw(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=nA(t,this.poolSize[0],this.padding,this.strides[0]),n=nA(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return xo((()=>(this.invokeCallHook(e,t),this.poolingFunction(Rw(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class gk extends mk{constructor(e){super(e)}poolingFunction(e,t,n,s,r){return Nb(r),Ob(s),ck(e,t,n,s,r,"max")}}gk.className="MaxPooling2D",jl(gk);class yk extends mk{constructor(e){super(e)}poolingFunction(e,t,n,s,r){return Nb(r),Ob(s),ck(e,t,n,s,r,"avg")}}yk.className="AveragePooling2D",jl(yk);class bk extends qw{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new Yy(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];yb(this.poolSize,"poolSize"),yb(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Nb(this.dataFormat),Ob(this.padding),this.inputSpec=[new Pw({ndim:5})]}computeOutputShape(e){e=Dw(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],s="channelsFirst"===this.dataFormat?e[4]:e[3];return t=nA(t,this.poolSize[0],this.padding,this.strides[0]),n=nA(n,this.poolSize[1],this.padding,this.strides[1]),s=nA(s,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,s]:[e[0],t,n,s,e[4]]}call(e,t){return xo((()=>(this.invokeCallHook(e,t),this.poolingFunction(Rw(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class wk extends bk{constructor(e){super(e)}poolingFunction(e,t,n,s,r){return Nb(r),Ob(s),hk(e,t,n,s,r,"max")}}wk.className="MaxPooling3D",jl(wk);class vk extends bk{constructor(e){super(e)}poolingFunction(e,t,n,s,r){return Nb(r),Ob(s),hk(e,t,n,s,r,"avg")}}vk.className="AveragePooling3D",jl(vk);class xk extends qw{constructor(e){super(e),this.inputSpec=[new Pw({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new Qy}}class Ak extends xk{constructor(e){super(e||{})}call(e,t){return xo((()=>{const t=Rw(e);return yd(t,1)}))}}Ak.className="GlobalAveragePooling1D",jl(Ak);class kk extends xk{constructor(e){super(e||{})}call(e,t){return xo((()=>{const t=Rw(e);return Nh(t,1)}))}}kk.className="GlobalMaxPooling1D",jl(kk);class Ck extends qw{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Nb(this.dataFormat),this.inputSpec=[new Pw({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new Qy}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class Sk extends Ck{call(e,t){return xo((()=>{const t=Rw(e);return"channelsLast"===this.dataFormat?yd(t,[1,2]):yd(t,[2,3])}))}}Sk.className="GlobalAveragePooling2D",jl(Sk);class Ek extends Ck{call(e,t){return xo((()=>{const t=Rw(e);return"channelsLast"===this.dataFormat?Nh(t,[1,2]):Nh(t,[2,3])}))}}Ek.className="GlobalMaxPooling2D",jl(Ek);class _k extends qw{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,n={}){const s=xv(t.layer,n);delete t.layer;const r={layer:s};return Object.assign(r,t),new e(r)}}class Ik extends _k{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=Dw(e)).length<3)throw new Yy(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=Dw(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),s=e[1];return[n[0],s].concat(n.slice(1))}call(e,t){return xo((()=>AA(((e,n)=>[Rw(this.layer.call(e,t)),[]]),e=Rw(e),[],!1,null,null,!1,!0)[1]))}}Ik.className="TimeDistributed",jl(Ik);class Tk extends _k{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=xv(n),t.goBackwards=!0!==t.goBackwards;const s={};var r;if(s.className=e.layer.getClassName(),s.config=t,this.backwardLayer=xv(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,r=this.mergeMode,mb(Ib,"BidirectionalMergeMode",r),e.weights)throw new Qy("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,s,r=this.forwardLayer.computeOutputShape(e);return Array.isArray(r)&&Array.isArray(r[0])||(r=[r]),this.returnState?(s=r.slice(1),t=r[0]):t=r[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(s).concat(s.slice()):[t].concat(s).concat(s.slice()):rb(n)}apply(e,t){let n=null==t?null:t.initialState,s=null==t?null:t.constants;null==t&&(t={});const r=xA(e,n,s,this.numConstants);if(e=r.inputs,n=r.initialState,s=r.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==s)return super.apply(e,t);const a=[],i=[];if(null!=n){const e=n.length;if(e%2>0)throw new Yy("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,a.push(...n);const s=n.map((e=>new Pw({shape:e.shape})));this.forwardLayer.stateSpec=s.slice(0,e/2),this.backwardLayer.stateSpec=s.slice(e/2),i.push(...s)}if(null!=s)throw new Qy("Support for constants in Bidirectional layers is not implemented yet.");const o=a[0]instanceof Vw;for(const e of a)if(e instanceof Vw!==o)throw new Yy("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(o){const n=[e].concat(a),s=this.inputSpec.concat(i),r=this.inputSpec;this.inputSpec=s;const o=super.apply(n,t);return this.inputSpec=r,o}return super.apply(e,t)}call(e,t){return xo((()=>{const n=t.initialState;let s,r,a,i;if(null==n)s=this.forwardLayer.call(e,t),r=this.backwardLayer.call(e,t);else{const a=n.slice(0,n.length/2),i=n.slice(n.length/2);s=this.forwardLayer.call(e,Object.assign(t,{initialState:a})),r=this.backwardLayer.call(e,Object.assign(t,{initialState:i}))}return this.returnState&&(Array.isArray(s)&&(a=s.slice(1).concat(r.slice(1))),s=s[0],r=r[0]),this.returnSequences&&(r=rp(r,1)),"concat"===this.mergeMode?i=Yb([s,r]):"sum"===this.mergeMode?i=Rl(s,r):"ave"===this.mergeMode?i=Fl(.5,Rl(s,r)):"mul"===this.mergeMode?i=Fl(s,r):null==this.mergeMode&&(i=[s,r]),this.returnState?null==this.mergeMode?i.concat(a):[i].concat(a):i}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Fb(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),Fb(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=xv(t.layer);if(delete t.layer,null!=t.numConstants)throw new Qy("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=t;return s.layer=n,new e(s)}}Tk.className="Bidirectional",jl(Tk);class Nk extends qw{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return xo((()=>("float32"!==(e=Rw(e)).dtype&&(e=Hb(e,"float32")),Rl(Fl(e,this.scale),this.offset))))}}Nk.className="Rescaling",jl(Nk);const{resizeBilinear:Ok,cropAndResize:Rk}=ym;class Dk extends qw{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,s,r,a,i,o){return xo((()=>{let l,u=!1;const c=[t/a,n/i,(s+t)/a,(r+n)/i],h=[];3===e.rank?(u=!0,l=Tp([e])):l=e;for(let e=0;e<l.shape[0];e++)h.push(c);const d=go(h,[h.length,4]),p=Jd(0,h.length,1,"int32"),f=Rk(l,d,p,[s,r],"nearest");return Hb(u?Rw(Hp(f)):f,o)}))}upsize(e,t,n,s){return xo((()=>Hb(Ok(e,[t,n]),s)))}call(e,t){return xo((()=>{const t=Rw(e),n=t.dtype,s=t.shape,r=s[s.length-3],a=s[s.length-2];let i=0;r!==this.height&&(i=Math.floor((r-this.height)/2));let o=0;return a!==this.width&&(o=Math.floor((a-this.width)/2),0===o&&(o=1)),i>=0&&o>=0?this.centerCrop(t,i,o,this.height,this.width,r,a,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=Dw(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}Dk.className="CenterCrop",jl(Dk);class Mk extends qw{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=Dw(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return xo((()=>{let n;if("int32"!==(e=Rw(e)).dtype&&(e=Hb(e,"int32")),void 0!==t.countWeights){if("count"!==this.outputMode)throw new Yy(`countWeights is not used when outputMode !== count.\n              Received countWeights=${t.countWeights}`);n=Rw(t.countWeights)}const s=Nh(e),r=Oh(e),a=Gh(this.numTokens,s).bufferSync().get(0),i=qh(r,0).bufferSync().get(0);if(!a||!i)throw new Yy(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return function(e,t,n,s){let r=Rw(e);if("int32"!==r.dtype&&(r=Hb(r,"int32")),"int"===t)return r;const a=r.shape;if(0===r.rank&&(r=zh(r,-1)),"oneHot"===t&&1!==r.shape[r.shape.length-1]&&(r=zh(r,-1)),r.rank>2)throw new Yy(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${a} which would result in output rank ${r.rank}.`);const i=["multiHot","oneHot"].includes(t),o=r;let l;if(l=uh(o,void 0!==s&&"count"===t?s:[],n,i),"tfIdf"!==t)return l;if(s)return Fl(l,s);throw new Yy("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}Mk.className="CategoryEncoding",jl(Mk);const Fk=new Set(["bilinear","nearest"]);class Bk extends qw{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!Fk.has(e.interpolation))throw new Yy(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=Dw(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return xo((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return ym.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return ym.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...Fk]} are supported`)}))}}Bk.className="Resizing",jl(Bk);class zk{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}zk.className="RandomSeed";class Lk extends qw{constructor(e){super(e),this.randomGenerator=new zk(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}Lk.className="BaseRandomLayer";const Pk=new Set(["bilinear","nearest"]);class Vk extends Lk{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new Yy(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new Yy(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new Yy(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(n){if(!Pk.has(n))throw new Yy(`Invalid interpolation parameter: ${n} is not implemented`);this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=Dw(e))[2];return[this.imgHeight,-1,t]}call(e,t){return xo((()=>{const t=Rw(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=Yd([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let s=this.widthFactor.dataSync()[0]*n;s=Math.round(s);const r=[this.imgHeight,s];switch(this.interpolation){case"bilinear":return ym.resizeBilinear(e,r);case"nearest":return ym.resizeNearestNeighbor(e,r);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...Pk]} are supported`)}}))}}Vk.className="RandomWidth",jl(Vk);var Wk,Uk;Cn().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(Wk||(Wk={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Uk||(Uk={}));const Gk={};function qk(e){return Gk[e]}function jk(e,t,n,s,r){const a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){const e=a.inputIndexStart,i=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?e+1:a.inputIndexEnd,o=e<0?t.inputNames.length+e:e;if("tensor"===a.type)return Hk(t.inputNames[o],n,s,r);if("tensors"===a.type){const a=t.inputs.slice(e,i);return t.inputNames.slice(e,i).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=a[t])||void 0===n?void 0:n.op)})).map((e=>Hk(e,n,s,r)))}const l=Hk(t.inputNames[o],n,s,r),u=l.dataSync();return"number"===a.type?u[0]:pn(l.shape,u)}const i=t.attrParams[e];return i&&i.value}function Hk(e,t,n,s){const[r,a]=Zk(e,n);if(null!=s){const e=s.getHashTableHandleByName(r);if(null!=e)return e}const i=n.currentContextIds.find((e=>!!t[Xk(r,e)]));return void 0!==i?t[Xk(r,i)][a]:void 0}function $k(e,t,n){return t[Xk(e,n.currentContextId)]}function Kk(e,t){const[n,s,r]=Zk(e,t);return[Xk(n,t&&t.currentContextId),s,r]}function Xk(e,t){return t?`${e}-${t}`:e}function Zk(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const s=e.split(":");let r;if(1===s.length)r=[e,0,void 0];else{const e=s[0],t=3===s.length?s[1]:void 0;r=[e,Number(s[s.length-1]),t]}return n&&t.parseNodeNameCache.set(e,r),r}function Yk(e,t,n){let s=jk("pad",e,t,n);if("explicit"===s){s=jk("explicitPaddings",e,t,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)r[e][0]=s[2*e],r[e][1]=s[2*e+1];return r}return s}function Qk(e){return e.kept?e:Nl(e)}const Jk=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],eC=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],tC=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],nC=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],sC=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],rC=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],aC=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],iC=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],oC=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],lC=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],uC=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],cC=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],hC=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],dC=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],pC=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],fC=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],mC=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],gC=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],yC=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class bC{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[a,i,o,l,u,c,h,d,p,f,m,g,y,b,w,v,x,A,k].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,s=[],r=[],a=[],i=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?s.push(e[t.name]):"Const"===t.op?r.push(e[t.name]):null!=t.input&&0!==t.input.length||a.push(e[t.name]),e)),{});let o=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const h=Object.keys(i);h.forEach((e=>{const t=i[e];t.inputNames.forEach(((e,n)=>{const[s,,r]=Kk(e),a=i[s];if(null!=a.outputs){const e=a.outputs.indexOf(r);if(-1!==e){const r=`${s}:${e}`;t.inputNames[n]=r}}t.inputs.push(a),a.children.push(t)}))})),0===Object.keys(c).length?h.forEach((e=>{const t=i[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=Kk(e),n=i[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=Kk(e),n=i[t];n&&(n.signatureKey=u[e],o.push(n))})):o=s;let d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const p={nodes:i,inputs:o,outputs:l,weights:r,placeholders:s,signature:t,functions:d};return a.length>0&&(p.initNodes=a),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=qk(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const s=n.type;let r;switch(n.type){case"string":r=vC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=vC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":r=NC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=NC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":r=AC(e.attr,n.tfName,n.defaultValue||0),void 0===r&&n.tfDeprecatedName&&(r=AC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":r=TC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=TC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":r=xC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=xC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":r=RC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=RC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":r=IC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=IC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":r=OC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=OC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":r=SC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=SC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":r=EC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=EC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":r=CC(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=CC(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:r,type:s},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let s={};null!=t&&(s=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const r=[],a=[];e.signature.inputArg.forEach((e=>{const[t]=Kk(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:kC(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,r.push(n),s[t]=n}));Object.keys(s).forEach((e=>{const t=s[e];t.inputNames.forEach(((e,n)=>{const[r,,a]=Kk(e),i=s[r];if(null!=i.outputs){const e=i.outputs.indexOf(a);if(-1!==e){const s=`${r}:${e}`;t.inputNames[n]=s}}t.inputs.push(i),i.children.push(t)}))}));const i=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=Kk(i[e.name]),r=s[t];null!=r&&(r.defaultOutput=n,a.push(r))}));const o=this.mapArgsToSignature(e);return{nodes:s,inputs:r,outputs:a,weights:n,placeholders:[],signature:o}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function wC(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=Cn().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function vC(e,t,n,s=!1){const r=e[t];return null!=r?wC(r.s,s):n}function xC(e,t,n){const s=e[t];return s?s.b:n}function AC(e,t,n){const s=e[t]||{},r=null!=s.i?s.i:null!=s.f?s.f:n;return"number"==typeof r?r:parseInt(r,10)}function kC(e){switch("string"==typeof e&&(e=Wk[e]),e){case Wk.DT_FLOAT:case Wk.DT_HALF:return"float32";case Wk.DT_INT32:case Wk.DT_INT64:case Wk.DT_INT8:case Wk.DT_UINT8:return"int32";case Wk.DT_BOOL:return"bool";case Wk.DT_DOUBLE:return"float32";case Wk.DT_STRING:return"string";case Wk.DT_COMPLEX64:case Wk.DT_COMPLEX128:return"complex64";default:return null}}function CC(e,t,n){const s=e[t];return s&&s.func?s.func.name:n}function SC(e,t,n){const s=e[t];return s&&s.type?kC(s.type):n}function EC(e,t,n){const s=e[t];return s&&s.list&&s.list.type?s.list.type.map((e=>kC(e))):n}function _C(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function IC(e,t,n){const s=e[t];return s&&s.shape?_C(s.shape):n}function TC(e,t,n){const s=e[t];return s?((s.list.f&&s.list.f.length?s.list.f:s.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function NC(e,t,n,s=!1){const r=e[t];return r&&r.list&&r.list.s?r.list.s.map((e=>wC(e,s))):n}function OC(e,t,n){const s=e[t];return s&&s.list&&s.list.shape?s.list.shape.map((e=>_C(e))):n}function RC(e,t,n){const s=e[t];return s&&s.list&&s.list.b?s.list.b:n}class DC{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return Hk(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Hk(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return AC(this.node.rawAttrs,e,t);if(null!=n.s)return vC(this.node.rawAttrs,e,t);if(null!=n.b)return xC(this.node.rawAttrs,e,t);if(null!=n.shape)return IC(this.node.rawAttrs,e,t);if(null!=n.type)return SC(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return TC(this.node.rawAttrs,e,t);if(null!=n.list.s)return NC(this.node.rawAttrs,e,t);if(null!=n.list.shape)return OC(this.node.rawAttrs,e,t);if(null!=n.list.b)return RC(this.node.rawAttrs,e,t);if(null!=n.list.type)return EC(this.node.rawAttrs,e,t)}return t}}function MC(e,t,n=""){if("number"!=typeof e&&"number"!=typeof t){Gt(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let s=0;s<e.length;s++){const r=e[s],a=t[s];Gt(r<0||a<0||r===a,(()=>n+` Shapes ${e} and ${t} must match`))}}}function FC(e){return"number"!=typeof e&&!e.some((e=>e<0))}function BC(e,t,n){let s=zC(e,n);const r=!FC(s);if(r&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${s}`);if(r&&t.forEach((e=>{s=zC(e.shape,s)})),!FC(s))throw new Error(`Non-fully-defined elementShape: ${s}`);return s}function zC(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let s=0;s<e.length;++s){const r=e[s],a=t[s];if(r>=0&&a>=0&&r!==a)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[s]=r>=0?r:a}return n}class LC{constructor(e,t,n,s,r,a,i){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=s,this.identicalElementShapes=r,this.dynamicSize=a,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=Vl(0),ko(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),MC(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,ko(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return go([],[0].concat(this.elementShape));const n=this.readMany(e);return MC(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Tp(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return go([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return MC(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),Oc(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Hp(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const s=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const r=0===n?0:t.size/n,a=[];xo((()=>{t=Ic(t,[1,n,r]);for(let n=0;n<e.length;++n){const i=[0,0===n?0:s[n-1],0],o=[1,e[n],r];a[n]=Ic(Mc(t,i,o),this.elementShape)}return a}));const i=[];for(let t=0;t<e.length;t++)i[t]=t;this.writeMany(i,a)}}class PC{get id(){return this.idTensor.id}constructor(e,t,n,s=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);MC(t,e.shape,"TensorList shape mismatch: "),ko(e)})),this.idTensor=Vl(0),this.maxNumElements=s,ko(this.idTensor)}copy(){return new PC([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);MC(e,this.elementShape,"TensorList shape mismatch: ");const s=BC(this.elementShape,this.tensors,e);return xo((()=>{const e=this.tensors.map((e=>Ic(e,s)));return Tp(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=BC(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,MC(s.shape,e,"TensorList shape mismatch: "),Ic(s,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(MC(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");ko(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new PC([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);MC(this.tensors[e].shape,t,"TensorList shape mismatch: ");const s=BC(this.elementShape,this.tensors,t);return Ic(this.tensors[e],s)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);MC(this.elementShape,t.shape,"TensorList shape mismatch: "),ko(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);MC(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=BC(this.elementShape,this.tensors,n);return 0===e.length?go([],[0].concat(s)):xo((()=>{const t=e.map((e=>Ic(this.tensors[e],s)));return Tp(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);MC(this.elementShape,t,"TensorList shape mismatch: ");const n=BC(this.elementShape,this.tensors,t);return 0===this.size()?go([],[0].concat(n)):xo((()=>{const e=this.tensors.map((e=>Ic(e,n)));return Oc(e,0)}))}}const VC=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const s=jk("thenBranch",e,t,n),r=jk("elseBranch",e,t,n),a=jk("cond",e,t,n),i=jk("args",e,t,n);return(await a.data())[0]?n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const s=jk("body",e,t,n),r=jk("cond",e,t,n),a=jk("args",e,t,n),i=await n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap),o=a.map((e=>e.id));let l=await i[0].data();i.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||e.dispose()}));let u=a;for(;l[0];){const e=u;u=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const a=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await a[0].data(),a.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[Qk(jk("pred",e,t,n))];case"Switch":{const s=jk("pred",e,t,n);let r=jk("data",e,t,n);return r.kept||(r=Qk(r)),(await s.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const s=e.inputNames.find((e=>void 0!==Hk(e,t,n)));if(s){return[Qk(Hk(s,t,n))]}return}case"Enter":{const s=jk("frameName",e,t,n),r=jk("tensor",e,t,n);return n.enterFrame(s),[Qk(r)]}case"Exit":{const s=jk("tensor",e,t,n);return n.exitFrame(),[Qk(s)]}case"NextIteration":{const s=jk("tensor",e,t,n);return n.nextIteration(),[Qk(s)]}case"TensorArrayV3":{const s=jk("size",e,t,n),r=jk("dtype",e,t,n),a=jk("elementShape",e,t,n),i=jk("dynamicSize",e,t,n),o=jk("clearAfterRead",e,t,n),l=jk("identicalElementShapes",e,t,n),u=jk("name",e,t,n),c=new LC(u,r,s,a,l,i,o);return n.addTensorArray(c),[c.idTensor,Vl(1)]}case"TensorArrayWriteV3":{const s=jk("tensorArrayId",e,t,n),r=jk("index",e,t,n),a=jk("tensor",e,t,n),i=n.getTensorArray(s.id);return i.write(r,a),[i.idTensor]}case"TensorArrayReadV3":{const s=jk("tensorArrayId",e,t,n),r=jk("index",e,t,n);return[n.getTensorArray(s.id).read(r)]}case"TensorArrayGatherV3":{const s=jk("tensorArrayId",e,t,n),r=jk("indices",e,t,n),a=jk("dtype",e,t,n);return[n.getTensorArray(s.id).gather(r,a)]}case"TensorArrayScatterV3":{const s=jk("tensorArrayId",e,t,n),r=jk("indices",e,t,n),a=jk("tensor",e,t,n),i=n.getTensorArray(s.id);return i.scatter(r,a),[i.idTensor]}case"TensorArrayConcatV3":{const s=jk("tensorArrayId",e,t,n),r=n.getTensorArray(s.id),a=jk("dtype",e,t,n);return[r.concat(a)]}case"TensorArraySplitV3":{const s=jk("tensorArrayId",e,t,n),r=jk("tensor",e,t,n),a=jk("lengths",e,t,n),i=n.getTensorArray(s.id);return i.split(a,r),[i.idTensor]}case"TensorArraySizeV3":{const s=jk("tensorArrayId",e,t,n);return[Vl(n.getTensorArray(s.id).size(),"int32")]}case"TensorArrayCloseV3":{const s=jk("tensorArrayId",e,t,n),r=n.getTensorArray(s.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const s=jk("tensorListId",e,t,n),r=jk("index",e,t,n),a=jk("tensor",e,t,n),i=n.getTensorList(s.id);return i.setItem(r,a),[i.idTensor]}case"TensorListGetItem":{const s=jk("tensorListId",e,t,n),r=jk("index",e,t,n),a=jk("elementShape",e,t,n),i=jk("elementDType",e,t,n);return[n.getTensorList(s.id).getItem(r,a,i)]}case"TensorListScatterV2":case"TensorListScatter":{const s=jk("indices",e,t,n),r=function(e,t,n,s){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const r=Math.max(...t);if(null!=s&&-1!==s&&r>=s)throw new Error(`Max index must be < array size (${r}  vs. ${s})`);const a=new PC([],n,e.dtype,s),i=Hp(e,0);return t.forEach(((e,t)=>{a.setItem(e,i[t])})),a}(jk("tensor",e,t,n),s,jk("elementShape",e,t,n),jk("numElements",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const s=jk("elementShape",e,t,n),r=jk("elementDType",e,t,n);let a;a="TensorListReserve"===e.op?"numElements":"maxNumElements";const i=jk(a,e,t,n),o=function(e,t,n,s){return new PC([],e,t,s)}(s,r,0,"TensorListReserve"===e.op?-1:i);return n.addTensorList(o),[o.idTensor]}case"TensorListGather":{const s=jk("tensorListId",e,t,n),r=jk("indices",e,t,n),a=jk("elementShape",e,t,n),i=jk("elementDType",e,t,n);return[n.getTensorList(s.id).gather(r,i,a)]}case"TensorListStack":{const s=jk("tensorListId",e,t,n),r=jk("elementShape",e,t,n),a=jk("elementDType",e,t,n),i=jk("numElements",e,t,n);return[n.getTensorList(s.id).stack(r,a,i)]}case"TensorListFromTensor":{const s=function(e,t,n){const s=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);MC(e.shape.slice(1),t,"TensorList shape mismatch: ");const r=Hp(e);return new PC(r,t,s)}(jk("tensor",e,t,n),jk("elementShape",e,t,n),jk("elementDType",e,t,n));return n.addTensorList(s),[s.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const s=jk("tensorListId",e,t,n),r=n.getTensorList(s.id),a=jk("dtype",e,t,n),i=jk("elementShape",e,t,n);return[r.concat(a,i)]}case"TensorListPushBack":{const s=jk("tensorListId",e,t,n),r=jk("tensor",e,t,n),a=n.getTensorList(s.id);return a.pushBack(r),[a.idTensor]}case"TensorListPopBack":{const s=jk("tensorListId",e,t,n),r=jk("elementShape",e,t,n),a=jk("elementDType",e,t,n);return[n.getTensorList(s.id).popBack(r,a)]}case"TensorListSplit":{const s=jk("tensor",e,t,n),r=jk("elementShape",e,t,n),a=function(e,t,n){let s=0;const r=t.map((e=>(s+=e,s)));if(s!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${s}, and tensor's shape is: ${e.shape}`);const a=zC(e.shape.slice(1),n),i=0===s?0:e.size/s,o=xo((()=>{const n=[];e=Ic(e,[1,s,i]);for(let s=0;s<t.length;++s){const o=[0,0===s?0:r[s-1],0],l=[1,t[s],i];n[s]=Ic(Mc(e,o,l),a)}return e.dispose(),n})),l=new PC([],n,e.dtype,t.length);for(let e=0;e<o.length;e++)l.setItem(e,o[e]);return l}(s,jk("lengths",e,t,n),r);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const s=jk("tensorListId",e,t,n);return[Vl(n.getTensorList(s.id).size(),"int32")]}case"TensorListResize":{const s=jk("tensorListId",e,t,n),r=jk("size",e,t,n),a=n.getTensorList(s.id).resize(r);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function WC(e,t,n){const[s,r]=jk("fusedOps",e,t,n),a="biasadd"===s,i=!a,o="prelu"===r,l="fusedbatchnorm"===s,u=jk("numArgs",e,t,n);if(a){if(o&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&a&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=jk("strides",e,t,n),h=Yk(e,t,n),d=jk("dataFormat",e,t,n).toUpperCase(),p=jk("dilations",e,t,n);let[f,m]=jk("args",e,t,n);i&&(m=f,f=void 0);return{stride:c,pad:h,dataFormat:d,dilations:p,biasArg:f,preluArg:m,activationFunc:r,leakyreluAlpha:jk("leakyreluAlpha",e,t,n)}}function UC(e,t,n){return{boxes:jk("boxes",e,t,n),scores:jk("scores",e,t,n),maxOutputSize:jk("maxOutputSize",e,t,n),iouThreshold:jk("iouThreshold",e,t,n),scoreThreshold:jk("scoreThreshold",e,t,n),softNmsSigma:jk("softNmsSigma",e,t,n)}}class GC{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Vl(0),this.tensorMap=new Map,ko(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Vl(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),xo((()=>{const e=Hp(t),s=n.length,r=e.length;Gt(s===r,(()=>`The number of elements doesn't match, keys has ${s} elements, the values has ${r} elements.`));for(let t=0;t<s;t++){const s=n[t],r=e[t];ko(r),this.tensorMap.set(s,r)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return xo((()=>{const e=[];for(let s=0;s<n.length;s++){const r=n[s],a=this.findWithDefault(r,t);e.push(a)}return Tp(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function qC(e,t,n,s,r=xo){const a=((e,t,n)=>{switch(e.category){case"arithmetic":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[s.add(jk("a",e,t,n),jk("b",e,t,n))];case"AddN":return[s.addN(jk("tensors",e,t,n))];case"FloorMod":case"Mod":return[s.mod(jk("a",e,t,n),jk("b",e,t,n))];case"Mul":return[s.mul(jk("a",e,t,n),jk("b",e,t,n))];case"RealDiv":case"Div":return[s.div(jk("a",e,t,n),jk("b",e,t,n))];case"DivNoNan":return[s.divNoNan(jk("a",e,t,n),jk("b",e,t,n))];case"FloorDiv":return[s.floorDiv(jk("a",e,t,n),jk("b",e,t,n))];case"Sub":return[s.sub(jk("a",e,t,n),jk("b",e,t,n))];case"Minimum":return[s.minimum(jk("a",e,t,n),jk("b",e,t,n))];case"Maximum":return[s.maximum(jk("a",e,t,n),jk("b",e,t,n))];case"Pow":return[s.pow(jk("a",e,t,n),jk("b",e,t,n))];case"SquaredDifference":return[s.squaredDifference(jk("a",e,t,n),jk("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"Abs":case"ComplexAbs":return[s.abs(jk("x",e,t,n))];case"Acos":return[s.acos(jk("x",e,t,n))];case"Acosh":return[s.acosh(jk("x",e,t,n))];case"Asin":return[s.asin(jk("x",e,t,n))];case"Asinh":return[s.asinh(jk("x",e,t,n))];case"Atan":return[s.atan(jk("x",e,t,n))];case"Atan2":return[s.atan2(jk("x",e,t,n),jk("y",e,t,n))];case"Atanh":return[s.atanh(jk("x",e,t,n))];case"Ceil":return[s.ceil(jk("x",e,t,n))];case"Complex":return[s.complex(jk("real",e,t,n),jk("imag",e,t,n))];case"Cos":return[s.cos(jk("x",e,t,n))];case"Cosh":return[s.cosh(jk("x",e,t,n))];case"Elu":return[s.elu(jk("x",e,t,n))];case"Erf":return[s.erf(jk("x",e,t,n))];case"Exp":return[s.exp(jk("x",e,t,n))];case"Expm1":return[s.expm1(jk("x",e,t,n))];case"Floor":return[s.floor(jk("x",e,t,n))];case"Log":return[s.log(jk("x",e,t,n))];case"Log1p":return[s.log1p(jk("x",e,t,n))];case"Imag":return[s.imag(jk("x",e,t,n))];case"Neg":return[s.neg(jk("x",e,t,n))];case"Reciprocal":return[s.reciprocal(jk("x",e,t,n))];case"Real":return[s.real(jk("x",e,t,n))];case"Relu":return[s.relu(jk("x",e,t,n))];case"Round":return[s.round(jk("x",e,t,n))];case"Selu":return[s.selu(jk("x",e,t,n))];case"Sigmoid":return[s.sigmoid(jk("x",e,t,n))];case"Sin":return[s.sin(jk("x",e,t,n))];case"Sign":return[s.sign(jk("x",e,t,n))];case"Sinh":return[s.sinh(jk("x",e,t,n))];case"Softplus":return[s.softplus(jk("x",e,t,n))];case"Sqrt":return[s.sqrt(jk("x",e,t,n))];case"Square":return[s.square(jk("x",e,t,n))];case"Tanh":return[s.tanh(jk("x",e,t,n))];case"Tan":return[s.tan(jk("x",e,t,n))];case"ClipByValue":return[s.clipByValue(jk("x",e,t,n),jk("clipValueMin",e,t,n),jk("clipValueMax",e,t,n))];case"Relu6":return[s.relu6(jk("x",e,t,n))];case"Rsqrt":return[s.rsqrt(Hk(e.inputNames[0],t,n))];case"LeakyRelu":return[s.leakyRelu(jk("x",e,t,n),jk("alpha",e,t,n))];case"Prelu":return[s.prelu(jk("x",e,t,n),jk("alpha",e,t,n))];case"IsNan":return[s.isNaN(Hk(e.inputNames[0],t,n))];case"IsInf":return[s.isInf(Hk(e.inputNames[0],t,n))];case"IsFinite":return[s.isFinite(Hk(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return VC(e,t,n);case"convolution":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"Conv1D":{const r=jk("stride",e,t,n),a=jk("pad",e,t,n),i=jk("dataFormat",e,t,n).toUpperCase(),o=jk("dilation",e,t,n);return[s.conv1d(jk("x",e,t,n),jk("filter",e,t,n),r,a,i,o)]}case"Conv2D":{const r=jk("strides",e,t,n),a=Yk(e,t,n),i=jk("dataFormat",e,t,n).toUpperCase(),o=jk("dilations",e,t,n);return[s.conv2d(jk("x",e,t,n),jk("filter",e,t,n),[r[1],r[2]],a,i,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:r,pad:a,dataFormat:i,dilations:o,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:h}=WC(e,t,n);return[s.fused.conv2d({x:jk("x",e,t,n),filter:jk("filter",e,t,n),strides:[r[1],r[2]],pad:a,dataFormat:i,dilations:[o[1],o[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:h})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:a,dataFormat:i,dilations:o,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:h}=WC(e,t,n);return[s.fused.depthwiseConv2d({x:jk("x",e,t,n),filter:jk("filter",e,t,n),strides:[r[1],r[2]],pad:a,dataFormat:i,dilations:[o[1],o[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:h})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=jk("outputShape",e,t,n),a=jk("strides",e,t,n),i=Yk(e,t,n);return[s.conv2dTranspose(jk("x",e,t,n),jk("filter",e,t,n),r,[a[1],a[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=jk("strides",e,t,n),a=Yk(e,t,n),i=jk("dilations",e,t,n),o=jk("dataFormat",e,t,n).toUpperCase();return[s.depthwiseConv2d(jk("input",e,t,n),jk("filter",e,t,n),[r[1],r[2]],a,o,[i[1],i[2]])]}case"Conv3D":{const r=jk("strides",e,t,n),a=jk("pad",e,t,n),i=jk("dataFormat",e,t,n).toUpperCase(),o=jk("dilations",e,t,n);return[s.conv3d(jk("x",e,t,n),jk("filter",e,t,n),[r[1],r[2],r[3]],a,i,[o[1],o[2],o[3]])]}case"AvgPool":{const r=jk("strides",e,t,n),a=jk("pad",e,t,n),i=jk("kernelSize",e,t,n);return[s.avgPool(jk("x",e,t,n),[i[1],i[2]],[r[1],r[2]],a)]}case"MaxPool":{const r=jk("strides",e,t,n),a=jk("pad",e,t,n),i=jk("kernelSize",e,t,n);return[s.maxPool(jk("x",e,t,n),[i[1],i[2]],[r[1],r[2]],a)]}case"MaxPoolWithArgmax":{const r=jk("strides",e,t,n),a=jk("pad",e,t,n),i=jk("kernelSize",e,t,n),o=jk("includeBatchInIndex",e,t,n),{result:l,indexes:u}=s.maxPoolWithArgmax(jk("x",e,t,n),[i[1],i[2]],[r[1],r[2]],a,o);return[l,u]}case"AvgPool3D":{const r=jk("strides",e,t,n),a=jk("pad",e,t,n),i=jk("kernelSize",e,t,n);return[s.avgPool3d(jk("x",e,t,n),[i[1],i[2],i[3]],[r[1],r[2],r[3]],a)]}case"MaxPool3D":{const r=jk("strides",e,t,n),a=jk("pad",e,t,n),i=jk("kernelSize",e,t,n);return[s.maxPool3d(jk("x",e,t,n),[i[1],i[2],i[3]],[r[1],r[2],r[3]],a)]}case"Dilation2D":{const r=jk("strides",e,t,n),a=jk("pad",e,t,n),i=jk("dilations",e,t,n),o=r[1],l=r[2],u=i[1],c=i[2];return[s.dilation2d(jk("x",e,t,n),jk("filter",e,t,n),[o,l],a,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"Fill":{const r=jk("shape",e,t,n),a=jk("dtype",e,t,n),i=jk("value",e,t,n);return[s.fill(r,i,a)]}case"LinSpace":{const r=jk("start",e,t,n),a=jk("stop",e,t,n),i=jk("num",e,t,n);return[s.linspace(r,a,i)]}case"Multinomial":{const r=jk("logits",e,t,n),a=jk("numSamples",e,t,n),i=jk("seed",e,t,n);return[s.multinomial(r,a,i)]}case"OneHot":{const r=jk("indices",e,t,n),a=jk("depth",e,t,n),i=jk("onValue",e,t,n),o=jk("offValue",e,t,n),l=jk("dtype",e,t,n);return[s.oneHot(r,a,i,o,l)]}case"Ones":return[s.ones(jk("shape",e,t,n),jk("dtype",e,t,n))];case"OnesLike":return[s.onesLike(jk("x",e,t,n))];case"RandomStandardNormal":return[s.randomStandardNormal(jk("shape",e,t,n),jk("dtype",e,t,n),jk("seed",e,t,n))];case"RandomUniform":return[s.randomUniform(jk("shape",e,t,n),jk("minval",e,t,n),jk("maxval",e,t,n),jk("dtype",e,t,n))];case"RandomUniformInt":return[s.randomUniformInt(jk("shape",e,t,n),jk("minval",e,t,n),jk("maxval",e,t,n),jk("seed",e,t,n))];case"Range":{const r=jk("start",e,t,n),a=jk("stop",e,t,n),i=jk("step",e,t,n);return[s.range(r,a,i,jk("dtype",e,t,n))]}case"TruncatedNormal":{const r=jk("shape",e,t,n),a=jk("mean",e,t,n),i=jk("stdDev",e,t,n),o=jk("seed",e,t,n);return[s.truncatedNormal(r,a,i,jk("dtype",e,t,n),o)]}case"Zeros":return[s.zeros(jk("shape",e,t,n),jk("dtype",e,t,n))];case"ZerosLike":return[s.zerosLike(jk("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n,s,r=C)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:s,scores:a,maxOutputSize:i,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=UC(e,t,n),c=await r.image.nonMaxSuppressionWithScoreAsync(s,a,i,o,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:s,scores:a,maxOutputSize:i,iouThreshold:o,scoreThreshold:l}=UC(e,t,n),u=jk("padToMaxOutputSize",e,t,n),c=await r.image.nonMaxSuppressionPaddedAsync(s,a,i,o,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:s,scores:a,maxOutputSize:i,iouThreshold:o,scoreThreshold:l}=UC(e,t,n);return[await r.image.nonMaxSuppressionAsync(s,a,i,o,l)]}case"Where":{const s=r.cast(jk("condition",e,t,n),"bool"),a=[await r.whereAsync(s)];return s.dispose(),a}case"ListDiff":return r.setdiff1dAsync(jk("x",e,t,n),jk("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"LowerBound":{const r=jk("sortedSequence",e,t,n),a=jk("values",e,t,n);return[s.lowerBound(r,a)]}case"TopKV2":{const r=jk("x",e,t,n),a=jk("k",e,t,n),i=jk("sorted",e,t,n),o=s.topk(r,a,i);return[o.values,o.indices]}case"UpperBound":{const r=jk("sortedSequence",e,t,n),a=jk("values",e,t,n);return[s.upperBound(r,a)]}case"Unique":{const r=jk("x",e,t,n),a=s.unique(r);return[a.values,a.indices]}case"UniqueV2":{const r=jk("x",e,t,n),a=jk("axis",e,t,n),i=s.unique(r,a);return[i.values,i.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"ResizeBilinear":{const r=jk("images",e,t,n),a=jk("size",e,t,n),i=jk("alignCorners",e,t,n),o=jk("halfPixelCenters",e,t,n);return[s.image.resizeBilinear(r,[a[0],a[1]],i,o)]}case"ResizeNearestNeighbor":{const r=jk("images",e,t,n),a=jk("size",e,t,n),i=jk("alignCorners",e,t,n),o=jk("halfPixelCenters",e,t,n);return[s.image.resizeNearestNeighbor(r,[a[0],a[1]],i,o)]}case"CropAndResize":{const r=jk("image",e,t,n),a=jk("boxes",e,t,n),i=jk("boxInd",e,t,n),o=jk("cropSize",e,t,n),l=jk("method",e,t,n),u=jk("extrapolationValue",e,t,n);return[s.image.cropAndResize(r,a,i,o,l,u)]}case"ImageProjectiveTransformV3":{const r=jk("images",e,t,n),a=jk("transforms",e,t,n),i=jk("outputShape",e,t,n),o=jk("fillValue",e,t,n),l=jk("interpolation",e,t,n),u=jk("fillMode",e,t,n);return[s.image.transform(r,a,l.toLowerCase(),u.toLowerCase(),o,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=jk("default",e,t,n);return[Hk(e.name,t,n)||r];case"Placeholder":return[Hk(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Qk(jk("x",e,t,n))];case"IdentityN":return jk("x",e,t,n).map((e=>Qk(e)));case"Shape":return[s.tensor1d(jk("x",e,t,n).shape,"int32")];case"ShapeN":return jk("x",e,t,n).map((e=>s.tensor1d(e.shape)));case"Size":return[s.scalar(jk("x",e,t,n).size,"int32")];case"Rank":return[s.scalar(jk("x",e,t,n).rank,"int32")];case"NoOp":return[s.scalar(1)];case"Print":const a=jk("x",e,t,n),i=jk("data",e,t,n);jk("message",e,t,n),jk("summarize",e,t,n);for(let e=0;e<i.length;e++);return[a];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"Equal":return[s.equal(jk("a",e,t,n),jk("b",e,t,n))];case"NotEqual":return[s.notEqual(jk("a",e,t,n),jk("b",e,t,n))];case"Greater":return[s.greater(jk("a",e,t,n),jk("b",e,t,n))];case"GreaterEqual":return[s.greaterEqual(jk("a",e,t,n),jk("b",e,t,n))];case"Less":return[s.less(jk("a",e,t,n),jk("b",e,t,n))];case"LessEqual":return[s.lessEqual(jk("a",e,t,n),jk("b",e,t,n))];case"LogicalAnd":return[s.logicalAnd(jk("a",e,t,n),jk("b",e,t,n))];case"LogicalNot":return[s.logicalNot(jk("a",e,t,n))];case"LogicalOr":return[s.logicalOr(jk("a",e,t,n),jk("b",e,t,n))];case"Select":case"SelectV2":return[s.where(jk("condition",e,t,n),jk("a",e,t,n),jk("b",e,t,n))];case"BitwiseAnd":return[s.bitwiseAnd(jk("a",e,t,n),jk("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[s.matMul(jk("a",e,t,n),jk("b",e,t,n),jk("transposeA",e,t,n),jk("transposeB",e,t,n))];case"Einsum":return[s.einsum(jk("equation",e,t,n),...jk("tensors",e,t,n))];case"Transpose":return[s.transpose(jk("x",e,t,n),jk("perm",e,t,n))];case"_FusedMatMul":const[r,a]=jk("fusedOps",e,t,n),i="biasadd"===r,o="prelu"===a,l=jk("numArgs",e,t,n),u=jk("leakyreluAlpha",e,t,n);if(i){if(o&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,h]=jk("args",e,t,n);return[s.fused.matMul({a:jk("a",e,t,n),b:jk("b",e,t,n),transposeA:jk("transposeA",e,t,n),transposeB:jk("transposeB",e,t,n),bias:c,activation:a,preluActivationWeights:h,leakyreluAlpha:u})];case"MatrixBandPart":return[s.linalg.bandPart(jk("a",e,t,n),jk("numLower",e,t,n),jk("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"EuclideanNorm":return[s.euclideanNorm(jk("x",e,t,n),jk("axis",e,t,n),jk("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[s.batchNorm(jk("x",e,t,n),jk("mean",e,t,n),jk("variance",e,t,n),jk("offset",e,t,n),jk("scale",e,t,n),jk("epsilon",e,t,n))];case"LRN":return[s.localResponseNormalization(jk("x",e,t,n),jk("radius",e,t,n),jk("bias",e,t,n),jk("alpha",e,t,n),jk("beta",e,t,n))];case"Softmax":return[s.softmax(jk("x",e,t,n))];case"LogSoftmax":return[s.logSoftmax(jk("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"ragged":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:a}=s.raggedGather(jk("paramsNestedSplits",e,t,n),jk("paramsDenseValues",e,t,n),jk("indices",e,t,n),jk("outputRaggedRank",e,t,n));return r.concat(a)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:a}=s.raggedRange(jk("starts",e,t,n),jk("limits",e,t,n),jk("splits",e,t,n));return[r,a]}case"RaggedTensorToTensor":return[s.raggedTensorToTensor(jk("shape",e,t,n),jk("values",e,t,n),jk("defaultValue",e,t,n),jk("rowPartitionTensors",e,t,n),jk("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"Max":{const r=jk("axis",e,t,n),a=jk("keepDims",e,t,n);return[s.max(jk("x",e,t,n),r,a)]}case"Mean":{const r=jk("axis",e,t,n),a=jk("keepDims",e,t,n);return[s.mean(jk("x",e,t,n),r,a)]}case"Min":{const r=jk("axis",e,t,n),a=jk("keepDims",e,t,n);return[s.min(jk("x",e,t,n),r,a)]}case"Sum":{const r=jk("axis",e,t,n),a=jk("keepDims",e,t,n);return[s.sum(jk("x",e,t,n),r,a)]}case"All":{const r=jk("axis",e,t,n),a=jk("keepDims",e,t,n);return[s.all(jk("x",e,t,n),r,a)]}case"Any":{const r=jk("axis",e,t,n),a=jk("keepDims",e,t,n);return[s.any(jk("x",e,t,n),r,a)]}case"ArgMax":{const r=jk("axis",e,t,n);return[s.argMax(jk("x",e,t,n),r)]}case"ArgMin":{const r=jk("axis",e,t,n);return[s.argMin(jk("x",e,t,n),r)]}case"Prod":{const r=jk("axis",e,t,n),a=jk("keepDims",e,t,n);return[s.prod(jk("x",e,t,n),r,a)]}case"Cumprod":{const r=jk("axis",e,t,n),a=jk("exclusive",e,t,n),i=jk("reverse",e,t,n);return[s.cumprod(jk("x",e,t,n),r,a,i)]}case"Cumsum":{const r=jk("axis",e,t,n),a=jk("exclusive",e,t,n),i=jk("reverse",e,t,n);return[s.cumsum(jk("x",e,t,n),r,a,i)]}case"Bincount":const r=jk("x",e,t,n),a=jk("weights",e,t,n),i=jk("size",e,t,n);return[s.bincount(r,a,i)];case"DenseBincount":{const r=jk("x",e,t,n),a=jk("weights",e,t,n),i=jk("size",e,t,n),o=jk("binaryOutput",e,t,n);return[s.denseBincount(r,a,i,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"ConcatV2":case"Concat":{const r=jk("n",e,t,n),a=jk("axis",e,t,n);let i=jk("tensors",e,t,n);return i=i.slice(0,r),[s.concat(i,a)]}case"Gather":{const r=jk("x",e,t,n),a=jk("indices",e,t,n);return[s.gather(r,s.cast(a,"int32"),0)]}case"GatherV2":{const r=jk("axis",e,t,n),a=jk("batchDims",e,t,n),i=jk("x",e,t,n),o=jk("indices",e,t,n);return[s.gather(i,s.cast(o,"int32"),r,a)]}case"Reverse":{const r=jk("dims",e,t,n),a=[];for(let e=0;e<r.length;e++)r[e]&&a.push(e);const i=jk("x",e,t,n);return[s.reverse(i,a)]}case"ReverseV2":{const r=jk("axis",e,t,n),a=jk("x",e,t,n);return[s.reverse(a,r)]}case"Slice":{const r=jk("begin",e,t,n),a=jk("size",e,t,n);return[s.slice(jk("x",e,t,n),r,a)]}case"StridedSlice":{const r=jk("begin",e,t,n),a=jk("end",e,t,n),i=jk("strides",e,t,n),o=jk("beginMask",e,t,n),l=jk("endMask",e,t,n),u=jk("ellipsisMask",e,t,n),c=jk("newAxisMask",e,t,n),h=jk("shrinkAxisMask",e,t,n),d=jk("x",e,t,n);return[s.stridedSlice(d,r,a,i,o,l,u,c,h)]}case"Pack":return xo((()=>{const r=jk("axis",e,t,n),a=jk("tensors",e,t,n),i=a[0].shape,o=s.squeeze(a[0]).shape,l=a.map((e=>{const t=$t(e.shape,i);if(!t&&!$t(s.squeeze(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:s.reshape(e,i)}));return[s.stack(l,r)]}));case"Unpack":{const r=jk("axis",e,t,n),a=jk("tensor",e,t,n);return s.unstack(a,r)}case"Tile":{const r=jk("reps",e,t,n);return[s.tile(jk("x",e,t,n),r)]}case"Split":case"SplitV":{const r=jk("axis",e,t,n),a=jk("numOrSizeSplits",e,t,n),i=jk("x",e,t,n);return s.split(i,a,r)}case"ScatterNd":{const r=jk("indices",e,t,n),a=jk("values",e,t,n),i=jk("shape",e,t,n);return[s.scatterND(r,a,i)]}case"GatherNd":{const r=jk("x",e,t,n),a=jk("indices",e,t,n);return[s.gatherND(r,a)]}case"SparseToDense":{const r=jk("sparseIndices",e,t,n),a=jk("outputShape",e,t,n),i=jk("sparseValues",e,t,n),o=jk("defaultValue",e,t,n);return[s.sparseToDense(r,i,a,i.dtype===o.dtype?o:s.cast(o,i.dtype))]}case"TensorScatterUpdate":{const r=jk("indices",e,t,n),a=jk("values",e,t,n),i=jk("tensor",e,t,n);return[s.tensorScatterUpdate(i,r,a)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:a,emptyRowIndicator:i,reverseIndexMap:o}=s.sparse.sparseFillEmptyRows(jk("indices",e,t,n),jk("values",e,t,n),jk("denseShape",e,t,n),jk("defaultValue",e,t,n));return[r,a,i,o]}case"SparseReshape":{const{outputIndices:r,outputShape:a}=s.sparse.sparseReshape(jk("inputIndices",e,t,n),jk("inputShape",e,t,n),jk("newShape",e,t,n));return[r,a]}case"SparseSegmentMean":return[s.sparse.sparseSegmentMean(jk("data",e,t,n),jk("indices",e,t,n),jk("segmentIds",e,t,n))];case"SparseSegmentSum":return[s.sparse.sparseSegmentSum(jk("data",e,t,n),jk("indices",e,t,n),jk("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"FFT":return[s.fft(jk("x",e,t,n))];case"IFFT":return[s.ifft(jk("x",e,t,n))];case"RFFT":return[s.rfft(jk("x",e,t,n))];case"IRFFT":return[s.irfft(jk("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"StaticRegexReplace":return[s.string.staticRegexReplace(jk("input",e,t,n),jk("pattern",e,t,n),jk("rewrite",e,t,n),jk("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:r,nGramsSplits:a}=s.string.stringNGrams(jk("data",e,t,n),jk("dataSplits",e,t,n),jk("separator",e,t,n),jk("nGramWidths",e,t,n),jk("leftPad",e,t,n),jk("rightPad",e,t,n),jk("padWidth",e,t,n),jk("preserveShortSequences",e,t,n));return[r,a]}case"StringSplit":{const{indices:r,values:a,shape:i}=s.string.stringSplit(jk("input",e,t,n),jk("delimiter",e,t,n),jk("skipEmpty",e,t,n));return[r,a,i]}case"StringToHashBucketFast":return[s.string.stringToHashBucketFast(jk("input",e,t,n),jk("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return r((()=>((e,t,n,s=C)=>{switch(e.op){case"Cast":return[s.cast(jk("x",e,t,n),jk("dtype",e,t,n))];case"ExpandDims":{const r=jk("axis",e,t,n);return[s.expandDims(jk("x",e,t,n),r)]}case"Squeeze":{const r=jk("axis",e,t,n);return[s.squeeze(jk("x",e,t,n),r)]}case"Reshape":return[s.reshape(jk("x",e,t,n),jk("shape",e,t,n))];case"EnsureShape":return[s.ensureShape(jk("x",e,t,n),jk("shape",e,t,n))];case"MirrorPad":return[s.mirrorPad(jk("x",e,t,n),jk("padding",e,t,n),jk("mode",e,t,n))];case"PadV2":case"Pad":return[s.pad(jk("x",e,t,n),jk("padding",e,t,n),jk("constantValue",e,t,n))];case"SpaceToBatchND":{const r=jk("blockShape",e,t,n),a=jk("paddings",e,t,n);return[s.spaceToBatchND(jk("x",e,t,n),r,a)]}case"BatchToSpaceND":{const r=jk("blockShape",e,t,n),a=jk("crops",e,t,n);return[s.batchToSpaceND(jk("x",e,t,n),r,a)]}case"DepthToSpace":{const r=jk("blockSize",e,t,n),a=jk("dataFormat",e,t,n).toUpperCase();return[s.depthToSpace(jk("x",e,t,n),r,a)]}case"BroadcastTo":return[s.broadcastTo(jk("x",e,t,n),jk("shape",e,t,n))];case"BroadcastArgs":return[s.broadcastArgs(jk("s0",e,t,n),jk("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,s)=>{switch(e.op){case"HashTable":case"HashTableV2":{const r=s.getHashTableHandleByName(e.name);if(null!=r)return[r];{const r=jk("keyDType",e,t,n),a=jk("valueDType",e,t,n),i=new GC(r,a);return s.addHashTable(e.name,i),[i.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const r=jk("tableHandle",e,t,n,s),a=jk("keys",e,t,n),i=jk("values",e,t,n),o=s.getHashTableById(r.id);return[await o.import(a,i)]}case"LookupTableFind":case"LookupTableFindV2":{const r=jk("tableHandle",e,t,n,s),a=jk("keys",e,t,n),i=jk("defaultValue",e,t,n),o=s.getHashTableById(r.id);return[await o.find(a,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=jk("tableHandle",e,t,n,s);return[s.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,s);case"custom":const a=qk(e.op);if(a&&a.customExecutor)return a.customExecutor(new DC(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return vn(a)?a.then((e=>[].concat(e))):[].concat(a)}class jC{constructor(e={},t={},n={},s={},r){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=s,this.parseNodeNameCache=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function HC(e,t,n,s){const r=new Set,a=[];let i=null,o=null;const l=new Set,u=new Set(Object.keys(e).map((e=>Zk(e)[0])));s=s||[];const c=new Set(s.map((e=>Zk(e.name)[0]))),h=[...t];for(;h.length>0;){const e=h.pop();(QC(e)||JC(e)||eS(e))&&null==i&&(i=e,o=i.children.map((e=>e.name)).filter((e=>r.has(e)))),r.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),h.push(e))})):a.push(e.name)))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:a,dynamicNode:i,syncInputs:o}}function $C(e,t){const{usedNodes:n,inputs:s}=t,r=Object.keys(s).map((e=>Zk(e)[0])).map((t=>e.nodes[t])),a=e.initNodes||[],i=e=>n.has("string"==typeof e?e:e.name);function o(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=o([...r,...e.weights,...a]).filter(i),u=o([...l,...Object.values(e.nodes)]).filter(i),c=new Map(u.map((e=>[e.name,e]))),h={};for(const e of u){h[e.name]=h[e.name]||0;for(const t of e.children)i(t)||(h[t.name]=Number.POSITIVE_INFINITY),h[t.name]=(h[t.name]||0)+1}const d=Object.entries(h).filter((([,e])=>0===e)).map((([e])=>e)),p=[...d];for(;d.length>0;){const e=d.pop(),t=c.get(e);for(const e of t.children.filter(i))0==--h[e.name]&&(p.push(e.name),d.push(e.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),s=t.map((e=>e.name)),r=new Set(s);for(;s.length>0;){const e=s.pop(),t=n.get(e);for(const e of t.children)n.has(e.name)&&!r.has(e.name)&&(r.add(e.name),s.push(e.name))}const a=e.filter((e=>r.has(e.name)));return a}(p.map((e=>c.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),s=new Set(t.map((e=>e.name))),r=e=>s.has("string"==typeof e?e:e.name),a=new Set(e.map((e=>e.name))),i=e=>a.has("string"==typeof e?e:e.name);for(const t of e){for(const e of t.children.filter(i)){if(!n.has(e.name))throw new KC(`Child ${e.name} of node ${t.name} is unreachable.`);if(n.get(t.name)>n.get(e.name))throw new KC(`Node ${t.name} is scheduled to run after its child ${e.name}.`)}if(!r(t))for(const e of t.inputs){if(!n.has(e.name))throw new KC(`Input ${e.name} of node ${t.name} is unreachable.`);if(n.get(e.name)>n.get(t.name))throw new KC(`Node ${t.name} is scheduled to run before its input ${e.name}.`)}}}(f,l),f}class KC extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const XC=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),ZC=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),YC=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function QC(e){return XC.has(e.op)}function JC(e){return ZC.has(e.op)}function eS(e){return YC.has(e.op)}class tS{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new tS(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),s=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(e,t){const n=HC(e,t,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:r,syncInputs:a}=n;if(null!=r)throw new Error(`This execution contains the node '${r.name}', which has the dynamic op '${r.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(s.length>0){const n=t.map((e=>e.name)),r=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${r}]. Missing the following inputs: [${s}]`)}const i=$C(this.graph,n),o=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,s=e.map(((e,t)=>QC(e)?n:t)),r=e=>{const n=s[t.get(e.name)];return null==n?-1:n},a=e.map(((e,t)=>e.children.map(r).reduce(((e,t)=>Math.max(e,t)),s[t]))),i=new Map;for(let t=0;t<e.length;++t){const s=a[t];if(s===n)continue;const r=e[t],o=e[s];i.has(o.name)||i.set(o.name,[]),i.get(o.name).push(r)}return i}(i);return{orderedNodes:i,nodeLiveUntilMap:o}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return ko(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,this.cloneTensorList(t)])))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const s=n.map((e=>this.graph.nodes[Zk(e)[0]])),r=t.map((e=>Zk(e)[0])),a=new Set(r);let i=r.map((e=>this.graph.nodes[e]));0===i.length&&(i=this._outputs);const o=this.getCompilationKey(s,i);let l=this.compiledMap.get(o);null==l&&(l=this.compile(e,i),this.compiledMap.set(o,l));try{this.keepIntermediateTensors=Cn().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1}const u={},c={};return xo((()=>{const n=new jC(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),s=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[r,a]=Zk(t,n),i=[];i[a]=e[t],s[r]=i,this.keepIntermediateTensors&&(this.clonedTensorsMap[r]=this.cloneTensorList(i))}));const r=this.getFrozenTensorIds(s),{orderedNodes:i,nodeLiveUntilMap:o}=l;for(const e of i){if(s[e.name])continue;const t=qC(e,s,n,this._resourceManager);if(vn(t))throw new Error(`The execution of the op '${e.op}' returned a promise. Please use model.executeAsync() instead.`);s[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,s,n,r,a,o.get(e.name))}return null==this.parent&&n.dispose(r),t.map((e=>Hk(e,s,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,s,r,a,i){if(!QC(t)&&!a.has(e)){for(const s of n[e])null!=s&&(i[s.id]=(i[s.id]||0)+t.children.length);for(const e of t.inputs){if(QC(e))continue;const t=$k(e.name,n,s);if(null!=t)for(const e of t){if(!e||e.kept||r.has(e.id))continue;const t=i[e.id];1===t?(e.dispose(),delete i[e.id]):null!=t&&i[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,s,r,a){function i(e){return QC(e)||r.has(e.name)}if(!QC(e)&&null!=a)for(const e of a){if(i(e))continue;const r=$k(e.name,t,n);for(const e of r)!e||e.kept||s.has(e.id)||e.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t,n=!1,s={},r={}){this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=Cn().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1}const a=new jC(this.weightMap,s,r,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const i=await this.executeWithControlFlow(e,a,t,n),o=t.map((e=>Hk(e,i,a))),l=o.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id)),c=new Set([...l,...u,...this.weightIds]);return Object.values(i).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()}))})),null==this.parent&&a.dispose(c),o}async executeFunctionAsync(e,t,n){const s=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(s,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,s){const r=Object.keys(e),a=r.map((e=>this.graph.nodes[Zk(e)[0]])),i=n.map((e=>Zk(e)[0])),o=new Set(i);let l=i.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:h,syncInputs:d}=HC(e,l,this.weightMap,this._initNodes),p=[...a,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,s]=Zk(t),r=[];r[s]=e[t],f[n]=r}));const m={},g=this.getFrozenTensorIds(f),y={};for(;p.length>0;){const e=this.processStack(a,p,t,f,y,g,o,m,u);await Promise.all(e)}const b=l.filter((e=>!QC(e)&&!Hk(e.name,f,t))).map((e=>e.name));if(b.length>0){let e="";throw null!=h&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${r}]. Consider providing the following inputs: [${c}]. ${e}`)}return f}processStack(e,t,n,s,r,a,i,o,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&jk("isConstant",e.node,s,n)&&([c]=Kk(e.node.name,n)),null==s[e.node.name]){const h=qC(e.node,s,n,this._resourceManager);c||([c]=Kk(e.node.name,n));const d=n.currentContext;vn(h)?u.push(h.then((u=>(s[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=d,this.checkTensorForDisposal(c,e.node,s,n,a,i,o),this.processChildNodes(e.node,t,n,s,r,l),u)))):(s[c]=h,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(h)),this.checkTensorForDisposal(c,e.node,s,n,a,i,o),this.processChildNodes(e.node,t,n,s,r,l))}else this.processChildNodes(e.node,t,n,s,r,l)}return u}processChildNodes(e,t,n,s,r,a){e.children.forEach((e=>{const[i]=Kk(e.name,n);!r[i]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!Hk(e,s,n)))&&(r[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!Hk(e,s,n)))&&(r[i]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[s]=Zk(t),r=this.graph.nodes[s];if(r.attrParams.shape&&r.attrParams.shape.value){const e=r.attrParams.shape.value;Gt(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>`The shape of dict['${r.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}r.attrParams.dtype&&r.attrParams.dtype.value&&Gt(n.dtype===r.attrParams.dtype.value,(()=>`The dtype of dict['${r.name}'] provided in model.execute(dict) must be ${r.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){var t,n;const s={};for(const r in e){const a=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[r];null!=a?s[a.name]=e[r]:s[r]=e[r]}return s}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=Zk(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{var t,n;const s=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=s?s.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=Zk(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class nS{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const sS="?tfjs-format=file",rS="model.json";class aS{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,n={},s=e){this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=s,null==n&&(this.loadOptions={}),this.resourceManager=new nS}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return vn(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await Do(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let s=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(s=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=s,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new tS(bC.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=bC.Instance.transformGraph(e.modelInitializer);this.initializer=new tS(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"==typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof Di?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof Di||Array.isArray(e))){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const s=n[t];null!=s.resourceId&&(e[t]=this.resourceIdToCapturedInput[s.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let s=0;return this.inputNodes.reduce(((t,n)=>{var r,a,i;const o=null===(i=null===(a=null===(r=this.signature)||void 0===r?void 0:r.inputs)||void 0===a?void 0:a[n])||void 0===i?void 0:i.resourceId;return t[n]=null!=o?this.resourceIdToCapturedInput[o]:e[s++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let s=0;s<n.length;s++){const r=t[n[s]];this.resourceIdToCapturedInput[r.resourceId]=e[s]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Ao(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function iS(t,n={},s=e){if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"==typeof t&&(t=function(e){e.endsWith("/")||(e+="/");return`${e}${rS}${sS}`}(t));const r=new aS(t,n,s);return await r.load(),r}function oS(e,t,n=new Map,s=new Set){if(null==e)return null;if("function"==typeof Blob&&e instanceof Blob)return e.slice();if(s.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const r=t(e);if(r.recurse&&null!==r.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(r.recurse){if(hS(e)){const r=Array.isArray(e)?[]:{};s.add(e);for(const a in e){const i=oS(e[a],t,n,s);r[a]=i}return s.delete(e),e.__proto__&&(r.__proto__=e.__proto__),r}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,r.value),r.value}function lS(e,t=cS){return uS(e,t)}function uS(e,t,n=new Set){const s=e[0];if(n.has(s))throw new Error("Circular references are not supported.");const r=t(e);if(r.recurse&&null!==r.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(r.recurse){if(hS(s)){const r=Array.isArray(s)?[]:{};n.add(s);for(const a in s){const s=uS(e.map((e=>e[a])),t,n);r[a]=s}return n.delete(s),r}throw new Error(`Can't recurse into non-iterable type: ${s}`)}return r.value}function cS(e){return null===e?null:hS(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function hS(e){let t=!1;if(Cn().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:n}=__webpack_require__(7695);t=e instanceof n}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof Di)&&!(e instanceof Promise)&&!t)}function dS(e){return function(e,t){return oS(e,t)}(e,pS)}function pS(e){return e instanceof Di?{value:e.clone(),recurse:!1}:hS(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class fS{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class mS extends fS{constructor(){super(mS.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let e=0;e<n;e++)t[e]=this.get(this.wrap(this.begin+e));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function gS(e){return new vS(e)}function yS(e,t){return new OS(e,t)}mS.INITIAL_CAPACITY=32;class bS{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new _S(this,e)}filter(e){return new SS(this,e)}map(e){return new ES(this,e)}mapAsync(e){return new IS(this,e)}serialMapAsync(e){return new IS(this,e).serial()}flatmap(e){return new NS(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e,t=!0){return new CS(this,e,t)}columnMajorBatch(e,t=!0,n=cS){return this.rowMajorBatch(e,t).map((e=>lS(e,n)))}concatenate(e,t){return new OS(new wS([this,e]),t)}take(e){return e<0||null==e?this:new kS(this,e)}skip(e){return e<0||null==e?this:new AS(this,e)}prefetch(e){return new DS(this,e)}shuffle(e,t){return new MS(this,e,t)}serial(){return new xS(this)}}class wS extends bS{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:dS(e),done:!1}}}class vS extends bS{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class xS extends bS{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class AS extends bS{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;Ao(e.value)}return this.upstream.next()}}class kS extends bS{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class CS extends bS{constructor(e,t,n=!0){super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class SS extends bS{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;Ao(e.value)}}}class ES extends bS{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=Ki(e.value),n=this.transform(e.value),s=Ki(n);for(const e of t)$i(e,s)||e.dispose();return{value:n,done:!1}}}class _S extends bS{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class IS extends bS{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=Ki(e.value),n=await this.transform(e.value),s=Ki(n);for(const e of t)$i(e,s)||e.dispose();return{value:n,done:!1}}}class TS extends bS{constructor(){super(),this.outputQueue=new mS,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class NS extends TS{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=Ki(e.value),n=this.transform(e.value),s=Ki(n);this.outputQueue.pushAll(n);for(const e of t)$i(e,s)||e.dispose();return!0}}class OS extends bS{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var RS;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(RS||(RS={}));class DS extends bS{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new fS(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class MS extends DS{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=qd.alea(n||pi().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class FS{constructor(){this.size=null}batch(e,t=!0){const n=this;let s;return Gt(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),s=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),BS((async()=>(await n.iterator()).columnMajorBatch(e,t,zS)),s)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,BS((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,BS((async()=>(await t.iterator()).filter((t=>xo((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return BS((async()=>(await t.iterator()).map((t=>xo((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return BS((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return BS((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,BS((async()=>yS(gS((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,BS((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t,n=!0){if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const s=this,r=qd.alea(t||pi().toString());return BS((async()=>{let t=r.int32();return n&&(t+=r.int32()),(await s.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,BS((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function BS(e,t=null){return new class extends FS{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function zS(e){if(null===e)return null;const t=e[0];if(null==(n=t)||null===(s=n)||"object"!=typeof s&&"function"!=typeof s||Array.isArray(n)||"object"==typeof n&&n instanceof Di||gi(n)){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof Di?Tp(e):go(e)}(e),recurse:!1}}var n,s;return{value:null,recurse:!0}}FS.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function LS(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&Gt("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}const PS=Xp;class VS extends zt{nextDataId(){return VS.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Bt(this,wo())}write(e,t,n){this.firstUse&&(this.firstUse=!1,Cn().get("IS_NODE")&&Va());const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:n,refCount:1}),s}makeTensorInfo(e,t,n){let s;if("string"===t&&null!=n&&n.length>0&&an(n[0])){const r=n.map((e=>fi(e)));s=this.write(r,e,t)}else s=this.write(n,e,t);return{dataId:s,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,s,r){this.data.set(e,{values:t,dtype:s,refCount:r})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return Xm(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>mi(e)));return Il(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Il(e.shape,e.dtype,t)}makeOutput(e,t,n){return wo().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=pi();e();return{kernelMs:pi()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){LS([e],"where");const t=this.readSync(e.dataId);return PS(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}VS.nextDataId=0;function WS(e){return(t,n,s)=>{const r=nn(n,t.length);for(let n=0;n<t.length;++n)r[n]=e(t[n],s);return r}}function US(e,t,n){return GS(e,WS(t),n)}function GS(e,t,n){return({inputs:s,attrs:r,backend:a})=>{const{x:i}=s;LS(i,e);const o=a,l=o.data.get(i.dataId).values;let u;if("string"===i.dtype){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=Tg(l)}else u=l;const c=n||i.dtype,h=t(u,c,r);return o.makeTensorInfo(i.shape,c,h)}}Co("cpu",(()=>new VS),1);const qS=US(_s,(e=>e>=0?e:Math.exp(e)-1)),jS={kernelName:_s,backendName:"cpu",kernelFunc:qS};function HS(e){const{inputs:t,backend:n}=e,{x:s}=t;return n.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const $S={kernelName:qs,backendName:"cpu",kernelFunc:HS};function KS(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{alpha:a}=s;LS([r],"leakyRelu");const i=Ht(r.shape),o=n.data.get(r.dataId).values,l=tn("float32",i);for(let e=0;e<o.length;e++)l[e]=o[e]<0?a*o[e]:o[e];return n.makeTensorInfo(r.shape,"float32",l)}const XS={kernelName:Zs,backendName:"cpu",kernelFunc:KS};function ZS(e){return(t,n,s,r,a)=>{const i=nu(t,n),o=i.length,l=hn(i),u=tn(a,Ht(i)),c=t.length,h=n.length,d=hn(t),p=hn(n),f=eu(t,i),m=eu(n,i);if(f.length+m.length===0)for(let t=0;t<u.length;++t)u[t]=e(s[t%s.length],r[t%r.length]);else for(let t=0;t<u.length;++t){const n=wn(t,o,l),a=n.slice(-c);f.forEach((e=>a[e]=0));const i=bn(a,c,d),g=n.slice(-h);m.forEach((e=>g[e]=0));const y=bn(g,h,p);u[t]=e(s[i],r[y])}return[u,i]}}const YS=ZS(((e,t)=>e<0?t*e:e));function QS(e){const{inputs:t,backend:n}=e,{x:s,alpha:r}=t;LS([s,r],"prelu");const a=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,[o,l]=YS(s.shape,r.shape,a,i,"float32");return n.makeTensorInfo(l,"float32",o)}const JS={kernelName:Or,backendName:"cpu",kernelFunc:QS},eE=US(Pr,(e=>Math.max(0,e))),tE={kernelName:Pr,backendName:"cpu",kernelFunc:eE},nE=US(jr,(e=>Math.min(Math.max(0,e),6))),sE={kernelName:jr,backendName:"cpu",kernelFunc:nE},rE=WS((e=>1/(1+Math.exp(-e)))),aE=US(ra,(e=>1/(1+Math.exp(-e)))),iE={kernelName:ra,backendName:"cpu",kernelFunc:aE};function oE(e,t,n,s,r){if("linear"===n)return HS({inputs:{x:t},backend:e});if("relu"===n)return eE({inputs:{x:t},backend:e});if("elu"===n)return qS({inputs:{x:t},backend:e});if("relu6"===n)return nE({inputs:{x:t},backend:e});if("prelu"===n)return QS({inputs:{x:t,alpha:s},backend:e});if("leakyrelu"===n)return KS({inputs:{x:t},backend:e,attrs:{alpha:r}});if("sigmoid"===n)return aE({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function lE(e){const{inputs:t,backend:n}=e,{real:s,imag:r}=t,a=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,o=n.makeTensorInfo(s.shape,"complex64");return n.data.get(o.dataId).complexTensorInfos={real:n.makeTensorInfo(s.shape,"float32",a),imag:n.makeTensorInfo(r.shape,"float32",i)},o}const uE={kernelName:ts,backendName:"cpu",kernelFunc:lE};function cE(e,t,n="float32"){if("complex64"===n){return lE({inputs:{real:cE(e,t,"float32"),imag:cE(e,t,"float32")},backend:e})}const s=mn(Ht(t),n);return e.makeTensorInfo(t,n,s)}function hE(e){const{inputs:t,backend:n}=e,{input:s}=t,r=n.data.get(s.dataId).complexTensorInfos.real,a=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,a)}const dE={kernelName:zr,backendName:"cpu",kernelFunc:hE};function pE(e,t,n,s){if("int32"===s){return[t,"int32",Int32Array.from(e)]}if("bool"===s){const s=di([0],n),[r,a]=ZS(((e,t)=>e!==t?1:0))(t,[],e,s,"bool");return[a,"bool",r]}throw new Error(`Error in Cast: failed to cast ${n} to ${s}`)}function fE(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{dtype:a}=s;if("complex64"===a){if("complex64"===r.dtype)return HS({inputs:{x:r},backend:n});const e=cE(n,r.shape,r.dtype),t=fE({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),s=lE({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),s}if("complex64"===r.dtype){const e=hE({inputs:{input:r},backend:n}),t=fE({inputs:{x:e},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(e),t}if(!sn(r.dtype,a)){const e=HS({inputs:{x:r},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:a}}const i=n.data.get(r.dataId).values,[o,l,u]=pE(i,r.shape,r.dtype,a);return n.makeTensorInfo(o,l,u)}const mE={kernelName:Qn,backendName:"cpu",kernelFunc:fE};function gE(e,t,n,s){return null==n?({inputs:n,backend:r})=>{const{a,b:i}=n,o=r;LS([a,i],e);const l=o.data.get(a.dataId).values,u=o.data.get(i.dataId).values,c="string"===a.dtype?Tg(l):l,h="string"===a.dtype?Tg(u):u,d=s||a.dtype,[p,f]=t(a.shape,i.shape,c,h,d);return o.makeTensorInfo(f,d,p)}:({inputs:e,backend:r})=>{const{a,b:i}=e,o=r;if("complex64"===a.dtype||"complex64"===i.dtype){const e=fE({inputs:{x:a},backend:o,attrs:{dtype:"complex64"}}),t=o.data.get(e.dataId),s=t.complexTensorInfos.real,r=t.complexTensorInfos.imag,l=o.data.get(s.dataId).values,u=o.data.get(r.dataId).values,c=fE({inputs:{x:i},backend:o,attrs:{dtype:"complex64"}}),h=o.data.get(c.dataId),d=h.complexTensorInfos.real,p=h.complexTensorInfos.imag,f=o.data.get(d.dataId).values,m=o.data.get(p.dataId).values,[g,y,b]=n(a.shape,i.shape,l,u,f,m),w=o.makeTensorInfo(b,"float32",g),v=o.makeTensorInfo(b,"float32",y),x=lE({inputs:{real:w,imag:v},backend:o});return o.disposeIntermediateTensorInfo(e),o.disposeIntermediateTensorInfo(c),o.disposeIntermediateTensorInfo(w),o.disposeIntermediateTensorInfo(v),x}{const e=o.data.get(a.dataId).values,n=o.data.get(i.dataId).values,r=s||a.dtype,[l,u]=t(a.shape,i.shape,e,n,r);return o.makeTensorInfo(u,r,l)}}}function yE(e){return(t,n,s,r,a,i)=>{const o=nu(t,n),l=Ht(o),u=o.length,c=hn(o),h=tn("float32",l),d=tn("float32",l),p=eu(t,o),f=eu(n,o),m=Xm(s,r),g=Xm(a,i),y=t.length,b=hn(t),w=n.length,v=hn(n);if(p.length+f.length===0)for(let t=0;t<h.length;t++){const n=t%m.length,s=t%g.length,r=e(m[2*n],m[2*n+1],g[2*s],g[2*s+1]);h[t]=r.real,d[t]=r.imag}else for(let t=0;t<h.length;t++){const n=wn(t,u,c),s=n.slice(-y);p.forEach((e=>s[e]=0));const r=bn(s,y,b),a=n.slice(-w);f.forEach((e=>a[e]=0));const i=bn(a,w,v),o=e(m[2*r],m[2*r+1],g[2*i],g[2*i+1]);h[t]=o.real,d[t]=o.imag}return[h,d,o]}}const bE=ZS(((e,t)=>e+t)),wE=yE(((e,t,n,s)=>({real:e+n,imag:t+s}))),vE=gE(Rn,bE,wE),xE={kernelName:Rn,backendName:"cpu",kernelFunc:vE};function AE(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{shape:a}=s,i=Ht(r.shape),o=Qt(a,i),l=Ht(o);Gt(i===l,(()=>`The new shape (${o}) has ${l} elements and the old shape (${r.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(r.dataId);const u=n.data.get(r.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=o,t.shape=o}return{dataId:r.dataId,shape:o,dtype:r.dtype}}const kE={kernelName:Vr,backendName:"cpu",kernelFunc:AE};function CE(e){const{inputs:t,backend:n,attrs:s}=e,{a:r,b:a}=t,{transposeA:i,transposeB:o}=s;LS([r,a],"matMul");const l=r.shape.length,u=a.shape.length,c=i?r.shape[l-2]:r.shape[l-1],h=o?a.shape[u-1]:a.shape[u-2],d=i?r.shape[l-1]:r.shape[l-2],p=o?a.shape[u-2]:a.shape[u-1],f=r.shape.slice(0,-2),m=a.shape.slice(0,-2),g=Ht(f),y=Ht(m),b=nu(r.shape.slice(0,-2),a.shape.slice(0,-2)).concat([d,p]);Gt(c===h,(()=>`Error in matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${r.shape} and ${a.shape} and transposeA=${i} and transposeB=${o} must match.`));const w=o?[y,p,h]:[y,h,p],v=AE({inputs:{x:r},backend:n,attrs:{shape:i?[g,c,d]:[g,d,c]}}),x=AE({inputs:{x:a},backend:n,attrs:{shape:w}}),A=i?v.shape[1]:v.shape[2],k=i?v.shape[2]:v.shape[1],C=o?x.shape[1]:x.shape[2],S=Math.max(g,y),E=n.data.get(v.dataId).values,_=n.data.get(x.dataId).values,I=hn(v.shape),T=hn(x.shape),[N,O,R]=i?[I[0],1,I[1]]:[I[0],I[1],1],[D,M,F]=o?[1,T[1],T[0]]:[T[1],1,T[0]],B=k*C,z=Il([S,k,C],v.dtype),L=z.values,P=n.blockSize;for(let e=0;e<S;e++){const t=e%g,n=e%y;for(let s=0;s<k;s+=P){const r=Math.min(s+P,k);for(let a=0;a<C;a+=P){const i=Math.min(a+P,C);for(let o=0;o<A;o+=P){const l=Math.min(o+P,A);for(let u=s;u<r;u++)for(let s=a;s<i;s++){let r=0;for(let e=o;e<l;e++){r+=E[t*N+u*O+e*R]*_[e*D+s*M+n*F]}L[e*B+(u*C+s)]+=r}}}}}return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(x),n.makeTensorInfo(b,z.dtype,z.values)}const SE={kernelName:$n,backendName:"cpu",kernelFunc:CE};const EE={kernelName:za,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{a:r,b:a,bias:i,preluActivationWeights:o}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:h}=s;let d,p,f;const m=[];d=CE({inputs:{a:r,b:a},attrs:{transposeA:l,transposeB:u},backend:n}),i&&(p=vE({inputs:{a:d,b:i},backend:n}),m.push(d),d=p),c&&(f=oE(n,d,c,o,h),m.push(d),d=f);for(const e of m)n.disposeIntermediateTensorInfo(e);return d}};function _E(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const IE={kernelName:Tn,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;LS(t,"abs");let s=new Float32Array(Ht(t.shape));return s=_E(n.data.get(t.dataId).values),n.makeOutput(s,t.shape,t.dtype)}},TE=US(Nn,(e=>Math.acos(e))),NE={kernelName:Nn,backendName:"cpu",kernelFunc:TE},OE=US(On,(e=>Math.acosh(e))),RE={kernelName:On,backendName:"cpu",kernelFunc:OE};const DE={kernelName:Dn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,s=t;LS(t,"addN");const r=s.map((e=>n.data.get(e.dataId).values)),a=Il(s[0].shape,s[0].dtype),i=a.values;for(let e=0;e<s.length;e++){const t=r[e];for(let e=0;e<i.length;e++)i[e]+=t[e]}return n.makeTensorInfo(a.shape,a.dtype,a.values)}};function ME(e,t,n,s,r){const a=t.length,i=Ht(t),o=hn(t),l=hn(r),u=tn(n,Ht(r));for(let t=0;t<i;++t){const n=wn(t,a,o),r=new Array(n.length);for(let e=0;e<r.length;e++)r[e]=n[s[e]];u[bn(r,a,l)]=e[t]}return u}function FE(e){const{inputs:t,attrs:n,backend:s}=e,{x:r}=t,{perm:a}=n;LS(r,"transpose");const i=r.shape.length,o=new Array(i);for(let e=0;e<o.length;e++)o[e]=r.shape[a[e]];const l=ME(s.data.get(r.dataId).values,r.shape,r.dtype,a,o);return{dataId:s.write(l,o,r.dtype),shape:o,dtype:r.dtype}}const BE={kernelName:Ta,backendName:"cpu",kernelFunc:FE};const zE={kernelName:Mn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s;LS(r,"all");const o=Jt(a,r.shape);let l=o;const u=_h(l,r.shape.length);let c=r;null!=u&&(c=FE({inputs:{x:r},backend:n,attrs:{perm:u}}),l=Th(l.length,r.shape.length)),Eh("all",l,c.shape.length);const[h,d]=Ch(c.shape,l),p=Ht(d),f=mn(Ht(h),c.dtype),m=n.data.get(c.dataId).values;for(let e=0;e<f.length;++e){const t=e*p;let n=m[t];for(let e=0;e<p;++e){const s=m[t+e];n=n&&s}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(h,c.dtype,f);if(i){const e=AE({inputs:{x:g},backend:n,attrs:{shape:Sh(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const LE={kernelName:Fn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s;LS(r,"any");const o=Jt(a,r.shape);let l=o;const u=_h(l,r.shape.length);let c=r;null!=u&&(c=FE({inputs:{x:r},backend:n,attrs:{perm:u}}),l=Th(l.length,r.shape.length)),Eh("any",l,c.shape.length);const[h,d]=Ch(c.shape,l),p=Ht(d),f=mn(Ht(h),c.dtype),m=n.data.get(c.dataId).values;for(let e=0;e<f.length;++e){const t=e*p;let n=m[t];for(let e=0;e<p;++e){const s=m[t+e];n=n||s}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(h,c.dtype,f);if(i){const e=AE({inputs:{x:g},backend:n,attrs:{shape:Sh(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const PE={kernelName:Bn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a}=s;LS(r,"argMax");let i=Jt(a,r.shape);const o=_h(i,r.shape.length);let l=r;const u=[];null!=o&&(l=FE({inputs:{x:r},backend:n,attrs:{perm:o}}),u.push(l),i=Th(i.length,l.shape.length)),i=[i[0]],Eh("argMax",i,l.shape.length);const[c,h]=Ch(l.shape,i),d=mn(Ht(c),"int32"),p=Ht(h),f=n.data.get(l.dataId).values;for(let e=0;e<d.length;++e){const t=e*p;let n=f[t],s=0;for(let e=0;e<p;++e){const r=f[t+e];r>n&&(n=r,s=e)}d[e]=s}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",d)}};const VE={kernelName:zn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a}=s;LS(r,"argMin");let i=Jt(a,r.shape);const o=_h(i,r.shape.length);let l=r;const u=[];null!=o&&(l=FE({inputs:{x:r},backend:n,attrs:{perm:o}}),u.push(l),i=Th(i.length,l.shape.length)),i=[i[0]],Eh("argMin",i,l.shape.length);const[c,h]=Ch(l.shape,i),d=mn(Ht(c),"int32"),p=Ht(h),f=n.data.get(l.dataId).values;for(let e=0;e<d.length;++e){const t=e*p;let n=f[t],s=0;for(let e=0;e<p;++e){const r=f[t+e];r<n&&(n=r,s=e)}d[e]=s}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",d)}},WE=US(Ln,(e=>Math.asin(e))),UE={kernelName:Ln,backendName:"cpu",kernelFunc:WE},GE=US(Pn,(e=>Math.asinh(e))),qE={kernelName:Pn,backendName:"cpu",kernelFunc:GE},jE=US(Vn,(e=>Math.atan(e))),HE={kernelName:Vn,backendName:"cpu",kernelFunc:jE},$E=ZS(((e,t)=>Math.atan2(e,t))),KE=gE(Un,$E),XE={kernelName:Un,backendName:"cpu",kernelFunc:KE},ZE=US(Wn,(e=>Math.atanh(e))),YE={kernelName:Wn,backendName:"cpu",kernelFunc:ZE};function QE(e,t,n,s,r,a){const i=r.strideHeight,o=r.strideWidth,l=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,h=r.effectiveFilterWidth,d=r.padInfo.top,p=r.padInfo.left,f="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Il(r.outShape,n),g=m.values,y=r.outShape[1]*r.outShape[2]*r.outShape[3],b=r.outShape[2]*r.outShape[3],w=r.outShape[3];for(let t=0;t<r.batchSize;++t){const n=t*y,m=t*s[0];for(let t=0;t<r.inChannels;++t)for(let y=0;y<r.outHeight;++y){const v=y*i-d,x=Math.max(0,v),A=Math.min(r.inHeight,c+v),k=n+y*b;for(let n=0;n<r.outWidth;++n){const i=n*o-p,c=Math.max(0,i),d=Math.min(r.inWidth,h+i);let y=f,b=0,v=0;for(let n=x;n<A;n+=l){const r=m+n*s[1];for(let n=c;n<d;n+=u){const i=e[r+n*s[2]+t];"max"===a&&i>y?y=i:"avg"===a&&(b+=i,v++)}if(isNaN(y))break}g[k+n*w+t]="avg"===a?b/v:y}}}return m}function JE(e,t,n,s,r=!1,a=!1){const i=Il(s.outShape,"int32"),o=s.strideHeight,l=s.strideWidth,u=s.dilationHeight,c=s.dilationWidth,h=s.effectiveFilterHeight,d=s.effectiveFilterWidth,p=s.padInfo.top,f=s.padInfo.left,m=Il(t,n,e);for(let e=0;e<s.batchSize;++e)for(let t=0;t<s.inChannels;++t)for(let n=0;n<s.outHeight;++n){const g=n*o-p;let y=g;for(;y<0;)y+=u;const b=Math.min(s.inHeight,h+g);for(let o=0;o<s.outWidth;++o){const h=o*l-f;let p=h;for(;p<0;)p+=c;const w=Math.min(s.inWidth,d+h);let v=Number.NEGATIVE_INFINITY,x=-1;for(let n=y;n<b;n+=u){const i=n-g;for(let o=p;o<w;o+=c){const l=o-h,u=m.get(e,n,o,t);u>v&&(v=u,x=r?a?((e*s.inHeight+n)*s.inWidth+o)*s.inChannels+t:(n*s.inWidth+o)*s.inChannels+t:i*d+l)}}i.set(x,e,n,o,t)}}return i}function e_(e,t,n,s,r,a){const i=r.strideDepth,o=r.strideHeight,l=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,h=r.dilationWidth,d=r.effectiveFilterDepth,p=r.effectiveFilterHeight,f=r.effectiveFilterWidth,m=r.padInfo.front,g=r.padInfo.top,y=r.padInfo.left,b="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=Il(r.outShape,n),v=w.values,x=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],A=r.outShape[2]*r.outShape[3]*r.outShape[4],k=r.outShape[3]*r.outShape[4],C=r.outShape[4];for(let t=0;t<r.batchSize;++t){const n=t*x,w=t*s[0];for(let t=0;t<r.inChannels;++t)for(let x=0;x<r.outDepth;++x){const S=x*i-m;let E=S;for(;E<0;)E+=u;const _=Math.min(r.inDepth,d+S),I=n+x*A;for(let n=0;n<r.outHeight;++n){const i=n*o-g;let d=i;for(;d<0;)d+=c;const m=Math.min(r.inHeight,p+i),x=I+n*k;for(let n=0;n<r.outWidth;++n){const i=n*l-y;let o=i;for(;o<0;)o+=h;const p=Math.min(r.inWidth,f+i),g=x+n*C;let A=b,k=0,S=0;for(let n=E;n<_;n+=u){const r=w+n*s[1];for(let n=d;n<m;n+=c){const i=r+n*s[2];for(let n=o;n<p;n+=h){const r=e[i+n*s[3]+t];if("max"===a&&r>A?A=r:"avg"===a&&(k+=r,S++),isNaN(A))break}if(isNaN(A))break}if(isNaN(A))break}v[g+t]="avg"===a?k/Math.max(S,1):A}}}}return w}const t_={kernelName:Gn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t;LS(r,"avgPool");const{filterSize:a,strides:i,pad:o,dimRoundingMode:l}=s;Gt(Cc(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=fc(r.shape,a,i,1,o,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&$t(u.inShape,u.outShape))c=HS({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=hn(r.shape),s=QE(e,r.shape,r.dtype,t,u,"avg");c=n.makeTensorInfo(u.outShape,r.dtype,s.values)}return c}};const n_={kernelName:jn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{filterSize:a,strides:i,pad:o,dimRoundingMode:l,dataFormat:u}=s;LS(r,"avgPool3d");const c=mc(r.shape,a,i,1,o,l,u),h=e_(n.data.get(r.dataId).values,r.shape,r.dtype,hn(r.shape),c,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}};const s_={kernelName:Hn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,input:a}=t,{filterSize:i,strides:o,pad:l,dimRoundingMode:u}=s;LS([r,a],"avgPool3DGrad");const c=mc(a.shape,i,o,1,l,u),h=c.strideDepth,d=c.strideHeight,p=c.strideWidth,f=c.filterDepth,m=c.filterHeight,g=c.filterWidth,y=c.dilationDepth,b=c.dilationHeight,w=c.dilationWidth,v=c.effectiveFilterDepth,x=c.effectiveFilterHeight,A=c.effectiveFilterWidth,k=v-1-c.padInfo.front,C=A-1-c.padInfo.left,S=x-1-c.padInfo.top,E=Il(a.shape,"float32"),_=1/(f*m*g),I=n.bufferSync(r);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inDepth;++n)for(let s=0;s<c.inHeight;++s)for(let r=0;r<c.inWidth;++r){const a=n-k,i=s-S,o=r-C;let l=0;for(let n=0;n<v;n+=y){const s=(a+n)/h;if(!(s<0||s>=c.outDepth||Math.floor(s)!==s))for(let n=0;n<x;n+=b){const r=(i+n)/d;if(!(r<0||r>=c.outHeight||Math.floor(r)!==r))for(let n=0;n<A;n+=w){const a=(o+n)/p;if(a<0||a>=c.outWidth||Math.floor(a)!==a)continue;l+=I.get(e,s,r,a,t)}}}E.set(l*_,e,n,s,r,t)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};const r_={kernelName:qn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,input:a}=t,i=a;LS([r,a],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=s,c=fc(i.shape,o,l,1,u),h=c.strideHeight,d=c.strideWidth,p=c.filterHeight,f=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,y=c.effectiveFilterHeight,b=c.effectiveFilterWidth,w=b-1-c.padInfo.left,v=y-1-c.padInfo.top,x=Il(i.shape,"float32"),A=1/(p*f),k=n.data.get(r.dataId).values,C=Il(r.shape,"float32",k);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inHeight;++n)for(let s=0;s<c.inWidth;++s){const r=n-v,a=s-w;let i=0;for(let n=0;n<y;n+=m){const s=(r+n)/h;if(!(s<0||s>=c.outHeight||Math.floor(s)!==s))for(let n=0;n<b;n+=g){const r=(a+n)/d;if(r<0||r>=c.outWidth||Math.floor(r)!==r)continue;i+=C.get(e,s,r,t)}}x.set(i*A,e,n,s,t)}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const a_={kernelName:Ps,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,scale:a,offset:i,mean:o,variance:l}=t;Gt(o.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Gt(null==i||o.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Gt(null==a||o.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),LS([r,o,l,a,i],"batchNorm");let{varianceEpsilon:u}=s;null==u&&(u=.001);const c=n.data.get(r.dataId).values,h=n.data.get(o.dataId).values,d=n.data.get(l.dataId).values,p=a?n.data.get(a.dataId).values:new Float32Array([1]),f=i?n.data.get(i.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=f.length,y=p.length,b=d.length,w=h.length;let v=0,x=0,A=0,k=0;for(let e=0;e<c.length;++e)m[e]=f[v++]+(c[e]-h[x++])*p[A++]/Math.sqrt(d[k++]+u),v>=g&&(v=0),x>=w&&(x=0),A>=y&&(A=0),k>=b&&(k=0);return n.makeTensorInfo(r.shape,r.dtype,m)}};function i_(e,t,n,s,r){const a=Zu(s,t,n),i=Ht(n),o=hn(s);if(a){const n=Yu(t,o);return"string"===r?e.slice(n,n+i):e.subarray(n,n+i)}const l=Il(s,r,"string"===r?Tg(e):e),u=Il(n,r);for(let e=0;e<u.size;++e){const n=u.indexToLoc(e),s=n.map(((e,n)=>e+t[n]));u.set(l.get(...s),...n)}return"string"===r?Ng(u.values):u.values}function o_(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{begin:a,size:i}=s;LS(r,"slice");const[o,l]=Qu(r,a,i);Lu(r,o,l);const u=i_(n.data.get(r.dataId).values,o,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,u)}const l_={kernelName:ea,backendName:"cpu",kernelFunc:o_};const u_={kernelName:Kn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{blockShape:a,crops:i}=s;LS([r],"batchToSpaceND");const o=a.reduce(((e,t)=>e*t)),l=Fm(r.shape,a,o),u=Bm(l.length,a.length),c=zm(r.shape,a,o),h=Lm(i,a.length),d=Pm(c,i,a.length),p=AE({inputs:{x:r},backend:n,attrs:{shape:l}}),f=FE({inputs:{x:p},backend:n,attrs:{perm:u}}),m=AE({inputs:{x:f},backend:n,attrs:{shape:c}}),g=o_({inputs:{x:m},backend:n,attrs:{begin:h,size:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function c_(e,t,n,s,r){const a=Ht(s),i=mn(r,n);for(let n=0;n<e.length;n++){const s=e[n];if(s<0)throw new Error("Input x must be non-negative!");s>=r||(i[s]+=a>0?t[n]:1)}return i}function h_(e,t,n,s=!1){const r=e.shape[0],a=e.shape[1],i=Il([r,n],t.dtype);for(let o=0;o<r;o++)for(let r=0;r<a;r++){const a=e.get(o,r);if(a<0)throw new Error("Input x must be non-negative!");a>=n||(s?i.set(1,o,a):t.size>0?i.set(i.get(o,a)+t.get(o,r),o,a):i.set(i.get(o,a)+1,o,a))}return i}const d_={kernelName:Xn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,weights:a}=t,{size:i}=s,o=c_(n.data.get(r.dataId).values,n.data.get(a.dataId).values,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,o)}},p_=ZS(((e,t)=>e&t)),f_=gE(Zn,p_),m_={kernelName:Zn,backendName:"cpu",kernelFunc:f_};const g_={kernelName:Yn,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:s,s1:r}=t,a=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,o=nu(Array.from(a),Array.from(i));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},y_=WS((e=>Math.ceil(e))),b_=GS(Jn,y_),w_={kernelName:Jn,backendName:"cpu",kernelFunc:b_},v_=US(es,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),x_={kernelName:es,backendName:"cpu",kernelFunc:v_},A_={kernelName:ns,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,s=new Float32Array(Ht(t.shape)),r=n.data.get(t.dataId),a=r.complexTensorInfos.real,i=r.complexTensorInfos.imag,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values;for(let e=0;e<o.length;e++){const t=o[e],n=l[e];s[e]=Math.hypot(t,n)}return n.makeOutput(s,t.shape,"float32")}};function k_(e,t,n,s){const r=nn(n,Ht(t));if(s&&"string"!==n){let t=0;e.forEach((e=>{const n=Ht(e.shape);r.set(e.vals,t),t+=n}))}else{let s=0;e.forEach((e=>{const a="string"===n?Tg(e.vals):e.vals;let i=0;for(let n=0;n<e.shape[0];++n){const o=n*t[1]+s;for(let t=0;t<e.shape[1];++t)r[o+t]=a[i++]}s+=e.shape[1]}))}return r}function C_(e){const{inputs:t,backend:n}=e,{input:s}=t,r=n.data.get(s.dataId).complexTensorInfos.imag,a=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,a)}const S_={kernelName:Hs,backendName:"cpu",kernelFunc:C_};function E_(e){const{inputs:t,backend:n,attrs:s}=e,{axis:r}=s,a=Jt(r,t[0].shape)[0];Sm(t.map((e=>e.shape)),a);let i=Em(t.map((e=>e.shape)),a);if(0===Ht(i))return n.makeTensorInfo(i,t[0].dtype,[]);const o=t.filter((e=>Ht(e.shape)>0));if(1===o.length)return HS({inputs:{x:o[0]},backend:n});if("complex64"===o[0].dtype){const e=o.map((e=>hE({inputs:{input:e},backend:n}))),t=o.map((e=>C_({inputs:{input:e},backend:n}))),s=E_({inputs:e,backend:n,attrs:{axis:a}}),r=E_({inputs:t,backend:n,attrs:{axis:a}}),i=lE({inputs:{real:s,imag:r},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(r),i}const l=o.map((e=>{const t=Ht(e.shape.slice(a));return AE({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),u=l.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));i=Em(l.map((e=>e.shape)),1);const c=1===l[0].shape[0],h=k_(u,i,t[0].dtype,c),d=Em(o.map((e=>e.shape)),a),p=n.makeTensorInfo(d,t[0].dtype,h);return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const __={kernelName:ss,backendName:"cpu",kernelFunc:E_};function I_(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a}=t,{strides:i,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=s;LS([r,a],"conv2d");const h=Ec(l),d=gc(r.shape,a.shape,i,u,o,c,!1,h),p=d.filterHeight,f=d.filterWidth,m=d.dilationHeight,g=d.dilationWidth,y=d.padInfo.left,b=d.padInfo.top,w="channelsLast"===d.dataFormat,v=new Ti(d.outShape,r.dtype),x=hn(r.shape),A=hn(a.shape),k=x[0],C=w?x[1]:x[2],S=w?x[2]:1,E=w?1:x[1],_=v.strides[0],I=w?v.strides[1]:v.strides[2],T=w?v.strides[2]:1,N=w?1:v.strides[1],O=n.data.get(r.dataId).values,R=n.data.get(a.dataId).values,D=v.values;for(let e=0;e<d.batchSize;++e){const t=e*k,n=e*_;for(let e=0;e<d.outHeight;++e){const s=n+e*I,r=e*d.strideHeight-b;for(let e=0;e<p;++e){const n=r+e*m;if(n<0||n>=d.inHeight)continue;const a=e*A[0],i=t+n*C;for(let e=0;e<d.outWidth;++e){const t=s+e*T,n=e*d.strideWidth-y;for(let e=0;e<f;++e){const s=n+e*g;if(s<0||s>=d.inWidth)continue;const r=i+s*S;let o=a+e*A[1];for(let e=0;e<d.inChannels;++e){const n=O[r+e*E];for(let e=0;e<d.outChannels;++e)D[t+e*N]+=n*R[o+e];o+=d.outChannels}}}}}}return n.makeTensorInfo(v.shape,v.dtype,D)}const T_={kernelName:rs,backendName:"cpu",kernelFunc:I_};const N_={kernelName:as,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,dy:a}=t,{strides:i,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=s;LS([r,a],"conv2dBackpropFilter");const h=Ec(l),d=gc(r.shape,c,i,1,o,u,!1,h),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:g}=d,y="channelsLast"===d.dataFormat,b=new Ti(d.filterShape,"float32"),w=d.padInfo.left,v=d.padInfo.top,x=n.data.get(r.dataId).values,A=n.data.get(a.dataId).values,k=new Ti(r.shape,r.dtype,x),C=new Ti(a.shape,a.dtype,A);for(let e=0;e<m;++e){const t=Math.max(0,Math.ceil((v-e)/p)),n=Math.min(d.outHeight,(d.inHeight+v-e)/p);for(let s=0;s<g;++s){const r=Math.max(0,Math.ceil((w-s)/f)),a=Math.min(d.outWidth,(d.inWidth+w-s)/f);for(let i=0;i<d.inChannels;++i)for(let o=0;o<d.outChannels;++o){let l=0;for(let u=0;u<d.batchSize;++u)for(let c=t;c<n;++c){const t=e+c*p-v;for(let e=r;e<a;++e){const n=s+e*f-w;l+=y?k.get(u,t,n,i)*C.get(u,c,e,o):k.get(u,i,t,n)*C.get(u,o,c,e)}}b.set(l,e,s,i,o)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const O_={kernelName:is,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,filter:a}=t,{inputShape:i,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=s;LS([r,a],"conv2dBackpropInput");const h=hn(a.shape),d=hn(r.shape);let p=Ec(u);const f=gc(i,a.shape,o,1,l,c,!1,p),m=new Ti(f.inShape,"float32"),g=m.values,y=n.data.get(r.dataId).values,b=n.data.get(a.dataId).values,[w,v,x]=h,{batchSize:A,filterHeight:k,filterWidth:C,inChannels:S,inHeight:E,inWidth:_,outChannels:I,outHeight:T,outWidth:N,strideHeight:O,strideWidth:R}=f;p=f.dataFormat;const D=k-1-f.padInfo.top,M=C-1-f.padInfo.left,F="channelsLast"===p,B=m.strides[0],z=F?m.strides[1]:m.strides[2],L=F?m.strides[2]:1,P=F?1:m.strides[1],V=d[0],W=F?d[1]:d[2],U=F?d[2]:1,G=F?1:d[1];for(let e=0;e<A;++e)for(let t=0;t<S;++t)for(let n=0;n<E;++n){const s=n-D,r=Math.max(0,Math.ceil(s/O)),a=Math.min(T,(k+s)/O);for(let i=0;i<_;++i){const o=i-M,l=Math.max(0,Math.ceil(o/R)),u=Math.min(N,(C+o)/R);let c=0;for(let n=r;n<a;++n){const r=n*O-s;for(let s=l;s<u;++s){const a=V*e+W*n+U*s,i=w*(k-1-r)+v*(C-1-(s*R-o))+x*t;for(let e=0;e<I;++e){c+=y[a+G*e]*b[i+e]}}}g[B*e+z*n+L*i+P*t]=c}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const R_={kernelName:os,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a}=t,{strides:i,pad:o,dilations:l}=s;LS([r,a],"conv3d");const u=yc(r.shape,a.shape,i,l,o),{filterDepth:c,filterHeight:h,filterWidth:d,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:g}=u,y=g.front,b=g.left,w=g.top,v=new Ti(u.outShape,r.dtype),x=n.data.get(r.dataId).values,A=n.data.get(a.dataId).values,k=v.values,C=hn(r.shape),S=hn(a.shape);for(let e=0;e<u.batchSize;++e){const t=e*C[0],n=e*v.strides[0];for(let e=0;e<u.outDepth;++e){const s=n+e*v.strides[1],r=e*u.strideDepth-y;for(let e=0;e<c;++e){const n=r+e*p;if(n<0||n>=u.inDepth)continue;const a=e*S[0],i=t+n*C[1];for(let e=0;e<u.outHeight;++e){const t=s+e*v.strides[2],n=e*u.strideHeight-w;for(let e=0;e<h;++e){const s=n+e*f;if(s<0||s>=u.inHeight)continue;const r=a+e*S[1],o=i+s*C[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,s=e*u.strideWidth-b;for(let e=0;e<d;++e){const t=s+e*m;if(t<0||t>=u.inWidth)continue;const a=r+e*S[2],i=o+t*u.inChannels;let l=a;for(let e=0;e<u.inChannels;++e){const t=x[i+e];for(let e=0;e<u.outChannels;++e)k[n+e]+=t*A[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const D_={kernelName:ls,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,dy:a}=t,{strides:i,pad:o,filterShape:l}=s;LS([r,a],"conv3dBackpropFilterV2");const u=hn(r.shape),c=hn(a.shape),h=yc(r.shape,l,i,1,o),d=h.strideDepth,p=h.strideHeight,f=h.strideWidth,m=h.filterDepth,g=h.filterHeight,y=h.filterWidth,b=new Ti(h.filterShape,"float32"),w=b.values,[v,x,A,k]=b.strides,C=n.data.get(a.dataId).values,[S,E,_,I]=c,T=n.data.get(r.dataId).values,[N,O,R,D]=u,M=h.padInfo.front,F=h.padInfo.left,B=h.padInfo.top;for(let e=0;e<m;++e){const t=Math.max(0,Math.ceil((M-e)/d)),n=Math.min(h.outDepth,(h.inDepth+M-e)/d),s=e*v;for(let r=0;r<g;++r){const a=Math.max(0,Math.ceil((B-r)/p)),i=Math.min(h.outHeight,(h.inHeight+B-r)/p),o=r*x+s;for(let s=0;s<y;++s){const l=Math.max(0,Math.ceil((F-s)/f)),u=Math.min(h.outWidth,(h.inWidth+F-s)/f),c=s*A+o;for(let o=0;o<h.inChannels;++o){const m=o*k+c;for(let c=0;c<h.outChannels;++c){let g=0;for(let m=0;m<h.batchSize;++m){const h=m*N,y=m*S;for(let m=t;m<n;++m){const t=(e+m*d-M)*O+h,n=m*E+y;for(let e=a;e<i;++e){const a=(r+e*p-B)*R+t,i=e*_+n;for(let e=l;e<u;++e){const t=e*I+i;g+=T[(s+e*f-F)*D+a+o]*C[t+c]}}}}w[m+c]=g}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const M_={kernelName:us,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,filter:a}=t,{pad:i,strides:o,inputShape:l}=s;LS([r],"conv3dBackpropInputV2");const u=hn(r.shape),c=hn(a.shape),h=yc(l,a.shape,o,1,i),d=new Ti(h.inShape,"float32"),p=d.values,[f,m,g,y]=d.strides,b=n.data.get(r.dataId).values,[w,v,x,A]=u,k=n.data.get(a.dataId).values,[C,S,E,_]=c,{batchSize:I,filterDepth:T,filterHeight:N,filterWidth:O,inChannels:R,inDepth:D,inHeight:M,inWidth:F,outChannels:B,outDepth:z,outHeight:L,outWidth:P,strideDepth:V,strideHeight:W,strideWidth:U}=h,G=T-1-h.padInfo.front,q=N-1-h.padInfo.top,j=O-1-h.padInfo.left;for(let e=0;e<I;++e)for(let t=0;t<R;++t)for(let n=0;n<D;++n){const s=n-G,r=Math.max(0,Math.ceil(s/V)),a=Math.min(z,(T+s)/V);for(let i=0;i<M;++i){const o=i-q,l=Math.max(0,Math.ceil(o/W)),u=Math.min(L,(N+o)/W);for(let c=0;c<F;++c){const h=c-j,d=Math.max(0,Math.ceil(h/U)),I=Math.min(P,(O+h)/U);let R=0;for(let n=r;n<a;++n){const r=n*V-s;for(let s=l;s<u;++s){const a=s*W-o;for(let i=d;i<I;++i){const o=w*e+v*n+x*s+A*i,l=C*(T-1-r)+S*(N-1-a)+E*(O-1-(i*U-h))+_*t;for(let e=0;e<B;++e){R+=b[o+e]*k[l+e]}}}}p[f*e+m*n+g*i+y*c+t]=R}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}},F_=US(cs,(e=>Math.cos(e))),B_={kernelName:cs,backendName:"cpu",kernelFunc:F_},z_=US(hs,(e=>Math.cosh(e))),L_={kernelName:hs,backendName:"cpu",kernelFunc:z_};const P_={kernelName:fs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{image:r,boxes:a,boxInd:i}=t,{cropSize:o,method:l,extrapolationValue:u}=s,[c,h,d,p]=r.shape,f=a.shape[0],[m,g]=o,y=Il([f,m,g,p],"float32"),b=n.data.get(a.dataId).values,w=n.data.get(i.dataId).values,v=n.data.get(r.dataId).values,x=hn(r.shape),A=hn(y.shape);for(let e=0;e<f;e++){const t=4*e,n=b[t],s=b[t+1],r=b[t+2],a=b[t+3],i=w[e];if(i>=c)continue;const o=m>1?(r-n)*(h-1)/(m-1):0,f=g>1?(a-s)*(d-1)/(g-1):0;for(let t=0;t<m;t++){const c=m>1?n*(h-1)+t*o:.5*(n+r)*(h-1);if(c<0||c>h-1)for(let n=0;n<g;n++)for(let s=0;s<p;s++){const r=s+n*A[2]+t*A[1]+e*A[0];y.values[r]=u}else if("bilinear"===l){const n=Math.floor(c),r=Math.ceil(c),o=c-n;for(let l=0;l<g;l++){const c=g>1?s*(d-1)+l*f:.5*(s+a)*(d-1);if(c<0||c>d-1){for(let n=0;n<p;n++){const s=n+l*A[2]+t*A[1]+e*A[0];y.values[s]=u}continue}const h=Math.floor(c),m=Math.ceil(c),b=c-h;for(let s=0;s<p;s++){let a=s+h*x[2]+n*x[1]+i*x[0];const u=v[a];a=s+m*x[2]+n*x[1]+i*x[0];const c=v[a];a=s+h*x[2]+r*x[1]+i*x[0];const d=v[a];a=s+m*x[2]+r*x[1]+i*x[0];const p=u+(c-u)*b,f=d+(v[a]-d)*b;a=s+l*A[2]+t*A[1]+e*A[0],y.values[a]=p+(f-p)*o}}}else for(let n=0;n<g;++n){const r=g>1?s*(d-1)+n*f:.5*(s+a)*(d-1);if(r<0||r>d-1){for(let s=0;s<p;s++){const r=s+n*A[2]+t*A[1]+e*A[0];y.values[r]=u}continue}const o=Math.round(r),l=Math.round(c);for(let s=0;s<p;s++){const r=s+o*x[2]+l*x[1]+i*x[0],a=s+n*A[2]+t*A[1]+e*A[0];y.values[a]=v[r]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const V_={kernelName:ds,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,exclusive:i,reverse:o}=s;LS(r,"cumprod");const l=_h([a],r.shape.length);let u=r;null!=l&&(u=FE({inputs:{x:r},backend:n,attrs:{perm:l}}));const c=Th(1,r.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const h=Ui(u.dtype,"int32"),d=fn(Ht(u.shape),h),p=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=o?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<p.length;e+=f)for(let t=0;t<f;t++){const n=m(e,t);if(0===t)d[n]=i?1:p[n];else{const s=m(e,t-1);d[n]=i?p[s]*d[s]:p[n]*d[s]}}const g=n.makeTensorInfo(u.shape,h,d);if(null!=l){const e=FE({inputs:{x:g},backend:n,attrs:{perm:Ih(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const W_={kernelName:ps,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,exclusive:i,reverse:o}=s;LS(r,"cumsum");const l=_h([a],r.shape.length);let u=r;null!=l&&(u=FE({inputs:{x:r},backend:n,attrs:{perm:l}}));const c=Th(1,r.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const h=Ui(u.dtype,"int32"),d=mn(Ht(u.shape),h),p=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=o?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<p.length;e+=f)for(let t=0;t<f;t++){const n=m(e,t);if(0===t)d[n]=i?0:p[n];else{const s=m(e,t-1);d[n]=i?p[s]+d[s]:p[n]+d[s]}}const g=n.makeTensorInfo(u.shape,h,d);if(null!=l){const e=FE({inputs:{x:g},backend:n,attrs:{perm:Ih(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const U_={kernelName:ms,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,weights:a}=t,{size:i,binaryOutput:o}=s;if(1===r.shape.length){const e=c_(n.data.get(r.dataId).values,n.data.get(a.dataId).values,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,e)}if(2===r.shape.length){const e=h_(n.bufferSync(r),n.bufferSync(a),i,o);return n.makeTensorInfo(e.shape,a.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}};const G_={kernelName:gs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{blockSize:a,dataFormat:i}=s;Gt("NHWC"===i,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`));const o=r.shape[0],l=r.shape[1],u=r.shape[2],c=r.shape[3],h=l*a,d=u*a,p=c/(a*a),f=n.data.get(r.dataId).values,m=new Float32Array(o*h*d*p);let g=0;for(let e=0;e<o;++e)for(let t=0;t<h;++t){const n=Math.floor(t/a),s=t%a;for(let t=0;t<d;++t){const r=Math.floor(t/a),i=(s*a+t%a)*p;for(let t=0;t<p;++t){const s=t+i+c*(r+u*(n+l*e));m[g++]=f[s]}}}return n.makeTensorInfo([o,h,d,p],r.dtype,m)}};function q_(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a}=t,{strides:i,pad:o,dilations:l,dimRoundingMode:u}=s;LS([r,a],"depthwiseConv2DNative");const c=hn(r.shape),h=hn(a.shape);let d=l;null==d&&(d=[1,1]),Gt(Cc(i,d),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${d}'`));const p=gc(r.shape,a.shape,i,d,o,u,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:b}=p,w=b.left,v=b.top,x=p.outChannels/p.inChannels,A=new Ti(p.outShape,r.dtype),k=n.data.get(r.dataId).values,C=n.data.get(a.dataId).values,S=A.values;for(let e=0;e<p.batchSize;++e){const t=e*c[0],n=e*A.strides[0];for(let e=0;e<p.outHeight;++e){const s=n+e*A.strides[1],r=e*p.strideHeight-v;for(let e=0;e<f;++e){const n=r+e*g;if(n<0||n>=p.inHeight)continue;const a=e*h[0],i=t+n*c[1];for(let e=0;e<p.outWidth;++e){const t=s+e*A.strides[2],n=e*p.strideWidth-w;for(let e=0;e<m;++e){const s=n+e*y;if(s<0||s>=p.inWidth)continue;const r=a+e*h[1],o=i+s*p.inChannels;let l=t,u=r;for(let e=0;e<p.inChannels;++e){const t=k[o+e];for(let e=0;e<x;++e)S[l+e]+=t*C[u+e];l+=x,u+=x}}}}}}return n.makeTensorInfo(A.shape,A.dtype,A.values)}const j_={kernelName:ys,backendName:"cpu",kernelFunc:q_};const H_={kernelName:bs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,dy:a}=t,{strides:i,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=s;LS([r,a],"depthwiseConv2dNativeBackpropFilter");const h=gc(r.shape,c,i,o,l,u,!0),{strideHeight:d,strideWidth:p,filterHeight:f,filterWidth:m}=h,g=new Ti(h.filterShape,"float32"),y=h.padInfo.left,b=h.padInfo.top,w=h.outChannels/h.inChannels,v=n.data.get(r.dataId).values,x=new Ti(r.shape,r.dtype,v),A=n.data.get(a.dataId).values,k=new Ti(a.shape,a.dtype,A);for(let e=0;e<f;++e){const t=Math.max(0,Math.ceil((b-e)/d)),n=Math.min(h.outHeight,(h.inHeight+b-e)/d);for(let s=0;s<m;++s){const r=Math.max(0,Math.ceil((y-s)/p)),a=Math.min(h.outWidth,(h.inWidth+y-s)/p);for(let i=0;i<h.outChannels;++i){const o=Math.trunc(i/w),l=i%w;let u=0;for(let l=0;l<h.batchSize;++l)for(let c=t;c<n;++c){const t=e+c*d-b;for(let e=r;e<a;++e){const n=s+e*p-y;u+=x.get(l,t,n,o)*k.get(l,c,e,i)}}g.set(u,e,s,o,l)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const $_={kernelName:ws,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,filter:a}=t,{strides:i,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=s;LS([r,a],"depthwiseConv2DNativeBackpropInput");const h=hn(r.shape),d=hn(a.shape),p=gc(c,a.shape,i,o,l,u,!0),f=new Ti(p.inShape,"float32"),m=f.values,[g,y,b]=f.strides,w=n.data.get(r.dataId).values,[v,x,A]=h,k=n.data.get(a.dataId).values,[C,S,E]=d,{batchSize:_,filterHeight:I,filterWidth:T,inChannels:N,inHeight:O,inWidth:R,outChannels:D,outHeight:M,outWidth:F,strideHeight:B,strideWidth:z}=p,L=I-1-p.padInfo.top,P=T-1-p.padInfo.left,V=D/N;for(let e=0;e<_;++e)for(let t=0;t<N;++t)for(let n=0;n<O;++n){const s=n-L,r=Math.max(0,Math.ceil(s/B)),a=Math.min(M,(I+s)/B);for(let i=0;i<R;++i){const o=i-P,l=Math.max(0,Math.ceil(o/z)),u=Math.min(F,(T+o)/z);let c=0;for(let n=r;n<a;++n){const r=n*B-s;for(let s=l;s<u;++s){const a=v*e+x*n+A*s,i=C*(I-1-r)+S*(T-1-(s*z-o))+E*t;for(let e=0;e<V;++e){c+=w[a+(t*V+e)]*k[i+e]}}}m[g*e+y*n+b*i+t]=c}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const K_={kernelName:vs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t,r=Ht(s.shape),a=n.data.get(s.dataId).values,i=Il([r,r],s.dtype),o=i.values;for(let e=0;e<a.length;e++)o[e*r+e]=a[e];const l=[...s.shape,...s.shape];return n.makeTensorInfo(l,i.dtype,i.values)}},X_={kernelName:xs,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s,filter:r}=e,{strides:a,pad:i,dilations:o}=n,l=t,u=l.data.get(s.dataId).values,c=s.shape.length,h=l.data.get(r.dataId).values,d=r.shape.length,{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:b,padInfo:w,strideHeight:v,strideWidth:x,filterHeight:A,filterWidth:k,dilationHeight:C,dilationWidth:S,outShape:E}=pc(s.shape,r.shape,a,i,"NHWC",o),_=Ht(E),I=E.length,T=nn(s.dtype,_);for(let e=0;e<p;++e)for(let t=0;t<y;++t){const n=t*v-w.top;for(let a=0;a<b;++a){const i=a*x-w.left;for(let o=0;o<g;++o){let l=Number.MIN_SAFE_INTEGER;for(let t=0;t<A;++t){const a=n+t*C;if(a>=0&&a<f)for(let n=0;n<k;++n){const p=i+n*S;if(p>=0&&p<m){const i=bn([e,a,p,o],c,hn(s.shape)),f=bn([t,n,o],d,hn(r.shape)),m=u[i]+h[f];m>l&&(l=m)}}}T[bn([e,t,a,o],I,hn(E))]=l}}}return{dataId:l.write(di(T,s.dtype),E,s.dtype),shape:E,dtype:s.dtype}}},Z_={kernelName:ks,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s,filter:r,dy:a}=e,{strides:i,pad:o,dilations:l}=n,u=t,c=pn(s.shape,u.data.get(s.dataId).values),h=pn(r.shape,u.data.get(r.dataId).values),{batchSize:d,inHeight:p,inWidth:f,inChannels:m,outHeight:g,outWidth:y,padInfo:b,strideHeight:w,strideWidth:v,filterHeight:x,filterWidth:A,dilationHeight:k,dilationWidth:C,outShape:S}=pc(s.shape,r.shape,i,o,"NHWC",l);Gt(a.rank===S.length,(()=>`Error in ${ks}, dy must have the same rank as output ${S.length}, but got ${a.rank}`));const E=pn(S,u.data.get(a.dataId).values),_=gn(r.shape,r.dtype);for(let e=0;e<d;++e)for(let t=0;t<g;++t){const n=t*w-b.top;for(let s=0;s<y;++s){const r=s*v-b.left;for(let a=0;a<m;++a){let i=Number.MIN_SAFE_INTEGER,o=0,l=0;for(let t=0;t<x;++t){const s=n+t*k;if(s>=0&&s<p)for(let n=0;n<A;++n){const u=r+n*C;if(u>=0&&u<f){const r=c[e][s][u][a]+h[t][n][a];r>i&&(i=r,o=t,l=n)}}}_[o][l][a]+=E[e][t][s][a]}}}return{dataId:u.write(di(_,s.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Y_={kernelName:As,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s,filter:r,dy:a}=e,{strides:i,pad:o,dilations:l}=n,u=t,c=pn(s.shape,u.data.get(s.dataId).values),h=pn(r.shape,u.data.get(r.dataId).values),{batchSize:d,inHeight:p,inWidth:f,inChannels:m,outHeight:g,outWidth:y,padInfo:b,strideHeight:w,strideWidth:v,filterHeight:x,filterWidth:A,dilationHeight:k,dilationWidth:C,outShape:S}=pc(s.shape,r.shape,i,o,"NHWC",l);Gt(a.rank===S.length,(()=>`Error in ${As}, dy must have the same rank as output ${S.length}, but got ${a.rank}`));const E=pn(S,u.data.get(a.dataId).values),_=gn(s.shape,s.dtype);for(let e=0;e<d;++e)for(let t=0;t<g;++t){const n=t*w-b.top;for(let s=0;s<y;++s){const r=s*v-b.left;for(let a=0;a<m;++a){let i=Number.MIN_SAFE_INTEGER,o=n<0?0:n,l=r<0?0:r;for(let t=0;t<x;++t){const s=n+t*k;if(s>=0&&s<p)for(let n=0;n<A;++n){const u=r+n*C;if(u>=0&&u<f){const r=c[e][s][u][a]+h[t][n][a];r>i&&(i=r,o=s,l=u)}}}_[e][o][l][a]+=E[e][t][s][a]}}}return{dataId:u.write(di(_,s.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const Q_={kernelName:Cs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{image:r}=t,{canvas:a,options:i}=s,{contextOptions:o,imageOptions:l}=i||{},u=(null==l?void 0:l.alpha)||1,c=(null==o?void 0:o.contextType)||"2d";if("2d"!==c)throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const h=a.getContext(c,(null==o?void 0:o.contextAttributes)||{});if(null==h)throw new Error(`Could not get the context with ${c} type.`);const[d,p]=r.shape.slice(0,2),f=2===r.shape.length?1:r.shape[2],m=n.data.get(r.dataId).values,g="float32"===r.dtype?255:1,y=new Uint8ClampedArray(p*d*4);for(let e=0;e<d*p;++e){const t=[0,0,0,255*u];for(let n=0;n<f;n++){const s=m[e*f+n];if("float32"===r.dtype){if(s<0||s>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${s}.`)}else if("int32"===r.dtype&&(s<0||s>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${s}.`);1===f?(t[0]=s*g,t[1]=s*g,t[2]=s*g):t[n]=s*g}const n=4*e;y[n+0]=Math.round(t[0]),y[n+1]=Math.round(t[1]),y[n+2]=Math.round(t[2]),y[n+3]=Math.round(t[3])}a.width=p,a.height=d;const b=new ImageData(y,p,d);return h.putImageData(b,0,0),r}},J_=ZS(((e,t)=>e*t)),eI=yE(((e,t,n,s)=>({real:e*n-t*s,imag:e*s+t*n}))),tI=gE(vr,J_,eI),nI={kernelName:vr,backendName:"cpu",kernelFunc:tI};function sI(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s;let o;LS(r,"sum"),o="bool"===r.dtype?fE({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):HS({inputs:{x:r},backend:n});const l=o.shape.length,u=Jt(a,o.shape),c=_h(u,l);let h=u,d=o;null!=c&&(d=FE({inputs:{x:o},backend:n,attrs:{perm:c}}),h=Th(h.length,l)),Eh("sum",h,d.shape.length);const[p,f]=Ch(d.shape,h);let m=cE(n,p,Ui(d.dtype,"int32"));const g=Ht(f),y=n.data.get(m.dataId).values,b=n.data.get(d.dataId).values;for(let e=0;e<y.length;++e){const t=e*g;let n=0;for(let e=0;e<g;++e)n+=b[t+e];y[e]=n}if(i){const e=m;m=AE({inputs:{x:m},backend:n,attrs:{shape:Sh(m.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(o),null!=c&&n.disposeIntermediateTensorInfo(d),m}const rI={kernelName:oa,backendName:"cpu",kernelFunc:sI};const aI={kernelName:Es,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{equation:r}=s,a=t,{allDims:i,summedDims:o,idDims:l}=og(r,a.length);ug(i.length,l,a);const{path:u,steps:c}=cg(o,l),h=c.length;let d=null,p=i.length;const f=[];for(let e=0;e<h;++e){for(const t of c[e]){const{permutationIndices:e,expandDims:s}=lg(p,l[t]);let r;hg(e)?r=a[t]:(r=FE({inputs:{x:a[t]},backend:n,attrs:{perm:e}}),f.push(r));const i=r.shape.slice();for(let e=0;e<s.length;++e)i.splice(s[e],0,1);$t(r.shape,i)||(r=AE({inputs:{x:r},backend:n,attrs:{shape:i}}),f.push(r)),null===d?d=r:(d=tI({inputs:{a:r,b:d},backend:n}),f.push(d))}e<h-1&&(u[e]>=0&&(d=sI({inputs:{x:d},backend:n,attrs:{axis:u[e]-(i.length-p),keepDims:!1}}),f.push(d)),p--)}for(const e of f)e!==d&&n.disposeIntermediateTensorInfo(e);return d}};const iI={kernelName:Is,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:s,y:r}=t;LS([s,r],"eluGrad");const a=new Float32Array(Ht(r.shape)),i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values;for(let e=0;e<i.length;++e){const t=i[e];a[e]=t>=0?o[e]:o[e]*(t+1)}return n.makeTensorInfo(r.shape,"float32",a)}},oI=ZS(((e,t)=>e===t?1:0)),lI=gE(Ns,oI,null,"bool"),uI={kernelName:Ns,backendName:"cpu",kernelFunc:lI},cI=Gm,hI=qm,dI=jm,pI=Hm,fI=$m,mI=Km,gI=US(Ts,(e=>{const t=Math.sign(e),n=Math.abs(e),s=1/(1+cI*n);return t*(1-((((mI*s+fI)*s+pI)*s+dI)*s+hI)*s*Math.exp(-n*n))})),yI={kernelName:Ts,backendName:"cpu",kernelFunc:gI},bI=WS((e=>Math.exp(e))),wI=GS(Os,bI,"float32"),vI={kernelName:Os,backendName:"cpu",kernelFunc:wI};function xI(e){const{inputs:t,backend:n,attrs:s}=e,{input:r}=t,{dim:a}=s,i=r.shape.length,o=r.shape.slice();let l=a;return a<0&&(Gt(-(i+1)<=a,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+a+1),o.splice(l,0,1),AE({inputs:{x:r},backend:n,attrs:{shape:o}})}const AI={kernelName:Rs,backendName:"cpu",kernelFunc:xI},kI=WS((e=>Math.expm1(e))),CI=GS(Ds,kI),SI={kernelName:Ds,backendName:"cpu",kernelFunc:CI},EI=ZS(((e,t)=>e/t)),_I=gE(Ss,EI),II={kernelName:Ss,backendName:"cpu",kernelFunc:_I},TI=ZS(((e,t)=>e-t)),NI=yE(((e,t,n,s)=>({real:e-n,imag:t-s}))),OI=gE(ka,TI,NI),RI={kernelName:ka,backendName:"cpu",kernelFunc:OI};function DI(e,t,n){const s=e.shape,r=s[0],a=s[1],i=n.data.get(e.dataId),o=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,u=[r,a],c=Ht(u),h=tn("float32",c),d=tn("float32",c);for(let e=0;e<r;e++){const s=o_({inputs:{x:o},backend:n,attrs:{begin:[e,0],size:[1,a]}}),r=o_({inputs:{x:l},backend:n,attrs:{begin:[e,0],size:[1,a]}}),i=lE({inputs:{real:s,imag:r},backend:n}),{real:u,imag:c}=MI(i,t,n),p=Xm(u,c);for(let t=0;t<a;t++){const n=Jm(p,t);h[e*a+t]=n.real,d[e*a+t]=n.imag}n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(i)}const p=n.makeTensorInfo(u,"float32",h),f=n.makeTensorInfo(u,"float32",d),m=lE({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function MI(e,t,n){const s=Ht(e.shape),r=n.data.get(e.dataId),a=n.data.get(r.complexTensorInfos.real.dataId).values,i=n.data.get(r.complexTensorInfos.imag.dataId).values;if((o=s)&o-1){const e=function(e,t,n){const s=new Float32Array(2*t);for(let r=0;r<t;r++){let a=0,i=0;for(let s=0;s<t;s++){const o=ng(r*s,t,n),l=Jm(e,s);a+=l.real*o.real-l.imag*o.imag,i+=l.real*o.imag+l.imag*o.real}n&&(a/=t,i/=t),eg(s,a,i,r)}return s}(Xm(a,i),s,t);return Zm(e)}{const r=FI(a,i,s,t,n),o=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(o,"float32",r.real),t=n.makeTensorInfo(o,"float32",r.imag),a=n.makeTensorInfo([],"float32",hi(s,"float32")),i=HS({inputs:{x:a},backend:n}),l=II.kernelFunc({inputs:{a:e,b:a},backend:n}),u=II.kernelFunc({inputs:{a:t,b:i},backend:n}),c=n.data.get(l.dataId).values,h=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),{real:c,imag:h}}return r}var o}function FI(e,t,n,s,r){if(1===n)return{real:e,imag:t};const a=Xm(e,t),i=n/2,o=Ym(a),l=o.real,u=o.imag,c=[l.length],h=r.makeTensorInfo(c,"float32",l),d=r.makeTensorInfo(c,"float32",u),p=lE({inputs:{real:h,imag:d},backend:r}),f=Qm(a),m=f.real,g=f.imag,y=[m.length],b=r.makeTensorInfo(y,"float32",m),w=r.makeTensorInfo(y,"float32",g),v=lE({inputs:{real:b,imag:w},backend:r}),x=FI(l,u,i,s,r),A=x.real,k=x.imag,C=[A.length],S=r.makeTensorInfo(C,"float32",A),E=r.makeTensorInfo(C,"float32",k),_=lE({inputs:{real:S,imag:E},backend:r}),I=FI(m,g,i,s,r),T=I.real,N=I.imag,O=[T.length],R=r.makeTensorInfo(O,"float32",T),D=r.makeTensorInfo(O,"float32",N),M=lE({inputs:{real:R,imag:D},backend:r}),F=tg(n,s),B=[F.real.length],z=r.makeTensorInfo(B,"float32",F.real),L=r.makeTensorInfo(B,"float32",F.imag),P=lE({inputs:{real:z,imag:L},backend:r}),V=tI({inputs:{a:P,b:M},backend:r}),W=vE({inputs:{a:_,b:V},backend:r}),U=OI({inputs:{a:_,b:V},backend:r}),G=hE({inputs:{input:W},backend:r}),q=hE({inputs:{input:U},backend:r}),j=C_({inputs:{input:W},backend:r}),H=C_({inputs:{input:U},backend:r}),$=E_({inputs:[G,q],backend:r,attrs:{axis:0}}),K=E_({inputs:[j,H],backend:r,attrs:{axis:0}}),X=r.data.get($.dataId).values,Z=r.data.get(K.dataId).values;return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(S),r.disposeIntermediateTensorInfo(E),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(R),r.disposeIntermediateTensorInfo(D),r.disposeIntermediateTensorInfo(M),r.disposeIntermediateTensorInfo(z),r.disposeIntermediateTensorInfo(L),r.disposeIntermediateTensorInfo(P),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(U),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(H),r.disposeIntermediateTensorInfo($),r.disposeIntermediateTensorInfo(K),{real:X,imag:Z}}const BI={kernelName:Ms,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:s}=t,r=Ht(s.shape),a=s.shape[s.shape.length-1],i=AE({inputs:{x:s},backend:n,attrs:{shape:[r/a,a]}}),o=DI(i,!1,n),l=AE({inputs:{x:o},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),l}};function zI(e){const{backend:t,attrs:n}=e,{shape:s,value:r,dtype:a}=n,i=a||ln(r),o=nn(i,Ht(s));return function(e,t,n){e.fill(t)}(o,r),t.makeTensorInfo(s,i,o)}const LI={kernelName:Fs,backendName:"cpu",kernelFunc:zI};const PI={kernelName:Bs,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:s}=e,r=n,a=tn(s.dtype,Ht(s.shape)),[i,o,l,u]=s.shape,c=r.data.get(s.dataId).values;for(let e=0;e<i;e++){const t=e*l*o*u;for(let e=0;e<o;e++){const n=e*(l*u);for(let e=0;e<l;e++){const s=e*u;for(let r=0;r<u;r++){const i=Math.round(l-e-1),o=t+n+s+r;let h=c[o];if(i>=0&&i<l){h=c[t+n+i*u+r]}a[o]=h}}}}return{dataId:r.write(a,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},VI=WS((e=>Math.floor(e))),WI=GS(zs,VI),UI={kernelName:zs,backendName:"cpu",kernelFunc:WI},GI=ZS(((e,t)=>Math.floor(e/t))),qI=gE(Ls,GI,null,"int32"),jI={kernelName:Ls,backendName:"cpu",kernelFunc:qI};const HI={kernelName:La,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a,bias:i,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=s;let m=I_({inputs:{x:r,filter:a},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d}});if(i){const e=m;if("NCHW"===c&&1===i.shape.length&&1!==i.shape[0]){const e=AE({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=vE({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=vE({inputs:{a:m,b:i},backend:n});n.disposeIntermediateTensorInfo(e)}if(p){const e=m;if("NCHW"===c&&"prelu"===p&&1===o.shape.length&&1!==o.shape[0]){const e=AE({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=oE(n,m,p,e,f),n.disposeIntermediateTensorInfo(e)}else m=oE(n,m,p,o,f);n.disposeIntermediateTensorInfo(e)}return m}};const $I={kernelName:Pa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a,bias:i,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=s;let m=q_({inputs:{x:r,filter:a},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d}});if(i){const e=m;m=vE({inputs:{a:m,b:i},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=oE(n,m,p,o,f),n.disposeIntermediateTensorInfo(e)}return m}};function KI(e,t,n,s,r,a,i,o,l){const u=Il([s,a],n);for(let n=0;n<s;n++){const s=[];let c=0;for(let t=0;t<r;t++){const a=e[n*r+t];c+=a*i[t],s.push(a)}if(c<0||c>=l/a)throw new Error(`Invalid indices: ${s} does not index into ${o}`);for(let e=0;e<a;e++)u.values[n*a+e]=t.get(...t.indexToLoc(c*a+e))}return u}const XI={kernelName:Ws,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:s,indices:r}=t,a=Ht(s.shape),i=r.shape,o=i[i.length-1],[l,u,c,h]=Vm(s,r);if(0===u)return n.makeTensorInfo(l,s.dtype,[]);const d=KI(n.data.get(r.dataId).values,n.bufferSync(s),s.dtype,u,o,c,h,s.shape,a);return n.makeTensorInfo(l,s.dtype,d.values)}};function ZI(e,t,n){const s=Il(n,e.dtype);for(let n=0;n<s.size;++n){const r=s.indexToLoc(n).slice(),a=r[0],i=r[2],o=t.locToIndex([a,i]);r[2]=t.values[o];const l=e.locToIndex(r);0<=l&&l<e.values.length&&(s.values[n]=e.values[l])}return s}const YI={kernelName:Vs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,indices:a}=t,{axis:i,batchDims:o}=s;LS([r,a],"gatherV2");const l=Jt(i,r.shape)[0],u=n.data.get(a.dataId).values,c=r.shape[l];for(let e=0;e<u.length;++e){const t=u[e];Gt(t<=c-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${c-1}]`))}let h=o;null==o&&(h=0);const d=Ht(a.shape),p=Ig(r,a,l,h),f=AE({inputs:{x:r},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=AE({inputs:{x:a},backend:n,attrs:{shape:[p.batchSize,d/p.batchSize]}}),g=[p.batchSize,p.outerSize,d/p.batchSize,p.sliceSize],y=n.bufferSync(m),b=ZI(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,b.dtype,b.values)}},QI=ZS(((e,t)=>e>t?1:0)),JI=gE(Us,QI,null,"bool"),eT={kernelName:Us,backendName:"cpu",kernelFunc:JI},tT=ZS(((e,t)=>e>=t?1:0)),nT=gE(Gs,tT,null,"bool"),sT={kernelName:Gs,backendName:"cpu",kernelFunc:nT};const rT={kernelName:js,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:s}=t,r=Ht(s.shape),a=s.shape[s.shape.length-1],i=AE({inputs:{x:s},backend:n,attrs:{shape:[r/a,a]}}),o=DI(i,!0,n),l=AE({inputs:{x:o},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),l}},aT=US($s,(e=>Number.isFinite(e)?1:0),"bool"),iT={kernelName:$s,backendName:"cpu",kernelFunc:aT},oT=US(Ks,(e=>Math.abs(e)===1/0?1:0),"bool"),lT={kernelName:Ks,backendName:"cpu",kernelFunc:oT},uT=US(Xs,(e=>Number.isNaN(e)?1:0),"bool"),cT={kernelName:Xs,backendName:"cpu",kernelFunc:uT},hT=ZS(((e,t)=>e<t?1:0)),dT=gE(Ys,hT,null,"bool"),pT={kernelName:Ys,backendName:"cpu",kernelFunc:dT},fT=ZS(((e,t)=>e<=t?1:0)),mT=gE(Qs,fT,null,"bool"),gT={kernelName:Qs,backendName:"cpu",kernelFunc:mT};function yT(e,t,n){const s=(t-e)/(n-1),r=mn(n,"float32");r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+s;return r}const bT={kernelName:Js,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:s,stop:r,num:a}=n,i=yT(s,r,a);return t.makeTensorInfo([i.length],"float32",i)}},wT=WS((e=>Math.log(e))),vT=GS(er,wT),xT={kernelName:er,backendName:"cpu",kernelFunc:vT},AT=US(tr,(e=>Math.log1p(e))),kT={kernelName:tr,backendName:"cpu",kernelFunc:AT},CT=ZS(((e,t)=>e&&t)),ST=gE(nr,CT,null,"bool"),ET={kernelName:nr,backendName:"cpu",kernelFunc:ST},_T=US(sr,(e=>e?0:1),"bool"),IT={kernelName:sr,backendName:"cpu",kernelFunc:_T},TT=ZS(((e,t)=>e||t)),NT=gE(rr,TT,null,"bool"),OT={kernelName:rr,backendName:"cpu",kernelFunc:NT};const RT={kernelName:ar,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{depthRadius:a,bias:i,alpha:o,beta:l}=s;LS(r,"LRN");const u=r.shape[3],c=u-1,h=n.data.get(r.dataId).values,d=Ht(r.shape),p=new Float32Array(d);function f(e){const t=e%u;let n=e-t+Math.max(0,t-a);const s=e-t+Math.min(t+a,c);let r=0;for(;n<=s;n++){const e=h[n];r+=e*e}return r}for(let e=0;e<d;e++){const t=f(e),n=h[e]*Math.pow(i+o*t,-l);p[e]=n}return n.makeTensorInfo(r.shape,r.dtype,p)}};const DT={kernelName:ir,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,y:a,dy:i}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=s;LS(i,"LRNGrad");const h=Ht(i.shape),d=i.shape[3],p=n.data.get(i.dataId).values,f=n.data.get(r.dataId).values,m=n.data.get(a.dataId).values,g=new Float32Array(h),y=h;for(let e=0;e<y;e++){const t=e%d,n=e-t+Math.max(0,t-o),s=e-t+Math.min(d,t+o+1);let r=0;for(let e=n;e<s;e++)r+=Math.pow(f[e],2);r=u*r+l;for(let t=n;t<s;t++){let n=-2*u*c*f[t]*m[e]/r;e===t&&(n+=Math.pow(r,-c)),n*=p[e],g[t]+=n}}return n.makeTensorInfo(i.shape,r.dtype,g)}};function MT(e,t,n,s){const r=tn(s,Ht(n));for(let n=0;n<r.length;++n){const s=n*t;let a=e[s];for(let n=0;n<t;++n){const t=e[s+n];(Number.isNaN(t)||t>a)&&(a=t)}r[n]=a}return r}function FT(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{reductionIndices:a,keepDims:i}=s,o=n;let l=r.shape;const u=l.length,c=Jt(a,l);let h=c;const d=_h(h,u);let p=o.data.get(r.dataId).values;if(null!=d){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=l[d[t]];p=ME(p,l,r.dtype,d,e),h=Th(h.length,u),l=e}LS(r,"max"),Eh("max",h,u);const[f,m]=Ch(l,h),g=MT(p,Ht(m),f,r.dtype),y=o.write(g,f,r.dtype);let b=f;if(i){b=Sh(f,c)}return{dataId:y,shape:b,dtype:r.dtype}}const BT={kernelName:or,backendName:"cpu",kernelFunc:FT},zT=ZS(((e,t)=>Math.max(e,t))),LT=gE(lr,zT),PT={kernelName:lr,backendName:"cpu",kernelFunc:LT};const VT={kernelName:ur,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t;LS(r,"maxPool");const{filterSize:a,strides:i,pad:o,dimRoundingMode:l}=s;Gt(Cc(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=fc(r.shape,a,i,1,o,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&$t(u.inShape,u.outShape))c=HS({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=hn(r.shape),s=QE(e,r.shape,r.dtype,t,u,"max");c=n.makeTensorInfo(u.outShape,r.dtype,s.values)}return c}};const WT={kernelName:hr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{filterSize:a,strides:i,pad:o,dimRoundingMode:l,dataFormat:u}=s;LS(r,"maxPool3d");const c=mc(r.shape,a,i,1,o,l,u),h=e_(n.data.get(r.dataId).values,r.shape,r.dtype,hn(r.shape),c,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}};const UT={kernelName:dr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,input:a}=t,{filterSize:i,strides:o,pad:l,dimRoundingMode:u}=s;LS([r,a],"maxPool3DGrad");const c=mc(a.shape,i,o,1,l,u),h=function(e,t){const n=Il(t.outShape,"int32"),s=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,h=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const b=y*s-d;let w=b;for(;w<0;)w+=i;const v=Math.min(t.inDepth,u+b);for(let s=0;s<t.outHeight;++s){const u=s*r-p;let d=u;for(;d<0;)d+=o;const x=Math.min(t.inHeight,c+u);for(let r=0;r<t.outWidth;++r){const p=r*a-f;let A=p;for(;A<0;)A+=l;const k=Math.min(t.inWidth,h+p);let C=Number.NEGATIVE_INFINITY,S=-1;for(let t=w;t<v;t+=i){const n=t-b;for(let s=d;s<x;s+=o){const r=s-u;for(let a=A;a<k;a+=l){const i=a-p,o=e.get(m,t,s,a,g);o>=C&&(C=o,S=n*c*h+r*c+i)}}}n.set(S,m,y,s,r,g)}}}return n}(n.bufferSync(a),c),d=c.strideDepth,p=c.strideHeight,f=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,y=c.dilationWidth,b=c.effectiveFilterDepth,w=c.effectiveFilterHeight,v=c.effectiveFilterWidth,x=b-1-c.padInfo.front,A=v-1-c.padInfo.left,k=w-1-c.padInfo.top,C=Il(a.shape,"float32"),S=n.bufferSync(r);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inDepth;++n)for(let s=0;s<c.inHeight;++s)for(let r=0;r<c.inWidth;++r){const a=n-x,i=s-k,o=r-A;let l=0;for(let n=0;n<b;n+=m){const s=(a+n)/d;if(!(s<0||s>=c.outDepth||Math.floor(s)!==s))for(let r=0;r<w;r+=g){const a=(i+r)/p;if(!(a<0||a>=c.outHeight||Math.floor(a)!==a))for(let i=0;i<v;i+=y){const u=(o+i)/f;if(u<0||u>=c.outWidth||Math.floor(u)!==u)continue;const d=b*w*v-1-h.get(e,s,a,u,t)===n*w*v+r*v+i?1:0;if(0===d)continue;l+=S.get(e,s,a,u,t)*d}}}C.set(l,e,n,s,r,t)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};const GT={kernelName:cr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,input:a,output:i}=t,o=a;LS([a,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:h}=s,d=fc(o.shape,l,u,1,c,h),p=n.data.get(o.dataId).values,f=Il(d.outShape,o.dtype,JE(p,o.shape,o.dtype,d).values),m=d.strideHeight,g=d.strideWidth,y=d.dilationHeight,b=d.dilationWidth,w=d.effectiveFilterHeight,v=d.effectiveFilterWidth,x=v-1-d.padInfo.left,A=w-1-d.padInfo.top,k=Il(o.shape,"float32"),C=n.data.get(r.dataId).values,S=Il(r.shape,"float32",C);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let n=0;n<d.inHeight;++n)for(let s=0;s<d.inWidth;++s){const r=n-A,a=s-x;let i=0;for(let n=0;n<w;n+=y){const s=(r+n)/m;if(!(s<0||s>=d.outHeight||Math.floor(s)!==s))for(let r=0;r<v;r+=b){const o=(a+r)/g;if(o<0||o>=d.outWidth||Math.floor(o)!==o)continue;const l=w*v-1-f.get(e,s,o,t)===n*v+r?1:0;if(0===l)continue;i+=S.get(e,s,o,t)*l}}k.set(i,e,n,s,t)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const qT={kernelName:pr,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:s}=e,{filterSize:r,strides:a,pad:i,includeBatchInIndex:o}=t,l=n;LS(s,"MaxPoolWithArgmax");const u=l.data.get(s.dataId).values,c=fc(s.shape,r,a,[1,1],i),[h,d]=function(e,t,n,s,r){const a=QE(e,0,n,hn(t),r,"max"),i=JE(e,t,n,r,!0,s);return[a.values,i.values]}(u,s.shape,s.dtype,o,c),p=l.write(h,c.outShape,s.dtype),f=l.write(d,c.outShape,s.dtype);return[{dataId:p,shape:c.outShape,dtype:s.dtype},{dataId:f,shape:c.outShape,dtype:"int32"}]}};const jT={kernelName:fr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s,o=Jt(a,r.shape),l=Ht(Ch(r.shape,o)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);const h=fE({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});u.push(h);const d=_I({inputs:{a:h,b:c},backend:n});u.push(d);const p=sI({inputs:{x:d},backend:n,attrs:{axis:a,keepDims:i}});return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const HT={kernelName:mr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s;LS(r,"min");const o=Jt(a,r.shape);let l=o;const u=_h(l,r.shape.length);let c=r;null!=u&&(c=FE({inputs:{x:r},backend:n,attrs:{perm:u}}),l=Th(l.length,r.shape.length)),Eh("min",l,c.shape.length);const[h,d]=Ch(c.shape,l),p=Ht(d),f=mn(Ht(h),c.dtype),m=n.data.get(c.dataId).values;for(let e=0;e<f.length;++e){const t=e*p;let n=m[t];for(let e=0;e<p;++e){const s=m[t+e];(Number.isNaN(s)||s<n)&&(n=s)}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(h,c.dtype,f);if(i){const e=AE({inputs:{x:g},backend:n,attrs:{shape:Sh(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}},$T=ZS(((e,t)=>Math.min(e,t))),KT=gE(gr,$T),XT={kernelName:gr,backendName:"cpu",kernelFunc:KT};const ZT={kernelName:yr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{paddings:a,mode:i}=s;LS(r,"mirrorPad");const o=a.map(((e,t)=>e[0]+r.shape[t]+e[1])),l=a.map((e=>e[0])),u=a.map(((e,t)=>e[0]+r.shape[t])),c="reflect"===i?0:1,h=n.data.get(r.dataId).values,d=r.shape.length,p=hn(r.shape),f=Ht(o),m=o.length,g=hn(o),y=tn(r.dtype,f);for(let e=0;e<f;e++){let t=wn(e,m,g);for(let e=0;e<m;e++)t[e]<l[e]?t[e]=2*l[e]-t[e]-c:t[e]>=u[e]&&(t[e]=2*(u[e]-1)-t[e]+c);t=t.map(((e,t)=>e-l[t]));const n=bn(t,d,p);y[e]=h[n]}return{dataId:n.write(y,o,r.dtype),shape:o,dtype:r.dtype}}},YT=ZS(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),QT=gE(br,YT),JT={kernelName:br,backendName:"cpu",kernelFunc:QT};function eN(e){const{inputs:t,backend:n,attrs:s}=e,{logits:r}=t,{dim:a}=s,i=r.shape.length;let o=a;if(-1===o&&(o=i-1),o!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${o}`);const l=Jt([o],r.shape),u=FT({inputs:{x:r},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=Sh(u.shape,l),h=AE({inputs:{x:u},backend:n,attrs:{shape:c}}),d=OI({inputs:{a:r,b:h},backend:n}),p=wI({inputs:{x:d},backend:n}),f=sI({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=AE({inputs:{x:f},backend:n,attrs:{shape:c}}),g=_I({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const tN={kernelName:ca,backendName:"cpu",kernelFunc:eN};const nN={kernelName:wr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{logits:r}=t,{numSamples:a,seed:i,normalized:o}=s;LS(r,"multinomial");const l=o?r:eN({inputs:{logits:r},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],h=n.data.get(l.dataId).values,d=[u,a],p=mn(Ht(d),"int32");for(let e=0;e<u;++e){const t=e*c,n=new Float32Array(c-1);n[0]=h[t];for(let e=1;e<n.length;++e)n[e]=n[e-1]+h[t+e];const s=qd.alea(i.toString()),r=e*a;for(let e=0;e<a;++e){const t=s();p[r+e]=n.length;for(let s=0;s<n.length;s++)if(t<n[s]){p[r+e]=s;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",p)}};function sN(e,t,n){const s=hi(-1,n);return J_([],t,s,e,n)}const rN={kernelName:xr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t;LS(s,"neg");const r=n.data.get(s.dataId).values,[a,i]=sN(r,s.shape,s.dtype);return n.makeTensorInfo(i,s.dtype,a)}},aN=Of;const iN={kernelName:kr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l}=s;LS(r,"NonMaxSuppression");const u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,{selectedIndices:h}=aN(u,c,i,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},oN=Rf;const lN={kernelName:Cr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=s;LS(r,"NonMaxSuppressionPadded");const c=n.data.get(r.dataId).values,h=n.data.get(a.dataId).values,{selectedIndices:d,validOutputs:p}=oN(c,h,i,o,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},uN=Df;const cN={kernelName:Sr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=s;LS(r,"NonMaxSuppressionWithScore");const c=n.data.get(r.dataId).values,h=n.data.get(a.dataId).values,d=i,p=o,f=l,m=u,{selectedIndices:g,selectedScores:y}=uN(c,h,d,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}},hN=ZS(((e,t)=>e!==t?1:0)),dN=gE(Ar,hN,null,"bool"),pN={kernelName:Ar,backendName:"cpu",kernelFunc:dN};const fN={kernelName:_r,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{indices:r}=t,{dtype:a,depth:i,onValue:o,offValue:l}=s;LS(r,"oneHot");const u=Ht(r.shape),c=new Float32Array(u*i);c.fill(l);const h=n.data.get(r.dataId).values;for(let e=0;e<u;++e)h[e]>=0&&h[e]<i&&(c[e*i+h[e]]=o);return n.makeTensorInfo([...r.shape,i],a,c)}};function mN(e){const{inputs:t,backend:n}=e,{x:s}=t;if("string"===s.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===s.dtype){const e=hE({inputs:{input:s},backend:n}),t=mN({inputs:{x:e},backend:n}),r=C_({inputs:{input:s},backend:n}),a=mN({inputs:{x:r},backend:n}),i=lE({inputs:{real:t,imag:a},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),i}return zI({backend:n,attrs:{shape:s.shape,value:0,dtype:s.dtype}})}const gN={kernelName:Da,backendName:"cpu",kernelFunc:mN};const yN={kernelName:Er,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:s}=t,{x:r}=n;if("string"===r.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===r.dtype){const t=hE({inputs:{input:r},backend:s}),n=e({inputs:{x:t},backend:s}),a=C_({inputs:{input:r},backend:s}),i=mN({inputs:{x:a},backend:s}),o=lE({inputs:{real:n,imag:i},backend:s});return s.disposeIntermediateTensorInfo(t),s.disposeIntermediateTensorInfo(n),s.disposeIntermediateTensorInfo(a),s.disposeIntermediateTensorInfo(i),o}return zI({backend:s,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}};function bN(e){const{inputs:t,backend:n,attrs:s}=e,{axis:r}=s;if(1===t.length)return xI({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const a=t[0].shape,i=t[0].dtype;t.forEach((e=>{qt(a,e.shape,"All tensors passed to stack must have matching shapes"),Gt(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=E_({inputs:t.map((e=>{const t=xI({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}const wN={kernelName:Ir,backendName:"cpu",kernelFunc:bN};const vN={kernelName:Tr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{paddings:a,constantValue:i}=s;LS(r,"pad");const o=a.map(((e,t)=>e[0]+r.shape[t]+e[1])),l=a.map((e=>e[0])),u=n.data.get(r.dataId).values,c=Ht(r.shape),h=r.shape.length,d=hn(r.shape),p=Ht(o),f=o.length,m=hn(o),g=tn(r.dtype,p);0!==i&&g.fill(i);for(let e=0;e<c;e++){g[bn(wn(e,h,d).map(((e,t)=>e+l[t])),f,m)]=u[e]}return{dataId:n.write(g,o,r.dtype),shape:o,dtype:r.dtype}}},xN=ZS(((e,t)=>Math.pow(e,t))),AN=gE(Nr,xN),kN={kernelName:Nr,backendName:"cpu",kernelFunc:AN};function CN(e,t,n,s){const[r,a]=Ch(e,s),i=Ui(t,"int32"),o=mn(Ht(r),i),l=Ht(a);for(let e=0;e<o.length;++e){const t=e*l;let s=1;for(let e=0;e<l;++e)s*=n[t+e];o[e]=s}return{outVals:o,outShape:r,outDtype:i}}const SN={kernelName:Rr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s;LS(r,"prod");const o=r.shape.length,l=Jt(a,r.shape),u=_h(l,o);let c=l,h=r;const d=[];null!=u&&(h=FE({inputs:{x:r},backend:n,attrs:{perm:u}}),d.push(h),c=Th(c.length,o));const p=n.data.get(h.dataId).values,{outVals:f,outShape:m,outDtype:g}=CN(h.shape,h.dtype,p,c);let y=m;return i&&(y=Sh(m,l)),d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,f)}};function EN(e,t,n,s){const r=[];let a=0;const i=t.length-1+n.length,o=new Array(i).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const s=e[n],r=n===e.length-1?t:e[n+1].length;if(0===s.length)throw new Error("Ragged splits may not be empty");if(s[0]<0)throw new Error("Ragged splits must be non-negative");if(s[s.length-1]>r)throw new Error("Ragged splits must not point past values");for(let e=1;e<s.length;++e)if(s[e-1]>s[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,s);let l=1;for(let e=0;e<t.length-1;++e){l*=t[e];const n=t[e+1];for(let t=1;t<l+1;++t)o[e].push(t*n)}for(let s=0;s<e.length;++s){let i=e[s],l=e[s]+1;for(let e=0;e<n.length;++e){const s=n[e],r=e+t.length-1;if(r>=0){const e=o[r],t=e[e.length-1]-s[i];for(let e=i;e<l;++e)o[r].push(s[e+1]+t)}i=s[i],l=s[l]}l!==i&&(r.push([i,l]),a+=l-i)}return{outSplits:o,valueSlices:r,numValues:a}}function _N(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let s=t;s<e.length;s++)n[t-1]*=e[s];return n}function IN(e,t,n,s,r){const a=t.slice();a[0]=r;const i=nn(n,Ht(a)),o=e.length;return function(e,t,n,s,r,a){const i=_N(t,2)[1],o=_N(a,2)[1];let l=0;for(const t of n)for(let n=t[0];n<t[1];++n){for(let t=0;t<s;++t)r[l*o+t]=e[n*i+t];++l}}(e,t,s,0===o?0:o/t[0],i,a),[i,a]}function TN(e,t,n,s,r,a,i,o){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,s)=>{if(e<0||e>=n){const r=wn(s,t.length,hn(t)).join(",");throw new Error(`indices[${r}] = ${e} is not in [0, ${n})`)}}))}(a,i,t[0][0]-1),0===s.length)throw new Error("params.rank must be nonzero");const l=s[0],{outSplits:u,valueSlices:c,numValues:h}=EN(a,i,e,l),d=function(e){const t=[];for(let n=0;n<e.length;++n){const s=nn("int32",e[n].length);t.push(s),e[n].forEach(((e,t)=>s[t]=e))}return t}(u),p=IN(n,s,r,c,h);return[d,p[0],p[1]]}const NN={kernelName:Dr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{paramsNestedSplits:r,paramsDenseValues:a,indices:i}=t,{outputRaggedRank:o}=s,l=r.map((e=>n.data.get(e.dataId).values)),u=r.map((e=>e.shape)),c=n.data.get(a.dataId).values,h=n.data.get(i.dataId).values,[d,p,f]=TN(l,u,c,a.shape,a.dtype,h,i.shape),m=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,a.dtype,p);return m.concat([g])}},ON=2147483647;function RN(e,t,n,s,r,a,i){if(t.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const o=0===t.length,l=0===r.length,u=0===i.length,c=[];o||c.push(t[0]),l||c.push(r[0]),u||c.push(i[0]);for(let e=1;e<c.length;++e)if(c[e]!==c[e-1])throw new Error("starts, limits, and deltas must have the same shape");const h=0===c.length?1:c[0],d=nn("int32",h+1);d[0]=0;for(let t=0;t<h;++t){const n=o?e[0]:e[t],r=l?s[0]:s[t],i=u?a[0]:a[t];if(0===i)throw new Error("Requires delta != 0");let c;if(i>0&&r<n||i<0&&r>n)c=0;else if(c=Math.ceil(Math.abs((r-n)/i)),c>ON)throw new Error(`Requires ((limit - start) / delta) <= ${ON}`);d[t+1]=d[t]+c}const p=nn(n,d[h]);let f=0;for(let t=0;t<h;++t){const n=d[t+1]-d[t];let s=o?e[0]:e[t];const r=u?a[0]:a[t];for(let e=0;e<n;++e)p[f++]=s,s+=r}return[d,p]}const DN={kernelName:Mr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:s,limits:r,deltas:a}=t,i=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[u,c]=RN(i,s.shape,s.dtype,o,r.shape,l,a.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],s.dtype,c)]}};var MN=_m;class FN{constructor(e,t,n,s,r,a,i,o,l,u){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=s,this.valuesDType=r,this.defaultValue=a,this.defaultValueShape=i,this.rowPartitionValues=o,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=Tm(u),this.raggedRank=Nm(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===MN.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===MN.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case MN.VALUE_ROWIDS:return FN.getMaxWidthValueRowID(t);case MN.ROW_SPLITS:return FN.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${MN[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let s=0;s<t-1;++s){const t=e[s+1]-e[s];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,s=e[0],r=0;for(let a=1;a<t;++a){const t=e[a];t!==s&&(s=t,r=Math.max(a-n,r),n=a)}return Math.max(t-n,r)}tensorShapeFromTensor(e,t,n=!0){if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return zN(e,n)}calculateOutputSize(e){const t=this.valuesShape;Om(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),s=Im(this.raggedRank,n,t);s[0]<0&&(s[0]=e);for(let e=1;e<=this.raggedRank;++e)s[e]<0&&(s[e]=this.getMaxWidth(e));return s}calculateFirstParentOutputIndex(e,t,n){const s=Math.min(e,n),r=[];let a=0;for(let e=0;e<s;++e,a+=t)r.push(a);for(let t=s;t<e;++t)r.push(-1);return Gt(r.length===e,(()=>"Final length of result must be equal to firstDimension.")),r}calculateOutputIndexRowSplit(e,t,n,s){const r=e.length,a=[];for(let i=0;i<r-1;++i){const r=e[i+1]-e[i];let o=Math.min(s,r),l=t[i];-1===l&&(o=0);for(let e=0;e<o;++e)a.push(l),l+=n;for(let e=0;e<r-o;++e)a.push(-1)}if(r>0&&a.length!==e[r-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,t,n,s){const r=e.length,a=[];if(0===r)return[];let i=0,o=e[0];if(o>=t.length)throw new Error(`Got currentValueRowId=${o}, which is not less than ${t.length}`);let l=t[o];a.push(l);for(let u=1;u<r;++u){const r=e[u];if(r===o)l>=0&&(++i,i<s?l+=n:l=-1);else{if(i=0,o=r,r>=t.length)throw new Error(`Got nextValueRowId=${r} which is not less than ${t.length}`);l=t[r]}a.push(l)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,t,n,s){const r=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case MN.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(r,t,n,s);case MN.ROW_SPLITS:if(r.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${r.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(r,t,n,s);default:throw new Error(`Unsupported partition type: ${MN[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case MN.FIRST_DIM_SIZE:return e[0];case MN.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case MN.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${MN[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let e=n.length-2;e>=0;--e)n[e]=n[e+1]*t[e+1];const s=zN(t,!1),r=nn(this.valuesDType,Ht(s));if(n[0]*t[0]>0){let a=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){a=this.calculateOutputIndex(e-1,a,n[e],t[e])}this.setOutput(this.raggedRank,a,r,s)}return[s,r]}setOutput(e,t,n,s){if(0===n.length)return;const r=this.values,a=n;let i=s.slice();i=i.slice(e+1);const o=Ht(i),l=t.length;let u=this.defaultValue;if(u.length!==o&&1!==u.length){const e=this.defaultValueShape;xo((()=>{const t=Ic(u,e),n=jc(t,i);u=n.dataSync()}))}let c=0,h=0,d=0;for(let e=0;e<=l;++e){let s=e<l?t[e]:-1;if(s!==d){if(h<d){const e=r.subarray(c*o);BN(a.subarray(h*o),e,(d-h)*o)}if(e>=l){const e=n.length;s=Math.floor(e/o)}if(s>d)if(1===this.defaultValue.length)a.subarray(d*o,s*o).fill(this.defaultValue[0]),d=s;else for(;s>d;){BN(a.slice(d*o),u,o),++d}s<0?(c=e+1,h=d):(c=e,h=d,d=h+1)}else++d}}}function BN(e,t,n){for(let s=0;s<n;s++)e[s]=t[s]}function zN(e,t){const n=[];for(let s of e){if(s<0){if(!t)throw new Error(`Dimension ${s} must be >= 0`);if(s<-1)throw new Error(`Dimension ${s} must be >= -1`);s=-1}n.push(s)}return n}function LN(e,t,n,s,r,a,i,o,l,u){return new FN(e,t,n,s,r,a,i,o,l,u).compute()}const PN={kernelName:Fr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{shape:r,values:a,defaultValue:i,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=s,u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,h=n.data.get(i.dataId).values,d=o.map((e=>n.data.get(e.dataId).values)),p=o.map((e=>e.shape)),[f,m]=LN(u,r.shape,c,a.shape,a.dtype,h,i.shape,d,p,l);return n.makeTensorInfo(f,a.dtype,m)}};function VN(e,t,n,s){if(e===t||e<t&&n<0||t<e&&n>1)return mn(0,s);const r=mn(Math.abs(Math.ceil((t-e)/n)),s);t<e&&1===n&&(n=-1),r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+n;return r}const WN={kernelName:Br,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:s,stop:r,dtype:a,step:i}=n,o=VN(s,r,i,a);return t.makeTensorInfo([o.length],a,o)}},UN=US(Lr,(e=>1/e)),GN={kernelName:Lr,backendName:"cpu",kernelFunc:UN};const qN={kernelName:Gr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:r}=t,{alignCorners:a,halfPixelCenters:i,size:o}=s;LS(r,"resizeBilinear");const l=hn(r.shape),[u,c]=o,[h,d,p,f]=r.shape,m=n.data.get(r.dataId).values,g=new Float32Array(Ht([h,u,c,f])),y=[a&&u>1?d-1:d,a&&c>1?p-1:p],b=[a&&u>1?u-1:u,a&&c>1?c-1:c];let w=0;const v=y[0]/b[0],x=y[1]/b[1];for(let e=0;e<h;e++)for(let t=0;t<u;t++){let n;n=i?v*(t+.5)-.5:v*t;const s=Math.max(0,Math.floor(n)),r=n-s,a=Math.min(d-1,Math.ceil(n)),o=e*l[0]+s*l[1],u=e*l[0]+a*l[1];for(let e=0;e<c;e++){let t;t=i?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),s=t-n,a=Math.min(p-1,Math.ceil(t)),c=o+n*l[2],h=u+n*l[2],d=o+a*l[2],y=u+a*l[2];for(let e=0;e<f;e++){const t=m[c+e],n=m[h+e],a=t+(m[d+e]-t)*s,i=a+(n+(m[y+e]-n)*s-a)*r;g[w++]=i}}}return n.makeTensorInfo([h,u,c,f],"float32",g)}};const jN={kernelName:qr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:r,dy:a}=t,{alignCorners:i}=s;LS([a,r],"resizeBilinearGrad");const o=hn(r.shape),[l,u,c,h]=r.shape,[,d,p]=a.shape,f=new Float32Array(l*u*c*h),m=[i&&d>1?u-1:u,i&&p>1?c-1:c],g=[i&&d>1?d-1:d,i&&p>1?p-1:p],y=m[0]/g[0],b=m[1]/g[1],w=n.data.get(a.dataId).values;let v=0;for(let e=0;e<l;e++){const t=e*o[0];for(let e=0;e<d;e++){const n=e*y,s=Math.floor(n),r=Math.min(Math.ceil(n),u-1),a=t+s*o[1],i=t+r*o[1],l=n-s,d=1-l;for(let e=0;e<p;e++){const t=e*b,n=Math.floor(t),s=Math.min(Math.ceil(t),c-1),r=t-n,u=1-r,p=a+n*o[2],m=a+s*o[2],g=i+n*o[2],y=i+s*o[2],x=d*u,A=d*r,k=l*u,C=l*r;for(let e=0;e<h;e++){const t=w[v++];f[p+e]+=t*x,f[m+e]+=t*A,f[g+e]+=t*k,f[y+e]+=t*C}}}}return n.makeTensorInfo([l,c,u,h],"float32",f)}};const HN={kernelName:Wr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:r}=t,{alignCorners:a,halfPixelCenters:i,size:o}=s;LS(r,"resizeNearestNeighbor");const l=hn(r.shape),[u,c]=o,[h,d,p,f]=r.shape,m=n.data.get(r.dataId).values,g=new Float32Array(h*u*c*f),y=[a&&u>1?d-1:d,a&&c>1?p-1:p],b=[a&&u>1?u-1:u,a&&c>1?c-1:c],w=y[0]/b[0],v=y[1]/b[1];let x=0;for(let e=0;e<h;e++){const t=e*l[0];for(let e=0;e<u;e++){const n=i?w*(e+.5):w*e;let s=Math.min(d-1,a?Math.round(n):Math.floor(n));i&&(s=Math.max(0,s));const r=t+s*l[1];for(let e=0;e<c;e++){const t=i?v*(e+.5):v*e;let n=Math.min(p-1,a?Math.round(t):Math.floor(t));i&&(n=Math.max(0,n));const s=r+n*l[2];for(let e=0;e<f;e++){const t=m[s+e];g[x++]=t}}}}return n.makeTensorInfo([h,u,c,f],r.dtype,g)}};const $N={kernelName:Ur,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:r,dy:a}=t,{alignCorners:i}=s;LS([a,r],"resizeNearestNeighborGrad");const o=hn(r.shape),l=hn(a.shape),[u,c,h,d]=r.shape,[,p,f]=a.shape,m=new Float32Array(u*c*h*d),g=n.data.get(a.dataId).values,y=[i&&p>1?c-1:c,i&&f>1?h-1:h],b=[i&&p>1?p-1:p,i&&f>1?f-1:f],w=y[0]/b[0],v=y[1]/b[1],x=1/w,A=1/v,k=2*Math.ceil(x)+2,C=2*Math.ceil(A)+2;for(let e=0;e<u;e++){const t=e*o[0];for(let e=0;e<c;e++){const n=t+e*o[1],s=Math.floor(e*x),r=Math.floor(s-k/2);for(let s=0;s<h;s++){const a=n+s*o[2],u=Math.floor(s*A),y=Math.floor(u-C/2);for(let n=0;n<d;n++){let o=0;for(let a=0;a<k;a++){const u=a+r;if(u<0||u>=p)continue;const d=t+u*l[1],m=u*w;if(e===Math.min(c-1,i?Math.round(m):Math.floor(m)))for(let e=0;e<C;e++){const t=e+y;if(t<0||t>=f)continue;const r=d+t*l[2],a=t*v;s===Math.min(h-1,i?Math.round(a):Math.floor(a))&&(o+=g[r+n])}}m[a+n]=o}}}}return n.makeTensorInfo(r.shape,r.dtype,m)}};const KN={kernelName:Hr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{dims:a}=s;LS(r,"reverse");const i=r.shape.length,o=Jt(a,r.shape);if(0===i)return HS({inputs:{x:r},backend:n});const l=new Ti(r.shape,r.dtype),u=n.bufferSync(r);for(let e=0;e<l.size;e++){const t=l.indexToLoc(e),n=t.slice();o.forEach((e=>n[e]=r.shape[e]-1-n[e])),l.set(u.get(...n),...t)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},XN={kernelName:Ba,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:s}=e,{radians:r,fillValue:a,center:i}=t,o=n,l=tn(s.dtype,Ht(s.shape)),[u,c,h,d]=s.shape,[p,f]=Mm(i,c,h),m=Math.sin(r),g=Math.cos(r),y=o.data.get(s.dataId).values;for(let e=0;e<u;e++){const t=e*h*c*d;for(let e=0;e<c;e++){const n=e*(h*d);for(let s=0;s<h;s++){const r=s*d;for(let i=0;i<d;i++){const o=[u,e,s,i],b=o[2],w=o[1];let v=(b-p)*g-(w-f)*m,x=(b-p)*m+(w-f)*g;v=Math.round(v+p),x=Math.round(x+f);let A=a;if("number"!=typeof a&&(A=3===i?255:a[i]),v>=0&&v<h&&x>=0&&x<c){A=y[t+x*(h*d)+v*d+i]}l[t+n+r+i]=A}}}}return{dataId:o.write(l,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},ZN=US($r,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1})),YN={kernelName:$r,backendName:"cpu",kernelFunc:ZN},QN=WS((e=>1/Math.sqrt(e))),JN=GS(Kr,QN),eO={kernelName:Kr,backendName:"cpu",kernelFunc:JN};function tO(e,t,n,s,r,a,i,o,l,u){const c=[s/r,r],h=e.values,d=t.values;if(0===s)return Il(n,t.dtype);const p=l instanceof Ti?l:Il(c,t.dtype);"string"==typeof l||"number"==typeof l?p.values.fill(l):"boolean"==typeof l&&p.values.fill(+l);for(let e=0;e<a;e++){const a=[];let l=0;for(let t=0;t<i;t++){const n=h[e*i+t];a.push(n),l+=n*o[t]}if(l<0||l>=s/r)throw new Error(`Invalid indices: ${a} does not index into ${n}`);for(let n=0;n<r;n++)u?p.values[l*r+n]+=d[e*r+n]:p.values[l*r+n]=0===t.rank?d[0]:d[e*r+n]}return p}const nO={kernelName:Xr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{indices:r,updates:a}=t,{shape:i}=s,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:h}=Vp(0,r,i),d=tO(n.bufferSync(r),n.bufferSync(a),i,h,u,l,o,c,0,!0);return n.makeTensorInfo(i,d.dtype,d.values)}};function sO(e,t){let n=0,s=e.length,r=0;for(;n<s;)r=Math.floor((n+s)/2),e[r]<t?n=r+1:s=r;return s}function rO(e,t){let n=0,s=e.length,r=0;for(;n<s;)r=Math.floor((n+s)/2),e[r]<=t?n=r+1:s=r;return s}const aO={kernelName:Yr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{sortedSequence:r,values:a}=t,{side:i}=s,o=function(e,t,n,s,r,a){const i=nn("int32",n*r);for(let o=0;o<n;++o){const n=e.slice(o*s,(o+1)*s),l=o*r;for(let e=0;e<r;++e)i[l+e]="left"===a?sO(n,t[e+l]):rO(n,t[e+l])}return i}(n.data.get(r.dataId).values,n.data.get(a.dataId).values,r.shape[0],r.shape[1],a.shape[1],i);return n.makeTensorInfo(a.shape,"int32",o)}};const iO={kernelName:Qr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:s,t:r,e:a}=t;LS([s,r,a],"select");const i=s.shape.length,o=n.data.get(s.dataId).values,l=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=Ui(r.dtype,a.dtype),h=mn(Ht(r.shape),c);let d=0;const p=0===i||i>1||1===r.shape.length?1:Ht(r.shape.slice(1));for(let e=0;e<o.length;e++)for(let t=0;t<p;t++)1===o[e]?h[d++]=l[e]:h[d++]=u[e];return n.makeTensorInfo(r.shape,c,h)}},oO=Wm,lO=Um,uO=US(Jr,(e=>e>=0?lO*e:oO*(Math.exp(e)-1))),cO={kernelName:Jr,backendName:"cpu",kernelFunc:uO},hO=US(sa,(e=>e<0?-1:e>0?1:0)),dO={kernelName:sa,backendName:"cpu",kernelFunc:hO},pO=US(ta,(e=>Math.sin(e))),fO={kernelName:ta,backendName:"cpu",kernelFunc:pO},mO=US(na,(e=>Math.sinh(e))),gO={kernelName:na,backendName:"cpu",kernelFunc:mO},yO=Math.log(1.1920928955078125e-7)+2,bO=US(aa,(e=>{const t=e>-yO,n=e<yO,s=Math.exp(e);let r;return r=n?s:t?e:Math.log(1+s),r})),wO={kernelName:aa,backendName:"cpu",kernelFunc:bO};const vO={kernelName:la,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{blockShape:a,paddings:i}=s;LS([r],"spaceToBatchND");const o=Ht(a),l=[[0,0]];l.push(...i);for(let e=1+a.length;e<r.shape.length;++e)l.push([0,0]);const u=vN.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),c=Fm(u.shape,a,o,!1),h=Bm(c.length,a.length,!1),d=zm(u.shape,a,o,!1),p=AE({inputs:{x:u},backend:n,attrs:{shape:c}}),f=FE({inputs:{x:p},backend:n,attrs:{perm:h}}),m=AE({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}};function xO(e,t,n,s,r,a,i){const o=t[0],l=a[0],u=new Array(l),c=new Array(o),h=t[1];if(0===l){if(0!==o)throw new Error(fg(o));return[nn(n,0),[0,h],nn(r,0),u,c]}let d=!0,p=0;const f=new Array(l).fill(0);for(let t=0;t<o;++t){const n=e[t*h];if(n<0)throw new Error(mg(t,n));if(n>=l)throw new Error(gg(t,n,l));++f[n],d=d&&n>=p,p=n}let m=!0;for(let e=0;e<l;++e){const t=0===f[e];u[e]=t,m=m&&!t,f[e]=Math.max(f[e],1),e>0&&(f[e]+=f[e-1])}if(m&&d){const t=e,n=s;for(let e=0;e<o;++e)c[e]=e;return[t,[o,h],n,u,c]}{const t=f[l-1],a=nn(n,t*h),d=nn(r,t),p=new Array(l).fill(0);for(let t=0;t<o;++t){const n=e[t*h],r=p[n],i=(0===n?0:f[n-1])+r;p[n]++;for(let n=0;n<h;++n)a[i*h+n]=e[t*h+n];d[i]=s[t],c[t]=i}for(let e=0;e<l;++e){if(0===p[e]){const t=0===e?0:f[e-1];a[t*h+0]=e;for(let e=1;e<h;++e)a[t*h+e]=0;d[t]=i}}return[a,[t,h],d,u,c]}}const AO={kernelName:ha,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:s,values:r,denseShape:a,defaultValue:i}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${a.shape}`);if(2!==s.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${s.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n        ${r.shape}`);if(0!==i.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${i.shape}`);const o=n.data.get(s.dataId).values,l=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values[0],[h,d,p,f,m]=xO(o,s.shape,s.dtype,l,r.dtype,u,c);return[n.makeTensorInfo(d,s.dtype,h),n.makeTensorInfo([d[0]],r.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],s.dtype,new Int32Array(m))]}};function kO(e,t,n,s,r){const a=Ht(s),i=t[0],o=r.length,l=[];let u=1,c=-1;for(let e=0;e<o;++e){const t=r[e];if(-1===t){if(-1!==c)throw new Error(yg(c,e));c=e,l.push(1)}else{if(t<0)throw new Error(bg(e,t));u*=t,l.push(t)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(a/u);if(u*e!==a)throw new Error(vg(s,l));l[c]=e}if(Ht(l)!==a)throw new Error(xg(s,l));const h=s.length,d=[];if(h>0){d[h-1]=1;for(let e=h-2;e>=0;--e)d[e]=d[e+1]*s[e+1]}const p=[];if(o>0){p[o-1]=1;for(let e=o-2;e>=0;--e)p[e]=p[e+1]*l[e+1]}const f=nn(n,i*o);for(let t=0;t<i;++t){let n=0;for(let s=0;s<h;++s)n+=e[t*h+s]*d[s];for(let e=0;e<o;++e)f[t*o+e]=Math.trunc(n/p[e]),n%=p[e]}return[f,[i,o],l]}const CO={kernelName:da,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:s,inputShape:r,newShape:a}=t;if(2!==s.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${s.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const i=Array.from(n.data.get(r.dataId).values),o=n.data.get(s.dataId).values,l=Array.from(n.data.get(a.dataId).values),[u,c,h]=kO(o,s.shape,s.dtype,i,l);return[n.makeTensorInfo(c,s.dtype,u),n.makeTensorInfo([h.length],a.dtype,new Int32Array(h))]}};function SO(e,t,n,s,r,a=!1,i=0){const o=s.length,l=[t[0],e.length/t[0]],u=l[1],c=o>0?r[o-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const h=t.slice();h[0]=c;const d=nn(n,h.reduce(((e,t)=>e*t),1));if(0===o)return c>0&&d.fill(i),[d,h];if(c<=0)throw new Error("segment ids must be >= 0");let p=0,f=1,m=0,g=r[p];for(;;){let t=0;if(f<o){if(t=r[f],g===t){++f;continue}if(g>=t)throw new Error("segment ids are not increasing")}if(g<0||g>=c)throw new Error(Cg(g,c));g>m&&d.fill(i,m*u,g*u);for(let t=p;t<f;++t){const n=s[t];if(n<0||n>=l[0])throw new Error(Sg(t,s[t],l[0]));for(let t=0;t<u;t++)d[g*u+t]+=e[n*u+t]}if(a)for(let e=0;e<u;e++)d[g*u+e]/=f-p;if(p=f,++f,m=g+1,g=t,f>o)break}return m<c&&d.fill(i,m*u,c*u),[d,h]}const EO={kernelName:pa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:s,indices:r,segmentIds:a}=t;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[u,c]=SO(i,s.shape,s.dtype,o,l,!0);return n.makeTensorInfo(c,s.dtype,u)}};const _O={kernelName:fa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:s,indices:r,segmentIds:a}=t;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[u,c]=SO(i,s.shape,s.dtype,o,l);return n.makeTensorInfo(c,s.dtype,u)}};const IO={kernelName:ma,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{sparseIndices:r,sparseValues:a,defaultValue:i}=t,{outputShape:o}=s,{sliceRank:l,numUpdates:u,sliceSize:c,strides:h,outputSize:d}=Vp(0,r,o),p=!1,f=n.bufferSync(r);let m;switch(a.dtype){case"bool":m=tO(f,n.bufferSync(a),o,d,c,u,l,h,Boolean(n.data.get(i.dataId).values[0]),p);break;case"float32":m=tO(f,n.bufferSync(a),o,d,c,u,l,h,n.data.get(i.dataId).values[0],p);break;case"int32":m=tO(f,n.bufferSync(a),o,d,c,u,l,h,n.data.get(i.dataId).values[0],p);break;case"string":m=tO(f,n.bufferSync(a),o,d,c,u,l,h,mi(n.data.get(i.dataId).values[0]),p);break;default:throw new Error(`Unsupported type ${a.dtype}`)}return n.makeTensorInfo(o,m.dtype,m.values)}};const TO={kernelName:ua,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{numOrSizeSplits:a,axis:i}=s,o=Jt(i,r.shape)[0],l=pg(r,a,o),u=new Array(r.shape.length).fill(0),c=r.shape.slice();return l.map((e=>{const t=[...c];t[o]=e;const s=o_({inputs:{x:r},backend:n,attrs:{begin:u,size:t}});return u[o]+=e,s}))}},NO=WS((e=>Math.sqrt(e))),OO=US(ia,(e=>Math.sqrt(e))),RO={kernelName:ia,backendName:"cpu",kernelFunc:OO},DO={kernelName:ya,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,s=t;LS(n,"square");const r=s.data.get(n.dataId).values,a=new Float32Array(r.length);for(let e=0;e<r.length;++e){const t=r[e];a[e]=t*t}return{dataId:s.write(a,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},MO=ZS(((e,t)=>{const n=e-t;return n*n})),FO=gE(ga,MO),BO={kernelName:ga,backendName:"cpu",kernelFunc:FO},zO=WS(((e,t)=>{const{pattern:n,replaceGlobal:s,rewrite:r}=t;return e.replace(new RegExp(n,s?"g":""),r)})),LO=GS(ba,zO),PO={kernelName:ba,backendName:"cpu",kernelFunc:LO},VO=US(Ma,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),WO={kernelName:Ma,backendName:"cpu",kernelFunc:VO};function UO(e,t,n,s){const r=Il(e,t.dtype);for(let e=0;e<r.size;e++){const a=r.indexToLoc(e),i=new Array(a.length);for(let e=0;e<i.length;e++)i[e]=a[e]*n[e]+s[e];r.set(t.get(...i),...a)}return r}const GO={kernelName:wa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{begin:a,end:i,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:h,shrinkAxisMask:d}=s;LS(r,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:b,end:w,strides:v}=Ju(r.shape,a,i,o,l,u,c,h,d);let x;if(m)x=AE({inputs:{x:r},backend:n,attrs:{shape:f}});else if(g||y){Gt(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=Vu(b,w,v),t=o_({inputs:{x:r},backend:n,attrs:{begin:b,size:e}});x=AE({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=UO(p,n.bufferSync(r),v,b);x=n.makeTensorInfo(f,e.dtype,e.values)}return x}};class qO{constructor(e,t,n,s,r,a){this.separator=fi(e),this.nGramWidths=t,this.leftPad=fi(n),this.rightPad=fi(s),this.padWidth=r,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,s,r,a){for(let i=0;i<r;++i){const o=this.getPadWidth(a),l=Math.max(0,o-i),u=Math.max(0,o-(r-(i+1))),c=a-(l+u),h=t+(l>0?0:i-o);let d=0;d+=l*this.leftPad.length;for(let t=0;t<c;++t)d+=e[h+t].length;d+=u*this.rightPad.length;d+=(l+u+c-1)*this.separator.length,n[s+i]=new Uint8Array(d);const p=n[s+i];let f=0;const m=e=>e.forEach((e=>p[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[h+t]),m(this.separator);if(c>0){m(e[h+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,s=t.length;if(s>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let r=1;r<s;++r){let s=t[r]>=e;if(s=s&&t[r]<=n,!s)throw new Error(`Invalid split value ${t[r]}, must be in [${e}, ${n}]`);e=t[r]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const r=s-1,a=nn("int32",s);if(0===n||0===s){const e=new Array(n);for(let e=0;e<=r;++e)a[e]=0;return[e,a]}a[0]=0;for(let e=1;e<=r;++e){const n=t[e]-t[e-1];let s=0;this.nGramWidths.forEach((e=>{s+=this.getNumNGrams(n,e)})),this.preserveShort&&n>0&&0===s&&(s=1),a[e]=a[e-1]+s}const i=new Array(a[r]);for(let n=0;n<r;++n){const s=t[n];let r=a[n];if(this.nGramWidths.forEach((a=>{const o=t[n+1]-t[n],l=this.getNumNGrams(o,a);this.createNGrams(e,s,i,r,l,a),r+=l})),this.preserveShort&&r===a[n]){const a=t[n+1]-t[n];if(0===a)continue;const o=a+2*this.padWidth,l=1;this.createNGrams(e,s,i,r,l,o)}}return[i,a]}}function jO(e,t,n,s,r,a,i,o){return new qO(n,s,r,a,i,o).compute(e,t)}const HO={kernelName:va,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{separator:r,nGramWidths:a,leftPad:i,rightPad:o,padWidth:l,preserveShortSequences:u}=s,{data:c,dataSplits:h}=t,d=n.data.get(c.dataId).values,p=n.data.get(h.dataId).values,[f,m]=jO(d,p,r,a,i,o,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(h.shape,"int32",m)]}};function $O(e,t,n,s){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)s.push(e.subarray(t,t+1));return}if(1===t.length){const r=t[0];let a=e.indexOf(r);for(;-1!==a;){const t=e.subarray(0,a);n&&0===t.length||s.push(t),a=(e=e.subarray(a+1)).indexOf(r)}return void(n&&0===e.length||s.push(e))}let r=0;for(let a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){const t=e.subarray(r,a);n&&0===t.length||s.push(t),r=a+1}}function KO(e,t,n){const s=e.length,r=[];let a=0,i=0;const o=new Array(s);for(let l=0;l<s;++l){const s=r.length;$O(e[l],t,n,r);const u=r.length-s;o[l]=u,a+=u,i=Math.max(i,u)}const l=nn("int32",2*a),u=new Array(a),c=[s,i];let h=0;for(let e=0;e<s;++e)for(let t=0;t<o[e];++t)l[2*h]=e,l[2*h+1]=t,u[h]=r[h],++h;return[l,u,c]}const XO={kernelName:xa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{skipEmpty:r}=s,{input:a,delimiter:i}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values[0],[u,c,h]=KO(o,l,r),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};function ZO(e,t){const n=nn("int32",e.length);for(let s=0;s<e.length;++s)n[s]=ci(e[s]).modulo(t).getLowBitsUnsigned();return n}const YO={kernelName:Aa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{numBuckets:r}=s,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=ZO(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",i)}},QO=US(Ca,(e=>Math.tan(e))),JO={kernelName:Ca,backendName:"cpu",kernelFunc:QO},eR=US(Sa,(e=>Math.tanh(e)));const tR={kernelName:Zr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:s,indices:r,updates:a}=t,{sliceRank:i,numUpdates:o,sliceSize:l,strides:u,outputSize:c}=Vp(0,r,s.shape),h=n.bufferSync(r),d=n.bufferSync(a),p=n.bufferSync(s),f=tO(h,d,s.shape,c,l,o,i,u,p,!1);return n.makeTensorInfo(s.shape,f.dtype,f.values)}};function nR(e,t){const n=new Array(e.rank);for(let s=0;s<n.length;s++)n[s]=e.shape[s]*t[s];const s=Il(n,e.dtype);for(let t=0;t<s.values.length;++t){const n=s.indexToLoc(t),r=new Array(e.rank);for(let t=0;t<r.length;t++)r[t]=n[t]%e.shape[t];const a=e.locToIndex(r);s.values[t]=e.values[a]}return s}const sR={kernelName:Ea,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{reps:a}=s;LS(r,"tile");const i=nR(n.bufferSync(r),a);return n.makeTensorInfo(i.shape,i.dtype,i.values)}},rR=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function aR(e,t,n=0,s=e.length-1){for(;s>n;){if(s-n>600){const r=s-n+1,a=t-n+1,i=Math.log(r),o=.5*Math.exp(2*i/3),l=.5*Math.sqrt(i*o*(r-o)/r)*Math.sign(a-r/2);aR(e,t,Math.max(n,Math.floor(t-a*o/r+l)),Math.min(s,Math.floor(t+(r-a)*o/r+l)))}const r=e[t];let a=n,i=s;for(Ut(e,n,t),rR(e[s],r)>0&&Ut(e,n,s);a<i;){for(Ut(e,a,i),a++,i--;rR(e[a],r)<0;)a+=1;for(;rR(e[i],r)>0;)i-=1}0===rR(e[n],r)?Ut(e,n,i):(i+=1,Ut(e,i,s)),i<=t&&(n=i+1),t<=i&&(s=i-1)}}function iR(e,t,n,s,r){const a=t[t.length-1],[i,o]=[e.length/a,a],l=tn(n,i*s),u=tn("int32",i*s);for(let t=0;t<i;t++){const n=t*o,a=e.subarray(n,n+o);let i=new Array(a.length);a.forEach(((e,t)=>i[t]={value:e,index:t})),s<i.length&&(aR(i,s),i=i.slice(0,s)),r&&i.sort(rR);const c=t*s,h=l.subarray(c,c+s),d=u.subarray(c,c+s);for(let e=0;e<s;e++)h[e]=i[e].value,d[e]=i[e].index}const c=t.slice();return c[c.length-1]=s,[Il(c,n,l),Il(c,"int32",u)]}const oR={kernelName:_a,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{k:a,sorted:i}=s;LS(r,"topk");const o=n.data.get(r.dataId).values,[l,u]=iR(o,r.shape,r.dtype,a,i);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}};const lR={kernelName:Ia,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:s}=e,{image:r,transforms:a}=t,{interpolation:i,fillMode:o,fillValue:l,outputShape:u}=n,[c,h,d,p]=r.shape,[f,m]=null!=u?u:[h,d],g=[c,f,m,p],y=hn(r.shape),b=y[0],w=y[1],v=y[2],x=hn(g),A=x[0],k=x[1],C=x[2],S=tn(r.dtype,Ht(g));S.fill(l);const E=s.data.get(r.dataId).values,_=s.data.get(a.dataId).values;for(let e=0;e<c;++e){const t=1===a.shape[0]?_:_.subarray(8*e,8*e+8);for(let n=0;n<f;++n)for(let s=0;s<m;++s)for(let r=0;r<p;++r){let a;const u=t[6]*s+t[7]*n+1;if(0===u)continue;const c=(t[0]*s+t[1]*n+t[2])/u,p=(t[3]*s+t[4]*n+t[5])/u,f=uR(c,d,o),m=uR(p,h,o);switch(i){case"nearest":a=hR(E,h,d,b,w,v,e,m,f,r,l);break;case"bilinear":a=dR(E,h,d,b,w,v,e,m,f,r,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}S[e*A+n*k+s*C+r]=a}return s.makeTensorInfo(g,r.dtype,S)}return{dataId:s.write(S,g,r.dtype),shape:r.shape,dtype:r.dtype}}};function uR(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return Vt(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return Vt(0,n,t-1)}(e,t);case"nearest":return function(e,t){return Vt(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function cR(e,t,n,s,r,a,i,o,l,u,c){return 0<=o&&o<t&&0<=l&&l<n?e[i*s+o*r+l*a+u]:c}function hR(e,t,n,s,r,a,i,o,l,u,c){return cR(e,t,n,s,r,a,i,Math.round(o),Math.round(l),u,c)}function dR(e,t,n,s,r,a,i,o,l,u,c){const h=Math.floor(o),d=Math.floor(l),p=h+1,f=d+1;return(p-o)*((f-l)*cR(e,t,n,s,r,a,i,h,d,u,c)+(l-d)*cR(e,t,n,s,r,a,i,h,f,u,c))+(o-h)*((f-l)*cR(e,t,n,s,r,a,i,p,d,u,c)+(l-d)*cR(e,t,n,s,r,a,i,p,f,u,c))}function pR(e,t,n,s){const r=Jt(t,n)[0],a=[1,n[0],1];for(let e=0;e<r;e++)a[0]*=n[e];a[1]=n[r];for(let e=r+1;e<n.length;e++)a[2]*=n[e];const i=new Map,o=new Int32Array(n[r]),l=new Ti(a,s,e),u=[],c=1===a[0]&&1===a[2];for(let t=0;t<n[r];t++){let n;if(c)n=e[t].toString();else{const e=[];for(let n=0;n<a[0];n++)for(let s=0;s<a[2];s++)e.push(l.get(n,t,s));n=e.join(",")}const s=i.get(n);if(null!=s)o[t]=s;else{const e=i.size;i.set(n,e),o[t]=e,u.push(t)}}const h=a.slice();h[1]=i.size;const d=new Ti(h,s);u.forEach(((e,t)=>{for(let n=0;n<a[0];n++)for(let s=0;s<a[2];s++)d.set(l.get(n,e,s),n,t,s)}));const p=n.slice();return p[r]=h[1],{outputValues:d.values,outputShape:p,indices:o}}const fR={kernelName:Na,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:s}=e,{axis:r}=n,{x:a}=t;LS(a,"unique");const i=s.data.get(a.dataId).values,{outputValues:o,outputShape:l,indices:u}=pR(i,r,a.shape,a.dtype);return[s.makeTensorInfo(l,a.dtype,o),s.makeTensorInfo([u.length],"int32",u)]}};const mR={kernelName:Oa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{value:r}=t;let{axis:a}=s;a<0&&(a+=r.shape.length);const i=r.shape.length,o=r.shape[a],l=new Array(i-1);let u=0;for(let e=0;e<i;e++)e!==a&&(l[u++]=r.shape[e]);const c=new Array(i).fill(0),h=r.shape.slice();h[a]=1;const d=new Array(o);for(let e=0;e<d.length;e++){c[a]=e;const t=o_({inputs:{x:r},backend:n,attrs:{begin:c,size:h}});d[e]=AE({inputs:{x:t},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(t)}return d}};const gR={kernelName:Ra,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,segmentIds:a}=t,{numSegments:i}=s;LS(r,"unsortedSegmentSum");const o=[],l=[],u=r.shape.length-a.shape.length;let c=a;for(let e=0;e<u;++e){const t=xI({inputs:{input:c},backend:n,attrs:{dim:e+1}});c=t,l.push(t)}for(let e=0;e<i;++e){const t=hi(e,"int32"),s=n.makeTensorInfo([],"int32",t),a=lI({inputs:{a:s,b:c},backend:n}),i=fE({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),u=tI({inputs:{a:i,b:r},backend:n}),h=sI({inputs:{x:u},backend:n,attrs:{axis:0,keepDims:!1}});o.push(h),l.push(s),l.push(a),l.push(i),l.push(u),l.push(h)}const h=bN({inputs:o,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}},yR=[EE,IE,NE,RE,xE,DE,zE,LE,PE,VE,UE,qE,HE,XE,YE,t_,n_,s_,r_,SE,a_,u_,d_,m_,g_,mE,w_,x_,uE,A_,__,T_,N_,O_,R_,D_,M_,B_,L_,P_,V_,W_,U_,G_,j_,H_,$_,K_,X_,Z_,Y_,Q_,aI,jS,iI,uI,yI,vI,AI,SI,BI,LI,PI,UI,jI,HI,$I,XI,YI,eT,sT,$S,rT,S_,iT,lT,cT,XS,pT,gT,bT,xT,kT,ET,IT,OT,RT,DT,BT,PT,VT,WT,UT,GT,qT,jT,HT,XT,ZT,JT,nN,nI,rN,iN,lN,cN,pN,fN,yN,wN,vN,kN,JS,SN,NN,DN,PN,WN,dE,II,GN,tE,sE,kE,qN,jN,HN,$N,KN,XN,YN,eO,nO,aO,iO,cO,iE,dO,fO,gO,l_,tN,wO,vO,AO,CO,EO,_O,IO,TO,RO,DO,BO,PO,WO,GO,HO,XO,YO,RI,rI,JO,{kernelName:Sa,backendName:"cpu",kernelFunc:eR},tR,sR,oR,lR,BE,fR,mR,gR,gN];for(const e of yR)$a(e);const bR={},wR={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function vR(e,t){if(!(e in bR)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(Cn().getBool("IS_SAFARI")||"undefined"==typeof OffscreenCanvas||2!==e){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete bR[e]}),!1),Cn().getBool("SOFTWARE_WEBGL_ENABLED")&&(wR.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",wR)||n.getContext("experimental-webgl",wR);return n.getContext("webgl2",wR)}(e,t);if(null===n)return null;bR[e]=n}const n=bR[e];return null==n||n.isContextLost()?(delete bR[e],vR(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),bR[e])}var xR,AR,kR;function CR(e,t){return[t,e]}function SR(e){const t=Ht(e);return Xt(Math.ceil(t/4))}function ER(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function _R(e,t){const n=e;let s,r,a,i,o,l,u,c,h,d;return 2===Cn().getNumber("WEBGL_VERSION")?(s=n.R32F,r=n.R16F,a=n.RGBA16F,i=n.RGBA32F,o=n.RED,u=4,c=1,h=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(s=e.RGBA,r=e.RGBA,a=e.RGBA,i=n.RGBA,o=e.RGBA,u=4,c=4,h=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:s,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:h,textureTypeFloat:d}}function IR(e,t){const n=t();return Cn().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(xR||(xR={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(AR||(AR={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(kR||(kR={}));function TR(e){return!!(Cn().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function NR(e,t){return PR(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const OR=/ERROR: [0-9]+:([0-9]+):/g;function RR(e,t){const n=OR.exec(t);if(null==n)return;const s=+n[1],r=e.split("\n"),a=r.length.toString().length+2,i=r.map(((e,t)=>Zt((t+1).toString(),a)+e));let o=0;for(let e=0;e<i.length;e++)o=Math.max(i[e].length,o);i.slice(0,s-1),i.slice(s-1,s),i.slice(s)}function DR(e,t){if(IR(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw new Error("Shader program validation failed.")}function MR(e,t,n,s,r,a,i){const o=e.getAttribLocation(t,n);return-1!==o&&(IR(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,s))),IR(e,(()=>e.vertexAttribPointer(o,r,e.FLOAT,!1,a,i))),IR(e,(()=>e.enableVertexAttribArray(o))),!0)}function FR(e,t,n,s){IR(e,(()=>function(e,t,n){VR(e,n),IR(e,(()=>e.activeTexture(e.TEXTURE0+n))),IR(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,s))),IR(e,(()=>e.uniform1i(n,s)))}function BR(e,t,n){IR(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),IR(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function zR(e,t){IR(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),IR(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function LR(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function PR(e,t,n){const s=IR(e,(()=>t()));if(null==s)throw new Error(n);return s}function VR(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,s=t+e.TEXTURE0;if(s<e.TEXTURE0||s>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function WR(e,t=2){return Ht(e.slice(0,e.length-t))}function UR(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function GR(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[WR(e),...UR(e)]),t}function qR(e){return e%2==0}function jR(e,t){if($t(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],s=t[t.length-1];if(n===s)return!0;if(qR(n)&&qR(s)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&qR(e[0])&&qR(t[0])}let HR,$R;function KR(e,t){return null!=e.getExtension(t)}function XR(e){try{if(null!=vR(e))return!0}catch(e){return!1}return!1}function ZR(e){if(0===e)return!1;const t=vR(e);if(1!==e){if(KR(t,"EXT_color_buffer_float"))return YR(t);const e="EXT_color_buffer_half_float";if(KR(t,e)){const n=t.getExtension(e);return function(e,t){const n=_R(e,t),s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const r=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,r,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(s),e.deleteFramebuffer(i),o}(t,n)}return!1}if(!KR(t,"OES_texture_float"))return!1;if(!KR(t,"WEBGL_color_buffer_float"))return!1;return YR(t)}function YR(e){const t=_R(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(s),r}function QR(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&Gt("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const JR=Cn();function eD(){let e,t,n,s,r,a,i,o,l,u;return 2===Cn().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",s="in",r="texture",a="outputColor",i="out vec4 outputColor;",o=Cn().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",s="varying",r="texture2D",a="gl_FragColor",i="",o="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:s,texture2D:r,output:a,defineOutput:i,defineSpecialNaN:o,defineSpecialInf:l,defineRound:u}}function tD(e,t,n="index"){const s=hn(t);return s.map(((t,r)=>`${`int ${e[r]} = ${n} / ${t}`}; ${r===s.length-1?`int ${e[r+1]} = ${n} - ${e[r]} * ${t}`:`index -= ${e[r]} * ${t}`};`)).join("")}function nD(e,t,n="index"){const s=hn(t);return s.map(((t,r)=>`${`int ${e[r]} = ${n} / outShapeStrides[${r}]`}; ${r===s.length-1?`int ${e[r+1]} = ${n} - ${e[r]} * outShapeStrides[${r}]`:`index -= ${e[r]} * outShapeStrides[${r}]`};`)).join("")}function sD(e,t,n="index"){const s=function(e,t){const n=e.length,s=e.map((e=>`${t}[${e}]`)),r=new Array(n-1);r[n-2]=s[n-1];for(let e=n-3;e>=0;--e)r[e]=`(${r[e+1]} * ${s[e+1]})`;return r}(e.map(((e,t)=>t)),t);return s.map(((t,r)=>`${`int ${e[r]} = ${n} / ${s[r]}`}; ${r===s.length-1?`int ${e[r+1]} = ${n} - ${e[r]} * ${s[r]}`:`index -= ${e[r]} * ${s[r]}`};`)).join("")}function rD(e){const t=hn(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}JR.registerFlag("HAS_WEBGL",(()=>JR.getNumber("WEBGL_VERSION")>0)),JR.registerFlag("WEBGL_VERSION",(()=>XR(2)?2:XR(1)?1:0)),JR.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),JR.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===JR.get("WEBGL_VERSION"))),JR.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),JR.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),JR.registerFlag("WEBGL_PACK",(()=>JR.getBool("HAS_WEBGL"))),JR.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_PACK_CLIP",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_PACK_REDUCE",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_LAZILY_UNPACK",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_CONV_IM2COL",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>JR.getBool("WEBGL_PACK"))),JR.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==HR){const t=vR(e);HR=t.getParameter(t.MAX_TEXTURE_SIZE)}return HR}(JR.getNumber("WEBGL_VERSION")))),JR.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==$R){const t=vR(e);$R=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,$R)}(JR.getNumber("WEBGL_VERSION")))),JR.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=JR.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=vR(e);return t=KR(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:KR(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),JR.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>JR.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!so())),JR.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=vR(e);if(1===e){if(!KR(t,"OES_texture_float"))return!1}else if(!KR(t,"EXT_color_buffer_float"))return!1;return YR(t)}(JR.getNumber("WEBGL_VERSION")))),JR.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!JR.getBool("WEBGL_FORCE_F16_TEXTURES")&&JR.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),JR.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>ZR(JR.getNumber("WEBGL_VERSION")))),JR.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=JR.getNumber("WEBGL_VERSION"))&&null!=vR(e).fenceSync;var e})),JR.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>JR.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),JR.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!=typeof e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),JR.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>so()?1:-1),(e=>{if("number"!=typeof e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),JR.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),JR.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),JR.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),JR.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),JR.registerFlag("WEBGL_EXP_CONV",(()=>!1)),JR.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>JR.getBool("IS_TEST"))),JR.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),JR.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),JR.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),JR.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const aD="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:iD}=r;function oD(e,t,n){const s=[];if(e.forEach((e=>{const t=Ht(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?s.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(s.push(`uniform sampler2D ${e.name};`),s.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=bD(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:s.push(`uniform int ${e.name}Shape;`);break;case 2:s.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:s.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:s.push(`uniform ivec4 ${e.name}Shape;`)}s.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:s.push("uniform int outShape;");break;case 2:s.push("uniform ivec2 outShape;"),s.push("uniform int outShapeStrides;");break;case 3:s.push("uniform ivec3 outShape;"),s.push("uniform ivec2 outShapeStrides;");break;case 4:s.push("uniform ivec4 outShape;"),s.push("uniform ivec3 outShapeStrides;")}s.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{s.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const r=s.join("\n"),a=e.map((e=>function(e,t,n=!1,s){let r="";r+=n?uD(e,s):lD(e,s);const a=e.shapeInfo.logicalShape,i=t.logicalShape;a.length<=i.length&&(r+=n?function(e,t){const n=e.name,s=n.charAt(0).toUpperCase()+n.slice(1),r="get"+s+"AtOutCoords",a=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,o=iD(e.shapeInfo.logicalShape,t.logicalShape),l=yD(i),u=i-a;let c;const h=["x","y","z","w","u","v"];c=0===a?"":i<2&&o.length>=1?"coords = 0;":o.map((e=>`coords.${h[e+u]} = 0;`)).join("\n");let d="";d=i<2&&a>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+u]}`)).join(", ");let p="return outputValue;";const f=1===Ht(e.shapeInfo.logicalShape),m=Ht(t.logicalShape),g=1===m;if(1!==a||f||g){if(f&&!g)p=1===i?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(o.length){const e=a-2,t=a-1;o.indexOf(e)>-1&&o.indexOf(t)>-1?p="return vec4(outputValue.x);":o.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${r}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${s}(${d});\n      ${p}\n    }\n  `}(e,t):function(e,t){const n=e.name,s=n.charAt(0).toUpperCase()+n.slice(1),r="get"+s+"AtOutCoords",a=t.texShape,i=e.shapeInfo.texShape,o=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&o===l&&null==e.shapeInfo.flatOffset&&$t(i,a))return`\n      float ${r}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=yD(l),c=iD(e.shapeInfo.logicalShape,t.logicalShape),h=l-o;let d;const p=["x","y","z","w","u","v"];d=0===o?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${p[e+h]} = 0;`)).join("\n");let f="";f=l<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${p[t+h]}`)).join(", ");return`\n    float ${r}() {\n      ${u} coords = getOutputCoords();\n      ${d}\n      return get${s}(${f});\n    }\n  `}(e,t));return r}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),i=t.texShape,o=eD(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(o);let u,c,h=function(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${cD}\n    ${hD}\n    ${dD}\n  `;return t}(o);t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return fD();case 1:return function(e,t,n){const s=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===s[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${s[1]}.0);\n      }\n    `;if(1===s[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${s[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      return 2 * (resTexRC.x * ${s[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const s=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if($t(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${s[0]}, ${s[1]}));\n      }\n    `;const r=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const s=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[2]/2),a=r*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const s=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),a=r*Math.ceil(e[e.length-2]/2);let i=a,o="",l="b, r, c";for(let t=2;t<e.length-1;t++)i*=e[e.length-t-1],o=`\n      int b${t} = index / ${i};\n      index -= b${t} * ${i};\n    `+o,l=`b${t}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n\n      ${o}\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,i,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(o)):(u=function(e,t,n){switch(e.length){case 0:return fD();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if($t(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${nD(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const s=tD(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${s}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${nD(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const s=tD(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${s}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=tD(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=tD(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,i,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(o)),n.packedInputs&&(h+=pD);return[h,l,c,r,u,a,n.userCode].join("\n")}function lD(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${s}() {return ${n};}`;const[r,a]=e.shapeInfo.texShape;if(1===r&&1===a)return`\n      float ${s}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const i=mD(n);if(t)return`\n    float ${s}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[o,l]=e.shapeInfo.texShape;return`\n    float ${s}() {\n      vec2 uv = uvFromFlat(${o}, ${l}, ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${s}(int index) {\n        ${gD(e)}\n      }\n    `;const r=e.shapeInfo.texShape,a=r[0],i=r[1];if(1===i&&1===a)return`\n      float ${s}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const o=mD(n);if(1===i)return t?`\n      float ${s}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${s}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${a}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===a)return t?`\n      float ${s}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${s}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${i}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${s}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${s}(int index) {\n      vec2 uv = uvFromFlat(${a}, ${i}, index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=e.shapeInfo.texShape;if(null!=a&&$t(n,a)){if(t)return`\n      float ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `;const e=a[0];return`\n    float ${r}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${a[1]}.0, ${e}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `}const{newShape:i,keptDims:o}=en(n),l=i;if(l.length<n.length){const n=["row","col"];return`\n      ${lD(wD(e,l),t)}\n      float ${r}(int row, int col) {\n        return ${r}(${vD(n,o)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${gD(e)}\n      }\n    `;const u=a[0],c=a[1],h=mD(s);if(1===c)return t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${s}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${s}TexShape[0]));\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `;if(1===u)return t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${s}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${s}TexShape[1]), 0.5);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);\n      return sampleTexture(${s}, uv);\n    }\n  `;if(t)return`\n      float ${r}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${s}Shape[1] + col + ${h};\n        vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);\n        return sampleTexture(${s}, uv);\n      }\n    `;return`\n  float ${r}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${h};\n    vec2 uv = uvFromFlat(${u}, ${c}, index);\n    return sampleTexture(${s}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=n[1]*n[2],i=n[2],{newShape:o,keptDims:l}=en(n),u=o;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${lD(wD(e,u),t)}\n        float ${r}(int row, int col, int depth) {\n          return ${r}(${vD(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${a}, ${i}, 1)));\n        ${gD(e)}\n      }\n    `;const c=e.shapeInfo.texShape,h=c[0],d=c[1],p=e.shapeInfo.flatOffset;if(d===a&&null==p)return t?`\n      float ${r}(int row, int col, int depth) {\n        int stride1 = ${s}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n        float ${r}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${i}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${d}.0, ${h}.0);\n          return sampleTexture(${s}, uv);\n        }\n      `;if(d===i&&null==p)return t?`\n      float ${r}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${s}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${r}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${h}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `;const f=mD(s);if(t)return`\n    float ${r}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${s}Shape[1] * ${s}Shape[2];\n      int stride1 = ${s}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${f};\n      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);\n      return sampleTexture(${s}, uv);\n    }\n    `;return`\n      float ${r}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a} + col * ${i} + depth + ${f};\n        vec2 uv = uvFromFlat(${h}, ${d}, index);\n        return sampleTexture(${s}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=n[3],i=n[2]*a,o=n[1]*i,{newShape:l,keptDims:u}=en(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${lD(wD(e,l),t)}\n      float ${r}(int row, int col, int depth, int depth2) {\n        return ${r}(${vD(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${o}, ${i}, ${a}, 1)));\n        ${gD(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1],f=`int stride2 = ${s}Shape[3];`,m=`int stride1 = ${s}Shape[2] * stride2;`,g=`int stride0 = ${s}Shape[1] * stride1;`;if(p===o&&null==c)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        ${f}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${i}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${s}, uv);\n      }\n    `;if(p===a&&null==c)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${s}Shape[1] * ${s}Shape[2], ${s}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${s}, uv);\n      }\n    `;const y=mD(s);if(t)return`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${f}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index + ${y});\n      return sampleTexture(${s}, uv);\n    }\n  `;return`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${i} +\n          depth * ${a} + depth2;\n      vec2 uv = uvFromFlat(${d}, ${p}, index + ${y});\n      return sampleTexture(${s}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t[4],a=t[3]*r,i=t[2]*a,o=t[1]*i,{newShape:l,keptDims:u}=en(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${lD(wD(e,l))}\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        return ${s}(${vD(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${o}, ${i}, ${a}, ${r})) +\n          depth3;\n        ${gD(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1];if(p===o&&null==c)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${i}, ${a}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===r&&null==c)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const f=mD(n);return`\n    float ${s}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${i} + depth * ${a} +\n          depth2 * ${r} + depth3 + ${f};\n      vec2 uv = uvFromFlat(${d}, ${p}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:a}=en(t);if(r.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${lD(wD(e,r))}\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${s}(${vD(t,a)});\n      }\n    `}const i=t[5],o=t[4]*i,l=t[3]*o,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${s}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${u}, ${l}, ${o})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${i}, 1)));\n        ${gD(e)}\n      }\n    `;const h=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],f=d[1];if(f===c&&null==h)return`\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${l}, ${o}, ${i})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===i&&null==h)return`\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=mD(n);return`\n    float ${s}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth2 * ${o} + depth3 * ${i} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${p}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function uD(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),s=eD();return`\n    vec4 ${n}() {\n      return ${s.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e.shapeInfo.texShape,a=eD();if(t)return`\n    vec4 ${s}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${a.texture2D}(${n}, uv);\n    }\n  `;const i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`\n    vec4 ${s}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${i[0]}, ${i[1]}, index);\n      return ${a.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=e.shapeInfo.texShape,i=a[0],o=a[1],l=eD();if(null!=a&&$t(n,a))return t?`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n\n        return ${l.texture2D}(${s}, uv);\n      }\n    `:`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${i}.0);\n\n        return ${l.texture2D}(${s}, uv);\n      }\n    `;if(t)return`\n    vec4 ${r}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${s}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${s}, uv);\n    }\n  `;const u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=Math.ceil(n[1]/2);return`\n    vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);\n      return ${l.texture2D}(${s}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=e.shapeInfo.texShape,i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){const s=[1,2],a=["b","row","col"];return`\n        ${uD(wD(e,n.slice(1)),t)}\n        vec4 ${r}(int b, int row, int col) {\n          return ${r}(${vD(a,s)});\n        }\n      `}const o=eD();if(t)return`\n    vec4 ${r}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${s}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${s}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${o.texture2D}(${s}, uv);\n    }\n  `;const l=i[0],u=i[1],c=Math.ceil(n[2]/2),h=c*Math.ceil(n[1]/2);return`\n    vec4 ${r}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${u}, ${h}, ${c}, b, row, col);\n      return ${o.texture2D}(${s}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=eD();if(t)return`\n    vec4 ${s}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${n}, uv);\n    }\n  `;const a=e.shapeInfo.logicalShape,i=a.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=l[0],c=l[1],h=Math.ceil(a[i-1]/2);let d=h*Math.ceil(a[i-2]/2),p="int b, int row, int col",f=`b * ${d} + (row / 2) * ${h} + (col / 2)`;for(let e=2;e<i-1;e++)p=`int b${e}, `+p,d*=a[i-e-1],f=`b${e} * ${d} + `+f;return`\n    vec4 ${s}(${p}) {\n      int index = ${f};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});\n      return ${r.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const cD="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",hD="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",dD="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",pD="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function fD(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function mD(e){return`offset${e}`}function gD(e){const t=e.name,n=Ht(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function yD(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function bD(e,t,n){const{newShape:s,keptDims:r}=en(t),a=t.length,i=e&&3===a&&1===t[0],o=i?t.slice(1):s,l=!e&&a>1&&!$t(t,n)&&s.length<a||i;return{useSqueezeShape:l,uniformShape:l?o:t,keptDims:r}}function wD(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function vD(e,t){return t.map((t=>e[t])).join(", ")}function xD(e,t,n,s){const r=n.map(((e,n)=>{const s={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(s.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:s}})),a=r.map((e=>e.shapeInfo)),i={logicalShape:s.shape,texShape:s.texData.texShape,isUniform:!1,isPacked:s.texData.isPacked,flatOffset:null},o=oD(r,i,t),l=function(e,t){const n=PR(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(IR(e,(()=>e.shaderSource(n,t))),IR(e,(()=>e.compileShader(n))),Cn().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw RR(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,o),u=e.createProgram(l);return Cn().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:a,outShapeInfo:i,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:a,outShapeInfo:i},AD(e,t,u)))}function AD(e,t,n){const s=[],r=[];let a,i,o,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),1===Cn().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const r of t.variableNames){const a={name:r,uniform:e.getUniformLocation(n,r,c),offset:e.getUniformLocation(n,`offset${r}`,c)};t.enableShapeUniforms&&(a.shape=e.getUniformLocation(n,`${r}Shape`,c),a.texShape=e.getUniformLocation(n,`${r}TexShape`,c)),s.push(a)}if(t.enableShapeUniforms&&(a=e.getUniformLocation(n,"outShape",c),o=e.getUniformLocation(n,"outShapeStrides",c),i=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const s of t.customUniforms)r.push(e.getUniformLocation(n,s.name,c));return{variablesLocations:s,customUniformLocations:r,infLoc:l,nanLoc:u,outShapeLocation:a,outShapeStridesLocation:o,outTexShapeLocation:i}}function kD(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const s=e.logicalShape,r=t[n],a=r.shape;if(!$t(s,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${a} must match`);if(e.isUniform&&r.isUniform)return;const i=e.texShape,o=r.isUniform?null:r.texData.texShape;if(!$t(i,o))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${i} and ${o} must match`)}))}function CD(e){return Cn().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class SD{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=xR.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=eD();this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?nD(["r","c","d"],e):tD(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class ED{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=xR.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=eD();this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?nD(["r","c","d"],e):tD(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class _D{constructor(e){this.variableNames=["A"],this.outTexUsage=AR.DOWNLOAD;const t=eD();this.outputShape=e,this.userCode=`\n      ${aD}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class ID{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=AR.DOWNLOAD;const t=eD();this.outputShape=e,this.userCode=`\n      ${aD}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}const TD={R:0,G:1,B:2,A:3};class ND{constructor(e,t=!1,n="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=eD();this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length);let r="result";t&&(r="floor(result * 255. + 0.5)");let a="";for(let e=0;e<n.length;e++){const t=n[e];a+=`\n          if(offset == ${e}) {\n            result = values[${TD[t]}];\n          }`}this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rD(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${n.length});\n\n        flatIndex = idiv(flatIndex, ${n.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${s.texture2D}(A, uv);\n          ${a}\n        }\n        ${s.output} = vec4(${r}, 0., 0., 0.);\n      }\n    `}}class OD{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=eD();this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length);let s="",r="result";t&&(r="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let r=0;r<=1;r++){const a=2*t+r;s+=`\n          localCoords = coords;\n          if(localCoords[2] + ${r} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${r};\n          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${t};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${a}] = values[0];\n            } else if (offset == 1) {\n              result[${a}] = values[1];\n            } else if (offset == 2) {\n              result[${a}] = values[2];\n            } else {\n              result[${a}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rD(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${s}\n\n          ${n.output} = ${r};\n        }\n    `}}function RD(e){const t=eD();return function(e,t){const n=PR(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(IR(e,(()=>e.shaderSource(n,t))),IR(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function DD(e){return function(e,t){const n=PR(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return IR(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),IR(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function MD(e){return function(e,t){const n=PR(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return IR(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),IR(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function FD(e,t,n,s,r,a){!function(e,t){const n=Cn().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const i=function(e){return PR(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),o=e.TEXTURE_2D;return IR(e,(()=>e.bindTexture(o,i))),IR(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),IR(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),IR(e,(()=>e.texParameteri(o,e.TEXTURE_MIN_FILTER,e.NEAREST))),IR(e,(()=>e.texParameteri(o,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===Cn().getNumber("WEBGL_VERSION")?IR(e,(()=>e.texImage2D(o,0,s,t,n,0,r,a,null))):IR(e,(()=>e.texStorage2D(o,1,s,t,n))),IR(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:i,texShape:[n,t]}}function BD(e){return e.internalFormatFloat}function zD(e){return e.internalFormatHalfFloat}function LD(e){return e.downloadTextureFormat}function PD(e){return e.internalFormatPackedFloat}function VD(e){return e.internalFormatPackedHalfFloat}function WD(e,t,n,s,r,a,i,o){const l=e,u=new Float32Array(function(e,t){const[n,s]=ER(e,t);return n*s*4}(a,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}class UD{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=Cn().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){bR[e]=t}(t,e)):this.gl=vR(t),e=this.gl,2===Cn().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>IR(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>IR(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>IR(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>IR(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>IR(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>IR(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>IR(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>IR(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===Cn().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=NR(this.gl,e),KR(this.gl,t))this.textureHalfFloatExtension=NR(this.gl,t);else if(Cn().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),KR(this.gl,s))this.colorBufferHalfFloatExtension=NR(this.gl,s);else if(Cn().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",KR(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!KR(this.gl,s))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(s)}this.vertexBuffer=DD(this.gl),this.indexBuffer=MD(this.gl),this.framebuffer=function(e){return PR(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=_R(this.gl,this.textureHalfFloatExtension)}get debug(){return Cn().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program,this.outputTexture;const e=this.gl;IR(e,(()=>e.finish())),IR(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),IR(e,(()=>e.deleteFramebuffer(this.framebuffer))),IR(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),IR(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),IR(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[r,a]=CR(t,n);return FD(e,r,a,BD(s),s.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[r,a]=CR(t,n);return FD(e,r,a,zD(s),s.textureFormatFloat,s.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[r,a]=CR(t,n);return FD(e,r,a,LD(s),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){IR(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===Cn().getNumber("WEBGL_VERSION")?IR(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):IR(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===Cn().getNumber("WEBGL_VERSION")?IR(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):IR(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),IR(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,s){this.throwIfDisposed(),function(e,t,n,s,r,a){let i,o,l;IR(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),r instanceof Uint8Array?(i=new Uint8Array(n*s*4),o=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(n*s*4),o=e.FLOAT,l=a.internalFormatPackedFloat),i.set(r),2===Cn().getNumber("WEBGL_VERSION")?IR(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,s,e.RGBA,o,i))):IR(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,s,0,e.RGBA,o,i))),IR(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[r,a]=ER(t,n);return FD(e,r,a,VD(s),e.RGBA,s.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[r,a]=ER(t,n);return FD(e,r,a,PD(s),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(zR(this.gl,this.framebuffer),this.outputTexture=null),IR(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,s){const[r,a]=CR(t,n),i=new Uint8Array(t*n*4);return IR(e,(()=>e.readPixels(0,0,r,a,s.downloadTextureFormat,e.UNSIGNED_BYTE,i))),new Float32Array(i.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,s,r,a){return WD(this.gl,e,0,0,0,r,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const s=e,r=new Float32Array(n);return s.bindBuffer(s.PIXEL_PACK_BUFFER,t),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,r),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),r}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const s=function(e,t,n,s){const r=e.createBuffer();IR(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const a=16*t*n;return IR(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ))),IR(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),IR(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(Cn().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,r=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=s.clientWaitSync(r,0,0);return e===s.ALREADY_SIGNALED||e===s.CONDITION_SATISFIED},t=r}else Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const s=new Float32Array(t*n*4);return IR(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,s))),s}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=RD(t));const n=function(e){return PR(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);IR(t,(()=>t.attachShader(n,this.vertexShader))),IR(t,(()=>t.attachShader(n,e))),function(e,t){if(IR(e,(()=>e.linkProgram(t))),!Cn().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Failed to link vertex and fragment shaders.")}(t,n);const s=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&DR(t,s),s}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;IR(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){IR(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),MR(e,t,"clipSpacePos",n,3,20,0)&&MR(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(IR(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&DR(this.gl,this.program),IR(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return PR(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),IR(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),FR(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[s,r]=ER(t,n);this.setOutputMatrixTextureDriver(e,s,r)}setOutputMatrixWriteRegion(e,t,n,s){this.setOutputMatrixWriteRegionDriver(n,e,s,t)}setOutputPackedMatrixWriteRegion(e,t,n,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&DR(this.gl,this.program),LR(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){this.getVertexArray();this.debugValidate()}IR(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),IR(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=NR(this.gl,2===Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await Yt((()=>this.disposed||this.isQueryAvailable(e,Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),s=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),s&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in Cn().platform&&(n=Cn().platform.setTimeoutCustom.bind(Cn().platform)),Yt((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),BR(this.gl,e,this.framebuffer),this.debug&&LR(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(BR(this.gl,this.outputTexture,this.framebuffer),this.debug&&LR(this.gl)):zR(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const s=this.gl;BR(s,e,this.framebuffer),this.debug&&LR(s),this.outputTexture=e,IR(s,(()=>s.viewport(0,0,t,n))),IR(s,(()=>s.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,s){this.throwIfDisposed(),IR(this.gl,(()=>this.gl.scissor(e,t,n,s)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:GD,bincountImpl:qD,bincountReduceImpl:jD,bitwiseAndImpl:HD,castImpl:$D,ceilImpl:KD,concatImpl:XD,equalImpl:ZD,expImpl:YD,expm1Impl:QD,floorImpl:JD,gatherNdImpl:eM,gatherV2Impl:tM,greaterImpl:nM,greaterEqualImpl:sM,lessImpl:rM,lessEqualImpl:aM,linSpaceImpl:iM,logImpl:oM,maxImpl:lM,maximumImpl:uM,minimumImpl:cM,multiplyImpl:hM,negImpl:dM,notEqualImpl:pM,prodImpl:fM,raggedGatherImpl:mM,raggedRangeImpl:gM,raggedTensorToTensorImpl:yM,rangeImpl:bM,rsqrtImpl:wM,scatterImpl:vM,sigmoidImpl:xM,simpleAbsImpl:AM,sliceImpl:kM,sparseFillEmptyRowsImpl:CM,sparseReshapeImpl:SM,sparseSegmentReductionImpl:EM,sqrtImpl:_M,staticRegexReplaceImpl:IM,stridedSliceImpl:TM,stringNGramsImpl:NM,stringSplitImpl:OM,stringToHashBucketFastImpl:RM,subImpl:DM,tileImpl:MM,topKImpl:FM,transposeImpl:BM,uniqueImpl:zM}=S;function LM(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function PM(e,t){return 1===t?[e]:LM(e,t)}class VM{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=CD(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=PM("rc",this.rank),t=yD(this.rank),n=this.getOutOfBoundsCondition(e),s=this.getSetup(e),r=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${s}\n\n            setOutput(vec4(${r}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let s=0;s<=1;s++){let r=`${0===n?"r":"rp1"}, ${0===s?"c":"cp1"}`;for(let t=2;t<this.rank;t++)r=`${e[e.length-1-t]},`+r;t.push(r)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${s};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class WM{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length);let n="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),n+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}var s,r;this.userCode=`\n      ${s=t,r=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${r?sD(["r","c","d"],"inputShape"):tD(["r","c","d"],s)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rD(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class UM{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const s=qM(t,n),r=jM(e,s,n);r in this.freeTextures||(this.freeTextures[r]=[]),r in this.usedTextures||(this.usedTextures[r]=[]);const a=GM(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[r].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const e=this.freeTextures[r].pop();return this.usedTextures[r].push(e),e}let i;return s===kR.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===kR.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===kR.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===kR.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===kR.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[r].push(i),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),i}releaseTexture(e,t,n,s){if(null==this.freeTextures)return;const r=qM(n,s),a=jM(t,r,s);a in this.freeTextures||(this.freeTextures[a]=[]);const i=GM(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,s),o=Cn().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==o&&this._numBytesAllocated>o?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;const l=this.usedTextures[a],u=l&&l.indexOf(e);if(null==u||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[u]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;this.numFreeTextures,this.numUsedTextures,this._numBytesFree,this._numBytesAllocated}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function GM(e,t,n,s,r){const a=function(e,t){switch(e){case kR.PACKED_2X2_FLOAT32:return PD(t);case kR.PACKED_2X2_FLOAT16:return VD(t);case kR.UNPACKED_FLOAT32:return BD(t);case kR.UNPACKED_FLOAT16:return zD(t);case kR.PACKED_4X1_UNSIGNED_BYTE:return LD(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,s);let i;if(r){const[t,n]=ER(e[0],e[1]);i=t*n}else{const[t,n]=CR(e[0],e[1]);i=t*n}const o=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,a);return i*o}function qM(e,t){if(e===AR.UPLOAD)return kR.PACKED_2X2_FLOAT32;if(e===AR.RENDER||null==e)return function(e){return Cn().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?kR.PACKED_2X2_FLOAT32:kR.UNPACKED_FLOAT32:e?kR.PACKED_2X2_FLOAT16:kR.UNPACKED_FLOAT16}(t);if(e===AR.DOWNLOAD||e===AR.PIXELS)return kR.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function jM(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class HM{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const $M="if (isnan(x)) return x;",KM="return x;",XM="return abs(x);";const ZM="return (x >= 0.0) ? x : (exp(x) - 1.0);",YM=$M+"\n  return (x < 0.0) ? 0.0 : x;\n",QM=$M+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",JM="return x;",eF="return 1.0 / (1.0 + exp(-1.0 * x));",tF="return x;",nF="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",sF="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",rF="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",aF="return 1.0 / (1.0 + exp(-1.0 * x));";class iF{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class oF{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length);const t=e.length,n=PM("rc",t),s=yD(t),r=function(e,t){if(1===e)return"rc";let n="";for(let s=0;s<e;s++)n+=t[s],s<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),i=t<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`\n      void main() {\n        ${s} rc = getOutputCoords();\n        vec4 packedInput = getA(${r});\n\n        setOutput(getChannel(packedInput, ${i}));\n      }\n    `}}const lF=Xp,uF={};const cF=Cn().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class hF extends zt{nextDataId(){return hF.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Cn().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof UD)t=e;else{const n=vR(Cn().getNumber("WEBGL_VERSION"),e);t=new UD(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=vR(Cn().getNumber("WEBGL_VERSION"));t=new UD(e),this.binaryCache=((n=Cn().getNumber("WEBGL_VERSION"))in uF||(uF[n]={}),uF[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new UM(this.gpgpu),this.numMBBeforeWarning=null==Cn().global.screen?1024:Cn().global.screen.height*Cn().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new Bt(this,wo())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,s,r,a){const i=this.makeTensorInfo(t,n),o=this.texData.get(i.dataId);o.isPacked=!1,o.texture={texture:e,texShape:[s,r]},o.texShape=[s,r];const l=GR(t),u=new ND(l,!1,a),c=this.runWebGLProgram(u,[i],n,[[s,r]]);return c.shape=t,o.texture=null,this.disposeIntermediateTensorInfo(i),c.dataId}write(e,t,n){if((Cn().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Cn().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:t,dtype:n,values:e,usage:AR.UPLOAD,refCount:1}),s}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,s,r){if(Cn().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===s)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:s,values:t,usage:AR.UPLOAD,refCount:r})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:s,complexTensorInfos:r,slice:a,shape:i,isPacked:o}=t;if(null!=a){let t;t=o?new iF(i,JM):new HM(i,JM);const n=this.runWebGLProgram(t,[{dataId:e,shape:i,dtype:s}],s),r=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===s)return n;const l=null!=this.activeTimers;let u,c;if(l&&(u=pi()),"complex64"===s){c=Xm(this.readSync(r.real.dataId),this.readSync(r.imag.dataId))}else c=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=pi()-u),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:s,slice:r,dtype:a,complexTensorInfos:i,isPacked:o}=t;if(null!=r){let t;t=o?new iF(s,JM):new HM(s,JM);const n=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:a}],a),r=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if(Cn().getBool("DEBUG")&&!Cn().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Cn().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,u,c=null;if("complex64"!==a&&Cn().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(t.texture.texture,...SR(s))}if(this.pendingRead.set(e,[]),"complex64"!==a&&await this.gpgpu.createAndWaitForFence(),"complex64"===a){const e=await Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)]);u=Xm(e[0],e[1])}else if(null==c)u=this.getValuesFromTexture(e);else{const e=Ht(s);u=this.gpgpu.downloadFloat32MatrixFromBuffer(c,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=c){const e=this.gpgpu.gl;IR(e,(()=>e.deleteBuffer(c)))}const h=this.convertAndCacheOnCPU(e,u),d=this.pendingRead.get(e);return this.pendingRead.delete(e),d.forEach((e=>e(h))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&wo().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,t={}){const n=this.texData.get(e),{values:s,shape:r,slice:a,dtype:i,isPacked:o,texture:l}=n;if("complex64"===i)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){let n;n=o?new iF(r,JM):new HM(r,JM);const s=this.runWebGLProgram(n,[{dataId:e,shape:r,dtype:i}],i),a=this.readToGPU(s,t);return this.disposeIntermediateTensorInfo(s),a}if(null==l)throw null!=s?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),c=wo().makeTensorFromTensorInfo(u),h=this.texData.get(u.dataId);return Object.assign({tensorRef:c},h.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>mi(e)));return Il(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Il(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!TR(n)){if(Cn().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:s}=this.texData.get(e),r=Ht(t);if(Cn().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),s=this.texData.get(n.dataId),a=this.gpgpu.downloadMatrixFromPackedTexture(s.texture.texture,...SR(t)).subarray(0,r);return this.disposeIntermediateTensorInfo(n),a}const a=Cn().getBool("WEBGL_PACK")&&!0===s,i=a?GR(t):t,o=a?new ID(i):new _D(i),l=this.runWebGLProgram(o,[{shape:i,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,r);return this.disposeIntermediateTensorInfo(l),c}timerAvailable(){return Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let s=!1;null==this.programTimersStack?(this.programTimersStack=n,s=!0):this.activeTimers.push(n),this.activeTimers=n,e();const r=yi(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),a=yi(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,s&&(this.programTimersStack=null);const i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(r);i.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),i.getExtraProfileInfo=()=>e.map(((e,t)=>({name:a[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else i.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,i})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:pi(),endMs:null}}endTimer(e){return Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=pi(),e)}async getQueryTime(e){if(Cn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:s,usage:r,isPacked:a,slice:i}=this.texData.get(e),o=i&&i.origDataId||e,l=this.dataRefCount.get(o);l>1?this.dataRefCount.set(o,l-1):(this.dataRefCount.delete(o),null!=t&&(this.numBytesInGPU-=this.computeBytes(s,n),this.textureManager.releaseTexture(t,s,r,a)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=cF){return Cn().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&Ht(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){Va();const t=e.dataSync();return lF(e.shape,t)}packedUnaryOp(e,t,n){const s=new iF(e.shape,t),r=this.compileAndRun(s,[e],n);return wo().makeTensorFromTensorInfo(r)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=AM(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Cn().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,XM,e.dtype);const t=new HM(e.shape,XM),n=this.compileAndRun(t,[e]);return wo().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let s;if("string"===t&&null!=n&&n.length>0&&an(n[0])){const r=n.map((e=>fi(e)));s=this.write(r,e,t)}else s=this.write(n,e,t);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:t}}makeOutput(e,t,n){return wo().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new oF(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new VM(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[WR(e.shape),...UR(e.shape)],s={dtype:e.dtype,shape:n,dataId:e.dataId},r=[WR(t),...UR(t)],a=new WM(r,n),i=[n],o=this.runWebGLProgram(a,[s],e.dtype,i,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:s,shape:r,dtype:a}=n;if(null!=t){Gt(Ht(r)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const i=GR(r);let o;o=s?new ED(i):new SD(i);const l=[null!=t?t:SR(i)];return{dtype:a,shape:r,dataId:this.runWebGLProgram(o,[{shape:i,dtype:a,dataId:e}],a,l,!0,t).dataId}}runWebGLProgram(e,t,n,s,r=!1,a){const i=this.makeTensorInfo(e.outputShape,n),o=this.texData.get(i.dataId);if(e.packedOutput&&(o.isPacked=!0),e.outPackingScheme===xR.DENSE){const t=null!=a?a:SR(e.outputShape);o.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(o.usage=e.outTexUsage),0===Ht(i.shape))return o.values=tn(i.dtype,0),i;const l=[],u=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Ht(t.shape)<=Cn().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!jR(n.shape,t.shape)){const e=t,s=t.shape;t.shape=n.shape,t=this.packedReshape(t,s),l.push(t),n=this.texData.get(t.dataId),e.shape=s}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(i.dataId);const c={shape:i.shape,texData:o,isUniform:!1},h=function(e,t,n){let s="";t.concat(n).forEach((t=>{const r=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const a=t.texData.texShape,{useSqueezeShape:i,uniformShape:o,keptDims:l}=bD(e.packedInputs,t.shape,a);let u="",c="",h="";if(1===o.length&&e.packedInputs){const e=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==o.length||e.packedInputs){if(o.length>2&&!e.packedInputs){const e=hn(o);h=`${e[0]===a[1]}_${e[e.length-1]===a[1]}`}}else c=`${o[0]>1}_${o[1]>1}`;const d=t.shape.length,p=2===o.length&&$t(t.shape,a),f=1===Ht(t.shape),m=eu(t.shape,n.shape),g=!e.packedInputs&&d===n.shape.length&&$t(a,n.texData.texShape),y=e.packedInputs||o.length>2?"":`${a[0]>1}_${a[1]>1}`;s+=`${d}_${g}_${i?l:""}_${o.length}_${f}_${m}_${p}_${u}_${c}_${h}_${y}_${r}`}else{const e=t.isUniform?"uniform":t.texData.texShape;s+=`${t.shape}_${e}_${r}`}}));const r=e.userCode;let a=e.constructor.name;return a+="_"+s+"_"+r+`${Cn().getNumber("WEBGL_VERSION")}`,a}(e,u,c),d=this.getAndSaveBinary(h,(()=>xD(this.gpgpu,e,u,c))),p=null!=this.activeTimers;let f;p&&(f=this.startTimer()),Cn().get("ENGINE_COMPILE_ONLY")||function(e,t,n,s,r){t.program.enableShapeUniforms||(kD(t.inShapeInfos,n),kD([t.outShapeInfo],[s]));const a=s.texData.texture,i=s.texData.texShape;s.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,i[0],i[1]):e.setOutputMatrixTexture(a.texture,i[0],i[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===Cn().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let s=0;s<n.length;++s){const r=n[s],{uniform:a,offset:i,shape:o,texShape:l}=t.variablesLocations[s];if(o){const{uniformShape:n}=bD(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(o,new Int32Array(n));break;case 2:e.gl.uniform2iv(o,new Int32Array(n));break;case 3:e.gl.uniform3iv(o,new Int32Array(n));break;case 4:e.gl.uniform4iv(o,new Int32Array(n))}}if(l&&e.gl.uniform2i(l,r.texData.texShape[0],r.texData.texShape[1]),null!=a)if(r.isUniform)if(Ht(r.shape)<2)e.gl.uniform1f(a,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(a,t)}else null!=r.texData.slice&&null!=i&&e.gl.uniform1i(i,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,a,s)}const o=t.outShapeLocation;if(o)switch(s.shape.length){case 1:e.gl.uniform1iv(o,new Int32Array(s.shape));break;case 2:e.gl.uniform2iv(o,new Int32Array(s.shape));break;case 3:e.gl.uniform3iv(o,new Int32Array(s.shape));break;case 4:e.gl.uniform4iv(o,new Int32Array(s.shape))}if(t.outShapeStridesLocation){const n=hn(s.shape);switch(s.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,s.texData.texShape[0],s.texData.texShape[1]),t.program.customUniforms&&r)for(let n=0;n<t.program.customUniforms.length;++n){const s=t.program.customUniforms[n],a=t.customUniformLocations[n],i=r[n];if("float"===s.type)e.gl.uniform1fv(a,i);else if("vec2"===s.type)e.gl.uniform2fv(a,i);else if("vec3"===s.type)e.gl.uniform3fv(a,i);else if("vec4"===s.type)e.gl.uniform4fv(a,i);else if("int"===s.type)e.gl.uniform1iv(a,i);else if("ivec2"===s.type)e.gl.uniform2iv(a,i);else if("ivec3"===s.type)e.gl.uniform3iv(a,i);else{if("ivec4"!==s.type)throw Error(`uniform type ${s.type} is not supported yet.`);e.gl.uniform4iv(a,i)}}e.executeProgram()}(this.gpgpu,d,u,c,s),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),p&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=Cn().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=pi();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!Cn().getBool("WEBGL_LAZILY_UNPACK")&&o.isPacked&&!1===r){const e=this.unpackTensor(i);return this.disposeIntermediateTensorInfo(i),e}return i}compileAndRun(e,t,n,s,r=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,s,r)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!Cn().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=xo((()=>{if(!Cn().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Cn().getBool("DEBUG");Cn().set("DEBUG",!1);const t=this.abs(Vl(1e-8)).dataSync()[0];if(Cn().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:s,values:r,texture:a,usage:i,isPacked:o}=t;if(null!=a)return;const l=null!=this.activeTimers;let u;l&&(u=pi());let c=t.texShape;if(null==c&&(c=function(e,t=!1){let n=Cn().getNumber("WEBGL_MAX_TEXTURE_SIZE"),s=Cn().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(s===1/0&&Cn().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(s=n/2),t&&(n*=2,s*=2,1===(e=e.map(((t,n)=>n>=e.length-2?Wt(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=en(e);e=t.newShape}let r=Ht(e),a=null;e.length<=1&&r<=n?a=[1,r]:2===e.length&&e[0]<=n&&e[1]<=n?a=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?a=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?a=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?a=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(a=[e[0],e[1]*e[2]*e[3]]);const i=null!=a&&Math.max(...a)>s&&Math.min(...a)<=(t?2:1)&&Math.min(...a)>0;if(null==a||i)if(t){const t=WR(e);let n=2,s=2;e.length&&([n,s]=UR(e)),r=t*(n/2)*(s/2),a=Xt(r).map((e=>2*e))}else a=Xt(r);return a}(n,o),t.texShape=c),null!=r){const e=GR(n);let a,i=c[1],h=c[0];const d=r instanceof Uint8Array||r instanceof Uint8ClampedArray;!o&&d||([i,h]=ER(c[0],c[1])),a=o?new OD(e,d):new ND(e,d);const p=d?[h,i]:c,f=this.makeTensorInfo(p,s),m=this.texData.get(f.dataId);m.usage=d?AR.PIXELS:AR.UPLOAD,m.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),i,h,r);const g=[[h,i]],y=!0,b=this.runWebGLProgram(a,[f],s,g,y),w=this.texData.get(b.dataId);t.texShape=w.texShape,t.isPacked=w.isPacked,t.usage=w.usage,Cn().get("ENGINE_COMPILE_ONLY")?this.disposeData(b.dataId):(t.texture=w.texture,t.values=null,this.texData.delete(b.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=pi()-u)}else{const e=this.acquireTexture(c,i,s,o);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:s}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,s)),n.values}acquireTexture(e,t,n,s){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0}return this.textureManager.acquireTexture(e,t,s)}computeBytes(e,t){return e[0]*e[1]*rn(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(e){throw e}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await Cm(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw RR(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:s,nanLoc:r,outShapeLocation:a,outShapeStridesLocation:i,outTexShapeLocation:o}=AD(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=s,e.nanLoc=r,e.outShapeLocation=a,e.outShapeStridesLocation=i,e.outTexShapeLocation=o}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:s,height:r,width:a,channels:i}=e,o=wo().backend;if(!o.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=o.writeTexture(s,t,n,r,a,i);return wo().makeTensorFromDataId(l,t,n,o)}}hF.nextDataId=0;ro()&&Co("webgl",(()=>new hF),2);const dF="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class pF{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=nu(t,n),this.enableShapeUniforms=CD(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const fF="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class mF{constructor(e,t,n,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=nu(t,n);const r=this.outputShape.length;this.enableShapeUniforms=CD(r);let a="";if(s)if(0===r||1===Ht(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(a=`\n          ${yD(r)} coords = getOutputCoords();\n        `,1===r)this.enableShapeUniforms?a+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":a+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=PM("coords",r);this.enableShapeUniforms?a+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= outShape[${r} - 2];\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= outShape[${r} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:a+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= ${this.outputShape[r-2]};\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= ${this.outputShape[r-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${a}\n\n        setOutput(result);\n      }\n    `}}function gF(e){const{inputs:t,backend:n}=e,{x:s}=t;return n.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const yF={kernelName:qs,backendName:"webgl",kernelFunc:gF};function bF(e){const{inputs:t,backend:n}=e,{real:s,imag:r}=t,a=n.makeTensorInfo(s.shape,"complex64"),i=n.texData.get(a.dataId),o=gF({inputs:{x:s},backend:n}),l=gF({inputs:{x:r},backend:n});return i.complexTensorInfos={real:o,imag:l},a}const wF={kernelName:ts,backendName:"webgl",kernelFunc:bF},vF="return (a < 0.) ? b * a : a;",xF="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const AF={kernelName:Zs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{alpha:a}=s,i=n.makeTensorInfo([],"float32",hi(a,"float32")),o=Cn().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new mF(xF,r.shape,i.shape):new pF(vF,r.shape,i.shape),l=n.runWebGLProgram(o,[r,i],"float32");return n.disposeIntermediateTensorInfo(i),l}},kF="return (a < 0.) ? b * a : a;",CF="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const SF={kernelName:Or,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s,alpha:r}=t,a=Cn().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new mF(CF,s.shape,r.shape):new pF(kF,s.shape,r.shape);return n.runWebGLProgram(a,[s,r],"float32")}},EF="if (isnan(x)) return x;";function _F({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:s}){return({inputs:r,backend:a})=>{const{x:i}=r,o=a,l=s||i.dtype;if(o.shouldExecuteOnCPU([i])&&null!=n){const e=o.texData.get(i.dataId),t=n(e.values,l);return o.makeTensorInfo(i.shape,l,t)}let u;return u=Cn().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new iF(i.shape,t):new HM(i.shape,e),o.runWebGLProgram(u,[i],l)}}function IF({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:s=!1,cpuKernelImpl:r,dtype:a}){return({inputs:i,backend:o})=>{const{a:l,b:u}=i,c=o;if(s&&"complex64"===l.dtype){const t=c.texData.get(l.dataId),n=c.texData.get(u.dataId),[s,r]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((t=>{const[n,s]=t,r={dataId:n.dataId,dtype:n.dtype,shape:l.shape},a={dataId:s.dataId,dtype:s.dtype,shape:u.shape},i=new pF(e,l.shape,u.shape);return c.runWebGLProgram(i,[r,a],Ui(n.dtype,s.dtype))})),a=bF({inputs:{real:s,imag:r},backend:c});return c.disposeIntermediateTensorInfo(s),c.disposeIntermediateTensorInfo(r),a}const h=a||Ui(l.dtype,u.dtype);if(("string"===l.dtype||"string"===u.dtype||c.shouldExecuteOnCPU([l,u]))&&null!=r){const e=c.texData.get(l.dataId).values,t=c.texData.get(u.dataId).values,n="string"===l.dtype?Tg(e):e,s="string"===l.dtype?Tg(t):t,[a,i]=r(l.shape,u.shape,n,s,h),o=c.makeTensorInfo(i,h);return c.texData.get(o.dataId).values=a,o}let d;return d=Cn().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new mF(t,l.shape,u.shape,n):new pF(e,l.shape,u.shape),c.runWebGLProgram(d,[l,u],h)}}function TF(e,t=!1){if("linear"===e)return t?tF:KM;if("relu"===e)return t?sF:YM;if("elu"===e)return t?nF:ZM;if("relu6"===e)return t?rF:QM;if("prelu"===e)return t?CF:kF;if("leakyrelu"===e)return t?xF:vF;if("sigmoid"===e)return t?aF:eF;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class NF{constructor(e,t,n,s=!1,r=!1,a=!1,i=null,o=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=CD(this.outputShape.length);const u=s?e[1]:e[2],c=Math.ceil(u/2),h=s?"i * 2, rc.y":"rc.y, i * 2",d=r?"rc.z, i * 2":"i * 2, rc.z",p=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";i&&(m=o?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`vec4 activation(vec4 x) {\n          ${i}\n        }`,g="result = activation(result);");const y=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let b="rc.x",w="rc.x";e[0]<t[0]?b=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(w=`imod(rc.x, ${t[0]})`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${c}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${b};\n        int batchB = ${w};\n        for (int i = 0; i < ${c}; i++) {\n          vec4 a = getMatrixA(batchA, ${h});\n          vec4 b = getMatrixB(batchB, ${d});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${p[0]} * ${f[0]});\n          result += (${p[1]} * ${f[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${y}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const OF={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class RF{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=nu(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const DF="return a * b;";function MF(e){const{inputs:t,backend:n}=e,{a:s,b:r}=t,a=Ui(s.dtype,r.dtype);if("complex64"===s.dtype){const e=n.texData.get(s.dataId),t=n.texData.get(r.dataId),a=new RF(OF.REAL,s.shape,r.shape),i=new RF(OF.IMAG,s.shape,r.shape),o=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:s.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:s.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:r.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:r.shape}],l=n.runWebGLProgram(a,o,"float32"),u=n.runWebGLProgram(i,o,"float32"),c=bF({inputs:{real:l,imag:u},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),c}if(n.shouldExecuteOnCPU([s,r])){const e=n.texData.get(s.dataId),t=n.texData.get(r.dataId),[i,o]=hM(s.shape,r.shape,e.values,t.values,a),l=n.makeTensorInfo(o,a);return n.texData.get(l.dataId).values=i,l}let i;return i=Cn().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new mF(DF,s.shape,r.shape):new pF(DF,s.shape,r.shape),n.runWebGLProgram(i,[s,r],a)}const FF={kernelName:vr,backendName:"webgl",kernelFunc:MF};function BF(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{shape:a}=s,i=n,o=Ht(r.shape),l=Qt(a,o),u=Ht(l);Gt(o===u,(()=>`The new shape (${l}) has ${u} elements and the old shape (${r.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`));const c=i.texData.get(r.dataId);return!c.isPacked||jR(r.shape,l)||null!==c.texture&&jR(c.shape,l)?(i.incRef(r.dataId),{dataId:r.dataId,shape:l,dtype:r.dtype}):function(e,t,n){const s=[WR(e.shape),...UR(e.shape)],r={dtype:e.dtype,shape:s,dataId:e.dataId},a=[WR(t),...UR(t)],i=new WM(a,s),o=[s],l=n.runWebGLProgram(i,[r],e.dtype,o,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(r,l,i)}const zF={kernelName:Vr,backendName:"webgl",kernelFunc:BF};class LF{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:s,inSize:r,outSize:a}=e;this.outputShape=[s,a];const i=4*Math.floor(n/4),o=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${Kt(e)?e.toPrecision(2):e}, ones);`}let u="";r%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${i}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${i};\n        if (${1===o}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class PF{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:s,inSize:r,outSize:a}=e;this.outputShape=[s,a];let i="0.0",o="";"prod"===t?i="1.0":"min"===t?(i="1.0 / 1e-20",o="min"):"max"===t&&(i="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const u=4*Math.floor(n/4),c=n%4;let h=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${o}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${o}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,d="vec4";"all"===t?(i="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(i="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");let p="";r%n>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${i};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${p}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${i});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${h}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${2===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${3===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${h}\n        }\n        setOutput(${l});\n      }\n    `}}function VF(e,t,n,s){const r=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],s=Dm(n);t.push({inSize:n,windowSize:s,outSize:Math.ceil(n/s)})}return t}(e.shape);let a=e;for(let i=0;i<r.length;i++){const{inSize:o,windowSize:l,outSize:u}=r[i];let c,h;c="mean"===n?0===i?new LF({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u},o):new LF({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u}):new PF({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u},n),h=a,a=s.runWebGLProgram(c,[a],t),h.dataId!==e.dataId&&s.disposeIntermediateTensorInfo(h)}return a}class WF{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e[t[s]];this.outputShape=n,this.rank=n.length;const s=yD(this.rank),r=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],s=new Array(t);for(let t=0;t<e.length;t++)s[e[t]]=n[t];return s.join()}(t);this.userCode=`\n    void main() {\n      ${s} resRC = getOutputCoords();\n      setOutput(getA(${r}));\n    }\n    `}}class UF{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e[t[s]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=yD(this.rank),r=LM("rc",this.rank),a=new Array(this.rank);for(let e=0;e<t.length;e++)a[t[e]]=r[e];const i=`vec2(${a.slice(-2).join()})`,o=`++${r[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${a.join()}), ${i})`;this.userCode=`\n    void main() {\n      ${s} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${o}) {\n        result[1] = ${l};\n      }\n      --${r[this.rank-1]};\n      if(++${r[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${o}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function GF(e,t,n){const s=Cn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new UF(e.shape,t):new WF(e.shape,t);return n.runWebGLProgram(s,[e],e.dtype)}function qF(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s;return function(e,t,n,s){const r=t,a=e.shape.length,i=Jt(r,e.shape);let o=i;const l=_h(o,a),u=null!=l;let c=e;u&&(c=GF(e,l,s),o=Th(o.length,a)),Eh("sum",o,a);const[h,d]=Ch(c.shape,o);let p=h;n&&(p=Sh(h,i));const f=Ht(d),m=BF({inputs:{x:c},attrs:{shape:[Ht(e.shape)/f,f]},backend:s}),g=VF(m,Gi(e.dtype),"sum",s),y=BF({inputs:{x:g},attrs:{shape:p},backend:s});return s.disposeIntermediateTensorInfo(m),s.disposeIntermediateTensorInfo(g),u&&s.disposeIntermediateTensorInfo(c),y}(r,a,i,n)}const jF={kernelName:oa,backendName:"webgl",kernelFunc:qF};function HF(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{perm:a}=s,i=n,o=r.shape.length,l=new Array(o);for(let e=0;e<l.length;e++)l[e]=r.shape[a[e]];let u;if(i.shouldExecuteOnCPU([r])){const e=i.texData.get(r.dataId).values,t=BM(e,r.shape,r.dtype,a,l);u=i.makeTensorInfo(l,r.dtype);i.texData.get(u.dataId).values=t}else u=GF(r,a,i);return u}const $F={kernelName:Ta,backendName:"webgl",kernelFunc:HF},KF=1e3;function XF({a:e,b:t,transposeA:n,transposeB:s,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:l=null}){const u=e.shape.length,c=t.shape.length,h=n?e.shape[u-2]:e.shape[u-1],d=s?t.shape[c-1]:t.shape[c-2],p=n?e.shape[u-1]:e.shape[u-2],f=s?t.shape[c-2]:t.shape[c-1],m=e.shape.slice(0,-2),g=t.shape.slice(0,-2),y=Ht(m),b=Ht(g),w=nu(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([p,f]);Gt(h===d,(()=>`Error in matMul: inner shapes (${h}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${s} must match.`));const v=n?[y,h,p]:[y,p,h],x=s?[b,f,d]:[b,d,f],A=BF({inputs:{x:e},backend:r,attrs:{shape:v}}),k=BF({inputs:{x:t},backend:r,attrs:{shape:x}}),C=[A,k],S=Math.max(y,b),E=n?A.shape[1]:A.shape[2],_=null!=a,I=null!=i,T="leakyrelu"===l,N=null!=l?TF(l,!0):null;let O;if((1===p||1===f)&&E>KF&&!1===(_||I||T||null!=N)){let e=A,t=k;n&&(e=HF({inputs:{x:A},backend:r,attrs:{perm:[0,2,1]}}),C.push(e)),s&&(t=HF({inputs:{x:k},backend:r,attrs:{perm:[0,2,1]}}),C.push(t));const a=1===f;let i=e;1!==f&&(i=BF({inputs:{x:e},backend:r,attrs:{shape:[S,E,1]}}),C.push(i));const o=1===f?2:1;let l=t;a&&(l=BF({inputs:{x:t},backend:r,attrs:{shape:[S,1,E]}}),C.push(l));const u=MF({inputs:{a:i,b:l},backend:r});O=qF({inputs:{x:u},backend:r,attrs:{axis:o,keepDims:!0}}),C.push(u)}else{const l=Ui(e.dtype,t.dtype),u=new NF(v,x,[S,p,f],n,s,_,N,I,T),c=[A,k];if(null!=a&&c.push(a),I&&c.push(i),T){const e=r.makeTensorInfo([],"float32",hi(o,"float32"));c.push(e),C.push(e)}O=r.runWebGLProgram(u,c,l)}const R=BF({inputs:{x:O},backend:r,attrs:{shape:w}});C.push(O);for(const e of C)r.disposeIntermediateTensorInfo(e);return R}const ZF={kernelName:za,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{a:r,b:a,bias:i,preluActivationWeights:o}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:h}=s;return XF({a:r,b:a,transposeA:l,transposeB:u,backend:n,bias:i,preluActivationWeights:o,leakyreluAlpha:h,activation:c})}},YF="return abs(x);";const QF={kernelName:Tn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t;if(n.shouldExecuteOnCPU([s])&&"complex64"!==s.dtype){const e=n.texData.get(s.dataId),t=AM(e.values);return n.makeTensorInfo(s.shape,s.dtype,t)}let r;return r=Cn().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new iF(s.shape,YF):new HM(s.shape,YF),n.runWebGLProgram(r,[s],s.dtype)}},JF=_F({opSnippet:$M+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),eB={kernelName:Nn,backendName:"webgl",kernelFunc:JF},tB=_F({opSnippet:$M+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),nB={kernelName:On,backendName:"webgl",kernelFunc:tB},sB="return a + b;",rB=IF({opSnippet:sB,packedOpSnippet:sB,supportsComplex:!0,cpuKernelImpl:GD}),aB={kernelName:Rn,backendName:"webgl",kernelFunc:rB};class iB{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const s=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${s};\n        setOutput(result);\n      }\n    `}}class oB{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const s=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${s};\n        setOutput(result);\n      }\n    `}}const lB={kernelName:Dn,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:s}=t,r=n;if(1===r.length)return gF({inputs:{x:r[0]},backend:s});if(r.length>Cn().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(r.length/2),n=e({inputs:r.slice(0,t),backend:s}),a=e({inputs:r.slice(t),backend:s});return e({inputs:[n,a],backend:s})}const a=r.map((e=>e.dtype)).reduce(((e,t)=>Ui(e,t))),i=r.map((e=>e.shape)),o=Cn().getBool("WEBGL_PACK")?new oB(r[0].shape,i):new iB(r[0].shape,i);return s.runWebGLProgram(o,r,a)}};const uB={kernelName:Mn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s,o=r.shape.length,l=Jt(a,r.shape);let u=l;const c=_h(u,o);let h=r;null!=c&&(h=HF({inputs:{x:r},backend:n,attrs:{perm:c}}),u=Th(u.length,o)),Eh("all",u,o);const[d,p]=Ch(h.shape,u),f=BF({inputs:{x:h},backend:n,attrs:{shape:[-1,Ht(p)]}}),m=VF(f,f.dtype,"all",n);let g;if(i){g=BF({inputs:{x:m},backend:n,attrs:{shape:Sh(d,l)}})}else g=BF({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(h),g}};const cB={kernelName:Fn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s,o=r.shape.length,l=Jt(a,r.shape);let u=l;const c=_h(u,o);let h=r;null!=c&&(h=HF({inputs:{x:r},backend:n,attrs:{perm:c}}),u=Th(u.length,o)),Eh("any",u,o);const[d,p]=Ch(h.shape,u),f=BF({inputs:{x:h},backend:n,attrs:{shape:[-1,Ht(p)]}}),m=VF(f,f.dtype,"any",n);let g;if(i){g=BF({inputs:{x:m},backend:n,attrs:{shape:Sh(d,l)}})}else g=BF({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(h),g}};class hB{constructor(e,t,n){this.variableNames=["A"];const{windowSize:s,batchSize:r,outSize:a}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[r,a];const i="max"===t?">":"<",o=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${s};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${s}; i++) {\n          int inIdx = ${o};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${i} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class dB{constructor(e,t,n,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Gt(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const r=e[e.length-1],a=Math.ceil(r/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),s||this.variableNames.push("bestIndicesA");const i=this.outputShape,o=i.length,l=yD(o),u=PM("coords",o);let c,h;if(1===a){h=o+1;const e=yD(h);c=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[o-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[o-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[o-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[o-2]};`}else h=o,c=`\n        ${l} sourceLocR = coords;\n        ++${u[o-1]};\n        ${l} sourceLocG = coords;\n        ++${u[o-2]};\n        ${l} sourceLocA = coords;\n        --${u[o-1]};\n        ${l} sourceLocB = coords;\n        --${u[o-2]};`;const d=["x","y","z","w","u","v"].slice(0,h),p="."+d[h-1],f=d.map((e=>"int "+e)),m=PM("sourceLocR",h-1).concat("inIdx.r"),g=PM("sourceLocG",h-1).concat("inIdx.g"),y=PM("sourceLocB",h-1).concat("inIdx.b"),b=PM("sourceLocA",h-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",v=s?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${b.join()})));`,x=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,A=s?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${d.join()}),\n                                          vec2(${d.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${d.join()}),\n                               vec2(${d.slice(-2).join()}));\n      }\n      ${A}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${u[o-1]} < ${i[o-1]-1};\n        bool hasNextRow = ${u[o-2]} < ${i[o-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},\n          sourceLocB${p}, sourceLocA${p}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${x};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${v}\n          vec4 candidate = ${x};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${w}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function pB(e,t,n,s=null){let r=t.shape[0],a=t.shape[1];null!=s&&(r=s.shape[0],a=s.shape[1]);const i=Dm(a),o={windowSize:i,inSize:a,batchSize:r,outSize:Math.ceil(a/i)},l=new hB(o,n,null==s),u=[t];null!=s&&u.push(s);const c=e.runWebGLProgram(l,u,"int32");if(1===c.shape[1])return c;const h=pB(e,t,n,c);return e.disposeIntermediateTensorInfo(c),h}function fB(e,t,n,s=null){const r=null!=s?s.shape:t.shape,a=Dm(r[r.length-1]),i=new dB(r,a,n,null==s),o=null==s?[t]:[t,s],l=e.runWebGLProgram(i,o,"int32");if(l.shape.length===t.shape.length){const s=fB(e,t,n,l);return e.disposeIntermediateTensorInfo(l),s}return l}function mB(e,t,n,s){const r=[n];if(Eh("arg"+s.charAt(0).toUpperCase()+s.slice(1),r,t.shape.length),!Cn().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],a=e.texData.get(t.dataId);let i=t;null!==a&&a.isPacked&&(i=e.unpackTensor(t),n.push(i));const[o,l]=Ch(i.shape,r),u=Ht(l),c=BF({inputs:{x:i},backend:e,attrs:{shape:[-1,u]}});n.push(c);const h=pB(e,c,s);n.push(h);const d=BF({inputs:{x:h},backend:e,attrs:{shape:o}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),d}return fB(e,t,s)}const gB={kernelName:Bn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a}=s;let i=Jt(a,r.shape);const o=_h(i,r.shape.length);let l=r;const u=[];null!=o&&(l=HF({inputs:{x:r},backend:n,attrs:{perm:o}}),u.push(l),i=Th(i.length,l.shape.length)),Eh("argMax",[i[0]],l.shape.length);const c=mB(n,l,i[0],"max");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};const yB={kernelName:zn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a}=s;let i=Jt(a,r.shape);const o=_h(i,r.shape.length);let l=r;const u=[];null!=o&&(l=HF({inputs:{x:r},backend:n,attrs:{perm:o}}),u.push(l),i=Th(i.length,l.shape.length)),Eh("argMin",[i[0]],l.shape.length);const c=mB(n,l,i[0],"min");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}},bB=_F({opSnippet:$M+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),wB={kernelName:Ln,backendName:"webgl",kernelFunc:bB},vB=_F({opSnippet:$M+"return log(x + sqrt(x * x + 1.0));"}),xB={kernelName:Pn,backendName:"webgl",kernelFunc:vB},AB=_F({opSnippet:$M+"\n  return atan(x);\n"}),kB={kernelName:Vn,backendName:"webgl",kernelFunc:AB},CB=IF({opSnippet:dF+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+fF+"\n  return result;\n"}),SB={kernelName:Un,backendName:"webgl",kernelFunc:CB},EB=_F({opSnippet:$M+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),_B={kernelName:Wn,backendName:"webgl",kernelFunc:EB};class IB{constructor(e,t,n,s=!1,r=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,i=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,h=e.effectiveFilterWidth,d=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${i}, ${o});\n        const ivec2 pads = ivec2(${d}, ${p});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${c};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${h};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${s?r?m:g:`wR * ${h} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(b="avgValue / max(count, 1.0)");const w=4*Math.floor(a/4),v=a%4,x=`\n      if (${f}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${i}, ${o});\n      const ivec2 pads = ivec2(${d}, ${p});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${c};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${w}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${x}\n          }\n\n          int xC = xCCorner + ${w};\n          if (${1===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${x}\n          } else if (${2===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${x}\n          } else if (${3===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${x}\n          }\n        }\n        setOutput(${b});\n      }\n    `}}class TB{constructor(e,t,n,s=!1,r=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,i=e.strideDepth,o=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,h=e.dilationWidth,d=e.effectiveFilterDepth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const b="avg"===t;let w="0.0";if(b||(w="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${i}, ${o}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${y});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${d};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${p};\n                wR += ${c}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${f};\n                  wC += ${h}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${s?r?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${f} +\n                      wR * ${f} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let v=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(v="avgValue / max(count, 1.0)");const x=4*Math.floor(a/4),A=a%4,k=`\n      if (${b}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${i}, ${o}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${y});\n      const float initializationValue = ${w};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${w});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p};\n            wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${x}; wC += 4) {\n              int xC = xCCorner + wC * ${h};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${h}, ch)\n              );\n\n              ${k}\n            }\n\n            int xC = xCCorner + ${x};\n            if (${1===A}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${k}\n            } else if (${2===A}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${k}\n            } else if (${3===A}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                initializationValue\n              );\n\n              ${k}\n            }\n          }\n        }\n        setOutput(${v});\n      }\n    `}}const NB={kernelName:Gn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t;QR(r,"avgPool");const{filterSize:a,strides:i,pad:o,dimRoundingMode:l}=s;Gt(Cc(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=fc(r.shape,a,i,1,o,l);if(1===u.filterWidth&&1===u.filterHeight&&$t(u.inShape,u.outShape))return gF({inputs:{x:r},backend:n});const c=new IB(u,"avg",!1);return n.runWebGLProgram(c,[r],"float32")}};const OB={kernelName:jn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{filterSize:a,strides:i,pad:o,dimRoundingMode:l,dataFormat:u}=s,c=mc(r.shape,a,i,[1,1,1],o,l,u),h=new TB(c,"avg",!1);return n.runWebGLProgram(h,[r],"float32")}};class RB{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,s=e.strideHeight,r=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=o-1-e.padInfo.top,c=l-1-e.padInfo.left,h=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${c});\n      const float avgMultiplier = float(${h});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n            wR += ${a}) {\n          float dyR = float(dyRCorner + wR) / ${s}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${i}) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class DB{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,s=e.filterWidth,r=e.strideDepth,a=e.strideHeight,i=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,h=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=c-1-e.padInfo.front,f=h-1-e.padInfo.top,m=d-1-e.padInfo.left,g=1/(t*n*s);this.userCode=`\n      const ivec3 pads = ivec3(${p}, ${f}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n            wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${r}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${h};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${a}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${d};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${i}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const MB={kernelName:Hn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,input:a}=t,i=a,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=s,h=mc(i.shape,o,l,[1,1,1],u,c),d=new DB(h);return n.runWebGLProgram(d,[r],i.dtype)}};const FB={kernelName:qn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,input:a}=t,i=a;QR([r,a],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=s,c=fc(i.shape,o,l,1,u),h=new RB(c);return n.runWebGLProgram(h,[r],i.dtype)}};const BB={kernelName:$n,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{a:r,b:a}=t,{transposeA:i,transposeB:o}=s;return XF({a:r,b:a,transposeA:i,transposeB:o,backend:n})}};class zB{constructor(e,t,n,s,r,a){this.outputShape=[],this.variableNames=["x","mean","variance"],nu(e,t),nu(e,n);let i="0.0";null!=s&&(nu(e,s),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let o="1.0";null!=r&&(nu(e,r),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${i};\n        float scale = ${o};\n        float inv = scale * inversesqrt(variance + float(${a}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class LB{constructor(e,t,n,s,r,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],nu(e,t),nu(e,n);let i="vec4(0.0)";null!=s&&(nu(e,s),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let o="vec4(1.0)";null!=r&&(nu(e,r),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${i};\n        vec4 scale = ${o};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${a}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const PB={kernelName:Ps,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s,mean:r,variance:a,offset:i,scale:o}=e;Gt(r.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Gt(null==i||r.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Gt(null==o||r.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=n;null==l&&(l=.001);const u=[s,r,a];let c=null;null!=i&&(c=i.shape,u.push(i));let h=null;null!=o&&(h=o.shape,u.push(o));const d=Cn().getBool("WEBGL_PACK_NORMALIZATION")?new LB(s.shape,r.shape,a.shape,c,h,l):new zB(s.shape,r.shape,a.shape,c,h,l);return t.runWebGLProgram(d,u,u[0].dtype)}};class VB{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=yD(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return WB.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let s;s=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${WB[t]} = start[${t}] + coords.${WB[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${s}\n        setOutput(getSource(${n}));\n      }\n    `}}const WB=["x","y","z","w","u","v"];class UB{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=yD(this.rank),n=PM("coords",this.rank),s=PM("sourceLoc",this.rank),r=1===this.rank?"sourceLoc":`vec2(${s.slice(-2).join()})`,a=`getChannel(getSource(${s.join()}), ${r})`,i=`\n      result.x = ${a};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${s[this.rank-1]};\n        result.y = ${a};\n        --${s[this.rank-1]};\n      }\n    `,o=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${s[this.rank-2]};\n        result.z = ${a};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${s[this.rank-1]};\n          result.w = ${a};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${s[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${i}\n        ${o}\n        setOutput(result);\n      }\n    `}}function GB(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{begin:a,size:i}=s,[o,l]=Qu(r,a,i);if(Lu(r,o,l),0===Ht(l))return n.makeTensorInfo(l,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||"string"===r.dtype){const e=n.texData.get(r.dataId),t=kM(e.values,o,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,t)}const{isPacked:u}=n.texData.get(r.dataId),c=Zu(r.shape,o,l);if(u||!c){const e=Cn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new UB(l):new VB(l),t=[o];return n.runWebGLProgram(e,[r],r.dtype,t)}return n.uploadToGPU(r.dataId),function(e,t,n,s){const r=s.texData.get(e.dataId),a=s.makeTensorInfo(n,e.dtype),i=s.texData.get(a.dataId);Object.assign(i,r),i.refCount=1,i.shape=n,i.dtype=e.dtype;let o=Yu(t,hn(e.shape));r.slice&&(o+=r.slice.flatOffset),i.slice={flatOffset:o,origDataId:r.slice&&r.slice.origDataId||e.dataId};const l=s.dataRefCount.get(i.slice.origDataId)||1;return s.dataRefCount.set(i.slice.origDataId,l+1),a}(r,o,l,n)}const qB={kernelName:ea,backendName:"webgl",kernelFunc:GB},jB={kernelName:Kn,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{blockShape:a,crops:i}=s;Gt(r.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const o=a.reduce(((e,t)=>e*t)),l=Fm(r.shape,a,o),u=Bm(l.length,a.length),c=zm(r.shape,a,o),h=Lm(i,a.length),d=Pm(c,i,a.length),p=[],f=BF({inputs:{x:r},backend:n,attrs:{shape:l}}),m=HF({inputs:{x:f},backend:n,attrs:{perm:u}}),g=BF({inputs:{x:m},backend:n,attrs:{shape:c}}),y=GB({inputs:{x:g},backend:n,attrs:{begin:h,size:d}});return p.push(f),p.push(m),p.push(g),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const HB={kernelName:Xn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,weights:a}=t,{size:i}=s,o=n.readSync(r.dataId),l=n.readSync(a.dataId),u=qD(o,l,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,u)}};const $B={kernelName:Zn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:s,b:r}=t,a=Cn().getBool("WEBGL_PACK_BINARY_OPERATIONS"),i=Cn().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([s,r])||1===i){const e=n.texData.get(s.dataId).values,t=n.texData.get(r.dataId).values,[a,i]=HD(s.shape,r.shape,e,t,s.dtype),o=n.makeTensorInfo(i,s.dtype);return n.texData.get(o.dataId).values=a,o}let o;return o=a?new mF("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",s.shape,r.shape,!1):new pF("\n  return float(int(a.r) & int(b.r));\n",s.shape,r.shape),n.runWebGLProgram(o,[s,r],s.dtype)}};const KB={kernelName:Yn,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:s,s1:r}=t,a=n.readSync(s.dataId),i=n.readSync(r.dataId),o=nu(Array.from(a),Array.from(i));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},XB=IF({opSnippet:"return float(a != b);",cpuKernelImpl:pM,dtype:"bool"}),ZB={kernelName:Ar,backendName:"webgl",kernelFunc:XB};function YB(e){const{inputs:t,backend:n}=e,{input:s}=t;return gF({inputs:{x:n.texData.get(s.dataId).complexTensorInfos.real},backend:n})}const QB={kernelName:zr,backendName:"webgl",kernelFunc:YB},JB="return float(int(x));";const ez={kernelName:Qn,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:s,attrs:r}=t,{x:a}=n,{dtype:i}=r;if("complex64"===i){if("complex64"===a.dtype)return gF({inputs:{x:a},backend:s});const t=bd(a.shape),n=e({inputs:{x:a},backend:s,attrs:{dtype:"float32"}}),r=bF({inputs:{real:n,imag:t},backend:s});return t.dispose(),s.disposeIntermediateTensorInfo(n),r}if("complex64"===a.dtype){const t=YB({inputs:{input:a},backend:s}),n=e({inputs:{x:t},backend:s,attrs:{dtype:i}});return s.disposeIntermediateTensorInfo(t),n}if(!sn(a.dtype,i)){const e=gF({inputs:{x:a},backend:s});return{dataId:e.dataId,shape:e.shape,dtype:i}}if(s.shouldExecuteOnCPU([a])){const e=s.texData.get(a.dataId).values,[t,n,r]=$D(e,a.shape,a.dtype,i);return s.makeTensorInfo(t,n,r)}if("int32"===i)return function(e,t){const n=new HM(e.shape,JB),s=t.runWebGLProgram(n,[e],"int32");return{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}(a,s);if("bool"===i){const e=s.makeTensorInfo([],"bool",tn("bool",1)),t=XB({inputs:{a,b:e},backend:s});return s.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${i}`)}},tz="return ceil(x);",nz=_F({opSnippet:tz,packedOpSnippet:tz,cpuKernelImpl:KD}),sz={kernelName:Jn,backendName:"webgl",kernelFunc:nz};class rz{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class az{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const iz={kernelName:es,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{clipValueMin:a,clipValueMax:i}=s;let o;o=Cn().getBool("WEBGL_PACK_CLIP")?new az(r.shape):new rz(r.shape);const l=[[a],[i]];return n.runWebGLProgram(o,[r],r.dtype,l)}};class oz{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function lz(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const uz={kernelName:ns,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t,r=n.texData.get(s.dataId),a=new oz(s.shape),i=[lz(s,r.complexTensorInfos.real),lz(s,r.complexTensorInfos.imag)];return n.runWebGLProgram(a,i,i[0].dtype)}};class cz{constructor(e){this.outputShape=[],this.outputShape=Em(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const s=t[e-1];n.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${s}));`)}const s=t.length,r=t[t.length-1];n.push(`else setOutput(getT${s}(yR, yC-${r}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class hz{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Em(e,t);const n=this.outputShape,s=n.length,r=yD(s),a=PM("coords",s),i=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map(((e,t)=>`T${t}`));const o=new Array(e.length-1);o[0]=e[0][t];for(let n=1;n<o.length;n++)o[n]=o[n-1]+e[n][t];const l=i[t],u=i.slice(-2),c=i.join();let h=`if (${l} < ${o[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${u.join()}));\n        }`;for(let e=1;e<o.length;e++){const t=o[e-1];h+=`\n        if (${l} < ${o[e]}  && ${l} >= ${o[e-1]}) {\n          return getChannel(\n            getT${e}(${dz(i,l,t)}),\n            vec2(${dz(u,l,t)}));\n        }`}const d=o.length,p=o[o.length-1];h+=`\n        return getChannel(\n          getT${d}(${dz(i,l,p)}),\n          vec2(${dz(u,l,p)}));`,this.userCode=`\n      float getValue(${i.map((e=>"int "+e))}) {\n        ${h}\n      }\n\n      void main() {\n        ${r} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${a}), 0., 0., 0.);\n\n        ${a[s-1]} = ${a[s-1]} + 1;\n        if (${a[s-1]} < ${n[s-1]}) {\n          result.g = getValue(${a});\n        }\n\n        ${a[s-2]} = ${a[s-2]} + 1;\n        if (${a[s-2]} < ${n[s-2]}) {\n          result.a = getValue(${a});\n        }\n\n        ${a[s-1]} = ${a[s-1]} - 1;\n        if (${a[s-2]} < ${n[s-2]} &&\n            ${a[s-1]} < ${n[s-1]}) {\n          result.b = getValue(${a});\n        }\n        setOutput(result);\n      }\n    `}}function dz(e,t,n){const s=e.indexOf(t);return e.map(((e,t)=>t===s?`${e} - ${n}`:e)).join()}function pz(e){const{inputs:t,backend:n}=e,{input:s}=t;return gF({inputs:{x:n.texData.get(s.dataId).complexTensorInfos.imag},backend:n})}const fz={kernelName:Hs,backendName:"webgl",kernelFunc:pz};function mz(e,t,n){const s=e[0].dtype;if("complex64"===s){const s=e.map((e=>YB({inputs:{input:e},backend:n}))),r=e.map((e=>pz({inputs:{input:e},backend:n}))),a=mz(s,t,n),i=mz(r,t,n),o=bF({inputs:{real:a,imag:i},backend:n});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),r.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),o}let r=n.shouldExecuteOnCPU(e);if("string"===s&&(r=!0),r){const r=e.map((e=>{const s=Ht(e.shape.slice(t));return BF({inputs:{x:e},backend:n,attrs:{shape:[-1,s]}})})),a=r.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),i=Em(r.map((e=>e.shape)),1),o=1===r[0].shape[0],l=XD(a,i,s,o),u=Em(e.map((e=>e.shape)),t),c=n.makeTensorInfo(u,s,l);return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const a=e.filter((e=>Ht(e.shape)>0)),i=Cn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&a[0].shape.length>1;if(1===a.length){const t=i?new HM(e[0].shape,JM):new iF(e[0].shape,JM);return n.runWebGLProgram(t,e,s)}const o=Cn().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(a.length>o){const e=[];for(let s=0;s<a.length;s+=o){const r=a.slice(s,s+o);e.push(mz(r,t,n))}const s=mz(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return s}if(i){const e=new hz(a.map((e=>e.shape)),t);return n.runWebGLProgram(e,a,s)}const{tensors2D:l,outShape:u}=function(e,t,n){const s=Em(e.map((e=>e.shape)),t),r=e.map((e=>BF({inputs:{x:e},attrs:{shape:[-1,Ht(e.shape.slice(t))]},backend:n})));return{tensors2D:r,outShape:s}}(a,t,n),c=new cz(l.map((e=>e.shape))),h=n.runWebGLProgram(c,l,s);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const d=BF({inputs:{x:h},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(h),d}function gz(e){const{inputs:t,backend:n,attrs:s}=e,{axis:r}=s,a=Jt(r,t[0].shape)[0];Sm(t.map((e=>e.shape)),a);const i=Em(t.map((e=>e.shape)),a);if(0===Ht(i))return n.makeTensorInfo(i,t[0].dtype,[]);const o=t.filter((e=>Ht(e.shape)>0));return 1===o.length?gF({inputs:{x:o[0]},backend:n}):mz(o,a,n)}const yz={kernelName:ss,backendName:"webgl",kernelFunc:gz};class bz{constructor(e,t=!1,n=null,s=!1,r=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,i=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,b=m?3:1;let w="",v="";n&&(w=s?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:r?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,v="result = activation(result);");const x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${w}\n\n      const ivec2 strides = ivec2(${o}, ${l});\n      const ivec2 pads = ivec2(${a}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${b}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${y}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${h}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${d}; wC++) {\n            int xC = xCCorner + wC * ${c};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${p}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===f}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${p}) *\n                    getW(wR, wC, ${p}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${p}, xR, xC) *\n                    getW(wR, wC, ${p}, d2);\n              }\n\n            } else if (${2===f}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===f}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2),\n                getW(wR, wC, ${p} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1),\n                  getX(batch, xR, xC, ${p} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC),\n                  getX(batch, ${p} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${x}\n        ${v}\n        setOutput(result);\n      }\n    `}}class wz{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,s=e.padInfo.left,r=e.strideDepth,a=e.strideHeight,i=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${r}, ${a}, ${i});\n      const ivec3 pads = ivec3(${t}, ${n}, ${s});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${c}; wF++) {\n          int xF = xFCorner + wF * ${o};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${p}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===f}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${p}) *\n                  getW(wF, wR, wC, ${p}, d2);\n              } else if (${2===f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1),\n                  getX(batch, xF, xR, xC, ${p} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2),\n                  getW(wF, wR, wC, ${p} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class vz{constructor(e,t=!1,n=null,s=!1,r=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=CD(this.outputShape.length);const a=e.padInfo.left,i=e.strideWidth,o=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,c=u;let h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<u;e++)h+=`\n           vec4 xTexelC${2*e};\n           int xTexelC${2*e}Ready;\n           vec4 xTexelC${2*e+1};\n           int xTexelC${2*e+1}Ready;\n           vec4 xC${e};`;h+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let e=0;e<u;e++)h+=`\n           xTexelC${2*e} = vec4(0.0);\n           xTexelC${2*e}Ready = 0;\n           xTexelC${2*e+1} = vec4(0.0);\n           xTexelC${2*e+1}Ready = 0;\n           xC${e} = vec4(0.0);`;h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let t=0;t<(c+1)/2;t++){const n=2*t;if(h+=`\n           xC = xCCorner + ${n*o};\n           `,1===i){if(n<u&&(a%2==1?(h+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n               `,h+=1===o&&n>0?`\n                 xC${n} = vec4(xTexelC${n-2}.zw, xTexelC${n}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${n} = vec4(previous.zw, xTexelC${n}.xy);\n                   } else {\n                     xC${n} = vec4(0.0, 0.0, xTexelC${n}.xy);\n                   }\n                   `):h+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 xC${n} = xTexelC${n};\n                 `,n+1<u)){const e=a%2==0?Wt(o):o;o%2==0&&a%2==1||o%2!=0&&a%2!=1?(h+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                     xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${n+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${n+1}Ready = 1;\n                   }\n                   `,h+=o>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${n+1} = vec4(previous.zw, xTexelC${n+1}.xy);\n                     } else {\n                      xC${n+1} = vec4(0.0, 0.0, xTexelC${n+1}.xy);\n                     }\n                     `:`\n                     xC${n+1} = vec4(xTexelC${n}.zw, xTexelC${n+1}.xy);\n                     `):h+=1===e?`\n                     xC${n+1} = xTexelC${n};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                       xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${n+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${n+1}Ready = 1;\n                     }\n\n                     xC${n+1} = xTexelC${n+1};\n                     `}}else n<u&&(a%2==1?(h+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${n+1}Ready == 0) {\n                   xTexelC${n+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${n+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${n+1}Ready = 1;\n                 }\n\n                 xC${n} = vec4(xTexelC${n}.zw, xTexelC${n+1}.zw);\n               `,n+1<u&&(h+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${n+1} = vec4(xTexelC${n+1}.xy, final.xy);\n                 `)):(h+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                   xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n+1}.zw = vec2(0.);\n                   }\n                   xTexelC${n+1}Ready = 1;\n                 }\n\n                 xC${n} = vec4(\n                   xTexelC${n}.xy, xTexelC${n+1}.xy);\n               `,n+1<u&&(h+=`\n                   xC${n+1} = vec4(xTexelC${n}.zw, xTexelC${n+1}.zw);\n                 `)));n<u&&(h+=`\n             wTexel = getW(r, ${n}, d1, d2);\n             dotProd += xC${n}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${n}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,n+1<u&&(h+=`\n               wTexel = getW(r, ${n+1}, d1, d2);\n               dotProd += xC${n+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${n+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";let d="",p="";n&&(d=s?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:r?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,p="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${d}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${h}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${f}\n         ${p}\n         setOutput(result);\n       }\n     `}}class xz{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=CD(this.outputShape.length);const{dataFormat:n}=t,s=eD(),r="channelsLast"===n,a=r?1:2,i=r?2:3,o=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)l+=`\n          blockIndex = rc.z + ${t};\n          pos = rc.y + ${e};\n\n          ${o}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${a}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${i}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${r}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*e+t}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*e+t}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${s.output} = result;\n      }\n    `}}function Az(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function kz({x:e,filter:t,convInfo:n,backend:s,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:i=0,activation:o=null}){const l=e.shape,u=s.texData.get(e.dataId),c=n.inChannels,h=l[0]*l[1]*l[2],d=n.outChannels,p="channelsLast"===n.dataFormat,f=!1;let m;const g=[];if(null!=a){const e=Az(a.shape,p);null!=e&&(a=BF({inputs:{x:a},backend:s,attrs:{shape:e}}),g.push(a))}if(null!=r){const e=Az(r.shape,p);null!=e&&(r=BF({inputs:{x:r},backend:s,attrs:{shape:e}}),g.push(r))}if(!((1===h||1===d)&&c>KF)&&u.isPacked&&p&&null!=u.texture&&l[2]%2!=0&&$t(u.shape.slice(-3),l.slice(-3))){const c=l[0]*l[1]*(l[2]+1),h={dataId:e.dataId,shape:[1,c,n.inChannels],dtype:e.dtype},d=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,Gt(jR(u.shape,h.shape),(()=>`packed reshape ${u.shape} to ${h.shape} isn't free`));const p=BF({inputs:{x:t},backend:s,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(p);const y=XF({a:h,b:p,backend:s,transposeA:false,transposeB:f,bias:r,activation:o,preluActivationWeights:a,leakyreluAlpha:i}),b=s.texData.get(y.dataId);Gt(b.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=d,b.shape=n.outShape,m=gF({inputs:{x:y},backend:s}),m.shape=n.outShape,g.push(y)}else{const l=n.outHeight*n.outWidth,u=BF({inputs:{x:e},backend:s,attrs:{shape:p?[n.batchSize,l,n.inChannels]:[n.batchSize,n.inChannels,l]}}),c=BF({inputs:{x:t},backend:s,attrs:{shape:[1,n.inChannels,n.outChannels]}}),h=XF({a:p?u:c,b:p?c:u,transposeA:!p,transposeB:f,backend:s,bias:r,activation:o,preluActivationWeights:a,leakyreluAlpha:i});m=BF({inputs:{x:h},backend:s,attrs:{shape:n.outShape}}),g.push(u),g.push(c),g.push(h)}for(const e of g)s.disposeIntermediateTensorInfo(e);return m}function Cz({x:e,filter:t,convInfo:n,backend:s,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:i=0,activation:o=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:h,outHeight:d,dataFormat:p}=n,f="channelsLast"===p,m=l*u*c,g=d*h,y=[n.batchSize,m,g],b=[];if(null!=a){const e=Az(a.shape,f);null!=e&&(a=BF({inputs:{x:a},backend:s,attrs:{shape:e}}),b.push(a))}if(null!=r){const e=Az(r.shape,f);null!=e&&(r=BF({inputs:{x:r},backend:s,attrs:{shape:e}}),b.push(r))}const w=BF({inputs:{x:t},backend:s,attrs:{shape:[1,m,Ht(t.shape)/m]}});b.push(w);const v=new xz(y,n),x=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],A=s.runWebGLProgram(v,[e],"float32",x),k=BF({inputs:{x:A},backend:s,attrs:{shape:y}});b.push(A),b.push(k);const C=null!=r,S=null!=a,E="leakyrelu"===o,_=o?TF(o,!0):null,I=new NF(f?k.shape:w.shape,f?w.shape:k.shape,f?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],!0,!1,C,_,S,E),T=f?[k,w]:[w,k];if(r&&T.push(r),S&&T.push(a),E){const e=s.makeTensorInfo([],"float32",hi(i,"float32"));T.push(e),b.push(e)}const N=s.runWebGLProgram(I,T,"float32"),O=BF({inputs:{x:N},backend:s,attrs:{shape:n.outShape}});b.push(N);for(const e of b)s.disposeIntermediateTensorInfo(e);return O}const Sz={kernelName:rs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a}=t,{strides:i,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=s,h=Ec(l),d=gc(r.shape,a.shape,i,u,o,c,!1,h);let p;if(1!==d.filterHeight||1!==d.filterWidth||1!==d.dilationHeight||1!==d.dilationWidth||1!==d.strideHeight||1!==d.strideWidth||"SAME"!==d.padInfo.type&&"VALID"!==d.padInfo.type)if(d.strideWidth<=2&&"channelsLast"===h&&Cn().getBool("WEBGL_EXP_CONV")){const e=new vz(d),t=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];p=n.runWebGLProgram(e,[r,a],"float32",t)}else if(Cn().getBool("WEBGL_CONV_IM2COL"))p=Cz({x:r,filter:a,convInfo:d,backend:n});else{const e=new bz(d);p=n.runWebGLProgram(e,[r,a],"float32")}else p=kz({x:r,filter:a,convInfo:d,backend:n});const f=BF({inputs:{x:p},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(p),f}};class Ez{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,s=e.padInfo.top,r=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${s};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${r};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              ${a?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class _z{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,s=e.strideHeight,r=e.strideWidth,a="channelsLast"===e.dataFormat,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left,l=a?1:2,u=a?2:3,c=a?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${s}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${a}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Iz{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,s=e.strideWidth,r=e.padInfo.front,a=e.padInfo.top,i=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${r};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${a};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${s} - ${i};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Tz{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,s=e.filterWidth,r=e.strideDepth,a=e.strideHeight,i=e.strideWidth,o=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=s-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${o}, ${l}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${r}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${a}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${s}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${i}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${s} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Nz={kernelName:as,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,dy:a}=t,{strides:i,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=s,h=Ec(l),d=gc(r.shape,c,i,1,o,u,!1,h),p=new Ez(d);return n.runWebGLProgram(p,[r,a],"float32")}};class Oz{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=CD(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,s=t-1-e.padInfo.top,r=n-1-e.padInfo.left;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${r});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            int wCPerm = ${n} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}const Rz={kernelName:is,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,filter:a}=t,{inputShape:i,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=s,h=Ec(u),d=gc(i,a.shape,o,1,l,c,!1,h);if(Cn().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===h){const e=[[d.strideHeight,d.strideWidth]],t=new Oz(d);return n.runWebGLProgram(t,[r,a],"float32",e)}{const e=new _z(d);return n.runWebGLProgram(e,[r,a],"float32")}}};const Dz={kernelName:os,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a}=t,{strides:i,pad:o,dilations:l}=s,u=yc(r.shape,a.shape,i,l,o),c=new wz(u);return n.runWebGLProgram(c,[r,a],"float32")}};const Mz={kernelName:ls,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,dy:a}=t,{strides:i,pad:o,filterShape:l}=s,u=yc(r.shape,l,i,1,o),c=new Iz(u);return n.runWebGLProgram(c,[r,a],"float32")}};const Fz={kernelName:us,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,filter:a}=t,{pad:i,strides:o,inputShape:l}=s,u=yc(l,a.shape,o,1,i),c=new Tz(u);return n.runWebGLProgram(c,[r,a],"float32")}},Bz=_F({opSnippet:EF+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${fF}\n  return result;\n`}),zz={kernelName:cs,backendName:"webgl",kernelFunc:Bz},Lz=_F({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),Pz={kernelName:hs,backendName:"webgl",kernelFunc:Lz};class Vz{constructor(e,t,n,s,r){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,i,o,l]=e,[u]=t,[c,h]=n;this.outputShape=[u,c,h,l];const d="bilinear"===s?1:0,[p,f]=[i-1+".0",o-1+".0"],[m,g,y]=c>1?[""+(i-1)/(c-1),"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,w,v]=h>1?[""+(o-1)/(h-1),"(x2-x1) * width_ratio",`x1*${f} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${f}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${b});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${a}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${w};\n\n        float in_y = ${y};\n        if( in_y < 0.0 || in_y > ${p} ) {\n          setOutput(float(${r}));\n          return;\n        }\n        float in_x = ${v};\n        if( in_x < 0.0 || in_x > ${f} ) {\n          setOutput(float(${r}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${d} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const Wz={kernelName:fs,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{image:r,boxes:a,boxInd:i}=t,{cropSize:o,method:l,extrapolationValue:u}=s,c=new Vz(r.shape,a.shape,o,l,u);return n.runWebGLProgram(c,[r,a,i],"float32")}};var Uz;!function(e){e.Prod="*",e.Sum="+"}(Uz||(Uz={}));class Gz{constructor(e,t,n,s){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const r=this.outputShape.length,a=this.op===Uz.Prod?"1.0":"0.0",i=n?a:`getX(${qz(r,"coords",this.op)})`,o=this.outputShape[this.outputShape.length-1];let l="",u="";n?(l=s?"end != "+(o-1):"end != 0",u=s?"end + 1":"end - 1"):(l=s?`end + pow2 < ${o}`:"end >= pow2",u=s?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${yD(r)} coords = getOutputCoords();\n        int end = ${jz(r,"coords",this.op)};\n        float val = ${i};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${u};\n          ${jz(r,"coords",this.op)} = idx;\n          val ${this.op}= getX(${qz(r,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function qz(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function jz(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function Hz(e,t,n,s,r,a){const i=t.shape.length,o=_h([s],i);let l=t;null!=o&&(l=HF({inputs:{x:t},backend:n,attrs:{perm:o}}));const u=Th(1,i)[0];if(u!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${s}`);const c=l.shape[u];let h=gF({inputs:{x:l},backend:n});for(let t=0;t<=Math.ceil(Math.log2(c))-1;t++){const s=new Gz(e,l.shape,!1,a),r=[[t]],i=h;h=n.runWebGLProgram(s,[h],h.dtype,r),n.disposeIntermediateTensorInfo(i)}if(r){const t=new Gz(e,l.shape,r,a),s=h;h=n.runWebGLProgram(t,[h],h.dtype),n.disposeIntermediateTensorInfo(s)}if(null!=o){const e=HF({inputs:{x:h},backend:n,attrs:{perm:Ih(o)}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(l),e}return h}const $z={kernelName:ds,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,exclusive:i,reverse:o}=s;return Hz(Uz.Prod,r,n,a,i,o)}};const Kz={kernelName:ps,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,exclusive:i,reverse:o}=s;return Hz(Uz.Sum,r,n,a,i,o)}};const Xz={kernelName:ms,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,weights:a}=t,{size:i,binaryOutput:o}=s;if(1===r.shape.length){const e=n.readSync(r.dataId),t=n.readSync(a.dataId),s=qD(e,t,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,s)}if(2===r.shape.length){const e=n.bufferSync(r),t=n.bufferSync(a),s=jD(e,t,i,o);return n.makeTensorInfo(s.shape,a.dtype,s.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}};class Zz{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const Yz={kernelName:gs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{blockSize:a,dataFormat:i}=s,o=r.shape[0],l=("NHWC"===i?r.shape[1]:r.shape[2])*a,u=("NHWC"===i?r.shape[2]:r.shape[3])*a,c=("NHWC"===i?r.shape[3]:r.shape[1])/(a*a),h=new Zz("NHWC"===i?[o,l,u,c]:[o,c,l,u],a,i);return n.runWebGLProgram(h,[r],r.dtype)}};class Qz{constructor(e,t=!1,n=null,s=!1,r=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=CD(this.outputShape.length);const a=e.filterHeight,i=e.filterWidth,o=e.outChannels/e.inChannels;let l="",u="";n&&(l=s?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:r?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,u="result = activation(result);");const c=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${a}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${c}\n        ${u}\n        setOutput(result);\n      }\n    `}}class Jz{constructor(e,t=!1,n=null,s=!1,r=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=CD(this.outputShape.length);const a=e.outChannels/e.inChannels,i=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,h=c;let d="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<c;e++)d+=`\n          vec4 xTexelC${2*e};\n          int xTexelC${2*e}Ready;\n          vec4 xTexelC${2*e+1};\n          int xTexelC${2*e+1}Ready;\n          vec4 xC${e};`;d+=`\n    for (int r = 0; r < ${u}; r++) {\n      `;for(let e=0;e<c;e++)d+=`\n          xTexelC${2*e} = vec4(0.0);\n          xTexelC${2*e}Ready = 0;\n          xTexelC${2*e+1} = vec4(0.0);\n          xTexelC${2*e+1}Ready = 0;\n          xC${e} = vec4(0.0);`;d+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let e=0;e<(h+1)/2;e++){const t=2*e;if(d+=`\n          xC = xCCorner + ${t*l};\n          `,1===o){if(t<c&&(i%2==1?(d+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n              `,d+=1===l&&t>0?`\n                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                  } else {\n                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                  }\n                  `):d+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xC${t} = xTexelC${t};\n                `,t+1<c)){const e=i%2==0?Wt(l):l;l%2==0&&i%2==1||l%2!=0&&i%2!=1?(d+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${t+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${t+1}Ready = 1;\n                  }\n                  `,d+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                    } else {\n                     xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                    }\n                    `:`\n                    xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                    `):d+=1===e?`\n                    xC${t+1} = xTexelC${t};\n                    `:`\n                    xCOffset = xC + ${e};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${t+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${t+1}Ready = 1;\n                    }\n\n                    xC${t+1} = xTexelC${t+1};\n                    `}}else t<c&&(i%2==1?(d+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n              `,t+1<c&&(d+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                `)):(d+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(\n                  xTexelC${t}.xy, xTexelC${t+1}.xy);\n              `,t+1<c&&(d+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                `)));t<c&&(d+=`\n            wTexel = getW(r, ${t}, d1, q);\n            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);\n          `,t+1<c&&(d+=`\n              wTexel = getW(r, ${t+1}, d1, q);\n              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}d+="\n    }\n  ",d+="\n      }\n    ";let p="",f="";n&&(p=s?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:r?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${a};\n        int q = d2 - d1 * ${a};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${d}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${f}\n        setOutput(result);\n      }\n    `}}const eL={kernelName:ys,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a}=t,{strides:i,pad:o,dilations:l,dimRoundingMode:u}=s;let c=l;null==c&&(c=[1,1]),Gt(Cc(i,c),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`));const h=gc(r.shape,a.shape,i,c,o,u,!0);let d;d=Cn().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1?new Jz(h):new Qz(h);const p=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(d,[r,a],"float32",p)}};class tL{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,s=e.padInfo.top,r=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${a} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${s};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${r};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class nL{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,s=e.strideHeight,r=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${s}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${o}; dm++) {\n              int d2 = d1 * ${o} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const sL={kernelName:bs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,dy:a}=t,{strides:i,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=s,h=gc(r.shape,c,i,o,l,u,!0),d=new tL(h);return n.runWebGLProgram(d,[r,a],"float32")}};const rL={kernelName:ws,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,filter:a}=t,{strides:i,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=s,h=gc(c,a.shape,i,o,l,u,!0),d=new nL(h);return n.runWebGLProgram(d,[r,a],"float32")}};class aL{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const iL={kernelName:vs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t,r=[...s.shape,...s.shape],a=Ht(s.shape),i=BF({inputs:{x:s},backend:n,attrs:{shape:[a]}}),o=new aL(a),l=n.runWebGLProgram(o,[i],i.dtype),u=BF({inputs:{x:l},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}};class oL{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:s,strideHeight:r,strideWidth:a,filterHeight:i,filterWidth:o,dilationHeight:l,dilationWidth:u}=e,{top:c,left:h}=s;this.userCode=`\n      const ivec2 strides = ivec2(${r}, ${a});\n      const ivec2 pads = ivec2(${c}, ${h});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${i}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${o}; w++) {\n              int wIn = wBeg + w * ${u};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const lL={kernelName:xs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a}=t,{strides:i,pad:o,dilations:l}=s,u=pc(r.shape,a.shape,i,o,"NHWC",l);let c;const h=new oL(u);c=n.runWebGLProgram(h,[r,a],"float32");const d=BF({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),d}};const uL={kernelName:Es,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{equation:r}=s,a=t,{allDims:i,summedDims:o,idDims:l}=og(r,a.length);ug(i.length,l,a);const{path:u,steps:c}=cg(o,l),h=c.length;let d=null,p=i.length;const f=[];for(let e=0;e<h;++e){for(const t of c[e]){const{permutationIndices:e,expandDims:s}=lg(p,l[t]);let r;hg(e)?r=a[t]:(r=HF({inputs:{x:a[t]},backend:n,attrs:{perm:e}}),f.push(r));const i=r.shape.slice();for(let e=0;e<s.length;++e)i.splice(s[e],0,1);$t(r.shape,i)||(r=BF({inputs:{x:r},backend:n,attrs:{shape:i}}),f.push(r)),null===d?d=r:(d=MF({inputs:{a:r,b:d},backend:n}),f.push(d))}e<h-1&&(u[e]>=0&&(d=qF({inputs:{x:d},backend:n,attrs:{axis:u[e]-(i.length-p),keepDims:!1}}),f.push(d)),p--)}for(const e of f)e!==d&&n.disposeIntermediateTensorInfo(e);return d}},cL=_F({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),hL={kernelName:_s,backendName:"webgl",kernelFunc:cL},dL={kernelName:Is,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:s,y:r}=t,a=Cn().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new mF("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",s.shape,r.shape):new pF("return (b >= 0.0) ? a : a * (b + 1.0);",s.shape,r.shape);return n.runWebGLProgram(a,[s,r],s.dtype)}},pL=IF({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:ZD}),fL={kernelName:Ns,backendName:"webgl",kernelFunc:pL},mL=_F({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${Gm};\n  float a1 = ${qm};\n  float a2 = ${jm};\n  float a3 = ${Hm};\n  float a4 = ${$m};\n  float a5 = ${Km};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),gL={kernelName:Ts,backendName:"webgl",kernelFunc:mL},yL=_F({opSnippet:EF+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:YD,dtype:"float32"}),bL={kernelName:Os,backendName:"webgl",kernelFunc:yL};function wL(e){const{inputs:t,attrs:n,backend:s}=e,{dim:r}=n,{input:a}=t,i=a.shape.length,o=a.shape.slice();let l=r;return r<0&&(Gt(-(i+1)<=r,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+r+1),o.splice(l,0,1),BF({inputs:{x:a},backend:s,attrs:{shape:o}})}const vL={kernelName:Rs,backendName:"webgl",kernelFunc:wL},xL="return exp(x) - 1.0;",AL=_F({opSnippet:xL,packedOpSnippet:xL,cpuKernelImpl:QD}),kL={kernelName:Ds,backendName:"webgl",kernelFunc:AL};class CL{constructor(e,t,n){this.variableNames=["real","imag"];const s=t[1];this.outputShape=t;const r=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=n?`${s}.0`:"1.0";let i;if("real"===e)i="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);i="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${r};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${i}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${s});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${s}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${a};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function SL(e,t,n){const s=n.texData.get(e.dataId),r=Ht(e.shape),a=e.shape[e.shape.length-1],i=BF({inputs:{x:e},backend:n,attrs:{shape:[r/a,a]}}),o=i.shape,l=new CL("real",o,t),u=new CL("imag",o,t),c=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:o},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:o}],h=n.runWebGLProgram(l,c,"float32"),d=n.runWebGLProgram(u,c,"float32"),p=bF({inputs:{real:h,imag:d},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d);const f=BF({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(p),f}const EL={kernelName:Ms,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:s}=t;return SL(s,!1,n)}};class _L{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function IL(e){const{backend:t,attrs:n}=e,{shape:s,value:r}=n;let{dtype:a}=n;if(a=a||ln(r),"string"===a){const e=nn(a,Ht(s));return e.fill(r),t.makeTensorInfo(s,a,e)}{const e=new _L(s,r),n=[[r]];return t.runWebGLProgram(e,[],a,n)}}const TL={kernelName:Fs,backendName:"webgl",kernelFunc:IL};class NL{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const OL={kernelName:Bs,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,s=t,r=new NL(n.shape);return s.runWebGLProgram(r,[n],n.dtype)}},RL="return floor(x);",DL=_F({opSnippet:RL,packedOpSnippet:RL,cpuKernelImpl:JD}),ML={kernelName:zs,backendName:"webgl",kernelFunc:DL},FL=IF({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),BL={kernelName:Ls,backendName:"webgl",kernelFunc:FL};class zL{constructor(e){this.variableNames=["A"];const t=eD(),[n,s]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class LL{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=eD(),[n,s]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${s}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const PL={kernelName:Fa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e;let{pixels:r}=t;const{numChannels:a}=s,i="undefined"!=typeof HTMLVideoElement&&r instanceof HTMLVideoElement,o="undefined"!=typeof HTMLImageElement&&r instanceof HTMLImageElement,[l,u]=i?[r.videoWidth,r.videoHeight]:[r.width,r.height],c=[u,l],h=[u,l,a];if(o||i){const e=Cn().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=VL&&e===WL||(WL=e,VL=document.createElement("canvas").getContext("2d",{willReadFrequently:WL})),VL.canvas.width=l,VL.canvas.height=u,VL.drawImage(r,0,0,l,u),r=VL.canvas}const d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=AR.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),r);const p=Cn().getBool("WEBGL_PACK")?new LL(h):new zL(h),f=n.runWebGLProgram(p,[d],"int32");return n.disposeData(d.dataId),f}};let VL,WL=Cn().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const UL={kernelName:La,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a,bias:i,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=s,m=Ec(c),g=gc(r.shape,a.shape,l,h,u,d,!1,m);let y;const b=[],w=null!=i,v=null!=o,x="leakyrelu"===p,A=()=>{const e=[r,a],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=BF({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return b.push(t),t}return e};if(w&&e.push(t(i,c)),v&&e.push(t(o,c)),x){const t=n.makeTensorInfo([],"float32",hi(f,"float32"));e.push(t),b.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&Cn().getBool("WEBGL_EXP_CONV")){const e=p?TF(p,!0):null,t=new vz(g,w,e,v,x),s=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],r=A();y=n.runWebGLProgram(t,r,"float32",s)}else if(Cn().getBool("WEBGL_CONV_IM2COL"))y=Cz({x:r,filter:a,convInfo:g,backend:n,bias:i,activation:p,preluActivationWeights:o,leakyreluAlpha:f});else{const e=p?TF(p,!1):null,t=new bz(g,w,e,v,x),s=A();y=n.runWebGLProgram(t,s,"float32")}else y=kz({x:r,filter:a,convInfo:g,backend:n,bias:i,activation:p,preluActivationWeights:o,leakyreluAlpha:f});const k=BF({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return b.push(y),b.forEach((e=>n.disposeIntermediateTensorInfo(e))),k}};const GL={kernelName:Pa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,filter:a,bias:i,preluActivationWeights:o}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:h,activation:d,leakyreluAlpha:p}=s,f=[];let m=c;null==m&&(m=[1,1]),Gt(Cc(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=gc(r.shape,a.shape,l,m,u,h,!0),y=Cn().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels==1,b=d?TF(d,y):null,w=[r,a],v=null!=i,x=null!=o,A="leakyrelu"===d;if(v&&w.push(i),x&&w.push(o),A){const e=n.makeTensorInfo([],"float32",hi(p,"float32"));w.push(e),f.push(e)}let k;k=y?new Jz(g,v,b,x,A):new Qz(g,v,b,x,A);const C=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],S=n.runWebGLProgram(k,w,"float32",C);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};class qL{constructor(e,t,n,s){this.sliceDim=e,this.strides=t,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=n;const r=yD(n.length);let a="\n    int index;";for(let e=0;e<this.sliceDim;e++)a+=`\n          index = round(getIndices(coords[0], ${e}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[e]};\n          flattenIndex += index * ${this.strides[e]};`;this.userCode=`\n         void main() {\n          ${r} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${a}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}const jL={kernelName:Ws,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:s,indices:r}=t,a=r.shape,i=a[a.length-1],o=Ht(s.shape),[l,u,c,h]=Vm(s,r),d=BF({inputs:{x:r},backend:n,attrs:{shape:[u,i]}}),p=BF({inputs:{x:s},backend:n,attrs:{shape:[Ht(s.shape)/c,c]}});if(n.shouldExecuteOnCPU([s,r])||"string"===s.dtype){const e=n.readSync(r.dataId),t=n.bufferSync(s),a=eM(e,t,s.dtype,u,i,c,h,s.shape,o);return n.makeTensorInfo(l,s.dtype,a.values)}const f=new qL(i,h,[u,c],s.shape),m=n.runWebGLProgram(f,[p,d],p.dtype),g=BF({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}};class HL{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=yD(this.rank),s=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[];for(let t=0;t<e.length;t++)2===t?s.push("index"):s.push(`${n[t]}`);return s.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${s}));\n      }\n    `}}function $L(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,indices:a}=t,{axis:i,batchDims:o}=s,l=Jt(i,r.shape)[0];if(Cn().get("DEBUG")){const e=n.readSync(a.dataId),t=r.shape[l];for(let n=0;n<e.length;++n){const s=e[n];Gt(s<=t-1&&s>=0,(()=>`GatherV2: the index value ${s} is not in [0, ${t-1}]`))}}const u=Ig(r,a,l,o),c=Ht(a.shape),h=[],d=BF({inputs:{x:r},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),p=BF({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});h.push(d),h.push(p);const f=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){const e=n.bufferSync(p),t=n.bufferSync(d),s=tM(t,e,f);return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u.outputShape,s.dtype,s.values)}const m=new HL(d.shape,f),g=n.runWebGLProgram(m,[d,p],d.dtype);h.push(g);const y=BF({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const KL={kernelName:Vs,backendName:"webgl",kernelFunc:$L},XL=IF({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:nM,dtype:"bool"}),ZL={kernelName:Us,backendName:"webgl",kernelFunc:XL},YL=IF({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:sM}),QL={kernelName:Gs,backendName:"webgl",kernelFunc:YL};const JL={kernelName:js,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:s}=t;return SL(s,!0,n)}},eP=_F({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),tP={kernelName:$s,backendName:"webgl",kernelFunc:eP},nP=_F({opSnippet:"return float(isinf(x));",dtype:"bool"}),sP={kernelName:Ks,backendName:"webgl",kernelFunc:nP},rP=_F({opSnippet:"return float(isnan(x));",dtype:"bool"}),aP={kernelName:Xs,backendName:"webgl",kernelFunc:rP},iP=IF({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:rM,dtype:"bool"}),oP={kernelName:Ys,backendName:"webgl",kernelFunc:iP},lP=IF({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:aM,dtype:"bool"}),uP={kernelName:Qs,backendName:"webgl",kernelFunc:lP};const cP={kernelName:Js,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:s,stop:r,num:a}=n,i=iM(s,r,a);return t.makeTensorInfo([i.length],"float32",i)}},hP=_F({opSnippet:EF+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:oM}),dP={kernelName:er,backendName:"webgl",kernelFunc:hP},pP=_F({opSnippet:EF+"\n  return log(1.0 + x);\n"}),fP={kernelName:tr,backendName:"webgl",kernelFunc:pP},mP=IF({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),gP={kernelName:nr,backendName:"webgl",kernelFunc:mP},yP=_F({opSnippet:"return float(!(x >= 1.0));"}),bP={kernelName:sr,backendName:"webgl",kernelFunc:yP},wP=IF({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),vP={kernelName:rr,backendName:"webgl",kernelFunc:wP};class xP{constructor(e,t,n,s,r){this.variableNames=["x"],this.outputShape=[];const a=t,i=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${s}) * sum`;o=.5===r?`inversesqrt(${l})`:1===r?`1.0/(${l})`:`exp(log(${l}) * float(-${r}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${a}; j <= ${a}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${i}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${o};\n        setOutput(val);\n      }\n    `}}class AP{constructor(e,t,n,s,r){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=t,i=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${s}) * sum`;o=.5===r?`inversesqrt(${l})`:1===r?`1.0/(${l})`:`exp(log(${l}) * float(-${r}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${a};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${a}; j <= ${a}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${i}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${o};\n        setOutput(result);\n      }\n    `}}const kP={kernelName:ar,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{depthRadius:a,bias:i,alpha:o,beta:l}=s,u=Cn().getBool("WEBGL_PACK_NORMALIZATION")?new AP(r.shape,a,i,o,l):new xP(r.shape,a,i,o,l);return n.runWebGLProgram(u,[r],r.dtype)}};class CP{constructor(e,t,n,s,r){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=s,this.beta=r,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${s}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${s})\n                * float(${r})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${r});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const SP={kernelName:ir,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{x:r,y:a,dy:i}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=s,h=new CP(r.shape,o,l,u,c);return n.runWebGLProgram(h,[r,a,i],r.dtype)}};function EP(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{reductionIndices:a,keepDims:i}=s,o=r.shape.length,l=Jt(a,r.shape);let u=l;const c=_h(u,o),h=null!=c,d=n.shouldExecuteOnCPU([r]);let p=r;if(h){if(d){const e=n.texData.get(p.dataId).values,t=new Array(o);for(let e=0;e<t.length;e++)t[e]=r.shape[c[e]];const s=BM(e,r.shape,r.dtype,c,t);p=n.makeTensorInfo(t,r.dtype);n.texData.get(p.dataId).values=s}else p=GF(r,c,n);u=Th(u.length,o)}Eh("max",u,o);const[f,m]=Ch(p.shape,u);let g,y=f;if(i&&(y=Sh(f,l)),d){const e=n.texData.get(p.dataId).values,t=lM(e,Ht(m),y,r.dtype);g=n.makeTensorInfo(y,r.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,s){const r=Ht(t),a=BF({inputs:{x:e},attrs:{shape:[Ht(e.shape)/r,r]},backend:s}),i=VF(a,e.dtype,"max",s),o=BF({inputs:{x:i},attrs:{shape:n},backend:s});return s.disposeIntermediateTensorInfo(a),s.disposeIntermediateTensorInfo(i),o}(p,m,y,n);return h&&n.disposeIntermediateTensorInfo(p),g}const _P={kernelName:or,backendName:"webgl",kernelFunc:EP},IP=IF({opSnippet:dF+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+fF+"\n  return result;\n",cpuKernelImpl:uM}),TP={kernelName:lr,backendName:"webgl",kernelFunc:IP};const NP={kernelName:ur,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t;QR(r,"maxPool");const{filterSize:a,strides:i,pad:o,dimRoundingMode:l}=s;Gt(Cc(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=fc(r.shape,a,i,1,o,l);if(1===u.filterWidth&&1===u.filterHeight&&$t(u.inShape,u.outShape))return gF({inputs:{x:r},backend:n});const c=new IB(u,"max",!1);return n.runWebGLProgram(c,[r],r.dtype)}};const OP={kernelName:hr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{filterSize:a,strides:i,pad:o,dataFormat:l,dimRoundingMode:u}=s,c=mc(r.shape,a,i,[1,1,1],o,u,l),h=new TB(c,"max",!1);return n.runWebGLProgram(h,[r],r.dtype)}};class RP{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,s=e.dilationHeight,r=e.effectiveFilterHeight,a=e.effectiveFilterWidth,i=r-1-e.padInfo.top,o=a-1-e.padInfo.left,l=r*a-1;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${r};\n          wR += ${s}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${a} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class DP{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,s=e.strideWidth,r=e.dilationDepth,a=e.dilationHeight,i=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=o-1-e.padInfo.front,h=l-1-e.padInfo.top,d=u-1-e.padInfo.left,p=o*l*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${h}, ${d});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${o};\n           wD += ${r}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${a}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${i}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${p} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const MP={kernelName:dr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,input:a}=t,i=a,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=s,h=mc(i.shape,o,l,[1,1,1],u,c),d=new TB(h,"max",!0),p=n.runWebGLProgram(d,[i],i.dtype),f=new DP(h),m=n.runWebGLProgram(f,[r,p],i.dtype);return n.disposeIntermediateTensorInfo(p),m}};const FP={kernelName:cr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:r,input:a,output:i}=t,o=a;QR([a,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:h}=s,d=fc(o.shape,l,u,1,c,h),p=new IB(d,"max",!0),f=n.runWebGLProgram(p,[o],o.dtype),m=new RP(d),g=n.runWebGLProgram(m,[r,f],o.dtype);return n.disposeIntermediateTensorInfo(f),g}};const BP={kernelName:pr,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:s}=e,{filterSize:r,strides:a,pad:i,includeBatchInIndex:o}=t,l=n;Gt(4===s.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${s.shape.length}.`));const u=[1,1];Gt(Cc(a,u),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`));const c=fc(s.shape,r,a,u,i),[h,d]=function(e,t,n,s){let r=new IB(n,"max",!1);const a=s.runWebGLProgram(r,[e],"float32");return r=new IB(n,"max",!0,!0,t),[a,s.runWebGLProgram(r,[e],"float32")]}(s,o,c,l);return[h,d]}};const zP={kernelName:fr,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:s}=e,{keepDims:r,axis:a}=t,i=n,o=s.shape.length,l=Jt(a,s.shape);let u=l;const c=_h(u,o),h=null!=c,d=i.shouldExecuteOnCPU([s]),p=[];let f=s;if(h){if(d){const e=i.texData.get(f.dataId).values,t=new Array(o);for(let e=0;e<t.length;e++)t[e]=s.shape[c[e]];const n=BM(e,s.shape,s.dtype,c,t);f=i.makeTensorInfo(t,s.dtype);i.texData.get(f.dataId).values=n}else f=GF(s,c,i);p.push(f),u=Th(u.length,o)}Eh("sum",u,o);const[m,g]=Ch(f.shape,u);let y=m;r&&(y=Sh(m,l));const b=function(e,t,n,s){const r=Ht(t),a=BF({inputs:{x:e},attrs:{shape:[Ht(e.shape)/r,r]},backend:s}),i=VF(a,"float32","mean",s),o=BF({inputs:{x:i},attrs:{shape:n},backend:s});return s.disposeIntermediateTensorInfo(a),s.disposeIntermediateTensorInfo(i),o}(f,g,y,i);for(const e of p)i.disposeIntermediateTensorInfo(e);return b}};const LP={kernelName:mr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s,o=r.shape.length,l=Jt(a,r.shape);let u=l;const c=_h(u,o);let h=r;null!=c&&(h=HF({inputs:{x:r},backend:n,attrs:{perm:c}}),u=Th(u.length,r.shape.length)),Eh("min",u,o);const[d,p]=Ch(h.shape,u),f=BF({inputs:{x:h},backend:n,attrs:{shape:[-1,Ht(p)]}}),m=VF(f,f.dtype,"min",n);let g;if(i){g=BF({inputs:{x:m},backend:n,attrs:{shape:Sh(d,l)}})}else g=BF({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(h),g}},PP=IF({opSnippet:dF+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+fF+"\n  return result;\n",cpuKernelImpl:cM}),VP={kernelName:gr,backendName:"webgl",kernelFunc:PP};class WP{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const s=e.length,r=yD(s),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),l="reflect"===n?0:1;this.userCode=1!==s?`\n      ${r} start = ${r}(${a});\n      ${r} end = ${r}(${i});\n\n      void main() {\n        ${r} outC = getOutputCoords();\n        for (int i = 0; i < ${s}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${r} coords = outC - start;\n        setOutput(getX(${o}));\n      }\n    `:`\n        int start = ${a};\n        int end = ${i};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class UP{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const s=e.length,r=yD(s),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),o=PM("rc",s),l=PM("source",s),u=`${o[s-1]} < ${this.outputShape[s-1]}`,c=1===s?"source":`vec2(${l.slice(-2).join()})`,h="reflect"===n?0:1;let d="";if(1===s){const e=`\n        ${r} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${h};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${h};\n        }\n        source -= start;\n      `;d=`\n        ${r} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${o[s-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n      `}else{const e=`\n        ${r} source = rc;\n        ${r} lt = ${r}(lessThan(source, start));\n        ${r} gte = ${r}(greaterThanEqual(source, end));\n        ${r} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${h}) +\n                gte * ((end - 1) * 2 - source + ${h});\n        source -= start;\n      `;d=`\n        ${r} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${o[s-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n        rc = outputLoc;\n        ${o[s-2]} += 1;\n        if(${o[s-2]} < ${this.outputShape[s-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${c});\n          ${o[s-1]} += 1;\n          if(${u}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${c});\n          }\n        }\n      `}this.userCode=`\n      const ${r} start = ${r}(${a});\n      const ${r} end = ${r}(${i});\n\n      void main() {\n        ${r} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${d}\n        setOutput(result);\n      }\n    `}}const GP={kernelName:yr,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s}=e,{paddings:r,mode:a}=n,i=Cn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new UP(s.shape,r,a):new WP(s.shape,r,a);return t.runWebGLProgram(i,[s],s.dtype)}},qP=IF({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+fF+"\n  return result;\n"}),jP={kernelName:br,backendName:"webgl",kernelFunc:qP};class HP{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const $P=IF({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),KP={kernelName:Ss,backendName:"webgl",kernelFunc:$P},XP="return a - b;",ZP=IF({opSnippet:XP,packedOpSnippet:XP,supportsComplex:!0,cpuKernelImpl:DM}),YP={kernelName:ka,backendName:"webgl",kernelFunc:ZP};function QP(e){const{inputs:t,backend:n,attrs:s}=e,{logits:r}=t,{dim:a}=s,i=Jt([a],r.shape),o=EP({inputs:{x:r},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),l=Sh(o.shape,i),u=BF({inputs:{x:o},backend:n,attrs:{shape:l}}),c=ZP({inputs:{a:r,b:u},backend:n}),h=yL({inputs:{x:c},backend:n}),d=qF({inputs:{x:h},backend:n,attrs:{axis:i,keepDims:!1}}),p=BF({inputs:{x:d},backend:n,attrs:{shape:l}}),f=$P({inputs:{a:h,b:p},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),f}const JP={kernelName:ca,backendName:"webgl",kernelFunc:QP};const eV={kernelName:wr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{logits:r}=t,{numSamples:a,seed:i,normalized:o}=s,l=o?r:QP({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),u=l.shape[0],c=l.shape[1],h=new HP(u,c,a),d=[[i]],p=n.runWebGLProgram(h,[l],"int32",d);return o||n.disposeIntermediateTensorInfo(l),p}},tV=$M+"\n  return -x;\n";const nV={kernelName:xr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t;if(n.shouldExecuteOnCPU([s])){const e=n.texData.get(s.dataId),[t,r]=dM(e.values,s.shape,s.dtype);return n.makeTensorInfo(r,s.dtype,t)}let r;return r=Cn().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new iF(s.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new HM(s.shape,tV),n.runWebGLProgram(r,[s],s.dtype)}},sV=Of;const rV={kernelName:kr,backendName:"webgl",kernelFunc:function(e){Va();const{inputs:t,backend:n,attrs:s}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l}=s,u=n.readSync(r.dataId),c=n.readSync(a.dataId),{selectedIndices:h}=sV(u,c,i,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},aV=Rf;const iV={kernelName:Cr,backendName:"webgl",kernelFunc:function(e){Va();const{inputs:t,backend:n,attrs:s}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=s,c=n.readSync(r.dataId),h=n.readSync(a.dataId),{selectedIndices:d,validOutputs:p}=aV(c,h,i,o,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},oV=Df;const lV={kernelName:Sr,backendName:"webgl",kernelFunc:function(e){Va();const{inputs:t,backend:n,attrs:s}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=s,c=n.readSync(r.dataId),h=n.readSync(a.dataId),d=i,p=o,f=l,m=u,{selectedIndices:g,selectedScores:y}=oV(c,h,d,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class uV{constructor(e,t,n,s){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${s}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const cV={kernelName:_r,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{indices:r}=t,{dtype:a,depth:i,onValue:o,offValue:l}=s,u=Ht(r.shape),c=new uV(u,i,o,l),h=BF({inputs:{x:r},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(c,[h],a);n.disposeIntermediateTensorInfo(h);const p=BF({inputs:{x:d},backend:n,attrs:{shape:[...r.shape,i]}});return n.disposeIntermediateTensorInfo(d),p}};function hV(e){const{inputs:t,backend:n}=e,{x:s}=t;if("complex64"===s.dtype){const e=YB({inputs:{input:s},backend:n}),t=hV({inputs:{x:e},backend:n}),r=pz({inputs:{input:s},backend:n}),a=hV({inputs:{x:r},backend:n}),i=bF({inputs:{real:t,imag:a},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),i}return IL({attrs:{shape:s.shape,dtype:s.dtype,value:"string"===s.dtype?"":0},backend:n})}const dV={kernelName:Da,backendName:"webgl",kernelFunc:hV};const pV={kernelName:Er,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:s}=t,{x:r}=n;if("string"===r.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===r.dtype){const t=YB({inputs:{input:r},backend:s}),n=e({inputs:{x:t},backend:s}),a=pz({inputs:{input:r},backend:s}),i=hV({inputs:{x:a},backend:s}),o=bF({inputs:{real:n,imag:i},backend:s});return s.disposeIntermediateTensorInfo(t),s.disposeIntermediateTensorInfo(n),s.disposeIntermediateTensorInfo(a),s.disposeIntermediateTensorInfo(i),o}return IL({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:s})}};const fV={kernelName:Ir,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{axis:r}=s;if(1===t.length)return wL({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const a=t[0].shape,i=t[0].dtype;t.forEach((e=>{qt(a,e.shape,"All tensors passed to stack must have matching shapes"),Gt(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=gz({inputs:t.map((e=>{const t=wL({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class mV{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const s=e.length,r=yD(s),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);this.userCode=1!==s?`\n      ${r} start = ${r}(${a});\n      ${r} end = ${r}(${i});\n\n      void main() {\n        ${r} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${r} coords = outC - start;\n          setOutput(getX(${o}));\n        }\n      }\n    `:`\n        int start = ${a};\n        int end = ${i};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class gV{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const s=e.length,r=yD(s),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),o=PM("rc",s),l=PM("source",s),u=`${o[s-1]} < ${this.outputShape[s-1]}`,c=1===s?"source":`vec2(${l.slice(-2).join()})`,h=[`${r} rc = outputLoc;`,`${o[s-1]} += 1;\n       if(${u}) {\n      `,1===s?"":`}\n       rc = outputLoc;\n       ${o[s-2]} += 1;\n       if(${o[s-2]} < ${this.outputShape[s-2]}) {`,1===s?"":`  ${o[s-1]} += 1;\n         if(${u}) {`],d=1===s?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let e=0,t=1===s?2:4;e<t;e++)p+=`\n        ${h[e]}\n        if (${d}) {\n          result[${e}] = float(value);\n        } else {\n          ${r} source = rc - start;\n          result[${e}] = getChannel(getX(${l.join()}), ${c});\n        }\n      `;p+=1===s?"} ":"}}",this.userCode=`\n      const ${r} start = ${r}(${a});\n      const ${r} end = ${r}(${i});\n\n      void main() {\n        ${r} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const yV=e=>{const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{paddings:a,constantValue:i}=s;if(0===Ht(r.shape)){const e=a.map(((e,t)=>e[0]+r.shape[t]+e[1]));return IL({backend:n,attrs:{shape:e,value:i,dtype:r.dtype}})}const o=Cn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gV(r.shape,a,i):new mV(r.shape,a,i),l=[[i]];return n.runWebGLProgram(o,[r],r.dtype,l)},bV={kernelName:Tr,backendName:"webgl",kernelFunc:yV},wV=IF({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+fF+"\n  return result;\n"}),vV={kernelName:Nr,backendName:"webgl",kernelFunc:wV};const xV={kernelName:Rr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{axis:a,keepDims:i}=s,o=r.shape.length,l=[],u=Jt(a,r.shape);let c=u;const h=_h(c,o);let d,p=r;if(null!=h&&(p=HF({inputs:{x:r},backend:n,attrs:{perm:h}}),c=Th(c.length,o),l.push(p)),Eh("prod",c,o),n.shouldExecuteOnCPU([p])){const e=n.texData.get(p.dataId).values,{outVals:t,outShape:s,outDtype:r}=fM(p.shape,p.dtype,e,c);d=n.makeTensorInfo(s,r,t)}else{const[e,t]=Ch(p.shape,c),s=Ht(t),a=BF({inputs:{x:p},backend:n,attrs:{shape:[-1,s]}}),i=VF(a,Gi(r.dtype),"prod",n);d=BF({inputs:{x:i},backend:n,attrs:{shape:e}}),l.push(a),l.push(i)}if(i){l.push(d);const e=Sh(d.shape,u);d=BF({inputs:{x:d},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}};const AV={kernelName:Dr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{paramsNestedSplits:r,paramsDenseValues:a,indices:i}=t,{outputRaggedRank:o}=s,l=r.map((e=>n.readSync(e.dataId))),u=r.map((e=>e.shape)),c=n.readSync(a.dataId),h=n.readSync(i.dataId),[d,p,f]=mM(l,u,c,a.shape,a.dtype,h,i.shape,o),m=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,a.dtype,p);return m.concat([g])}};const kV={kernelName:Mr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:s,limits:r,deltas:a}=t,i=n.readSync(s.dataId),o=n.readSync(r.dataId),l=n.readSync(a.dataId),[u,c]=gM(i,s.shape,s.dtype,o,r.shape,l,a.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],s.dtype,c)]}};const CV={kernelName:Fr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{shape:r,values:a,defaultValue:i,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=s,u=n.readSync(r.dataId),c=n.readSync(a.dataId),h=n.readSync(i.dataId),d=o.map((e=>n.readSync(e.dataId))),p=o.map((e=>e.shape)),[f,m]=yM(u,r.shape,c,a.shape,a.dtype,h,i.shape,d,p,l);return n.makeTensorInfo(f,a.dtype,m)}},SV=e=>{const{backend:t,attrs:n}=e,{start:s,stop:r,step:a,dtype:i}=n,o=bM(s,r,a,i);return t.makeTensorInfo([o.length],i,o)},EV={kernelName:Br,backendName:"webgl",kernelFunc:SV},_V=_F({opSnippet:"return 1.0 / x;"}),IV={kernelName:Lr,backendName:"webgl",kernelFunc:_V},TV=_F({opSnippet:$M+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),NV={kernelName:Pr,backendName:"webgl",kernelFunc:TV},OV=_F({opSnippet:$M+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),RV={kernelName:jr,backendName:"webgl",kernelFunc:OV};class DV{constructor(e,t,n,s,r){this.variableNames=["A"],this.outputShape=[];const[a,i,o,l]=e;this.outputShape=[a,t,n,l];const u=[s&&t>1?i-1:i,s&&n>1?o-1:o],c=[s&&t>1?t-1:t,s&&n>1?n-1:n];let h;h=r?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${i}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class MV{constructor(e,t,n,s,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,i,o,l]=e;this.outputShape=[a,t,n,l];const u=[s&&t>1?i-1:i,s&&n>1?o-1:o],c=[s&&t>1?t-1:t,s&&n>1?n-1:n];let h;h=r?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${i}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const FV={kernelName:Gr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:r}=t,{alignCorners:a,halfPixelCenters:i,size:o}=s,[l,u]=o,c=Cn().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new MV(r.shape,l,u,a,i):new DV(r.shape,l,u,a,i);return n.runWebGLProgram(c,[r],"float32")}};class BV{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,s,r]=t,[,a,i]=e,o=[n&&a>1?s-1:s,n&&i>1?r-1:r],l=[n&&a>1?a-1:a,n&&i>1?i-1:i],u=o[0]/l[0],c=o[1]/l[1],h=1/u,d=1/c,p=2*Math.ceil(h)+2,f=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${a}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${i}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${r-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const zV={kernelName:qr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:r,dy:a}=t,{alignCorners:i}=s,o=new BV(a.shape,r.shape,i);return n.runWebGLProgram(o,[a],a.dtype)}};class LV{constructor(e,t,n,s,r){this.variableNames=["A"],this.outputShape=[];const[a,i,o,l]=e;this.outputShape=[a,t,n,l];const u=[s&&t>1?i-1:i,s&&n>1?o-1:o],c=[s&&t>1?t-1:t,s&&n>1?n-1:n],h=s?"0.5":"0.0";let d;d=r?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${i}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class PV{constructor(e,t,n,s,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,i,o,l]=e;this.outputShape=[a,t,n,l];const u=[s&&t>1?i-1:i,s&&n>1?o-1:o],c=[s&&t>1?t-1:t,s&&n>1?n-1:n],h=s?"0.5":"0.0";let d;d=r?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${i}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const VV={kernelName:Wr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:r}=t,{alignCorners:a,halfPixelCenters:i,size:o}=s,[l,u]=o,c=Cn().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new PV(r.shape,l,u,a,i):new LV(r.shape,l,u,a,i);return n.runWebGLProgram(c,[r],r.dtype)}};class WV{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,s,r]=t,[,a,i]=e,o=[n&&a>1?s-1:s,n&&i>1?r-1:r],l=[n&&a>1?a-1:a,n&&i>1?i-1:i],u=o[0]/l[0],c=o[1]/l[1],h=1/u,d=1/c,p=2*Math.ceil(h)+2,f=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${a}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${i}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${o[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${o[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${s}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const UV={kernelName:Ur,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:r,dy:a}=t,{alignCorners:i}=s,o=new WV(a.shape,r.shape,i);return n.runWebGLProgram(o,[a],a.dtype)}};class GV{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const s=e.map(((n,s)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(s))).join(","),r=yD(n);this.userCode=`\n      void main() {\n        ${r} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}}class qV{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const s=PM("rc",n),r=`${s[n-1]} + 1 < ${this.outputShape[n-1]}`,a=`${s[n-2]} + 1 < ${this.outputShape[n-2]}`,i=yD(n);function o(n){const s=e.map(((s,r)=>function(n,s){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${s[n]} - 1`:`${s[n]}`}(r,n)));return`getChannel(getX(${s.join(",")}), vec2(${s.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${r}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${i} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return o(e)}(s.slice())};\n          if(${r}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",o(e)}(s.slice())};\n          }\n          if(${a}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",o(e)}(s.slice())};\n            if(${r}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",o(e)}(s.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const jV={kernelName:Hr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{dims:a}=s,i=r.shape.length,o=Jt(a,r.shape);if(0===i)return gF({inputs:{x:r},backend:n});const l=Cn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new qV(r.shape,o):new GV(r.shape,o);return n.runWebGLProgram(l,[r],r.dtype)}};class HV{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],s=e[2];this.outputShape=e;let r="";r="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${r}\n          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const $V={kernelName:Ba,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:s}=e,{radians:r,fillValue:a,center:i}=t,o=n,l=new HV(s.shape,a),[u,c]=Mm(i,s.shape[1],s.shape[2]),h=[[u,c,Math.sin(r),Math.cos(r)]];return o.runWebGLProgram(l,[s],s.dtype,h)}},KV=_F({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),XV={kernelName:$r,backendName:"webgl",kernelFunc:KV},ZV=_F({opSnippet:"return inversesqrt(x);",cpuKernelImpl:wM}),YV={kernelName:Kr,backendName:"webgl",kernelFunc:ZV};class QV{constructor(e,t,n,s,r,a,i=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const l=yD(r.length),u=yD(a.length);let c="";1===n?c="i":2===n&&(c="i, j");const h=`getIndices(${c})`;let d="";1===s?d="i":2===s&&(d="i, coords[1]");const p=`getUpdates(${d})`;let f="";o&&(f="coords[0], coords[1]");const m=`getDefaultValue(${f})`,g=t>1?"strides[j]":"strides";this.userCode=`\n        ${l} strides = ${l}(${r});\n\n        void main() {\n          ${u} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${h});\n              flattenedIndex += index * ${g};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${p};\n              found = true;\n            }\n          }\n          setOutput(mix(${m}, sum, float(found)));\n        }\n      `}}class JV{constructor(e,t,n,s,r,a,i=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a;const l=yD(r.length),u=yD(a.length);let c="";1===n?c="i":2===n&&(c="i, j");const h=`getIndices(${c})`;let d="";1===s?d="i":2===s&&(d="i, coords[1]");const p=`getUpdates(${d})`;let f="";o&&(f="coords[0], coords[1]");const m=`getDefaultValue(${f})`,g=t>1?"strides[j]":"strides",y=t>1?"strides[j + 1]":"strides";this.userCode=`\n        ${l} strides = ${l}(${r});\n\n        void main() {\n          ${u} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${e}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${t}; j+=2) {\n              ivec4 index = round(${h});\n              flattenedIndex += index.xz * ${g};\n              if (j + 1 < ${t}) {\n                flattenedIndex += index.yw * ${y};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ${p};\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(${m}, sum, found));\n        }\n      `}}const eW={kernelName:Xr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{indices:r,updates:a}=t,{shape:i}=s,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:h}=Vp(0,r,i),d=[h/u,u];if(0===h)return n.makeTensorInfo(i,r.dtype);const p=BF({inputs:{x:r},backend:n,attrs:{shape:[l,o]}}),f=BF({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=Cn().getBool("WEBGL_PACK")?new JV(l,o,p.shape.length,f.shape.length,c,d):new QV(l,o,p.shape.length,f.shape.length,c,d);const y=n.runWebGLProgram(g,[f,p,m],f.dtype),b=BF({inputs:{x:y},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),b}};class tW{constructor(e,t,n,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const r=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,a=2===Cn().getNumber("WEBGL_VERSION")?"while (left < right) {":r,i="left"===s?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${a}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${i} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const nW={kernelName:Yr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{sortedSequence:r,values:a}=t,{side:i}=s,o=new tW(r.shape[0],r.shape[1],a.shape[1],i),l=[[r.shape[1]]];return n.runWebGLProgram(o,[r,a],"int32",l)}};class sW{constructor(e,t,n){let s,r;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)r="resRC",s="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],i=[];for(let s=0;s<t.length;s++)i.push(`${n[s]}`),s<e&&a.push(`${n[s]}`);s=a.join(),r=i.join()}const a=yD(n);this.userCode=`\n      void main() {\n        ${a} resRC = getOutputCoords();\n        float cVal = getC(${s});\n        if (cVal >= 1.0) {\n          setOutput(getA(${r}));\n        } else {\n          setOutput(getB(${r}));\n        }\n      }\n    `}}const rW={kernelName:Qr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:s,t:r,e:a}=t,i=new sW(s.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(i,[s,r,a],Ui(r.dtype,a.dtype))}},aW=_F({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${Wm};\n  float scale = ${Um};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),iW={kernelName:Jr,backendName:"webgl",kernelFunc:aW},oW=_F({opSnippet:EF+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:xM}),lW={kernelName:ra,backendName:"webgl",kernelFunc:oW},uW=_F({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),cW={kernelName:sa,backendName:"webgl",kernelFunc:uW},hW=_F({opSnippet:EF+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${fF}\n  return result;\n`}),dW={kernelName:ta,backendName:"webgl",kernelFunc:hW},pW=_F({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),fW={kernelName:na,backendName:"webgl",kernelFunc:pW},mW=_F({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),gW={kernelName:aa,backendName:"webgl",kernelFunc:mW},yW={kernelName:la,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{blockShape:a,paddings:i}=s;Gt(r.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const o=a.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...i);for(let e=1+a.length;e<r.shape.length;++e)l.push([0,0]);const u=[],c=yV({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),h=Fm(c.shape,a,o,!1),d=Bm(h.length,a.length,!1),p=zm(c.shape,a,o,!1),f=BF({inputs:{x:c},backend:n,attrs:{shape:h}}),m=HF({inputs:{x:f},backend:n,attrs:{perm:d}}),g=BF({inputs:{x:m},backend:n,attrs:{shape:p}});return u.push(c),u.push(f),u.push(m),u.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const bW={kernelName:ha,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:s,values:r,denseShape:a,defaultValue:i}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${a.shape}`);if(2!==s.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${s.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n         ${r.shape}`);if(0!==i.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${i.shape}`);const o=n.readSync(s.dataId),l=n.readSync(r.dataId),u=n.readSync(a.dataId),c=n.readSync(i.dataId)[0],[h,d,p,f,m]=CM(o,s.shape,s.dtype,l,r.dtype,u,c);return[n.makeTensorInfo(d,s.dtype,h),n.makeTensorInfo([d[0]],r.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],s.dtype,new Int32Array(m))]}};const wW={kernelName:da,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:s,inputShape:r,newShape:a}=t;if(2!==s.shape.length)throw new Error(`Input indices should be a matrix but received shape ${s.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const i=Array.from(n.readSync(r.dataId)),o=n.readSync(s.dataId),l=Array.from(n.readSync(a.dataId)),[u,c,h]=SM(o,s.shape,s.dtype,i,l);return[n.makeTensorInfo(c,s.dtype,u),n.makeTensorInfo([h.length],a.dtype,new Int32Array(h))]}};const vW={kernelName:pa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:s,indices:r,segmentIds:a}=t;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${a.shape}`);const i=n.readSync(s.dataId),o=n.readSync(r.dataId),l=n.readSync(a.dataId),[u,c]=EM(i,s.shape,s.dtype,o,l,!0);return n.makeTensorInfo(c,s.dtype,u)}};const xW={kernelName:fa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:s,indices:r,segmentIds:a}=t;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${a.shape}`);const i=n.readSync(s.dataId),o=n.readSync(r.dataId),l=n.readSync(a.dataId),[u,c]=EM(i,s.shape,s.dtype,o,l);return n.makeTensorInfo(c,s.dtype,u)}};const AW={kernelName:ma,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{sparseIndices:r,sparseValues:a,defaultValue:i}=t,{outputShape:o}=s,{sliceRank:l,numUpdates:u,sliceSize:c,strides:h,outputSize:d}=Vp(0,r,o),p=!1;if("string"===a.dtype){const e=n.bufferSync(r),t=n.bufferSync(a),s=mi(n.readSync(i.dataId)[0]),f=vM(e,t,o,d,c,u,l,h,s,p);return n.makeTensorInfo(o,f.dtype,f.values)}const f=new QV(u,l,r.shape.length,a.shape.length,h,[d,1],p),m=n.runWebGLProgram(f,[a,r,i],a.dtype),g=BF({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),g}};const kW={kernelName:ua,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{numOrSizeSplits:a,axis:i}=s,o=Jt(i,r.shape)[0],l=pg(r,a,o),u=r.shape.length,c=new Array(u).fill(0),h=r.shape.slice();return l.map((e=>{const t=[...h];t[o]=e;const s=GB({inputs:{x:r},backend:n,attrs:{begin:c,size:t}});return c[o]+=e,s}))}},CW="return sqrt(x);",SW=_F({opSnippet:CW,packedOpSnippet:CW,cpuKernelImpl:_M}),EW={kernelName:ia,backendName:"webgl",kernelFunc:SW},_W={kernelName:ya,backendName:"webgl",kernelFunc:_F({opSnippet:"return x * x;"})},IW="return (a - b) * (a - b);",TW=IF({opSnippet:IW,packedOpSnippet:IW}),NW={kernelName:ga,backendName:"webgl",kernelFunc:TW};const OW={kernelName:ba,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");const a=Tg(n.readSync(r.dataId)),i=IM(a,"string",s);return n.makeTensorInfo(r.shape,"string",i)}};const RW={kernelName:Ma,backendName:"webgl",kernelFunc:function({inputs:e,attrs:t,backend:n}){const{x:s}=e,r=$M+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,a=new HM(s.shape,r);return n.runWebGLProgram(a,[s],s.dtype)}};class DW{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const s=n.length,r=yD(n.length),a=yD(n.length);let i="";if(1===s)i="coords * strides + begin";else{let e=0;i=n.map(((t,s)=>(e++,1===n.length?`coords * strides[${s}] + begin[${s}]`:`coords[${e-1}] * strides[${s}] + begin[${s}]`))).join(",")}this.userCode=`\n      ${r} begin = ${r}(${e});\n      ${r} strides = ${r}(${t});\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        setOutput(getX(${i}));\n      }\n    `}}const MW={kernelName:wa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{begin:a,end:i,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:h,shrinkAxisMask:d}=s,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:b,end:w,strides:v}=Ju(r.shape,a,i,o,l,u,c,h,d);let x;if(m)x=BF({inputs:{x:r},backend:n,attrs:{shape:f}});else if(g||y){Gt(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=Vu(b,w,v),t=GB({inputs:{x:r},backend:n,attrs:{begin:b,size:e}});x=BF({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([r])){const e=n.readSync(r.dataId),t=Il(r.shape,r.dtype,e),s=TM(p,t,v,b);x=n.makeTensorInfo(f,r.dtype,s.values)}else{const e=new DW(b,v,p);x=n.runWebGLProgram(e,[r],r.dtype)}}const A=BF({inputs:{x},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(x),A}};const FW={kernelName:va,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{separator:r,nGramWidths:a,leftPad:i,rightPad:o,padWidth:l,preserveShortSequences:u}=s,{data:c,dataSplits:h}=t,d=n.readSync(c.dataId),p=n.readSync(h.dataId),[f,m]=NM(d,p,r,a,i,o,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(h.shape,"int32",m)]}};const BW={kernelName:xa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{skipEmpty:r}=s,{input:a,delimiter:i}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const o=n.readSync(a.dataId),l=n.readSync(i.dataId)[0],[u,c,h]=OM(o,l,r),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};const zW={kernelName:Aa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{numBuckets:r}=s,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=n.readSync(a.dataId),o=RM(i,r);return n.makeTensorInfo(a.shape,"int32",o)}},LW=_F({opSnippet:"return tan(x);"}),PW={kernelName:Ca,backendName:"webgl",kernelFunc:LW},VW=_F({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),WW={kernelName:Sa,backendName:"webgl",kernelFunc:VW};const UW={kernelName:Zr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{tensor:r,indices:a,updates:i}=t,{}=s,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:h}=Vp(0,a,r.shape),d=[h/u,u];if(0===h)return n.makeTensorInfo(r.shape,a.dtype);const p=BF({inputs:{x:a},backend:n,attrs:{shape:[l,o]}}),f=BF({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),m=BF({inputs:{x:r},backend:n,attrs:{shape:d}}),g=new QV(l,o,p.shape.length,f.shape.length,c,d,!1,!0),y=n.runWebGLProgram(g,[f,p,m],m.dtype),b=BF({inputs:{x:y},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),b}};class GW{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e[s]*t[s];this.outputShape=n,this.rank=n.length;const s=yD(this.rank),r=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],s=[];for(let t=0;t<e.length;t++)s.push(`imod(${n[t]}, ${e[t]})`);return s.join()}(e);this.userCode=`\n      void main() {\n        ${s} resRC = getOutputCoords();\n        setOutput(getA(${r}));\n      }\n    `}}function qW(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{reps:a}=s;if("string"===r.dtype||r.shape.length>5){const e=n.readSync(r.dataId),t="string"===r.dtype?e.map((e=>mi(e))):e,s=Il(r.shape,r.dtype,t),i=MM(s,a);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const i=new GW(r.shape,a);return n.runWebGLProgram(i,[r],r.dtype)}const jW={kernelName:Ea,backendName:"webgl",kernelFunc:qW};class HW{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class $W{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function KW(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function XW(e){let t=1;for(;t<e;)t*=2;return t}const ZW={kernelName:_a,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r}=t,{k:a,sorted:i}=s,o=Cn().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Cn().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=r.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([r])||c<o||a>l){const e=n.readSync(r.dataId),[t,s]=FM(e,u,r.dtype,a,i);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(s.shape,s.dtype,s.values)]}if(0===a)return u[u.length-1]=0,[n.makeTensorInfo(u,r.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===c)return[r,IL({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const h=n.texData.get(r.dataId),d=null!==h&&h.isPacked,p=d?n.unpackTensor(r):r,f=Ht(u)/c,m=BF({inputs:{x:p},attrs:{shape:[f,c]},backend:n});d&&KW(n,p);const g=XW(a),y=XW(c);let b=null;const w=()=>null===b?[m,m]:[m,b],v=(e,t,s)=>{const r=w(),a=new HW(s),i=[[c],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],o=b;b=n.runWebGLProgram(a,r,"int32",i),KW(n,o)};for(let e=1;e<g;e*=2){const t=2*e;for(let n=e;n>=1;n/=2)v(t,n,[f,y])}for(let e=y;e>g;e/=2){const t=w(),s=new $W([f,e/2]),r=[[c],[null===b?1:0],[g]],a=b;b=n.runWebGLProgram(s,t,"int32",r),KW(n,a);const i=g/2,o=2*i;for(let e=i;e>=1;e/=2)v(o,e,b.shape)}let x=b;b=GB({inputs:{x:b},backend:n,attrs:{begin:0,size:[f,a]}}),KW(n,x);let A=$L({inputs:{x:m,indices:b},backend:n,attrs:{axis:1,batchDims:1}});KW(n,m);const k=u.slice(0,-1);k.push(a),x=b,b=BF({inputs:{x:b},attrs:{shape:k},backend:n}),KW(n,x);const C=A;return A=BF({inputs:{x:A},attrs:{shape:k},backend:n}),KW(n,C),[A,b]}};class YW{constructor(e,t,n,s,r,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const i="nearest"===n?1:2;let o;switch(s){case"constant":default:o=1;break;case"reflect":o=2;break;case"wrap":o=3;break;case"nearest":o=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${o} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${r});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${r});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${i} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const QW={kernelName:Ia,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{image:r,transforms:a}=t,{interpolation:i,fillMode:o,fillValue:l,outputShape:u}=s,[c,h,d,p]=r.shape,[f,m]=null!=u?u:[h,d],g=new YW(h,d,i,o,l,[c,f,m,p]);return n.runWebGLProgram(g,[r,a],"float32")}};const JW={kernelName:Na,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:s}=e,{axis:r}=n,{x:a}=t;QR(a,"unique");const i=s.readSync(a.dataId),{outputValues:o,outputShape:l,indices:u}=zM(i,r,a.shape,a.dtype);return[s.makeTensorInfo(l,a.dtype,o),s.makeTensorInfo([u.length],"int32",u)]}};const eU={kernelName:Oa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{value:r}=t;let{axis:a}=s;a<0&&(a+=r.shape.length);const i=r,o=i.shape.length,l=r.shape[a],u=new Array(o-1);let c=0;for(let e=0;e<o;e++)e!==a&&(u[c++]=i.shape[e]);const h=[],d=new Array(o).fill(0),p=i.shape.slice();p[a]=1;const f=new Array(l);for(let e=0;e<f.length;e++){d[a]=e;const t=GB({inputs:{x:i},backend:n,attrs:{begin:d,size:p}}),s=BF({inputs:{x:t},backend:n,attrs:{shape:u}});f[e]=s,h.push(t)}return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class tU{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,s=e.batchSize,r=e.inSize,a=e.numSegments,i=a*Math.ceil(r/n);this.outputShape=[s,i];const o=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ";let c="";r%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return initializationValue;\n        }\n      `);let h="";r%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${h}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${a})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${a})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${o}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${o};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${u}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${u}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}const nU={kernelName:Ra,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:r,segmentIds:a}=t,{numSegments:i}=s,o=r.shape.length,l=[];let u=0;const c=_h([u],o);let h=r;null!=c&&(h=HF({inputs:{x:r},backend:n,attrs:{perm:c}}),l.push(h),u=Th(1,o)[0]);const d=_g(h.shape,u,i),p=Ht([h.shape[u]]),f=BF({inputs:{x:h},backend:n,attrs:{shape:[-1,p]}});l.push(f);const m=Gi(r.dtype),g=(e,t,s,r,a)=>{const i=e.shape[0],o=e.shape[1],u=Eg(o,a),c=new tU({windowSize:u,inSize:o,batchSize:i,numSegments:a},t),h=n.compileAndRun(c,[e,s],r);if(l.push(h),h.shape[1]===a)return h;const d=SV({backend:n,attrs:{start:0,stop:a,step:1,dtype:"float32"}}),p=qW({inputs:{x:d},backend:n,attrs:{reps:[o/u]}});l.push(d),l.push(p);return g(h,t,p,r,a)},y=BF({inputs:{x:g(f,"unsortedSegmentSum",a,m,i)},backend:n,attrs:{shape:d}});let b=y;if(null!=c){l.push(y);const e=Ih(c);b=HF({inputs:{x:b},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},sU=[ZF,QF,eB,nB,aB,lB,uB,cB,gB,yB,wB,xB,kB,SB,_B,NB,OB,MB,FB,BB,PB,jB,HB,$B,KB,ez,sz,iz,wF,uz,yz,Sz,Nz,Rz,Dz,Mz,Fz,zz,Pz,Wz,$z,Kz,Xz,Yz,eL,sL,rL,iL,lL,uL,hL,dL,fL,gL,bL,vL,kL,EL,TL,OL,ML,BL,PL,UL,GL,jL,KL,ZL,QL,yF,JL,fz,tP,sP,aP,AF,oP,uP,cP,dP,fP,gP,bP,vP,kP,SP,_P,TP,NP,OP,MP,FP,BP,zP,LP,VP,GP,jP,eV,FF,nV,rV,iV,lV,ZB,cV,pV,fV,bV,vV,SF,xV,AV,kV,CV,EV,QB,KP,IV,NV,RV,zF,FV,zV,VV,UV,jV,$V,XV,YV,eW,nW,rW,iW,lW,cW,dW,fW,qB,JP,gW,yW,bW,wW,vW,xW,AW,kW,EW,_W,NW,OW,RW,MW,FW,BW,zW,YP,jF,PW,WW,UW,jW,ZW,QW,$F,JW,eU,nU,dV];for(const e of sU)$a(e);__webpack_require__(9464);const rU={moveTickSize:50,videoContainerId:"webgazerVideoContainer",videoElementId:"webgazerVideoFeed",videoElementCanvasId:"webgazerVideoCanvas",faceOverlayId:"webgazerFaceOverlay",faceFeedbackBoxId:"webgazerFaceFeedbackBox",gazeDotId:"webgazerGazeDot",videoViewerWidth:320,videoViewerHeight:240,faceFeedbackBoxRatio:.66,showVideo:!0,mirrorVideo:!0,showFaceOverlay:!0,showFaceFeedbackBox:!0,showGazeDot:!0,camConstraints:{video:{width:{min:320,ideal:640,max:1920},height:{min:240,ideal:480,max:1080},facingMode:"user"}},dataTimestep:50,showVideoPreview:!0,applyKalmanFilter:!0,saveDataAcrossSessions:!0,storingPoints:!1,videoIsOn:!1,trackEye:"both"};__webpack_require__(6003);var aU=__webpack_require__(7350),iU=__webpack_require__.n(aU),oU=__webpack_require__(8990),lU=function(){return lU=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},lU.apply(this,arguments)};function uU(e,t,n,s){return new(n||(n=Promise))((function(r,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))}function cU(e,t){var n,s,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,s&&(r=2&a[0]?s.return:a[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,a[1])).done)return r;switch(s=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,s=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],s=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function hU(e){var t=e.map((function(e){return e[0]}));return t.push(e[e.length-1][1]),t}var dU={lips:hU([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:hU([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:hU([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:hU([[474,475],[475,476],[476,477],[477,474]]),rightEye:hU([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:hU([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:hU([[469,470],[470,471],[471,472],[472,469]]),faceOval:hU([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},pU=[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]],fU=Object.entries(dU).map((function(e){var t=e[0];return e[1].map((function(e){return[e,t]}))})).flat(),mU=new Map(fU);function gU(e){for(var t={locationData:{relativeKeypoints:[]}},n=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,i=0;i<e.length;++i){var o=e[i];n=Math.min(n,o.x),s=Math.max(s,o.x),r=Math.min(r,o.y),a=Math.max(a,o.y),t.locationData.relativeKeypoints.push({x:o.x,y:o.y})}return t.locationData.relativeBoundingBox={xMin:n,yMin:r,xMax:s,yMax:a,width:s-n,height:a-r},t}var yU={runtime:"mediapipe",maxFaces:1,refineLandmarks:!1},bU=function(){function e(e){var t=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceMeshSolution=new oU.FaceMesh({locateFile:function(t,n){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+t:n+"/"+t}}),this.faceMeshSolution.setOptions({refineLandmarks:e.refineLandmarks,selfieMode:this.selfieMode,maxNumFaces:e.maxFaces}),this.faceMeshSolution.onResults((function(e){if(t.height=e.image.height,t.width=e.image.width,t.faces=[],null!==e.multiFaceLandmarks)for(var n=e.multiFaceLandmarks,s=0;s<n.length;s++){var r=t.translateOutput(n[s]);t.faces.push({keypoints:r,box:gU(r).locationData.relativeBoundingBox})}}))}return e.prototype.translateOutput=function(e){var t=this;return e.map((function(e,n){var s={x:e.x*t.width,y:e.y*t.height,z:e.z*t.width},r=mU.get(n);return null!=r&&(s.name=r),s}))},e.prototype.estimateFaces=function(e,t){return uU(this,void 0,void 0,(function(){var n,s;return cU(this,(function(r){switch(r.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.faceMeshSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Di?(s=ImageData.bind,[4,Mu(e)]):[3,2];case 1:return n=new(s.apply(ImageData,[void 0,r.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,r.label=3;case 3:return e=n,[4,this.faceMeshSolution.send({image:e})];case 4:return r.sent(),[2,this.faces]}}))}))},e.prototype.dispose=function(){this.faceMeshSolution.close()},e.prototype.reset=function(){this.faceMeshSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceMeshSolution.initialize()},e}();function wU(e){return uU(this,void 0,void 0,(function(){var t,n;return cU(this,(function(s){switch(s.label){case 0:return t=function(e){if(null==e)return lU({},yU);var t=lU({},e);return t.runtime="mediapipe",null==t.maxFaces&&(t.maxFaces=yU.maxFaces),null==t.refineLandmarks&&(t.refineLandmarks=yU.refineLandmarks),t}(e),[4,(n=new bU(t)).initialize()];case 1:return s.sent(),[2,n]}}))}))}var vU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},xU={};(function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},s=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vU&&vU];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,t){if(t)e:{var r=s;e=e.split(".");for(var a=0;a<e.length-1;a++){var i=e[a];if(!(i in r))break e;r=r[i]}(t=t(a=r[e=e[e.length-1]]))!=a&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function i(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function o(e){if(!(e instanceof Array)){e=i(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}r("Symbol",(function(e){function t(e,t){this.g=e,n(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var s="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(s+(n||"")+"_"+r++,n)}})),r("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<r.length;i++){var o=s[r[i]];"function"==typeof o&&"function"!=typeof o.prototype[e]&&n(o.prototype,e,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return e}));var l,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var c;e:{var h={};try{h.__proto__={a:!0},c=h.a;break e}catch(e){}c=!1}l=c?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=l;function p(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,d)d(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(t,n);s&&Object.defineProperty(e,n,s)}else e[n]=t[n];e.na=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={da:t,ea:!0},e.g=e.o||e.u}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new f,this.h=e}function w(e,t,n,s){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var a=r.value}catch(t){return e.g.i=null,g(e.g,t),v(e)}return e.g.i=null,s.call(e.g,a),v(e)}function v(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,g(e.g,t)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ea)throw t.da;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function x(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=v(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.s):(g(e.g,t),t=v(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),v(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function A(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(s,r){!function e(a){a.done?s(a.value):Promise.resolve(a.value).then(t,n).then(e,r)}(e.next())}))}(new x(new b(e)))}f.prototype.s=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.u},r("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var a=s.setTimeout;n.prototype.i=function(e){a(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(s){n||(n=!0,e.call(t,s))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;a((function(){if(e.C()){var t=s.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.s)return!1;var e=s.CustomEvent,t=s.Event,n=s.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)o.h(this.g[e]);this.g=null}};var o=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function s(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){a(e)}}:t}var r,a,i=new t((function(e,t){r=e,a=t}));return this.M(s(e,r),s(n,a)),i},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(s.h){case 1:e(s.i);break;case 2:t(s.i);break;default:throw Error("Unexpected state: "+s.h)}}var s=this;null==this.g?o.h(n):this.g.push(n),this.s=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var s=i(e),a=s.next();!a.done;a=s.next())r(a.value).M(t,n)}))},t.all=function(e){var n=i(e),s=n.next();return s.done?r([]):new t((function(e,t){function a(t){return function(n){i[t]=n,0==--o&&e(i)}}var i=[],o=0;do{i.push(void 0),o++,r(s.value).M(a(i.length-1),t),s=n.next()}while(!s.done)}))},t}));var k="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var s=arguments[n];if(s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e};r("Object.assign",(function(e){return e||k})),r("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),r("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var s=n.length;for(0>(t=t||0)&&(t=Math.max(t+s,0));t<s;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),r("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),r("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,s=!1,r={next:function(){if(!s&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return s=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var C=this||self;function S(e,t){e=e.split(".");var n,s=C;e[0]in s||void 0===s.execScript||s.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?s=s[n]&&s[n]!==Object.prototype[n]?s[n]:s[n]={}:s[n]=t}function E(){throw Error("Invalid UTF8")}function _(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var I,T,N="undefined"!=typeof TextDecoder,O="undefined"!=typeof TextEncoder,R={},D=null;function M(e){var t;void 0===t&&(t=0),B(),t=R[t];for(var n=Array(Math.floor(e.length/3)),s=t[64]||"",r=0,a=0;r<e.length-2;r+=3){var i=e[r],o=e[r+1],l=e[r+2],u=t[i>>2];i=t[(3&i)<<4|o>>4],o=t[(15&o)<<2|l>>6],l=t[63&l],n[a++]=u+i+o+l}switch(u=0,l=s,e.length-r){case 2:l=t[(15&(u=e[r+1]))<<2]||s;case 1:e=e[r],n[a]=t[e>>2]+t[(3&e)<<4|u>>4]+l+s}return n.join("")}function F(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var s=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;s<e.length;){var n=e.charAt(s++),r=D[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}B();for(var s=0;;){var r=n(-1),a=n(0),i=n(64),o=n(64);if(64===o&&-1===r)break;t(r<<2|a>>4),64!=i&&(t(a<<4&240|i>>2),64!=o&&t(i<<6&192|o))}}(e,(function(e){s[r++]=e})),r!==n?s.subarray(0,r):s}function B(){if(!D){D={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var s=e.concat(t[n].split(""));R[n]=s;for(var r=0;r<s.length;r++){var a=s[r];void 0===D[a]&&(D[a]=r)}}}}var z,L="function"==typeof Uint8Array;function P(e){return L&&null!=e&&e instanceof Uint8Array}function V(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var W="function"==typeof Uint8Array.prototype.slice,U=0;function G(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function q(){return Error("Failed to read varint, encoding is invalid.")}function j(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&H(this,e)}function H(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return F(e);if(e.constructor===V)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||P(t)?t:"string"==typeof t?F(t):null,(e=e.L=t)?new Uint8Array(e):z||(z=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function $(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function K(e){var t=e.h,n=t[e.g],s=127&n;if(128>n)return e.g+=1,$(e),s;if(s|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,$(e),s;if(s|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,$(e),s;if(s|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,$(e),s;if(n=t[e.g+4],e.g+=5,s|=(15&n)<<28,128>n)return $(e),s;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw q();return $(e),s}j.prototype.reset=function(){this.g=this.j};var X=[];function Z(){this.g=[]}function Y(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function Q(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,X.length?(n=X.pop(),t&&(n.v=t.v),e&&H(n,e),e=n):e=new j(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function J(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=K(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw G(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function ee(e){switch(e.h){case 0:if(0!=e.h)ee(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(!(128&e.h[t++])){e.g=t,$(e);break e}throw q()}break;case 1:(e=e.g).g+=8,$(e);break;case 2:2!=e.h?ee(e):(t=K(e.g)>>>0,(e=e.g).g+=t,$(e));break;case 5:(e=e.g).g+=4,$(e);break;case 3:for(t=e.i;;){if(!J(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}ee(e)}break;default:throw G(e.h,e.j)}}Z.prototype.length=function(){return this.g.length},Z.prototype.end=function(){var e=this.g;return this.g=[],e},Q.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var te=[];function ne(){this.i=[],this.h=0,this.g=new Z}function se(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var re="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function ae(e,t){Object.isFrozen(e)||(re?e[re]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function ie(e){var t;return null==(t=re?e[re]:e.N)?0:t}function oe(e){return ae(e,1),e}function le(e){return!!Array.isArray(e)&&!!(2&ie(e))}function ue(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");ae(e,2)}function ce(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var he=Object.freeze(oe([]));function de(e){if(le(e.m))throw Error("Cannot mutate an immutable Message")}var pe,fe="undefined"!=typeof Symbol&&void 0!==Symbol.hasInstance;function me(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function ge(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function ye(e,t,n,s){s=void 0!==s&&s,de(e),t<e.i&&!s?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function be(e,t,n,s){n=void 0===n||n;var r=ge(e,t,s=void 0!==s&&s);return null==r&&(r=he),le(e.m)?n&&(ue(r),Object.freeze(r)):(r===he||le(r))&&ye(e,t,r=oe(r.slice()),s),r}function we(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function ve(e,t,n,s){e.j||(e.j={});var r=le(e.m),a=e.j[n];if(!a){s=be(e,n,!0,void 0!==s&&s),a=[],r=r||le(s);for(var i=0;i<s.length;i++)a[i]=new t(s[i]),r&&ue(a[i].m);r&&(ue(a),Object.freeze(a)),e.j[n]=a}return a}function xe(e,t,n,s,r){var a=void 0!==a&&a;return de(e),a=ve(e,n,t,a),n=s||new n,e=be(e,t),null!=r?(a.splice(r,0,n),e.splice(r,0,n.m)):(a.push(n),e.push(n.m)),n}function Ae(e,t){return null==(e=ge(e,t))?0:e}function ke(e,t){return null==(e=ge(e,t))?"":e}function Ce(e){return Ee(e,void 0===_e?Ie:_e)}function Se(e,t){if(null!=e){if(Array.isArray(e))e=Ee(e,t);else if(ce(e)){var n,s={};for(n in e)s[n]=Se(e[n],t);e=s}else e=t(e);return e}}function Ee(e,t){for(var n=e.slice(),s=0;s<n.length;s++)n[s]=Se(n[s],t);return Array.isArray(e)&&1&ie(e)&&oe(n),n}function _e(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(P(e))return M(e);if(e instanceof V){var t=e.L;return t=null==t||"string"==typeof t?t:L&&t instanceof Uint8Array?M(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?Ce(e):e)}function Ie(e){return P(e)?new Uint8Array(e):e}function Te(e,t,n){e||(e=pe),pe=null;var s=this.constructor.h;if(e||(e=s?[s]:[]),this.h=(s?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(s=this.m.length)-1,s&&ce(s=this.m[e])?(this.i=e-this.h,this.g=s):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(s=this.m[e])?Array.isArray(s)&&oe(s):this.m[e]=he;else{var r=(s=this.g||(this.g=this.m[this.i+this.h]={}))[e];r?Array.isArray(r)&&oe(r):s[e]=he}}function Ne(){Te.apply(this,arguments)}if(Te.prototype.toJSON=function(){return Ce(this.m)},Te.prototype.toString=function(){return this.m.toString()},p(Ne,Te),fe){var Oe={};Object.defineProperties(Ne,(Oe[Symbol.hasInstance]=me((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),Oe))}function Re(e,t,n){if(n){var s,r={};for(s in n){var a=n[s],i=a.ha;i||(r.F=a.la||a.fa.P,a.aa?(r.U=Pe(a.aa),i=function(e){return function(t,n,s){return e.F(t,n,s,e.U)}}(r)):a.ca?(r.T=Ve(a.X.g,a.ca),i=function(e){return function(t,n,s){return e.F(t,n,s,e.T)}}(r)):i=r.F,a.ha=i),i(t,e,a.X),r={F:r.F,U:r.U,T:r.T}}}!function(e,t){if(t=t.ba){se(e,e.g.end());for(var n=0;n<t.length;n++)se(e,t[n])}}(t,e)}var De=Symbol();function Me(e,t,n){return e[De]||(e[De]=function(e,s){return t(e,s,n)})}function Fe(e){var t=e[De];if(!t){var n=Qe(e);t=function(e,t){return Je(e,t,n)},e[De]=t}return t}function Be(e){var t=function(e){var t=e.aa;return t?Fe(t):(t=e.ka)?Me(e.X.g,t,e.ca):void 0}(e),n=e.X,s=e.fa.O;return t?function(e,r){return s(e,r,n,t)}:function(e,t){return s(e,t,n)}}function ze(e,t,n,s,r,a){var i=0;for((e=e()).length&&"number"!=typeof e[0]&&(n(t,e[0]),i++);i<e.length;){n=e[i++];for(var o=i+1;o<e.length&&"number"!=typeof e[o];)o++;var l=e[i++];switch(o-=i){case 0:s(t,n,l);break;case 1:s(t,n,l,e[i++]);break;case 2:r(t,n,l,e[i++],e[i++]);break;case 3:o=e[i++];var u=e[i++],c=e[i++];Array.isArray(c)?r(t,n,l,o,u,c):a(t,n,l,o,u,c);break;case 4:a(t,n,l,e[i++],e[i++],e[i++],e[i++]);break;default:throw Error("unexpected number of binary field arguments: "+o)}}return t}var Le=Symbol();function Pe(e){var t=e[Le];if(!t){var n=He(e);t=function(e,t){return tt(e,t,n)},e[Le]=t}return t}function Ve(e,t){var n=e[Le];return n||(n=function(e,n){return Re(e,n,t)},e[Le]=n),n}var We=Symbol();function Ue(e,t){e.push(t)}function Ge(e,t,n){e.push(t,n.P)}function qe(e,t,n,s,r){var a=Pe(r),i=n.P;e.push(t,(function(e,t,n){return i(e,t,n,s,a)}))}function je(e,t,n,s,r,a){var i=Ve(s,a),o=n.P;e.push(t,(function(e,t,n){return o(e,t,n,s,i)}))}function He(e){return e[We]||ze(e,e[We]=[],Ue,Ge,qe,je)}var $e=Symbol();function Ke(e,t){e[0]=t}function Xe(e,t,n,s){var r=n.O;e[t]=s?function(e,t,n){return r(e,t,n,s)}:r}function Ze(e,t,n,s,r,a){var i=n.O,o=Fe(r);e[t]=function(e,t,n){return i(e,t,n,s,o,a)}}function Ye(e,t,n,s,r,a,i){var o=n.O,l=Me(s,r,a);e[t]=function(e,t,n){return o(e,t,n,s,l,i)}}function Qe(e){return e[$e]||ze(e,e[$e]={},Ke,Xe,Ze,Ye)}function Je(e,t,n){for(;J(t)&&4!=t.h;){var s=t.i,r=n[s];if(!r){var a=n[0];a&&(a=a[s])&&(r=n[s]=Be(a))}if(!(r&&r(t,e,s)||(r=t,s=e,a=r.j,ee(r),r.W))){var i=r.g.h;r=a===(r=r.g.g)?z||(z=new Uint8Array(0)):W?i.slice(a,r):new Uint8Array(i.subarray(a,r)),(a=s.ba)?a.push(r):s.ba=[r]}}return e}function et(e,t,n){if(te.length){var s=te.pop();e&&(H(s.g,e),s.i=-1,s.h=-1),e=s}else e=new Q(e);try{return Je(new t,e,Qe(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>te.length&&te.push(e)}}function tt(e,t,n){for(var s=n.length,r=1==s%2,a=r?1:0;a<s;a+=2)(0,n[a+1])(t,e,n[a]);Re(e,t,r?n[0]:void 0)}function nt(e,t){var n=new ne;tt(e,n,He(t)),se(n,n.g.end()),e=new Uint8Array(n.h);for(var s=(t=n.i).length,r=0,a=0;a<s;a++){var i=t[a];e.set(i,r),r+=i.length}return n.i=[e],e}function st(e,t){return{O:e,P:t}}var rt=st((function(e,t,n){if(5!==e.h)return!1;var s=(e=e.g).h[e.g],r=e.h[e.g+1],a=e.h[e.g+2],i=e.h[e.g+3];return e.g+=4,$(e),e=2*((r=(s|r<<8|a<<16|i<<24)>>>0)>>31)+1,s=r>>>23&255,r&=8388607,ye(t,n,255==s?r?NaN:1/0*e:0==s?e*Math.pow(2,-149)*r:e*Math.pow(2,s-150)*(r+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){Y(e.g,8*n+5),e=e.g;var s=t;0===(s=(n=0>s?1:0)?-s:s)?U=0<1/s?0:2147483648:isNaN(s)?U=2147483647:34028234663852886e22<s?U=(n<<31|2139095040)>>>0:11754943508222875e-54>s?(s=Math.round(s/Math.pow(2,-149)),U=(n<<31|s)>>>0):(t=Math.floor(Math.log(s)/Math.LN2),s*=Math.pow(2,-t),16777216<=(s=Math.round(8388608*s))&&++t,U=(n<<31|t+127<<23|8388607&s)>>>0),n=U,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}})),at=st((function(e,t,n){if(0!==e.h)return!1;for(var s=e.g,r=128,a=0,i=e=0;4>i&&128<=r;i++)r=s.h[s.g++],$(s),a|=(127&r)<<7*i;if(128<=r&&(r=s.h[s.g++],$(s),a|=(127&r)<<28,e|=(127&r)>>4),128<=r)for(i=0;5>i&&128<=r;i++)r=s.h[s.g++],$(s),e|=(127&r)<<7*i+3;if(!(128>r))throw q();return s=a>>>0,(e=2147483648&(r=e>>>0))&&(r=~r>>>0,0==(s=1+~s>>>0)&&(r=r+1>>>0)),s=4294967296*r+(s>>>0),ye(t,n,e?-s:s),!0}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t){Y(e.g,8*n),e=e.g;var s=t;for(n=0>s,t=(s=Math.abs(s))>>>0,s=Math.floor((s-t)/4294967296),s>>>=0,n&&(s=~s>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++s&&(s=0))),n=U=t,t=s;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}})),it=st((function(e,t,n){return 0===e.h&&(ye(t,n,K(e.g)),!0)}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t)if(Y(e.g,8*n),e=e.g,0<=(n=t))Y(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}})),ot=st((function(e,t,n){if(2!==e.h)return!1;var s,r=K(e.g)>>>0,a=(e=e.g).g;if(e.g+=r,$(e),e=e.h,N)(s=I)||(s=I=new TextDecoder("utf-8",{fatal:!0})),s=s.decode(e.subarray(a,a+r));else{r=a+r;for(var i,o,l,u=[],c=null;a<r;)128>(i=e[a++])?u.push(i):224>i?a>=r?E():(o=e[a++],194>i||128!=(192&o)?(a--,E()):u.push((31&i)<<6|63&o)):240>i?a>=r-1?E():128!=(192&(o=e[a++]))||224===i&&160>o||237===i&&160<=o||128!=(192&(s=e[a++]))?(a--,E()):u.push((15&i)<<12|(63&o)<<6|63&s):244>=i?a>=r-2?E():128!=(192&(o=e[a++]))||o-144+(i<<28)>>30||128!=(192&(s=e[a++]))||128!=(192&(l=e[a++]))?(a--,E()):(i=(7&i)<<18|(63&o)<<12|(63&s)<<6|63&l,i-=65536,u.push(55296+(i>>10&1023),56320+(1023&i))):E(),8192<=u.length&&(c=_(c,u),u.length=0);s=_(c,u)}return ye(t,n,s),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){var s=!1;if(s=void 0!==s&&s,O){if(s&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(T||(T=new TextEncoder)).encode(t)}else{for(var r=0,a=new Uint8Array(3*t.length),i=0;i<t.length;i++){var o=t.charCodeAt(i);if(128>o)a[r++]=o;else{if(2048>o)a[r++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&i<t.length){var l=t.charCodeAt(++i);if(56320<=l&&57343>=l){o=1024*(o-55296)+l-56320+65536,a[r++]=o>>18|240,a[r++]=o>>12&63|128,a[r++]=o>>6&63|128,a[r++]=63&o|128;continue}i--}if(s)throw Error("Found an unpaired surrogate");o=65533}a[r++]=o>>12|224,a[r++]=o>>6&63|128}a[r++]=63&o|128}}t=a.subarray(0,r)}Y(e.g,8*n+2),Y(e.g,t.length),se(e,e.g.end()),se(e,t)}})),lt=st((function(e,t,n,s,r){if(2!==e.h)return!1;t=xe(t,n,s),n=e.g.i,s=K(e.g)>>>0;var a=e.g.g+s,i=a-n;if(0>=i&&(e.g.i=a,r(t,e),i=a-e.g.g),i)throw Error("Message parsing ended unexpectedly. Expected to read "+s+" bytes, instead read "+(s-i)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=a,e.g.i=n,!0}),(function(e,t,n,s,r){if(null!=(t=ve(t,s,n)))for(s=0;s<t.length;s++){var a=e;Y(a.g,8*n+2);var i=a.g.end();se(a,i),i.push(a.h),a=i,r(t[s],e),i=e;var o=a.pop();for(o=i.h+i.g.length()-o;127<o;)a.push(127&o|128),o>>>=7,i.h++;a.push(o),i.h++}}));function ut(){Ne.apply(this,arguments)}if(p(ut,Ne),fe){var ct={};Object.defineProperties(ut,(ct[Symbol.hasInstance]=me(Object[Symbol.hasInstance]),ct))}function ht(e){ut.call(this,e)}function dt(){return[1,it,2,rt,3,ot,4,ot]}function pt(e){ut.call(this,e,-1,mt)}function ft(){return[1,lt,ht,dt]}p(ht,ut),p(pt,ut),pt.prototype.addClassification=function(e,t){return xe(this,1,ht,e,t),this};var mt=[1];function gt(e){ut.call(this,e)}function yt(){return[1,rt,2,rt,3,rt,4,rt,5,rt]}function bt(e){ut.call(this,e,-1,vt)}function wt(){return[1,lt,gt,yt]}p(gt,ut),p(bt,ut);var vt=[1];function xt(e){ut.call(this,e)}function At(){return[1,rt,2,rt,3,rt,4,rt,5,rt,6,at]}p(xt,ut);var kt=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Ct=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],St=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Et=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],_t=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],It=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Tt=[].concat(o(kt),o(Ct),o(St),o(Et),o(_t),o(It));function Nt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ot(e){return ve(e,ht,1).map((function(e){return{index:Ae(e,1),ga:we(e,2),label:null!=ge(e,3)?ke(e,3):void 0,displayName:null!=ge(e,4)?ke(e,4):void 0}}))}function Rt(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ge(e,4)?we(e,4):void 0}}function Dt(e,t){this.h=e,this.g=t,this.l=0}function Mt(e,t,n){return function(e,t){var n=e.g;if(void 0===e.o){var s=Nt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=Nt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),a=n.createProgram();if(n.attachShader(a,s),n.attachShader(a,r),n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(a));s=e.o=a,n.useProgram(s),r=n.getUniformLocation(s,"sampler0"),e.j={K:n.getAttribLocation(s,"aVertex"),J:n.getAttribLocation(s,"aTex"),ma:r},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}s=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(s.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(s.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(s.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(s.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(s.K),n.disableVertexAttribArray(s.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"==typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise((function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)})))}function Ft(e){this.g=e}var Bt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function zt(e,t){return t+e}function Lt(e,t){window[e]=t}function Pt(e){if(this.g=e,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=e&&e.locateFile||zt,"object"==typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=t,e.options)for(var n=(t=i(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var s=e.options[n].default;void 0!==s&&(this.j[n]="function"==typeof s?s():s)}}function Vt(e,t){var n,s;return A((function(r){return t in e.H?r.return(e.H[t]):(n=e.locateFile(t,""),s=fetch(n).then((function(e){return e.arrayBuffer()})),e.H[t]=s,r.return(s))}))}function Wt(e,t,n){var s,r,a,o,l,u,c,h,d,p,f,m,g,b;return A((function(w){switch(w.g){case 1:if(!n)return w.return(t);for(s={},r=0,a=i(Object.keys(n)),o=a.next();!o.done;o=a.next())l=o.value,"string"!=typeof(u=n[l])&&"texture"===u.type&&void 0!==t[u.stream]&&++r;1<r&&(e.I=!1),c=i(Object.keys(n)),o=c.next();case 2:if(o.done){w.g=4;break}if(h=o.value,"string"==typeof(d=n[h]))return g=s,b=h,y(w,function(e,t,n){var s;return A((function(r){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?r.return(n):n instanceof e.h.Texture2dDataOut?((s=e.u[t])||(s=new Dt(e.h,e.G),e.u[t]=s),r.return(Mt(s,n,e.I))):r.return(void 0)}))}(e,h,t[d]),14);if(p=t[d.stream],"detection_list"===d.type){if(p){for(var v=p.getRectList(),x=p.getLandmarksList(),k=p.getClassificationsList(),C=[],S=0;S<v.size();++S){var E=et(v.get(S),xt,At);E={boundingBox:{xCenter:we(E,1),yCenter:we(E,2),height:we(E,3),width:we(E,4),rotation:we(E,5,0),rectId:Ae(E,6)},landmarks:ve(et(x.get(S),bt,wt),gt,1).map(Rt),V:Ot(et(k.get(S),pt,ft))},C.push(E)}v=C}else v=[];s[h]=v,w.g=7;break}if("proto_list"===d.type){if(p){for(v=Array(p.size()),x=0;x<p.size();x++)v[x]=p.get(x);p.delete()}else v=[];s[h]=v,w.g=7;break}if(void 0===p){w.g=3;break}if("float_list"===d.type){s[h]=p,w.g=7;break}if("proto"===d.type){s[h]=p,w.g=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(f=e.u[h])||(f=new Dt(e.h,e.G),e.u[h]=f),y(w,Mt(f,p,e.I),13);case 13:m=w.h,s[h]=m;case 7:d.transform&&s[h]&&(s[h]=d.transform(s[h])),w.g=3;break;case 14:g[b]=w.h;case 3:o=c.next(),w.g=2;break;case 4:return w.return(s)}}))}function Ut(e,t){for(var n=t.name||"$",s=[].concat(o(t.wants)),r=new e.h.StringList,a=i(t.wants),l=a.next();!l.done;l=a.next())r.push_back(l.value);a=e.h.PacketListener.implement({onResults:function(r){for(var a={},i=0;i<t.wants.length;++i)a[s[i]]=r.get(i);var o=e.listeners[n];o&&(e.D=Wt(e,a,t.outs).then((function(n){n=o(n);for(var r=0;r<t.wants.length;++r){var i=a[s[r]];"object"==typeof i&&i.hasOwnProperty&&i.hasOwnProperty("delete")&&i.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(r,a),r.delete()}function Gt(e){var t=this;e=e||{};var n={url:"face_detection_short.binarypb"},s={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Pt({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:n,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(e){var r,a,o,l,u;return A((function(c){switch(c.g){case 1:r=i("short"===e?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),a=r.next();case 2:if(a.done){c.g=4;break}return o=a.value,l="third_party/mediapipe/modules/face_detection/"+o,y(c,Vt(t.g,o),5);case 5:u=c.h,t.g.overrideFile(l,u),a=r.next(),c.g=2;break;case 4:return n.url="short"===e?"face_detection_short.binarypb":"face_detection_full.binarypb",s.graphOptionXref.calculatorName="short"===e?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",c.return(!0)}}))}},minDetectionConfidence:s}})}(e=Pt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var e=this;return A((function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0}))},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var s=[],r=[],a={},o=i(Object.keys(e)),l=o.next();!l.done;a={R:a.R,S:a.S},l=o.next()){var u=l.value;u in this.j&&this.j[u]===e[u]||(this.j[u]=e[u],void 0!==(l=t[u])&&(l.onChange&&(a.R=l.onChange,a.S=e[u],s.push(function(e){return function(){return A((function(t){if(1==t.g)return y(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0}))}}(a))),l.graphOptionXref&&(u={valueNumber:1===l.type?e[u]:0,valueBoolean:0===l.type&&e[u],valueString:2===l.type?e[u]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),u),r.push(l))))}0===s.length&&0===r.length||(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(r),this.A=(void 0===this.A?[]:this.A).concat(s))}},e.initialize=function(){var e=this;return A((function(t){return 1==t.g?y(t,function(e){var t,n,s,r,a,i,l,u,c,h,d;return A((function(p){switch(p.g){case 1:return e.Z?(t=void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(e.j):e.g.files,y(p,A((function(e){switch(e.g){case 1:return e.o=2,y(e,WebAssembly.instantiate(Bt),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):p.return();case 2:if(n=p.h,"object"==typeof window)return Lt("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),Lt("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),i=t.filter((function(e){return void 0!==e.data})),l=t.filter((function(e){return void 0===e.data})),u=Promise.all(i.map((function(t){var n=Vt(e,t.url);if(void 0!==t.path){var s=t.path;n=n.then((function(t){return e.overrideFile(s,t),Promise.resolve(t)}))}return n}))),c=Promise.all(l.map((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(e.locateFile(t.url,e.$)):Promise.resolve()}))).then((function(){var t,n,s;return A((function(r){if(1==r.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,s=e,y(r,t(n),2);s.h=r.h,r.g=0}))})),h=A((function(t){return e.g.graph&&e.g.graph.url?t=y(t,Vt(e,e.g.graph.url),0):(t.g=0,t=void 0),t})),y(p,Promise.all([c,u,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return s=t.filter((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n})).map((function(t){return e.locateFile(t.url,e.$)})),importScripts.apply(null,o(s)),r=e,y(p,createMediapipeSolutionsWasm(Module),6);case 6:r.h=p.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,a=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ja:"undefined"!=typeof WebGL2RenderingContext?2:1}),e.h.GL.makeContextCurrent(a),p.g=4;break;case 7:if(e.l=document.createElement("canvas"),!(d=e.l.getContext("webgl2",{}))&&!(d=e.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();e.G=d,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.Z=!1,p.g=0}}))}(e),2):3!=t.g?y(t,function(e){var t,n,s,r,a,o,l,u;return A((function(c){if(1==c.g)return e.g.graph&&e.g.graph.url&&e.Y===e.g.graph.url?c.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Y=e.g.graph.url,y(c,Vt(e,e.g.graph.url),3)):void(c.g=2));for(2!=c.g&&(t=c.h,e.i.loadGraph(t)),n=i(Object.keys(e.C)),s=n.next();!s.done;s=n.next())r=s.value,e.i.overrideFile(r,e.C[r]);if(e.C={},e.g.listeners)for(a=i(e.g.listeners),o=a.next();!o.done;o=a.next())l=o.value,Ut(e,l);u=e.j,e.j={},e.setOptions(u),c.g=0}))}(e),3):y(t,function(e){var t,n,s,r,a,o;return A((function(l){switch(l.g){case 1:if(!e.s)return l.return();if(!e.A){l.g=2;break}t=i(e.A),n=t.next();case 3:if(n.done){l.g=5;break}return y(l,(0,n.value)(),4);case 4:n=t.next(),l.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(s=new e.h.GraphOptionChangeRequestList,r=i(e.B),a=r.next();!a.done;a=r.next())o=a.value,s.push_back(o);e.i.changeOptions(s),s.delete(),e.B=void 0}e.s=!1,l.g=0}}))}(e),0)}))},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},e.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){var n,s,r,a,o,l,u,c,h,d=this;return A((function(p){switch(p.g){case 1:return d.g.inputs?(n=1e3*(null==t?performance.now():t),y(p,d.D,2)):p.return();case 2:return y(p,d.initialize(),3);case 3:for(s=new d.h.PacketDataList,r=i(Object.keys(e)),a=r.next();!a.done;a=r.next())if(o=a.value,l=d.g.inputs[o]){e:{var f=e[o];switch(l.type){case"video":var m=d.o[l.stream];if(m||(m=new Dt(d.h,d.G),d.o[l.stream]=m),0===m.l&&(m.l=m.h.createTexture()),"undefined"!=typeof HTMLVideoElement&&f instanceof HTMLVideoElement)var g=f.videoWidth,b=f.videoHeight;else"undefined"!=typeof HTMLImageElement&&f instanceof HTMLImageElement?(g=f.naturalWidth,b=f.naturalHeight):(g=f.width,b=f.height);b={glName:m.l,width:g,height:b},(g=m.g).canvas.width=b.width,g.canvas.height=b.height,g.activeTexture(g.TEXTURE0),m.h.bindTexture2d(m.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,f),m.h.bindTexture2d(0),m=b;break e;case"detections":for((m=d.o[l.stream])||(m=new Ft(d.h),d.o[l.stream]=m),m.data||(m.data=new m.g.DetectionListData),m.data.reset(f.length),b=0;b<f.length;++b){g=f[b];var w=m.data,v=w.setBoundingBox,x=b,A=g.boundingBox,k=new xt;if(ye(k,1,A.xCenter),ye(k,2,A.yCenter),ye(k,3,A.height),ye(k,4,A.width),ye(k,5,A.rotation),ye(k,6,A.rectId),A=nt(k,At),v.call(w,x,A),g.landmarks)for(w=0;w<g.landmarks.length;++w){var C=!!(k=g.landmarks[w]).visibility;x=(v=m.data).addNormalizedLandmark,A=b,k=Object.assign(Object.assign({},k),{visibility:C?k.visibility:0}),ye(C=new gt,1,k.x),ye(C,2,k.y),ye(C,3,k.z),k.visibility&&ye(C,4,k.visibility),k=nt(C,yt),x.call(v,A,k)}if(g.V)for(w=0;w<g.V.length;++w)x=(v=m.data).addClassification,A=b,k=g.V[w],ye(C=new ht,2,k.ga),k.index&&ye(C,1,k.index),k.label&&ye(C,3,k.label),k.displayName&&ye(C,4,k.displayName),k=nt(C,dt),x.call(v,A,k)}m=m.data;break e;default:m={}}}switch(u=m,c=l.stream,l.type){case"video":s.pushTexture2d(Object.assign(Object.assign({},u),{stream:c,timestamp:n}));break;case"detections":(h=u).stream=c,h.timestamp=n,s.pushDetectionList(h);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return d.i.send(s),y(p,d.D,4);case 4:s.delete(),p.g=0}}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",Pt),S("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=Gt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){var e=this;return A((function(t){return y(t,e.g.initialize(),0)}))},e.reset=function(){this.g.reset()},e.send=function(e){var t=this;return A((function(n){return y(n,t.g.send(e),0)}))},e.setOptions=function(e){this.g.setOptions(e)},S("FaceDetection",Gt),S("FACEDETECTION_LIPS",kt),S("FACEDETECTION_LEFT_EYE",Ct),S("FACEDETECTION_LEFT_EYEBROW",St),S("FACEDETECTION_RIGHT_EYE",Et),S("FACEDETECTION_RIGHT_EYEBROW",_t),S("FACEDETECTION_FACE_OVAL",It),S("FACEDETECTION_CONTOURS",Tt),S("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),S("VERSION","0.4.1646425229")}).call(vU);var AU=function(){return AU=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},AU.apply(this,arguments)};function kU(e,t,n,s){return new(n||(n=Promise))((function(r,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))}function CU(e,t){var n,s,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,s&&(r=2&a[0]?s.return:a[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,a[1])).done)return r;switch(s=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,s=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],s=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}var SU=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],EU={modelType:"short",runtime:"mediapipe",maxFaces:1},_U=function(){function e(e){var t=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new xU.FaceDetection({locateFile:function(t,n){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+t:n+"/"+t}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults((function(e){if(t.height=e.image.height,t.width=e.image.width,t.faces=[],null!==e.detections)for(var n=0,s=e.detections;n<s.length;n++){var r=s[n];t.faces.push(t.normalizedToAbsolute(r.landmarks,{xMin:i=(a=r.boundingBox).xCenter-a.width/2,xMax:i+a.width,yMin:o=a.yCenter-a.height/2,yMax:o+a.height,width:a.width,height:a.height}))}var a,i,o}))}return e.prototype.normalizedToAbsolute=function(e,t){var n=this;return{keypoints:e.map((function(e,t){return{x:e.x*n.width,y:e.y*n.height,name:SU[t]}})),box:{xMin:t.xMin*this.width,yMin:t.yMin*this.height,xMax:t.xMax*this.width,yMax:t.yMax*this.height,width:t.width*this.width,height:t.height*this.height}}},e.prototype.estimateFaces=function(e,t){return kU(this,void 0,void 0,(function(){var n,s;return CU(this,(function(r){switch(r.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Di?(s=ImageData.bind,[4,Mu(e)]):[3,2];case 1:return n=new(s.apply(ImageData,[void 0,r.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,r.label=3;case 3:return e=n,[4,this.faceDetectorSolution.send({image:e})];case 4:return r.sent(),[2,this.faces]}}))}))},e.prototype.dispose=function(){this.faceDetectorSolution.close()},e.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},e}();function IU(e){return kU(this,void 0,void 0,(function(){var t,n;return CU(this,(function(s){switch(s.label){case 0:return t=function(e){if(null==e)return AU({},EU);var t=AU({},e);return t.runtime="mediapipe",null==t.modelType&&(t.modelType=EU.modelType),null==t.maxFaces&&(t.maxFaces=EU.maxFaces),t}(e),[4,(n=new _U(t)).initialize()];case 1:return s.sent(),[2,n]}}))}))}function TU(e){return e instanceof Di?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function NU(e){return e instanceof Di?e:Fu(e)}function OU(e,t){Gt(0!==e.width,(function(){return t+" width cannot be 0."})),Gt(0!==e.height,(function(){return t+" height cannot be 0."}))}function RU(e){null==e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null==e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null==e.fixedAnchorSize&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var s=[],r=[],a=[],i=[],o=n;o<e.strides.length&&e.strides[o]===e.strides[n];){var l=DU(e.minScale,e.maxScale,o,e.strides.length);if(0===o&&e.reduceBoxesInLowestLayer)a.push(1),a.push(2),a.push(.5),i.push(.1),i.push(l),i.push(l);else{for(var u=0;u<e.aspectRatios.length;++u)a.push(e.aspectRatios[u]),i.push(l);if(e.interpolatedScaleAspectRatio>0){var c=o===e.strides.length-1?1:DU(e.minScale,e.maxScale,o+1,e.strides.length);i.push(Math.sqrt(l*c)),a.push(e.interpolatedScaleAspectRatio)}}o++}for(var h=0;h<a.length;++h){var d=Math.sqrt(a[h]);s.push(i[h]/d),r.push(i[h]*d)}var p=0,f=0;if(e.featureMapHeight.length>0)p=e.featureMapHeight[n],f=e.featureMapWidth[n];else{var m=e.strides[n];p=Math.ceil(e.inputSizeHeight/m),f=Math.ceil(e.inputSizeWidth/m)}for(var g=0;g<p;++g)for(var y=0;y<f;++y)for(var b=0;b<s.length;++b){var w={xCenter:(y+e.anchorOffsetX)/f,yCenter:(g+e.anchorOffsetY)/p,width:0,height:0};e.fixedAnchorSize?(w.width=1,w.height=1):(w.width=r[b],w.height=s[b]),t.push(w)}n=o}return t}function DU(e,t,n,s){return 1===s?.5*(e+t):e+(t-e)*n/(s-1)}function MU(e,t){var n=t[0],s=t[1];return[n*e[0]+s*e[1]+e[3],n*e[4]+s*e[5]+e[7]]}function FU(e,t,n,s){return kU(this,void 0,void 0,(function(){var s,r,a,i,o;return CU(this,(function(l){switch(l.label){case 0:return e.sort((function(e,t){return Math.max.apply(Math,t.score)-Math.max.apply(Math,e.score)})),s=Mp(e.map((function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]}))),r=Dp(e.map((function(e){return e.score[0]}))),[4,ym.nonMaxSuppressionAsync(s,r,t,n)];case 1:return[4,(a=l.sent()).array()];case 2:return i=l.sent(),o=e.filter((function(e,t){return i.indexOf(t)>-1})),Ao([s,r,a]),[2,o]}}))}))}function BU(e,t,n){return kU(this,void 0,void 0,(function(){var s,r,a,i,o;return CU(this,(function(l){switch(l.label){case 0:return s=e[0],r=e[1],a=function(e,t,n){return xo((function(){var s,r,a,i;n.reverseOutputOrder?(r=Ip(Mc(e,[0,n.boxCoordOffset+0],[-1,1])),s=Ip(Mc(e,[0,n.boxCoordOffset+1],[-1,1])),i=Ip(Mc(e,[0,n.boxCoordOffset+2],[-1,1])),a=Ip(Mc(e,[0,n.boxCoordOffset+3],[-1,1]))):(s=Ip(Mc(e,[0,n.boxCoordOffset+0],[-1,1])),r=Ip(Mc(e,[0,n.boxCoordOffset+1],[-1,1])),a=Ip(Mc(e,[0,n.boxCoordOffset+2],[-1,1])),i=Ip(Mc(e,[0,n.boxCoordOffset+3],[-1,1]))),r=Rl(Fl(Ml(r,n.xScale),t.w),t.x),s=Rl(Fl(Ml(s,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(a=Fl(Bh(Ml(a,n.hScale)),t.h),i=Fl(Bh(Ml(i,n.wScale)),t.w)):(a=Fl(Ml(a,n.hScale),t.h),i=Fl(Ml(i,n.wScale),t.h));var o=Yl(s,Ml(a,2)),l=Yl(r,Ml(i,2)),u=Rl(s,Ml(a,2)),c=Rl(r,Ml(i,2)),h=Oc([Ic(o,[n.numBoxes,1]),Ic(l,[n.numBoxes,1]),Ic(u,[n.numBoxes,1]),Ic(c,[n.numBoxes,1])],1);if(n.numKeypoints)for(var d=0;d<n.numKeypoints;++d){var p=n.keypointCoordOffset+d*n.numValuesPerKeypoint,f=void 0,m=void 0;n.reverseOutputOrder?(f=Ip(Mc(e,[0,p],[-1,1])),m=Ip(Mc(e,[0,p+1],[-1,1]))):(m=Ip(Mc(e,[0,p],[-1,1])),f=Ip(Mc(e,[0,p+1],[-1,1])));var g=Rl(Fl(Ml(f,n.xScale),t.w),t.x),y=Rl(Fl(Ml(m,n.yScale),t.h),t.y);h=Oc([h,Ic(g,[n.numBoxes,1]),Ic(y,[n.numBoxes,1])],1)}return h}))}(r,t,n),i=xo((function(){var e=s;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=$c(s,-n.scoreClippingThresh,n.scoreClippingThresh)),e=Dc(e)):e})),[4,zU(a,i,n)];case 1:return o=l.sent(),Ao([a,i]),[2,o]}}))}))}function zU(e,t,n){return kU(this,void 0,void 0,(function(){var s,r,a,i,o,l,u,c,h,d,p,f;return CU(this,(function(m){switch(m.label){case 0:return s=[],[4,e.data()];case 1:return r=m.sent(),[4,t.data()];case 2:for(a=m.sent(),i=0;i<n.numBoxes;++i)if(!(null!=n.minScoreThresh&&a[i]<n.minScoreThresh||(o=i*n.numCoords,l=LU(r[o+0],r[o+1],r[o+2],r[o+3],a[i],n.flipVertically,i),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],h=n.numKeypoints*n.numValuesPerKeypoint,d=0;d<h;d+=n.numValuesPerKeypoint)p=o+n.keypointCoordOffset+d,f={x:r[p+0],y:n.flipVertically?1-r[p+1]:r[p+1]},c.relativeKeypoints.push(f);s.push(l)}return[2,s]}}))}))}function LU(e,t,n,s,r,a,i){return{score:[r],ind:i,locationData:{relativeBoundingBox:{xMin:t,yMin:a?1-n:e,xMax:s,yMax:a?1-e:n,width:s-t,height:n-e}}}}var PU,VU={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},WU={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},UU={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},GU={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},qU={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},jU={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},HU={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},$U=function(){function e(e,t,n){this.detectorModel=t,this.maxFaces=n,"full"===e?(this.imageToTensorConfig=HU,this.tensorsToDetectionConfig=qU,this.anchors=RU(WU)):(this.imageToTensorConfig=jU,this.tensorsToDetectionConfig=GU,this.anchors=RU(VU));var s=Dp(this.anchors.map((function(e){return e.width}))),r=Dp(this.anchors.map((function(e){return e.height}))),a=Dp(this.anchors.map((function(e){return e.xCenter}))),i=Dp(this.anchors.map((function(e){return e.yCenter})));this.anchorTensor={x:a,y:i,w:s,h:r}}return e.prototype.dispose=function(){this.detectorModel.dispose(),Ao([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){},e.prototype.detectFaces=function(e,t){return void 0===t&&(t=!1),kU(this,void 0,void 0,(function(){var n,s,r,a,i,o,l,u,c,h,d;return CU(this,(function(p){switch(p.label){case 0:return null==e?(this.reset(),[2,[]]):(n=xo((function(){var n=Tl(NU(e),"float32");return t&&(n=Ip(ym.flipLeftRight(zh(n,0)),[0])),n})),s=function(e,t,n){var s=t.outputTensorSize,r=t.keepAspectRatio,a=t.borderMode,i=t.outputTensorFloatRange,o=TU(e),l=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(o,n),u=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var s=t.height,r=t.width;OU(t,"targetSize"),OU(e,"roi");var a,i,o=s/r,l=e.height/e.width,u=0,c=0;return o>l?(a=e.width,i=e.width*o,c=(1-l/o)/2):(a=e.height/o,i=e.height,u=(1-o/l)/2),e.width=a,e.height=i,{top:c,left:u,right:u,bottom:c}}(l,s,r),c=function(e,t,n,s){var r=e.width,a=e.height,i=Math.cos(e.rotation),o=Math.sin(e.rotation),l=e.xCenter,u=e.yCenter,c=1/t,h=1/n,d=new Array(16);return d[0]=r*i*1*c,d[1]=-a*o*c,d[2]=0,d[3]=(-.5*r*i*1+.5*a*o+l)*c,d[4]=r*o*1*h,d[5]=a*i*h,d[6]=0,d[7]=(-.5*a*i-.5*r*o*1+u)*h,d[8]=0,d[9]=0,d[10]=r*c,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got "+e.length);return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(d)}(l,o.width,o.height),h=xo((function(){var t=NU(e),n=Mp(function(e,t,n){return OU(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(c,o,s),[1,8]),r="zero"===a?"constant":"nearest",l=ym.transform(zh(Tl(t,"float32")),n,"bilinear",r,0,[s.height,s.width]);return null!=i?function(e,t){var n=function(e,t,n,s){var r=(s-n)/255;return{scale:r,offset:n-0*r}}(0,0,t[0],t[1]);return xo((function(){return Rl(Fl(e,n.scale),n.offset)}))}(l,i):l}));return{imageTensor:h,padding:u,transformationMatrix:c}}(n,this.imageToTensorConfig),r=s.imageTensor,a=s.transformationMatrix,i=this.detectorModel.execute(r,"Identity:0"),o=function(e){return xo((function(){var t=function(e){return xo((function(){return[Mc(e,[0,0,0],[1,-1,1]),Mc(e,[0,0,1],[1,-1,-1])]}))}(e),n=t[0],s=t[1];return{boxes:Ip(s),logits:Ip(n)}}))}(i),l=o.boxes,[4,BU([u=o.logits,l],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return 0===(c=p.sent()).length?(Ao([n,r,i,u,l]),[2,c]):[4,FU(c,this.maxFaces,.3)];case 2:return h=p.sent(),d=function(e,t){void 0===e&&(e=[]);var n,s=(n=t,[].concat.apply([],n));return e.forEach((function(e){var t=e.locationData;t.relativeKeypoints.forEach((function(e){var t=MU(s,[e.x,e.y]),n=t[0],r=t[1];e.x=n,e.y=r}));var n=t.relativeBoundingBox,r=Number.MAX_VALUE,a=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE;[[n.xMin,n.yMin],[n.xMin+n.width,n.yMin],[n.xMin+n.width,n.yMin+n.height],[n.xMin,n.yMin+n.height]].forEach((function(e){var t=MU(s,e),n=t[0],l=t[1];r=Math.min(r,n),i=Math.max(i,n),a=Math.min(a,l),o=Math.max(o,l)})),t.relativeBoundingBox={xMin:r,xMax:i,yMin:a,yMax:o,width:i-r,height:o-a}})),e}(h,a),Ao([n,r,i,u,l]),[2,d]}}))}))},e.prototype.estimateFaces=function(e,t){return kU(this,void 0,void 0,(function(){var n,s;return CU(this,(function(r){return n=TU(e),s=!!t&&t.flipHorizontal,[2,this.detectFaces(e,s).then((function(e){return e.map((function(e){for(var t=e.locationData.relativeKeypoints.map((function(e,t){return AU(AU({},e),{x:e.x*n.width,y:e.y*n.height,name:SU[t]})})),s=e.locationData.relativeBoundingBox,r=0,a=["width","xMax","xMin"];r<a.length;r++)s[a[r]]*=n.width;for(var i=0,o=["height","yMax","yMin"];i<o.length;i++)s[o[i]]*=n.height;return{keypoints:t,box:s}}))}))]}))}))},e}();function KU(e){return kU(this,void 0,void 0,(function(){var t,n,s;return CU(this,(function(r){switch(r.label){case 0:return t=function(e){if(null==e)return AU({},UU);var t=AU({},e);return null==t.modelType&&(t.modelType=UU.modelType),null==t.maxFaces&&(t.maxFaces=UU.maxFaces),null==t.detectorModelUrl&&("full"===t.modelType?t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),t}(e),n="string"==typeof t.detectorModelUrl&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,iS(t.detectorModelUrl,{fromTFHub:n})];case 1:return s=r.sent(),[2,new $U(t.modelType,s,t.maxFaces)]}}))}))}function XU(e,t){return kU(this,void 0,void 0,(function(){var n,s;return CU(this,(function(r){if(e===PU.MediaPipeFaceDetector){if(s=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,KU(n)];if("mediapipe"===n.runtime)return[2,IU(n)];s=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+s)}throw new Error(e+" is not a supported model name.")}))}))}function ZU(e){return e.width*e.height}function YU(e){var t=e.xCenter-e.width/2,n=t+e.width,s=e.yCenter-e.height/2;return{xMin:t,xMax:n,yMin:s,yMax:s+e.height,width:e.width,height:e.height}}function QU(e){return e instanceof Di?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function JU(e){return e-2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function eG(e){return e instanceof Di?e:Fu(e)}function tG(e,t){Gt(0!==e.width,(function(){return t+" width cannot be 0."})),Gt(0!==e.height,(function(){return t+" height cannot be 0."}))}function nG(e,t,n){var s=t.outputTensorSize,r=t.keepAspectRatio,a=t.borderMode,i=t.outputTensorFloatRange,o=QU(e),l=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(o,n),u=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var s=t.height,r=t.width;tG(t,"targetSize"),tG(e,"roi");var a,i,o=s/r,l=e.height/e.width,u=0,c=0;return o>l?(a=e.width,i=e.width*o,c=(1-l/o)/2):(a=e.height/o,i=e.height,u=(1-o/l)/2),e.width=a,e.height=i,{top:c,left:u,right:u,bottom:c}}(l,s,r),c=function(e,t,n,s){var r=e.width,a=e.height,i=s?-1:1,o=Math.cos(e.rotation),l=Math.sin(e.rotation),u=e.xCenter,c=e.yCenter,h=1/t,d=1/n,p=new Array(16);return p[0]=r*o*i*h,p[1]=-a*l*h,p[2]=0,p[3]=(-.5*r*o*i+.5*a*l+u)*h,p[4]=r*l*i*d,p[5]=a*o*d,p[6]=0,p[7]=(-.5*a*o-.5*r*l*i+c)*d,p[8]=0,p[9]=0,p[10]=r*h,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got "+e.length);return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(p)}(l,o.width,o.height,!1),h=xo((function(){var t=eG(e),n=Mp(function(e,t,n){return tG(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(c,o,s),[1,8]),r="zero"===a?"constant":"nearest",l=ym.transform(zh(Tl(t,"float32")),n,"bilinear",r,0,[s.height,s.width]);return null!=i?function(e,t){var n=function(e,t,n,s){var r=(s-n)/255;return{scale:r,offset:n-0*r}}(0,0,t[0],t[1]);return xo((function(){return Rl(Fl(e,n.scale),n.offset)}))}(l,i):l}));return{imageTensor:h,padding:u,transformationMatrix:c}}function sG(e){return{xCenter:e.xMin+e.width/2,yCenter:e.yMin+e.height/2,width:e.width,height:e.height}}function rG(e){var t=e.relativeKeypoints;if(t.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var n=Number.MAX_VALUE,s=Number.MAX_VALUE,r=Number.MIN_VALUE,a=Number.MIN_VALUE;return t.forEach((function(e){n=Math.min(n,e.x),r=Math.max(r,e.x),s=Math.min(s,e.y),a=Math.max(a,e.y)})),{xCenter:(n+r)/2,yCenter:(s+a)/2,width:r-n,height:a-s}}function aG(e,t,n,s,r){var a="rect"===n?function(e,t,n){var s,r=e.locationData;if("boundingbox"===t)s=sG(r.boundingBox);else{s=rG(r);var a=n.width,i=n.height;s.xCenter=Math.round(s.xCenter*a),s.yCenter=Math.round(s.yCenter*i),s.width=Math.round(s.width*a),s.height=Math.round(s.height*i)}return s}(e,t,s):function(e,t){var n=e.locationData;return"boundingbox"===t?sG(n.relativeBoundingBox):rG(n)}(e,t);return r&&(a.rotation=function(e,t,n){var s,r=e.locationData,a=n.rotationVectorStartKeypointIndex,i=n.rotationVectorEndKeypointIndex;s=n.rotationVectorTargetAngle?n.rotationVectorTargetAngle:Math.PI*n.rotationVectorTargetAngleDegree/180;var o=r.relativeKeypoints[a].x*t.width,l=r.relativeKeypoints[a].y*t.height,u=r.relativeKeypoints[i].x*t.width,c=r.relativeKeypoints[i].y*t.height;return JU(s-Math.atan2(-(c-l),u-o))}(e,s,r)),a}function iG(e,t,n){for(var s=0;s<t.length;++s){var r=t[s],a=n[e[s]];a.x=r.x,a.y=r.y}}function oG(e,t,n,s){if("string"==typeof t){if("copy"===t)for(var r=0;r<n.length;++r)s[e[r]].z=n[r].z}else{var a=function(e,t){for(var n=0,s=0;s<t.length;++s)n+=e[t[s]].z;return n/t.length}(s,t);for(r=0;r<e.length;++r)s[e[r]].z=a}}function lG(e,t){for(var n=function(e){var t=[].concat.apply([],e.map((function(e){return e.indexesMapping})));if(0===t.length)throw new Error("There should be at least one landmark in indexes mapping");var n=t[0],s=t[0],r=new Set(t);r.forEach((function(e){n=Math.min(n,e),s=Math.max(s,e)}));var a=r.size;if(0!==n)throw new Error("Indexes are expected to start with 0 instead of "+n);if(s+1!==a)throw new Error("Indexes should have no gaps but "+(s-a+1)+" indexes are missing");return a}(t),s=new Array(n).fill(null).map(Object),r=0;r<e.length;++r){var a=e[r],i=t[r];if(a.length!==i.indexesMapping.length)throw new Error("There are "+a.length+" refinement landmarks while mapping has "+i.indexesMapping.length);iG(i.indexesMapping,a,s),oG(i.indexesMapping,i.zRefinement,a,s)}return s}function uG(e,t){return e.map((function(e){var n=lU(lU({},e),{x:e.x*t.width,y:e.y*t.height});return null!=e.z&&(n.z=e.z*t.width),n}))}function cG(e,t){return"none"===e?t:function(e){return 1/(1+Math.exp(-e))}(t)}function hG(e,t,n,s){return uU(this,void 0,void 0,(function(){var r,a,i,o,l,u,c,h;return cU(this,(function(d){switch(d.label){case 0:return n=n||t.flipHorizontally||!1,s=s||t.flipVertically||!1,r=e.size,a=r/t.numLandmarks,[4,e.data()];case 1:for(i=d.sent(),o=[],l=0;l<t.numLandmarks;++l)u=l*a,(h={x:0,y:0}).x=n?t.inputImageWidth-i[u]:i[u],a>1&&(h.y=s?t.inputImageHeight-i[u+1]:i[u+1]),a>2&&(h.z=i[u+2]),a>3&&(h.score=cG(t.visibilityActivation,i[u+3])),o.push(h);for(c=0;c<o.length;++c)(h=o[c]).x=h.x/t.inputImageWidth,h.y=h.y/t.inputImageHeight,h.z=h.z/t.inputImageWidth/(t.normalizeZ||1);return[2,o]}}))}))}function dG(e,t,n){var s=e.width,r=e.height,a=e.rotation;if(null==n.rotation&&null==n.rotationDegree||(a=function(e,t){return null!=t.rotation?e+=t.rotation:null!=t.rotationDegree&&(e+=Math.PI*t.rotationDegree/180),JU(e)}(a,n)),0===a)e.xCenter=e.xCenter+s*n.shiftX,e.yCenter=e.yCenter+r*n.shiftY;else{var i=(t.width*s*n.shiftX*Math.cos(a)-t.height*r*n.shiftY*Math.sin(a))/t.width,o=(t.width*s*n.shiftX*Math.sin(a)+t.height*r*n.shiftY*Math.cos(a))/t.height;e.xCenter=e.xCenter+i,e.yCenter=e.yCenter+o}if(n.squareLong){var l=Math.max(s*t.width,r*t.height);s=l/t.width,r=l/t.height}else if(n.squareShort){var u=Math.min(s*t.width,r*t.height);s=u/t.width,r=u/t.height}return e.width=s*n.scaleX,e.height=r*n.scaleY,e}(PU||(PU={})).MediaPipeFaceDetector="MediaPipeFaceDetector";var pG,fG={runtime:"tfjs",maxFaces:1,refineLandmarks:!1,landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"},mG={flipHorizontal:!1,staticImageMode:!1},gG={shiftX:0,shiftY:0,scaleX:1.5,scaleY:1.5,squareLong:!0},yG={outputTensorSize:{width:192,height:192},outputTensorFloatRange:[0,1],borderMode:"replicate"},bG={numLandmarks:468,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},wG={numLandmarks:80,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},vG={numLandmarks:71,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},xG={numLandmarks:5,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},AG={indexesMapping:Array.from(Array(468).keys()),zRefinement:"copy"},kG={indexesMapping:[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407],zRefinement:"none"},CG={indexesMapping:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],zRefinement:"none"},SG={indexesMapping:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417],zRefinement:"none"},EG={indexesMapping:[468,469,470,471,472],zRefinement:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173]},_G={indexesMapping:[473,474,475,476,477],zRefinement:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398]},IG=function(){function e(e,t,n,s){this.detector=e,this.landmarkModel=t,this.maxFaces=n,this.withAttention=s,this.prevFaceRectsFromLandmarks=null}return e.prototype.estimateFaces=function(e,t){return uU(this,void 0,void 0,(function(){var n,s,r,a,i,o,l,u,c,h,d,p,f,m=this;return cU(this,(function(g){switch(g.label){case 0:return n=function(e){if(null==e)return lU({},mG);var t=lU({},e);return null==t.flipHorizontal&&(t.flipHorizontal=mG.flipHorizontal),null==t.staticImageMode&&(t.staticImageMode=mG.staticImageMode),t}(t),null==e?(this.reset(),[2,[]]):(s=QU(e),r=xo((function(){var t=Tl(eG(e),"float32");return n.flipHorizontal&&(t=Ip(ym.flipLeftRight(zh(t,0)),[0])),t})),a=this.prevFaceRectsFromLandmarks,n.staticImageMode||null==a||a.length<this.maxFaces?[4,this.detector.detectFaces(r,!1)]:[3,2]);case 1:return 0===(o=g.sent()).length?(this.reset(),r.dispose(),[2,[]]):(i=o.map((function(e){return m.faceDetectionFrontDetectionToRoi(e,s)})),[3,3]);case 2:i=[],g.label=3;case 3:return.5,y=[],[i,a||[]].forEach((function(e){return e.forEach((function(e){(y=y.filter((function(t){return function(e,t){var n=YU(e),s=YU(t);if(!function(e,t){return!(e.xMax<t.xMin||t.xMax<e.xMin||e.yMax<t.yMin||t.yMax<e.yMin)}(n,s))return 0;var r=ZU(function(e,t){var n=Math.max(e.xMin,t.xMin),s=Math.min(e.xMax,t.xMax),r=Math.max(e.yMin,t.yMin),a=Math.min(e.yMax,t.yMax);return{xMin:n,xMax:s,yMin:r,yMax:a,width:Math.max(s-n,0),height:Math.max(a-r,0)}}(n,s)),a=ZU(n)+ZU(s)-r;return a>0?r/a:0}(e,t)<=.5}))).push(e)}))})),l=y,[4,Promise.all(l.map((function(e){return m.faceLandmark(e,r)})))];case 4:for(u=g.sent(),c=[],this.prevFaceRectsFromLandmarks=[],h=0;h<u.length;++h)null!=(d=u[h])&&(this.prevFaceRectsFromLandmarks.push(this.faceLandmarksToRoi(d,s)),null!=(p=uG(d,s))&&p.forEach((function(e,t){var n=mU.get(t);null!=n&&(e.name=n)})),f=gU(p),c.push({keypoints:p,box:f.locationData.relativeBoundingBox}));return r.dispose(),[2,c]}var y}))}))},e.prototype.dispose=function(){this.detector.dispose(),this.landmarkModel.dispose()},e.prototype.reset=function(){this.detector.reset(),this.prevFaceRectsFromLandmarks=null},e.prototype.faceDetectionFrontDetectionToRoi=function(e,t){return dG(aG(e,"boundingbox","normRect",t,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:0}),t,gG)},e.prototype.faceLandmark=function(e,t){return uU(this,void 0,void 0,(function(){var n,s,r,a,i,o,l;return cU(this,(function(u){switch(u.label){case 0:return n=nG(t,yG,e).imageTensor,s=["output_faceflag"].concat(this.withAttention?["output_mesh_identity","output_lips","Identity_6:0","Identity_1:0","Identity_2:0","Identity_5:0"]:["output_mesh"]),r=this.landmarkModel.execute(n,s),a=r[0],i=r.slice(1),[4,a.data()];case 1:return u.sent()[0]<.5?(Ao(r),Ao(n),[2,null]):this.withAttention?[4,this.tensorsToFaceLandmarksWithAttention(i)]:[3,3];case 2:return o=u.sent(),[3,5];case 3:return[4,this.tensorsToFaceLandmarks(i)];case 4:o=u.sent(),u.label=5;case 5:return l=function(e,t,n){void 0===n&&(n={ignoreRotation:!1});for(var s=[],r=0,a=e;r<a.length;r++){var i=a[r],o=i.x-.5,l=i.y-.5,u=n.ignoreRotation?0:t.rotation,c=Math.cos(u)*o-Math.sin(u)*l,h=Math.sin(u)*o+Math.cos(u)*l;c=c*t.width+t.xCenter,h=h*t.height+t.yCenter;var d=i.z*t.width,p=lU({},i);p.x=c,p.y=h,p.z=d,s.push(p)}return s}(o,e),Ao(r),Ao(n),[2,l]}}))}))},e.prototype.tensorsToFaceLandmarks=function(e){return uU(this,void 0,void 0,(function(){return cU(this,(function(t){return[2,hG(e[0],bG)]}))}))},e.prototype.tensorsToFaceLandmarksWithAttention=function(e){return uU(this,void 0,void 0,(function(){var t,n,s,r,a,i;return cU(this,(function(o){switch(o.label){case 0:return[4,hG(e[0],bG)];case 1:return t=o.sent(),[4,hG(e[1],wG)];case 2:return n=o.sent(),[4,hG(e[3],vG)];case 3:return s=o.sent(),[4,hG(e[5],vG)];case 4:return r=o.sent(),[4,hG(e[4],xG)];case 5:return a=o.sent(),[4,hG(e[2],xG)];case 6:return i=o.sent(),[2,lG([t,n,s,r,a,i],[AG,kG,CG,SG,EG,_G])]}}))}))},e.prototype.faceLandmarksToRoi=function(e,t){return dG(aG(gU(e),"boundingbox","normRect",t,{rotationVectorStartKeypointIndex:33,rotationVectorEndKeypointIndex:263,rotationVectorTargetAngleDegree:0}),t,gG)},e}();function TG(e){return uU(this,void 0,void 0,(function(){var t,n,s,r;return cU(this,(function(a){switch(a.label){case 0:return t=function(e){if(null==e)return lU({},fG);var t=lU({},e);return t.runtime="tfjs",null==t.maxFaces&&(t.maxFaces=fG.maxFaces),null==t.refineLandmarks&&(t.refineLandmarks=fG.refineLandmarks),null==t.landmarkModelUrl&&(t.landmarkModelUrl=t.refineLandmarks?"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/attention_mesh/1":"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"),t}(e),n="string"==typeof t.landmarkModelUrl&&t.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,iS(t.landmarkModelUrl,{fromTFHub:n})];case 1:return s=a.sent(),[4,XU(PU.MediaPipeFaceDetector,{modelType:"short",maxFaces:t.maxFaces,detectorModelUrl:t.detectorModelUrl,runtime:t.runtime})];case 2:return r=a.sent(),[2,new IG(r,s,t.maxFaces,t.refineLandmarks)]}}))}))}(pG||(pG={})).MediaPipeFaceMesh="MediaPipeFaceMesh";Object.freeze({__proto__:null,getKeypointIndexByContour:function(e){if(e===pG.MediaPipeFaceMesh)return dU;throw new Error("Model "+e+" is not supported.")},getAdjacentPairs:function(e){if(e===pG.MediaPipeFaceMesh)return pU;throw new Error("Model "+e+" is not supported.")}});const NG=function(){this.model=function(e,t){return uU(this,void 0,void 0,(function(){var n,s;return cU(this,(function(r){if(e===pG.MediaPipeFaceMesh){if(s=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,TG(n)];if("mediapipe"===n.runtime)return[2,wU(n)];s=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+s)}throw new Error(e+" is not a supported model name.")}))}))}(pG.MediaPipeFaceMesh,{runtime:"tfjs"}),this.predictionReady=!1};NG.prototype.positionsArray=null,NG.prototype.getEyePatches=async function(e,t,n,s){if(0===t.width)return null;const r=await this.model,a=await r.estimateFaces(t,{flipHorizontal:!1});if(0===a.length)return!1;this.positionsArray=a[0].scaledMesh;const i=a[0],{scaledMesh:o}=(this.positionsArray,a[0]),[l,u]=[{eyeTopArc:[466,388,387,386,385,384,398].map((e=>i.keypoints[e])),eyeBottomArc:[263,249,390,373,374,380,381,382,362].map((e=>i.keypoints[e]))},{eyeTopArc:[246,161,160,159,158,157,173].map((e=>i.keypoints[e])),eyeBottomArc:[33,7,163,144,145,153,154,155,133].map((e=>i.keypoints[e]))}].map((({eyeTopArc:e,eyeBottomArc:t})=>{const n={x:Math.round(Math.min(...e.map((e=>e.x)))),y:Math.round(Math.min(...e.map((e=>e.y))))},s=Math.round(Math.max(...t.map((e=>e.x)))),r=Math.round(Math.max(...t.map((e=>e.y))));return{origin:n,width:s-n.x,height:r-n.y}}));var c=l.origin.x,h=l.origin.y,d=l.width,p=l.height,f=u.origin.x,m=u.origin.y,g=u.width,y=u.height;if(0===d||0===g)return null;if(0===p||0===y)return null;var b={},w=t.getContext("2d").getImageData(c,h,d,p);b.left={patch:w,imagex:c,imagey:h,width:d,height:p};var v=t.getContext("2d").getImageData(f,m,g,y);return b.right={patch:v,imagex:f,imagey:m,width:g,height:y},this.predictionReady=!0,b},NG.prototype.getPositions=function(){return this.positionsArray},NG.prototype.reset=function(){},NG.prototype.drawFaceOverlay=function(e,t){if(t){e.fillStyle="#32EEDB",e.strokeStyle="#32EEDB",e.lineWidth=.5;for(let n=0;n<t.length;n++){const s=t[n][0],r=t[n][1];e.beginPath(),e.arc(s,r,1,0,2*Math.PI),e.closePath(),e.fill()}}},NG.prototype.name="TFFaceMesh";const OG=NG,RG={};function DG(e,t,n){return e<t?t:e>n?n:e}RG.Eye=function(e,t,n,s,r){this.patch=e,this.imagex=t,this.imagey=n,this.width=s,this.height=r},RG.getEyeFeats=function(e){var t=this.resizeEye(e.left,10,6),n=this.resizeEye(e.right,10,6),s=this.grayscale(t.data,t.width,t.height),r=this.grayscale(n.data,n.width,n.height),a=[];this.equalizeHistogram(s,5,a);var i=[];return this.equalizeHistogram(r,5,i),a.concat(i)},RG.DataWindow=function(e,t){this.data=[],this.windowSize=e,this.index=0,this.length=0,t&&(this.data=t.slice(t.length-e,t.length),this.length=this.data.length)},RG.DataWindow.prototype.push=function(e){return this.data.length<this.windowSize?(this.data.push(e),this.length=this.data.length,this):(this.data[this.index]=e,this.index=(this.index+1)%this.windowSize,this)},RG.DataWindow.prototype.get=function(e){return this.data[this.getTrueIndex(e)]},RG.DataWindow.prototype.getTrueIndex=function(e){return this.data.length<this.windowSize?e:(e+this.index)%this.windowSize},RG.DataWindow.prototype.addAll=function(e){for(var t=0;t<e.length;t++)this.push(e[t])},RG.grayscale=function(e,t,n){for(var s=new Uint8ClampedArray(e.length>>2),r=0,a=0,i=0;i<n;i++)for(var o=0;o<t;o++){var l=.299*e[a]+.587*e[a+1]+.114*e[a+2];s[r++]=l,a+=4}return s},RG.equalizeHistogram=function(e,t,n){var s=e.length;n||(n=e),t||(t=5);for(var r=Array(256).fill(0),a=0;a<s;a+=t)++r[e[a]];for(var i=255*t/s,o=0,l=0;l<256;++l){var u=r[l];o=u+=o,r[l]=u*i}for(var c=0;c<s;++c)n[c]=r[e[c]];return n},RG.threshold=function(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]>t?255:0;return e},RG.correlation=function(e,t){const n=Math.min(e.length,t.length);let s=0;for(let r=0;r<n;r++)e[r]===t[r]&&s++;return s/Math.max(e.length,t.length)},RG.resizeEye=function(e,t,n){var s=document.createElement("canvas");s.width=e.width,s.height=e.height,s.getContext("2d").putImageData(e.patch,0,0);var r=document.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d").drawImage(s,0,0,s.width,s.height,0,0,t,n),r.getContext("2d").getImageData(0,0,t,n)},RG.bound=function(e){return e.x=DG(e.x,0,window.innerWidth),e.y=DG(e.y,0,window.innerHeight),e},RG.DebugBox=function(e){var t;this.para=document.createElement("p"),this.div=document.createElement("div"),this.div.appendChild(this.para),document.body.appendChild(this.div),this.buttons={},this.canvas={},this.stats={},t=this,setInterval((function(){!function(e,t){var n="";for(var s in t)n+=s+": "+t[s]+"\n";e.innerText=n}(t.para,t.stats)}),e||300)},RG.DebugBox.prototype.set=function(e,t){this.stats[e]=t},RG.DebugBox.prototype.inc=function(e,t,n){this.stats[e]||(this.stats[e]=n||0),this.stats[e]+=t||1},RG.DebugBox.prototype.addButton=function(e,t){this.buttons[e]||(this.buttons[e]=document.createElement("button"),this.div.appendChild(this.buttons[e]));var n=this.buttons[e];this.buttons[e]=n,n.addEventListener("click",t),n.innerText=e},RG.DebugBox.prototype.show=function(e,t){this.canvas[e]||(this.canvas[e]=document.createElement("canvas"),this.div.appendChild(this.canvas[e]));var n=this.canvas[e];n.getContext("2d").clearRect(0,0,n.width,n.height),t(n)};const MG=RG;function FG(e,t,n){if(e.length!==t.length||e[0].length!==t[0].length)throw new Error("Matrix dimensions must agree.");const s=e.length,r=e[0].length,a=new Array(s);for(let i=0;i<s;i++){a[i]=new Array(r);for(let s=0;s<r;s++)a[i][s]=n(e[i][s],t[i][s])}return a}const BG={transpose(e){const t=e.length,n=e[0].length,s=new Array(n);for(let r=0;r<n;r++){s[r]=new Array(t);for(let n=0;n<t;n++)s[r][n]=e[n][r]}return s},getMatrix(e,t,n,s){const r=new Array(t.length),a=s-n+1;for(let i=0,o=t.length;i<o;i++){r[i]=new Array(a);for(let a=n;a<=s;a++)r[i][a-n]=e[t[i]][a]}return r},getSubMatrix(e,t,n,s,r){const a=r-s+1,i=new Array(n-t+1);for(let o=t;o<=n;o++){const n=o-t;i[n]=new Array(a);for(let t=s;t<=r;t++)i[n][t-s]=e[o][t]}return i},mult(e,t){t.length,e[0].length;for(var n=new Array(e.length),s=new Array(e[0].length),r=0;r<t[0].length;r++){for(var a=0;a<e[0].length;a++)s[a]=t[a][r];for(var i=0;i<e.length;i++){0===r&&(n[i]=new Array(t[0].length));var o=e[i],l=0;for(a=0;a<e[0].length;a++)l+=o[a]*s[a];n[i][r]=l}}return n},multScalar(e,t){const n=e.length,s=e[0].length,r=new Array(n);for(let a=0;a<n;a++){r[a]=new Array(s);for(let n=0;n<s;n++)r[a][n]=e[a][n]*t}return r},add:(e,t)=>FG(e,t,((e,t)=>e+t)),sub:(e,t)=>FG(e,t,((e,t)=>e-t)),inv:e=>BG.solve(e,BG.identity(e.length,e[0].length)),identity(e,t=e){const n=new Array(e);for(let s=0;s<e;s++){n[s]=new Array(t);for(let e=0;e<t;e++)n[s][e]=s===e?1:0}return n},solve:(e,t)=>e.length===e[0].length?BG.LUDecomposition(e,t):BG.QRDecomposition(e,t),LUDecomposition(e,t){for(var n=new Array(e.length),s=0;s<e.length;s++){n[s]=new Array(e[0].length);for(var r=0;r<e[0].length;r++)n[s][r]=e[s][r]}var a=e.length,i=e[0].length,o=new Array(a);for(s=0;s<a;s++)o[s]=s;var l=1,u=new Array,c=new Array(a);for(r=0;r<i;r++){for(s=0;s<a;s++)c[s]=n[s][r];for(s=0;s<a;s++){u=n[s];for(var h=Math.min(s,r),d=0,p=0;p<h;p++)d+=u[p]*c[p];u[r]=c[s]-=d}var f=r;for(s=r+1;s<a;s++)Math.abs(c[s])>Math.abs(c[f])&&(f=s);if(f!=r){for(p=0;p<i;p++){var m=n[f][p];n[f][p]=n[r][p],n[r][p]=m}p=o[f];o[f]=o[r],o[r]=p,l=-l}if(r<a&0!=n[r][r])for(s=r+1;s<a;s++)n[s][r]/=n[r][r]}t.length;for(r=0;r<i;r++)n[r][r];var g=t[0].length,y=BG.getMatrix(t,o,0,g-1);for(p=0;p<i;p++)for(s=p+1;s<i;s++)for(r=0;r<g;r++)y[s][r]-=y[p][r]*n[s][p];for(p=i-1;p>=0;p--){for(r=0;r<g;r++)y[p][r]/=n[p][p];for(s=0;s<p;s++)for(r=0;r<g;r++)y[s][r]-=y[p][r]*n[s][p]}return y},QRDecomposition(e,t){for(var n=new Array(e.length),s=0;s<e.length;s++){n[s]=new Array(e[0].length);for(var r=0;r<e[0].length;r++)n[s][r]=e[s][r]}for(var a,i=e.length,o=e[0].length,l=new Array(o),u=0;u<o;u++){a=0;for(s=u;s<i;s++)a=Math.hypot(a,n[s][u]);if(0!=a){n[u][u]<0&&(a=-a);for(s=u;s<i;s++)n[s][u]/=a;n[u][u]+=1;for(r=u+1;r<o;r++){var c=0;for(s=u;s<i;s++)c+=n[s][u]*n[s][r];c=-c/n[u][u];for(s=u;s<i;s++)n[s][r]+=c*n[s][u]}}l[u]=-a}t.length;for(r=0;r<o;r++)l[r];var h=t[0].length,d=new Array(t.length);for(s=0;s<t.length;s++)d[s]=new Array(t[0].length);for(s=0;s<t.length;s++)for(r=0;r<t[0].length;r++)d[s][r]=t[s][r];for(u=0;u<o;u++)for(r=0;r<h;r++){for(c=0,s=u;s<i;s++)c+=n[s][u]*d[s][r];c=-c/n[u][u];for(s=u;s<i;s++)d[s][r]+=c*n[s][u]}for(u=o-1;u>=0;u--){for(r=0;r<h;r++)d[u][r]/=l[u];for(s=0;s<u;s++)for(r=0;r<h;r++)d[s][r]-=d[u][r]*n[s][u]}return BG.getSubMatrix(d,0,o-1,0,h-1)}},zG=BG,LG={InitRegression:function(){var e=700;this.ridgeParameter=Math.pow(10,-5),this.errorXArray=new MG.DataWindow(e),this.errorYArray=new MG.DataWindow(e),this.screenXClicksArray=new MG.DataWindow(e),this.screenYClicksArray=new MG.DataWindow(e),this.eyeFeaturesClicks=new MG.DataWindow(e),this.trailTime=1e3,this.trailDataWindow=this.trailTime/rU.moveTickSize,this.screenXTrailArray=new MG.DataWindow(10),this.screenYTrailArray=new MG.DataWindow(10),this.eyeFeaturesTrail=new MG.DataWindow(10),this.trailTimes=new MG.DataWindow(10),this.dataClicks=new MG.DataWindow(e),this.dataTrail=new MG.DataWindow(10);var t=[[1/4,0,.5,0],[0,1/4,0,.5],[.5,0,1,0],[0,.5,0,1]];t=zG.multScalar(t,.1);var n=zG.multScalar(zG.identity(2),47),s=zG.multScalar(zG.identity(4),1e-4);this.kalman=new LG.KalmanFilter([[1,0,1,0],[0,1,0,1],[0,0,1,0],[0,0,0,1]],[[1,0,0,0],[0,1,0,0]],t,n,s,[[500],[500],[0],[0]])},KalmanFilter:function(e,t,n,s,r,a){this.F=e,this.Q=n,this.H=t,this.R=s,this.P=r,this.X=a}};LG.KalmanFilter.prototype.update=function(e){for(var{add:t,sub:n,mult:s,inv:r,identity:a,transpose:i}=zG,o=s(this.F,this.X),l=t(s(s(this.F,this.P),i(this.F)),this.Q),u=n(e=i([e]),s(this.H,o)),c=t(s(s(this.H,l),i(this.H)),this.R),h=s(l,s(i(this.H),r(c))),d=0;d<u.length;d++)u[d]=[u[d]];return this.X=t(o,s(h,u)),this.P=s(n(a(h.length),s(h,this.H)),l),i(s(this.H,this.X))[0]},LG.ridge=function(e,t,n){var s=t[0].length,r=new Array(s),a=zG.transpose(t),i=new Array,o=!0;do{for(var l=zG.mult(a,t),u=0;u<s;u++)l[u][u]=l[u][u]+n;var c=zG.mult(a,e);for(u=0;u<s;u++)r[u]=c[u][0];try{0!==r.length&&(r.length,r.length);r.length,r.length,i=zG.solve(l,c);for(u=0;u<s;u++)r[u]=i[u];o=!0}catch(e){n*=10,o=!1}}while(!o);return r},LG.setData=function(e){for(var t=0;t<e.length;t++){var n=new Uint8ClampedArray(e[t].eyes.left.patch.data),s=new Uint8ClampedArray(e[t].eyes.right.patch.data);e[t].eyes.left.patch=new ImageData(n,e[t].eyes.left.width,e[t].eyes.left.height),e[t].eyes.right.patch=new ImageData(s,e[t].eyes.right.width,e[t].eyes.right.height),this.addData(e[t].eyes,e[t].screenPos,e[t].type)}},LG.getCurrentFixationIndex=function(){for(var e=this.screenXTrailArray.get(0),t=this.screenYTrailArray.get(0),n=this.screenXTrailArray.length-1;n>=0;n--){var s=this.screenXTrailArray.get(n),r=this.screenYTrailArray.get(n);if(Math.sqrt(Math.pow(s-e,2)+Math.pow(r-t,2))>72)return n+1}return n},LG.addData=function(e,t,n){e&&("click"===n?(this.screenXClicksArray.push([t[0]]),this.screenYClicksArray.push([t[1]]),this.eyeFeaturesClicks.push(MG.getEyeFeats(e)),this.dataClicks.push({eyes:e,screenPos:t,type:n})):"move"===n&&(this.screenXTrailArray.push([t[0]]),this.screenYTrailArray.push([t[1]]),this.eyeFeaturesTrail.push(MG.getEyeFeats(e)),this.trailTimes.push(performance.now()),this.dataTrail.push({eyes:e,screenPos:t,type:n})))};const PG=LG,VG={RidgeReg:function(){this.init()}};VG.RidgeReg.prototype.init=PG.InitRegression,VG.RidgeReg.prototype.addData=PG.addData,VG.RidgeReg.prototype.predict=function(e){if(!e||0===this.eyeFeaturesClicks.length)return null;for(var t=performance.now()-this.trailTime,n=[],s=[],r=[],a=0;a<this.trailDataWindow;a++)this.trailTimes.get(a)>t&&(n.push(this.screenXTrailArray.get(a)),s.push(this.screenYTrailArray.get(a)),r.push(this.eyeFeaturesTrail.get(a)));var i=this.screenXClicksArray.data.concat(n),o=this.screenYClicksArray.data.concat(s),l=this.eyeFeaturesClicks.data.concat(r),u=PG.ridge(i,l,this.ridgeParameter),c=PG.ridge(o,l,this.ridgeParameter),h=MG.getEyeFeats(e),d=0;for(a=0;a<h.length;a++)d+=h[a]*u[a];var p=0;for(a=0;a<h.length;a++)p+=h[a]*c[a];if(d=Math.floor(d),p=Math.floor(p),rU.applyKalmanFilter){var f=[d,p];return{x:(f=this.kalman.update(f))[0],y:f[1]}}return{x:d,y:p}},VG.RidgeReg.prototype.setData=PG.setData,VG.RidgeReg.prototype.getData=function(){return this.dataClicks.data},VG.RidgeReg.prototype.name="ridge";const WG=VG,UG={RidgeWeightedReg:function(){this.init()}};UG.RidgeWeightedReg.prototype.init=PG.InitRegression,UG.RidgeWeightedReg.prototype.addData=PG.addData,UG.RidgeWeightedReg.prototype.predict=function(e){if(!e||0===this.eyeFeaturesClicks.length)return null;for(var t=performance.now()-this.trailTime,n=[],s=[],r=[],a=0;a<this.trailDataWindow;a++)this.trailTimes.get(a)>t&&(n.push(this.screenXTrailArray.get(a)),s.push(this.screenYTrailArray.get(a)),r.push(this.eyeFeaturesTrail.get(a)));var i=this.eyeFeaturesClicks.data.length,o=Array(i),l=Array(i),u=Array(i);for(a=0;a<i;a++){for(var c=Math.sqrt(1/(i-a)),h=this.eyeFeaturesClicks.getTrueIndex(a),d=0;d<this.eyeFeaturesClicks.data[h].length;d++){var p=this.eyeFeaturesClicks.data[h][d]*c;void 0!==o[h]?o[h].push(p):o[h]=[p]}l[a]=this.screenXClicksArray.get(a).slice(0,this.screenXClicksArray.get(a).length),u[a]=this.screenYClicksArray.get(a).slice(0,this.screenYClicksArray.get(a).length),l[a][0]=l[a][0]*c,u[a][0]=u[a][0]*c}var f=l.concat(n),m=u.concat(s),g=o.concat(r),y=PG.ridge(f,g,this.ridgeParameter),b=PG.ridge(m,g,this.ridgeParameter),w=MG.getEyeFeats(e),v=0;for(a=0;a<w.length;a++)v+=w[a]*y[a];var x=0;for(a=0;a<w.length;a++)x+=w[a]*b[a];if(v=Math.floor(v),x=Math.floor(x),rU.applyKalmanFilter){var A=[v,x];return{x:(A=this.kalman.update(A))[0],y:A[1]}}return{x:v,y:x}},UG.RidgeWeightedReg.prototype.setData=PG.setData,UG.RidgeWeightedReg.prototype.getData=function(){return this.dataClicks.data},UG.RidgeWeightedReg.prototype.name="ridgeWeighted";const GG=UG,qG={};Math.pow(10,-5);var jG=700,HG={X:[0],Y:[0]};qG.RidgeRegThreaded=function(){this.init()},qG.RidgeRegThreaded.prototype.init=function(){this.screenXClicksArray=new MG.DataWindow(jG),this.screenYClicksArray=new MG.DataWindow(jG),this.eyeFeaturesClicks=new MG.DataWindow(jG),this.screenXTrailArray=new MG.DataWindow(10),this.screenYTrailArray=new MG.DataWindow(10),this.eyeFeaturesTrail=new MG.DataWindow(10),this.dataClicks=new MG.DataWindow(jG),this.dataTrail=new MG.DataWindow(jG),this.worker||(this.worker=new Worker("ridgeWorker.mjs"),this.worker.onerror=function(e){},this.worker.onmessage=function(e){HG.X=e.data.X,HG.Y=e.data.Y});var e=[[1/4,0,.5,0],[0,1/4,0,.5],[.5,0,1,0],[0,.5,0,1]];e=zG.multScalar(e,.1);var t=zG.multScalar(zG.identity(2),47),n=zG.multScalar(zG.identity(4),1e-4);this.kalman=new PG.KalmanFilter([[1,0,1,0],[0,1,0,1],[0,0,1,0],[0,0,0,1]],[[1,0,0,0],[0,1,0,0]],e,t,n,[[500],[500],[0],[0]])},qG.RidgeRegThreaded.prototype.addData=function(e,t,n){e&&this.worker.postMessage({eyes:MG.getEyeFeats(e),screenPos:t,type:n})},qG.RidgeRegThreaded.prototype.predict=function(e){if(!e)return null;for(var t=HG.X,n=HG.Y,s=MG.getEyeFeats(e),r=0,a=0,i=0;i<s.length;i++)r+=s[i]*t[i],a+=s[i]*n[i];if(r=Math.floor(r),a=Math.floor(a),rU.applyKalmanFilter){var o=[r,a];return{x:(o=this.kalman.update(o))[0],y:o[1]}}return{x:r,y:a}},qG.RidgeRegThreaded.prototype.setData=PG.setData,qG.RidgeRegThreaded.prototype.getData=function(){return this.dataClicks.data},qG.RidgeRegThreaded.prototype.name="ridge";const $G=qG;function KG(e){return new Promise((t=>setTimeout(t,e)))}function XG(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}const ZG={tracker:{}};ZG.tracker.TFFaceMesh=OG,ZG.reg=WG,ZG.reg.RidgeWeightedReg=GG.RidgeWeightedReg,ZG.reg.RidgeRegThreaded=$G.RidgeRegThreaded,ZG.util=MG,ZG.params=rU;var YG=null,QG=null,JG=null,eq=null,tq=null,nq=null,sq=null,rq=!1,aq=new Array(50),iq=new Array(50),oq=(performance.now(),null),lq=null;ZG.params.paused=!1,ZG.params.greedyLearner=!1,ZG.params.framerate=60,ZG.params.showGazeDot=!1,ZG.params.getLatestVideoFrameTimestamp=()=>{},ZG.params.activeCamera={label:"",id:""};let uq=[];var cq=function(e){},hq=cq,dq=["click","move"],pq=performance.now(),fq=new ZG.tracker.TFFaceMesh,mq=[new ZG.reg.RidgeReg],gq={TFFacemesh:function(){return new ZG.tracker.TFFaceMesh}},yq={ridge:function(){return new ZG.reg.RidgeReg},weightedRidge:function(){return new ZG.reg.RidgeWeightedReg},threadedRidge:function(){return new ZG.reg.RidgeRegThreaded}},bq="webgazerGlobalData",wq="webgazerGlobalSettings",vq={},xq=[];let Aq,kq,Cq,Sq,Eq,_q,Iq,Tq,Nq,Oq,Rq,Dq;ZG.computeValidationBoxSize=function(){var e=JG.videoWidth,t=JG.videoHeight,n=parseInt(JG.style.width),s=parseInt(JG.style.height),r=Math.min(e,t),a=e==Math.max(e,t)?n/e:s/t,i=r*ZG.params.faceFeedbackBoxRatio*a;return[(s-i)/2,(n-i)/2,i,i]};let Mq=!1,Fq=!1;function Bq(){null!==nq&&oq?(Mq||Fq||(Fq=!0,setTimeout((()=>{Aq=JG.videoWidth,kq=JG.videoHeight,Cq=Math.min(Aq,kq),Sq=Cq*ZG.params.faceFeedbackBoxRatio,Eq=(kq-Sq)/2,_q=(Aq-Sq)/2,Iq=_q+Sq,Tq=Eq+Sq,Mq=!0,Fq=!1}),500)),Nq=Aq-oq.left.imagex,Rq=Aq-oq.right.imagex,Oq=oq.left.imagey,Dq=oq.right.imagey,nq.style.border=Mq&&Nq>_q&&Nq<Iq&&Rq>_q&&Rq<Iq&&Oq>Eq&&Oq<Tq&&Dq>Eq&&Dq<Tq?"solid gray 2px":"solid red 4px"):nq.style.border="solid red 4px"}function zq(e,t,n){if(e)try{return fq.getEyePatches(JG,e,t,n)}catch(e){return null}}function Lq(e,t,n){e.width!==t&&(e.width=t),e.height!==n&&(e.height=n),e.getContext("2d").drawImage(JG,0,0,e.width,e.height)}async function Pq(e,t=oq){var n=[];if(0===mq.length)return null;for(var s in mq)n.push(mq[s].predict(t));return void 0!==e?null===n[e]?null:{x:n[e].x,y:n[e].y,eyeFeatures:t}:0===n.length||null===n[0]?null:{x:n[0].x,y:n[0].y,eyeFeatures:t,all:n}}var Vq=new MG.DataWindow(4),Wq=0;let Uq=null,Gq=-1,qq=!0;async function jq(){return oq=await zq(eq,eq.width,eq.height)}async function Hq(){if(Uq=window.performance.now(),ZG.params.videoIsOn&&(qq&&(qq=!1,ZG.params.getLatestVideoFrameTimestamp(performance.now())),await async function(e=!1){if(Lq(eq,eq.width,eq.height),ZG.params.paused&&!e||(oq=await zq(eq,eq.width,eq.height)),ZG.params.showFaceOverlay){var t=ZG.getTracker();tq.getContext("2d").clearRect(0,0,JG.videoWidth,JG.videoHeight),t.drawFaceOverlay(tq.getContext("2d"),t.getPositions())}ZG.params.showFaceFeedbackBox&&Bq()}()),ZG.params.paused)sq&&!rq&&(sq.style.opacity="0");else if(Uq-Gq>=1e3/ZG.params.framerate&&(Gq=Uq,lq=Pq(),lq=await lq,hq(lq),qq=!0,lq)){Vq.push(lq);var e=0,t=0,n=Vq.length;for(var s in Vq.data)e+=Vq.get(s).x,t+=Vq.get(s).y;var r=MG.bound({x:e/n,y:t/n});ZG.params.storingPoints&&(ZG.storePoints(r.x,r.y,Wq),50==++Wq&&(Wq=0)),sq.style.opacity="",sq.style.left=`${r.x}px`,sq.style.top=`${r.y}px`}requestAnimationFrame(Hq)}var $q=function(e,t,n){if(!ZG.params.paused){if(0===mq.length)return null;for(var s in mq)oq&&mq[s].addData(oq,[e,t],n)}},Kq=async function(e){$q(e.clientX,e.clientY,dq[0]),ZG.params.saveDataAcrossSessions&&await async function(){var e=mq[0].getData()||xq;iU().setItem(wq,vq),iU().setItem(bq,e)}()},Xq=function(e){if(!ZG.params.paused){var t=performance.now();t<pq+ZG.params.moveTickSize||(pq=t,$q(e.clientX,e.clientY,dq[1]))}},Zq=function(e={}){(e=Object.assign({click:!0,move:!0},e)).click&&document.addEventListener("click",Kq,!0),e.move&&document.addEventListener("mousemove",Xq,!0)},Yq=function(e={}){(e=Object.assign({click:!0,move:!0},e)).click&&document.removeEventListener("click",Kq,!0),e.move&&document.removeEventListener("mousemove",Xq,!0)};async function Qq(e="all",t){if(!ZG.params.videoIsOn){function n(e){nj(JG.videoWidth,JG.videoHeight),ZG.setVideoViewerSize(ZG.params.videoViewerWidth,ZG.params.videoViewerHeight),QG.appendChild(eq),ZG.videoCanvas=eq,QG.appendChild(tq),QG.appendChild(nq),e.target.removeEventListener(e.type,n)}YG=t,(QG=document.createElement("div")).id=ZG.params.videoContainerId,QG.style.display="block",QG.style.opacity=ZG.params.showVideo?.8:0,QG.style.left="10px",QG.style.bottom="10px",QG.style.width=ZG.params.videoViewerWidth+"px",QG.style.height=ZG.params.videoViewerHeight+"px",(JG=document.createElement("video")).setAttribute("playsinline",""),JG.id=ZG.params.videoElementId,JG.srcObject=t,JG.autoplay=!0,JG.style.display="block",JG.style.position="absolute",JG.style.width=ZG.params.videoViewerWidth+"px",JG.style.height=ZG.params.videoViewerHeight+"px",(eq=document.createElement("canvas")).id=ZG.params.videoElementCanvasId,eq.style.display="block",eq.style.opacity=0,(tq=document.createElement("canvas")).id=ZG.params.faceOverlayId,tq.style.display=ZG.params.showFaceOverlay?"block":"none",tq.style.position="absolute",ZG.params.mirrorVideo&&(JG.style.setProperty("-moz-transform","scale(-1, 1)"),JG.style.setProperty("-webkit-transform","scale(-1, 1)"),JG.style.setProperty("-o-transform","scale(-1, 1)"),JG.style.setProperty("transform","scale(-1, 1)"),JG.style.setProperty("filter","FlipH"),tq.style.setProperty("-moz-transform","scale(-1, 1)"),tq.style.setProperty("-webkit-transform","scale(-1, 1)"),tq.style.setProperty("-o-transform","scale(-1, 1)"),tq.style.setProperty("transform","scale(-1, 1)"),tq.style.setProperty("filter","FlipH")),(nq=document.createElement("canvas")).id=ZG.params.faceFeedbackBoxId,nq.style.display=ZG.params.showFaceFeedbackBox?"block":"none",nq.style.border="solid red 4px",nq.style.position="absolute",QG.appendChild(JG),document.body.appendChild(QG),JG.addEventListener("timeupdate",n)}"video"!=e&&((sq=document.createElement("div")).id=ZG.params.gazeDotId,sq.style.display=ZG.params.showGazeDot?"block":"none",sq.style.width="10px",sq.style.height="10px",sq.style.left="-10px",sq.style.top="-10px",sq.style.transform="translate(-5px, -5px)",document.body.appendChild(sq),Zq(),ZG.params.paused=!1,performance.now()),await Hq()}ZG.begin=function(e){return ZG._begin(!1,e)},ZG.beginVideo=function(e){ZG._begin(!0,e)};const Jq=e=>ZG.params.activeCamera.id?{video:{...e.video,deviceId:ZG.params.activeCamera.id}}:e;function ej(e){navigator.vendor&&navigator.vendor.indexOf("Apple")>-1?(e.style.opacity=ZG.params.showVideo?"1":"0",e.style.display="block"):e.style.display=ZG.params.showVideo?"block":"none"}ZG._begin=function(e,t){if(!ZG.params.videoIsOn)return void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,s){t.call(navigator,e,n,s)})):Promise.reject(new Error("Unfortunately, your browser does not support access to the webcam through the getUserMedia API. Try to use the latest version of Google Chrome, Mozilla Firefox, Opera, or Microsoft Edge instead."))}),new Promise((async(n,s)=>{let r;try{if(void 0!==navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.enumerateDevices){const s=await navigator.mediaDevices.enumerateDevices();if((e=>{let t,n;uq=[],e.forEach((e=>{"videoinput"===e.kind&&uq.push(e),e.label.includes("FaceTime")&&(t=e.label,n=e.deviceId)})),uq.length&&(ZG.params.activeCamera.label=t||uq[0].label,ZG.params.activeCamera.id=n||uq[0].deviceId)})(s),0===uq.length)throw t(uq),JSON.stringify({message:"We can't find any video input devices.",devices:s});try{r=await navigator.mediaDevices.getUserMedia(Jq(ZG.params.camConstraints))}catch(e){throw t(uq),e}Qq(e?"video":"all",r).then((()=>{uq.length>1&&(e=>{const t=QG,n=document.createElement("select");n.className=n.id="webgazer-videoinput-select",n.name="videoinput",e.forEach(((e,t)=>{var s;n.innerHTML+=`<option value="${e.deviceId+"%"+e.label}"${0===t?" selected":""} name="1">${s=e.label,s.length<8?s:s.slice(0,8)+"..."}</option>`})),n.onchange=e=>{const[t,s]=n.value.split("%");ZG.params.activeCamera.label=s,ZG.params.activeCamera.id=t,ZG.setCameraConstraints(Jq(ZG.params.camConstraints))},t.appendChild(n)})(uq)})),ZG.params.videoIsOn=!0,e||n(ZG)}else t([])}catch(e){throw JG=null,r=null,t([]),s(e),JSON.stringify({error:e,devices:await navigator.mediaDevices.enumerateDevices()})}}));Qq("gaze")},ZG.isReady=function(){return null!==eq&&eq.width>0},ZG.pause=function(){return ZG.params.paused=!0,ZG},ZG.stopLearning=function(e){return Yq(e),ZG},ZG.startLearning=function(e){return Zq(e),ZG},ZG.resume=async function(){return ZG.params.paused?(ZG.params.paused=!1,qq=!0,tj.current&&(clearInterval(tj.current),tj.current=void 0,rq=!1,sq.style.backgroundColor="",sq.style.opacity=""),await Hq(),ZG):ZG},ZG.end=function(e=!1){return e&&(Vq=new MG.DataWindow(4),Wq=0,Uq=null,Gq=-1,Mq=!1,ZG.params.videoIsOn=!1,setTimeout((()=>{ZG.stopVideo(),QG.remove()}),500)),ZG},ZG.stopVideo=function(){return YG.getTracks()[0].stop(),ZG},ZG.detectCompatibility=function(){return void 0!==(navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)},ZG.showVideoPreview=function(e){return ZG.params.showVideoPreview=e,ZG.showVideo(e&&ZG.params.showVideo),ZG.showFaceOverlay(e&&ZG.params.showFaceOverlay),ZG.showFaceFeedbackBox(e&&ZG.params.showFaceFeedbackBox),ZG},ZG.showVideo=function(e,t=.8){return ZG.params.showVideo=e,JG&&ej(JG),QG&&ej(QG),ZG},ZG.showFaceOverlay=function(e){return ZG.params.showFaceOverlay=e,tq&&(tq.style.display=e?"block":"none"),ZG},ZG.showFaceFeedbackBox=function(e){return ZG.params.showFaceFeedbackBox=e,nq&&(nq.style.display=e?"block":"none"),ZG},ZG.showPredictionPoints=function(e){return ZG.params.showGazeDot=e,sq&&(sq.style.display=e?"block":"none"),ZG};const tj={current:void 0};function nj(e,t){eq&&(eq.width=e,eq.height=t),tq&&(tq.width=e,tq.height=t)}ZG.popPredictionPoints=function(){return tj.current&&(clearInterval(tj.current),tj.current=void 0,rq=!1),sq&&ZG.params.showGazeDot&&(rq=!0,sq.style.backgroundColor="red",sq.style.opacity=1,tj.current=setInterval((()=>{sq.style.opacity-=.02,sq.style.opacity<=.02&&(clearInterval(tj.current),tj.current=void 0,rq=!1,sq.style.backgroundColor="",sq.style.opacity="")}),50)),ZG},ZG.saveDataAcrossSessions=function(e){return ZG.params.saveDataAcrossSessions=e,ZG},ZG.applyKalmanFilter=function(e){return ZG.params.applyKalmanFilter=e,ZG},ZG.setCameraConstraints=async function(e){if(ZG.params.camConstraints=e,YG){ZG.pause();try{YG.getVideoTracks().forEach((e=>{e.stop()}));const e=await navigator.mediaDevices.getUserMedia(ZG.params.camConstraints);setTimeout((()=>{const t=e.getVideoTracks()[0].getSettings();YG=e,JG.srcObject=e,nj(t.width,t.height)}),1500)}catch(e){return}await ZG.resume()}},ZG.setStaticVideo=function(e){return e,ZG},ZG.setVideoViewerSize=function(e,t){ZG.params.videoViewerWidth=e,ZG.params.videoViewerHeight=t,JG.style.width=e+"px",JG.style.height=t+"px",QG.style.width=e+"px",QG.style.height=t+"px",tq.style.width=e+"px",tq.style.height=t+"px";var n=ZG.computeValidationBoxSize();nq.style.top=n[0]+"px",nq.style.left=n[1]+"px",nq.style.width=n[2]+"px",nq.style.height=n[3]+"px"},ZG.addMouseEventListeners=function(){return Zq(),ZG},ZG.removeMouseEventListeners=function(){return Yq(),ZG},ZG.recordScreenPosition=function(e,t,n){return $q(e,t,n||dq[0]),ZG},ZG.storePoints=function(e,t,n){aq[n]=e,iq[n]=t},ZG.setTracker=function(e){if(void 0===gq[e]){for(var t in gq);return ZG}return fq=gq[e](),ZG},ZG.setRegression=function(e){if(void 0===yq[e]){for(var t in yq);return ZG}return xq=mq[0].getData(),(mq=[yq[e]()])[0].setData(xq),ZG},ZG.addTrackerModule=function(e,t){gq[e]=function(){return new t}},ZG.addRegressionModule=function(e,t){yq[e]=function(){return new t}},ZG.addRegression=function(e){var t=yq[e]();return xq=mq[0].getData(),t.setData(xq),mq.push(t),ZG},ZG.setGazeListener=function(e){return hq=e,ZG},ZG.clearGazeListener=function(){return hq=cq,ZG},ZG.setVideoElementCanvas=function(e){return eq=e},ZG.clearData=async function(){!function(){for(var e in iU().clear(),mq)mq[e].init()}()},ZG.getTracker=function(){return fq},ZG.getRegression=function(){return mq},ZG.getCurrentPrediction=async function(e=0,t=150,n=5){let s=0;const r=[],a=[];for(let e=0;e<n;e++)s+=performance.now(),Lq(eq,eq.width,eq.height),r.push(await jq()),await KG(1e3/ZG.params.framerate);let i;ZG.params.getLatestVideoFrameTimestamp(Math.round(s/n)),await KG(t);for(const e of r){for(let t=0;t<2;t++)i=await Pq(void 0,e);a.push(i)}const o=Math.round(a.reduce(((e,t)=>t.x>=0&&t.x<=window.innerWidth?e+t.x:e),0)/a.length),l=Math.round(a.reduce(((e,t)=>t.y>=0&&t.y<=window.innerHeight?e+t.y:e),0)/a.length);return sq&&(sq.style.left=`${o}px`,sq.style.top=`${l}px`),{x:o,y:l,raw:a.map((e=>({x:XG(e.x,0),y:XG(e.y,0)})))}},ZG.params.getEventTypes=function(){return dq.slice()},ZG.getVideoElementCanvas=function(){return eq},ZG.getVideoPreviewToCameraResolutionRatio=function(){return[ZG.params.videoViewerWidth/JG.videoWidth,ZG.params.videoViewerHeight/JG.videoHeight]},ZG.getStoredPoints=function(){return[aq,iq]};const sj=ZG;class rj{constructor(e){this.calibrator=e,this.webgazer=sj,this.defaultGazeCallback=null,this.defaultDistanceTrackCallback=null,this._initialized={distance:!1,gaze:!1},this._learning=!0,this._running={distance:!1,gaze:!1},this._runningVideo=!1,this._toFixedN=1}begin({pipWidthPx:e},t){this.checkInitialized("gaze",!0)&&(this._running.gaze||(this.webgazer.begin(this.videoFailed.bind(this)),this._running.gaze=!0,this._runningVideo=!0),Oe(this.calibrator,e,this.calibrator.params.videoOpacity,this.webgazer,t))}beginVideo({pipWidthPx:e},t){this.checkInitialized("distance",!0)&&(this._runningVideo||(this.webgazer.beginVideo(this.videoFailed.bind(this)),this._runningVideo=!0),Oe(this.calibrator,e,this.calibrator.params.videoOpacity,this.webgazer,t))}videoFailed(e){const t=ae(this.calibrator,{showIcon:!0});Q().fire({...t,icon:"error",iconColor:this.calibrator._CONST.COLOR.DARK_RED,showConfirmButton:!1,html:e.length?U.H.RC_errorCameraUseDenied[this.calibrator.L]:U.H.RC_errorNoCamera[this.calibrator.L]})}attachNewCallback(e){this.checkInitialized("gaze",!0)&&this.webgazer.setGazeListener((t=>{if(t){const n=this.calibrator.newGazePositionData=this.getData(t);(0,_.nB)(e,n)}}))}async getGazeNow(e={},t){e=Object.assign({wait:0,frames:5},e);let n=this.calibrator.newGazePositionData=this.getData(await this.webgazer.getCurrentPrediction(0,e.wait,e.frames));return this.webgazer.popPredictionPoints(),(0,_.nB)(t,n),n}end(){this.webgazer.end()}}rj.prototype._init=function({greedyLearner:e,framerate:t,toFixedN:n,showVideo:s,showFaceOverlay:r,showGazer:a},i){this.checkInitialized(i)||("gaze"===i&&(this.webgazer.params.greedyLearner=e,this.webgazer.params.framerate=t,this.webgazer.params.getLatestVideoFrameTimestamp=this._getLatestVideoTimestamp.bind(this),this.showGazer(a)),this._toFixedN=n,this.showVideo(s),this.showFaceOverlay(r),this._initialized[i]=!0)},rj.prototype.checkInitialized=function(e,t=!1){return!!(""===e?this._initialized.gaze||this._initialized.distance:this._initialized[e])},rj.prototype.getData=function(e){let t=performance.now();return{value:{x:(0,_.Nh)(e.x,this._toFixedN),y:(0,_.Nh)(e.y,this._toFixedN),latencyMs:t-this.calibrator._trackingVideoFrameTimestamps.gaze},timestamp:t,raw:e.raw?e.raw:void 0}},rj.prototype.pause=function(){this.webgazer.pause()},rj.prototype.resume=function(){this.webgazer.resume()},rj.prototype.end=function(e,t=!1){if(!this.checkInitialized(e,!0))return;const n=t||!this._initialized.gaze||!this._initialized.distance;"gaze"===e?(this._endGaze(),n&&this.checkInitialized("distance")&&this.calibrator.endDistance(!1,!1),this.calibrator._trackingVideoFrameTimestamps.gaze=0):(this.defaultDistanceTrackCallback=null,n&&this.checkInitialized("gaze")&&this._endGaze()),n?(this._initialized={distance:!1,gaze:!1},this._running={distance:!1,gaze:!1},this.webgazer.end(!0),this._runningVideo=!1):(this._initialized[e]=!1,this._running[e]=!1)},rj.prototype._endGaze=function(){this.webgazer.params.paused=!0,this._learning=!0,this.defaultGazeCallback=null,this.webgazer.clearData(),this.webgazer.params.greedyLearner=!1,this.webgazer.params.framerate=60,this.webgazer.params.getLatestVideoFrameTimestamp=()=>{}},rj.prototype._getLatestVideoTimestamp=function(e){this.calibrator._trackingVideoFrameTimestamps.gaze=e},rj.prototype.startStoringPoints=function(){this.webgazer.params.storingPoints=!0},rj.prototype.stopStoringPoints=function(){this.webgazer.params.storingPoints=!1},rj.prototype.startLearning=function(e){this._learning||(this.webgazer.startLearning(e),this._learning=!0)},rj.prototype.stopLearning=function(e){this._learning&&(this.webgazer.stopLearning(e),this._learning=!1)},rj.prototype.showGazer=function(e){this.webgazer.showPredictionPoints(e)},rj.prototype.showVideo=function(e){this.webgazer.showVideo(e,this.calibrator._params.videoOpacity)},rj.prototype.showFaceOverlay=function(e){this.webgazer.showFaceOverlay(e)},E.A.prototype.performanceCompute=async function(e,t=!1){if(!this.checkInitialized())return;const n=performance.now();let s={_useless:void 0,time:0,randomTime:0};for(;performance.now()-n<500;)s._useless=Array(5e3).fill(Math.floor(10*Math.random())),s.time++;const r=performance.now();for(s._useless=0;performance.now()-r<500;)s._useless+=Math.random(),s.randomTime++;const a={value:{computeArrayFillMHz:(0,_.Nh)(2*s.time/1e6,3),computeRandomMHz:(0,_.Nh)(2*s.randomTime/1e6,3),idealFps:void 0,stressFps:void 0},timestamp:performance.now()};return t||(this.newPerformanceData=a),(0,_.nB)(e,a),a},E.A.prototype.performance=async function(e={},t){if(!this.checkInitialized())return;e=Object.assign({testComputation:!0,testFrameCount:180,testObjectCount:1e4,headline:"🚀 "+U.H.RC_performanceTitle[this.L],description:U.H.RC_performanceIntro[this.L]},e),this._addBackground(),this._addBackgroundText(e.headline,e.description),await(0,_.yy)(200);const n=e.testComputation?await this.performanceCompute(null,!0):{value:{computeArrayFillMHz:void 0,computeRandomMHz:void 0}},s=document.createElement("canvas"),r=s.getContext("2d");s.width=window.innerWidth,s.height=window.innerHeight,this.background.appendChild(s);const a=await aj(r),i=await ij(r,e.testFrameCount,e.testObjectCount),o=this.newPerformanceData={value:{computeArrayFillMHz:n.value.computeArrayFillMHz,computeRandomMHz:n.value.computeRandomMHz,idealFps:Math.round(6e4/(a.end-a.start)),stressFps:Math.round(1e3*e.testFrameCount/(i.end-i.start))},timestamp:performance.now()};return this._removeBackground(),(0,_.nB)(t,o),o};const aj=()=>{let e=60;const t=performance.now();return new Promise((n=>{const s=()=>{e--,e>0?requestAnimationFrame(s):n({start:t,end:performance.now()})};requestAnimationFrame(s)}))},ij=async(e,t,n)=>{let s=t;const r=[],a=["#000000","#333333","#999999"];for(let e=0;e<n;e++)r.push(new oj(a));e.fillStyle="#ffffff";const i=performance.now();return new Promise((t=>{const n=()=>{e.clearRect(0,0,window.innerWidth,window.innerHeight),e.beginPath();for(let t of r)t.move(),t.draw(e);s--,s>0?requestAnimationFrame(n):t({start:i,end:performance.now()})};requestAnimationFrame(n)}))};class oj{constructor(e){this.w=(0,_.Av)(20,70),this.h=(0,_.Av)(30,70),this.x=-this.w+Math.random()*window.innerWidth,this.y=-this.h/2+Math.random()*(window.innerHeight+this.h/2),this.speed=(0,_.Av)(1,5),this.stroke=e[Math.floor(Math.random()*e.length)]}move(){this.x+=this.speed+.5*Math.random(),this.x>window.innerWidth&&(this.x=-this.w)}draw(e){e.strokeStyle=this.stroke,e.fillRect(this.x,this.y,this.w,this.h),e.strokeRect(this.x,this.y,this.w,this.h)}}E.A.prototype.getEquipment=async function(e,t=!1){if(this.equipment&&!t)return(0,_.nB)(e);this._replaceBackground();const n=this,{CM:s,IN_D:r,IN_F:a}=n._CONST.UNITS,i={};i[s]="centimeter",i[r]="inch (decimal, e.g. 11.5 in)",i[a]="inch (fractional, e.g. 12 3/8 in)";const{value:o}=await Q().fire({...ae(n,{showIcon:!1}),title:"Do you have a ruler or tape measure?",html:"Ideally, it should be long enough to measure your viewing distance, but even a 6 inch (15 cm) ruler can be useful. Please select the units you'll use, or indicate that no ruler or tape measure is available.",input:"select",inputOptions:{...i,none:"No ruler or tape measure is available"},inputPlaceholder:"Select an option",inputValidator:e=>new Promise((t=>{e.length||t("Please select an option.");const s="none"!==e;n.newEquipmentData={value:{has:s,unit:s?e:null,equipment:s?"":null},timestamp:performance.now()},t()}))});return o?(0,_.nB)(e):void 0};var lj=__webpack_require__(2016),uj=__webpack_require__(980),cj=__webpack_require__.n(uj),hj=__webpack_require__(3890),dj=__webpack_require__.n(hj);E.A.prototype._checkScreenSize=async function(e,t,n){await this.getEquipment((()=>{pj(this,e,t,n)}))};const pj=async(e,t,n,s)=>{if(e.equipment&&e.equipment.value.has){e._replaceBackground((0,_.$O)("📏 Measure the Length of the Arrow",'Use your ruler (or tape measure) to measure the length of the arrow. Type your numerical answer into the box. Just digits, period, decimal comma, and <span style="font-family: Courier, monospace;">/</span> (forward slash) for fractional inches. Then click OK or hit RETURN.'));const t=t=>[()=>{const n=document.createElement("div");e.background.appendChild(n),n.outerHTML=t},()=>{for(let t of e.background.getElementsByClassName("arrow-two-sided-svg"))t.remove()},{callback:()=>{},content:"Ruler is too short"}],n=await(0,lj.K)(e,...t(cj())),r=await(0,lj.K)(e,...t(dj())),a={};if(n){const t=n.value,s=e.windowWidthPx.value,r=(0,_.Nh)(2.54*s/e.screenPpi.value,1);a.horizontal={...t,calibratorArrowWidthCm:r,arrowWidthPx:s}}if(r){const t=r.value,n=e.windowHeightPx.value,s=(0,_.Nh)(2.54*n/e.screenPpi.value,1);a.vertical={...t,calibratorArrowHeightCm:s,arrowHeightPx:n}}if(a.vertical||a.horizontal){const t={value:a,timestamp:n?n.timestamp:r.timestamp,measure:"screenSize"};e.newCheckData=t,(0,_.nB)(s,t)}}e._removeBackground(),(0,_.nB)(t,n)};E.A.prototype._checkDistance=async function(e,t,n,s){await this.getEquipment((()=>fj(this,e,t,n,s)))};const fj=async(e,t,n,s,r)=>{const a="trackDistance"===s,i=()=>{e._removeBackground(),a||(0,_.nB)(t,n)};if(a&&(0,_.nB)(t,n),e.equipment&&e.equipment.value.has){e._replaceBackground((0,_.$O)("📏 Hold Still and Measure Viewing Distance with Ruler",'Hold still so that your viewing distance from the screen stays unchanged from the last measurement. Please measure the distance from the middle of your screen to one of your eyes using your ruler (or measuring tape). If your ruler is not long enough, then select "Ruler is too short" below. Type your numerical answer into the box, then click OK or hit RETURN.'));const t=await(0,lj.K)(e,null,null,{callback:()=>{},content:"Ruler is too short"});if(t){const n={value:{...t.value,calibratorCm:e.viewingDistanceCm.value,calibratorMethod:e.viewingDistanceCm.method},timestamp:t.timestamp,measure:s};return e.newCheckData=n,i(),void(0,_.nB)(r,n)}}i()};var mj=__webpack_require__(7790),gj=__webpack_require__(627),yj=__webpack_require__.n(gj),bj=__webpack_require__(8110),wj=__webpack_require__.n(bj),vj=__webpack_require__(5072),xj=__webpack_require__.n(vj),Aj=__webpack_require__(7825),kj=__webpack_require__.n(Aj),Cj=__webpack_require__(7659),Sj=__webpack_require__.n(Cj),Ej=__webpack_require__(5056),_j=__webpack_require__.n(Ej),Ij=__webpack_require__(540),Tj=__webpack_require__.n(Ij),Nj=__webpack_require__(1113),Oj=__webpack_require__.n(Nj),Rj=__webpack_require__(4636),Dj={};Dj.styleTagTransform=Oj(),Dj.setAttributes=_j(),Dj.insert=Sj().bind(null,"head"),Dj.domAPI=kj(),Dj.insertStyleElement=Tj();xj()(Rj.A,Dj);Rj.A&&Rj.A.locals&&Rj.A.locals;E.A.prototype.removePanel=function(){return!!this._panelStatus.hasPanel&&(this._panel.panelObserver.unobserve(this._panel.panel),this._panel.panel.remove(),this._panel.panel=null,this._panel.panelObserver=null,this._panel.panelTasks=[],this._panel.panelParent=null,this._panel.panelOptions={},this._panel.panelCallback=null,this._panel.panelResolve=null,this._panelStatus.hasPanel=!1,this._panelStatus.panelFinished=!1,qj(this),!0)},E.A.prototype.resetPanel=function(e=null,t=null,n=null,s=null,r=null){if(!this._panelStatus.hasPanel)return!1;const a=e||[...this._panel.panelTasks],i=n||{...this._panel.panelOptions},o=s&&"function"==typeof s?s:this._panel.panelCallback,l=r||this._panel.panelResolve;return null!==t&&t!==this._panel.panelParent?(this.removePanel(),this.panel(a,t,i,o,l)):(qj(this),this.panel(a,this._panel.panelParent,i,o,l,!0))},E.A.prototype.panel=async function(e,t,n={},s=null,r=null,a=!1){if(this._panelStatus.hasPanel^a)return!1;if(!Bj(e))return!1;const i=document.querySelector(t);if(!i)return!1;const o=Ue((n=Object.assign({headline:U.H.RC_panelTitle[this.L],description:U.H.RC_panelIntro[this.L],showNextButton:!1,nextHeadline:U.H.RC_panelTitleNext[this.L],nextDescription:U.H.RC_panelIntroNext[this.L],nextButton:U.H.RC_panelButton[this.L],color:"#3490de",debug:!1,i18n:!0,_demoActivateAll:!1},n)).color).darken(20).toString();document.documentElement.style.setProperty("--rc-panel-theme-color",n.color),document.documentElement.style.setProperty("--rc-panel-darken-color",o),document.documentElement.style.setProperty("--rc-panel-theme-color-semi",n.color+"66"),document.documentElement.style.setProperty("--rc-panel-darken-color-semi",o+"88");const l=document.createElement("div");l.className=l.id="rc-panel",this.LD===this._CONST.RTL?l.className+=" rc-lang-rtl":l.className+=" rc-lang-ltr",n.i18n&&(l.innerHTML+='<div class="rc-panel-language-parent" id="rc-panel-language-parent"></div>'),l.innerHTML+=`<h1 class="rc-panel-title" id="rc-panel-title">${n.headline}</h1>`,l.innerHTML+=`<p class="rc-panel-description" id="rc-panel-description">${n.description}</p>`,l.innerHTML+='<div class="rc-panel-steps" id="rc-panel-steps"></div>',a?i.replaceChild(l,this._panel.panel):i.appendChild(l);const u=l.querySelector("#rc-panel-steps"),c=this,h=new ResizeObserver((()=>{Pj(u,l.offsetWidth,c.LD)}));if(h.observe(l),Pj(u,l.offsetWidth,this.LD),0===e.length)u.className+=" rc-panel-no-steps";else for(let t in e){const s=zj(this,t,e[t],n);u.appendChild(s)}(n.showNextButton||n._demoActivateAll)&&u.appendChild(Lj(e.length,n));Vj(this,{index:0,finished:[]},e,n,s),this._panel.panel=l,this._panel.panelObserver=h,this._panel.panelTasks=e,this._panel.panelParent=t;const d={...n};return n.headline===U.H.RC_panelTitle[this.L]&&delete d.headline,n.description===U.H.RC_panelIntro[this.L]&&delete d.description,n.nextHeadline===U.H.RC_panelTitleNext[this.L]&&delete d.nextHeadline,n.nextDescription===U.H.RC_panelIntroNext[this.L]&&delete d.nextDescription,n.nextButton===U.H.RC_panelButton[this.L]&&delete d.nextButton,this._panel.panelOptions=d,this._panel.panelCallback=s,this._panel.panelResolve=r,this._panelStatus.hasPanel=!0,this._panelStatus.panelFinished=!1,n.i18n&&jj(this,document.querySelector("#rc-panel-language-parent"),o),n.debug&&(0,mj.K)(this,l,e,s),null===r&&(r=!0),new Promise((e=>{const t=setInterval((()=>{this._panelStatus.panelFinished&&(clearInterval(t),e(r))}),100);this._panelStatus.panelResolveIntervals.push(t)}))};const Mj={screenSize:{use:1,name:U.H.RC_screenSize["en-US"],phraseHandle:"RC_screenSize"},measureDistance:{use:1,name:U.H.RC_viewingDistance["en-US"],phraseHandle:"RC_viewingDistance"},trackDistance:{use:2,name:U.H.RC_distanceTracking["en-US"],phraseHandle:"RC_distanceTracking"},trackGaze:{use:2,name:U.H.RC_gazeTracking["en-US"],phraseHandle:"RC_gazeTracking"},performance:{use:1,name:U.H.RC_performance["en-US"],phraseHandle:"RC_performance"}},Fj=Object.keys(Mj),Bj=e=>{if(!Array.isArray(e))return!1;for(let t of e){if(!("object"!=typeof t||null!==t&&Fj.includes(t.name)))return!1;if("string"==typeof t&&!Fj.includes(t))return!1}return!0},zj=(e,t,n,s)=>{let r,a;switch(Mj[Uj(n)].use){case 0:case 1:default:r="",a="";break;case 2:r=yj(),a=U.H.RC_panelUsesWebcam[e.L];break;case 3:r=yj()+wj(),a=U.H.RC_panelUsesWebcamPhone[e.L]}const i=document.createElement("button");return i.className="rc-panel-step rc-panel-step-todo"+(s._demoActivateAll?" rc-panel-step-active":" rc-panel-step-inactive"),i.dataset.index=t,i.innerHTML=(r.length?`<p class="rc-panel-step-use">${r}</p>`:"")+`<p class="rc-panel-step-name">${Number(t)+1}&nbsp;&nbsp;${U.H[Mj[Uj(n)].phraseHandle][e.L]}</p>`+(r.length?`<p class="rc-panel-step-use-tip">${r} ${a}</p>`:""),i},Lj=(e,t)=>{const n=document.createElement("button");return n.className="rc-panel-step rc-panel-next-button rc-panel-step-inactive",n.dataset.index=e,n.innerHTML=`<p class="rc-panel-step-name">${t.nextButton}</p>`,n},Pj=(e,t,n)=>{t<640?(e.classList.add("rc-panel-steps-s"),e.classList.remove("rc-panel-steps-l"),e.childNodes.forEach((e=>{e.classList.add(`rc-lang-${n.toLowerCase()}`)}))):(e.classList.add("rc-panel-steps-l"),e.classList.remove("rc-panel-steps-s"),e.childNodes.forEach((e=>{e.classList.remove("rc-lang-ltr"),e.classList.remove("rc-lang-rtl")})))},Vj=(e,t,n,s,r)=>{document.querySelectorAll(".rc-panel-step").forEach(((a,i)=>{const o=Number(a.dataset.index);if(s._demoActivateAll)a.onclick=()=>{e[Uj(n[i])](...Gj(n[i])),Wj(i),t.finished.push(Uj(n[i]));for(let e of n)if(!t.finished.includes(Uj(e)))return;let s=document.querySelector(".rc-panel-next-button");s.classList.replace("rc-panel-step-inactive","rc-panel-step-active"),s.onclick=()=>{e._panelStatus.panelFinished=!0,(0,_.nB)(r,{timestamp:performance.now()})}};else if(o===t.index)if(a.classList.replace("rc-panel-step-inactive","rc-panel-step-active"),a.focus(),o!==n.length)o!==n.length-1||s.showNextButton?a.onclick=()=>{e[Uj(n[t.index])](...Gj(n[t.index],(()=>{Wj(t.index),t.index++,Vj(e,t,n,s,r)})))}:a.onclick=()=>{e[Uj(n[t.index])](...Gj(n[t.index],(()=>{Wj(t.index)}),r,(()=>{e._panelStatus.panelFinished=!0})))};else if(o===n.length&&s.showNextButton){const{headline:t,nextHeadline:n,description:i,nextDescription:o}=s;t!==n&&(document.querySelector("#rc-panel-title").innerHTML=n),i!==o&&(document.querySelector("#rc-panel-description").innerHTML=o),a.onclick=()=>{e._panelStatus.panelFinished=!0,(0,_.nB)(r,{timestamp:performance.now()})}}}))},Wj=e=>{document.querySelectorAll(".rc-panel-step").forEach((t=>{Number(t.dataset.index)===e&&(t.classList.replace("rc-panel-step-todo","rc-panel-step-finished"),t.classList.replace("rc-panel-step-active","rc-panel-step-inactive"))}))},Uj=e=>"string"==typeof e?e:e.name,Gj=(e,t,n=null,s=null)=>{"string"==typeof e&&(e={name:e});const r=()=>{(0,_.nB)(t),(0,_.nB)(n,{timestamp:performance.now()}),(0,_.nB)(s)};return["screenSize","measureDistance","performance"].includes(e.name)?[e.options||{},t=>{(0,_.nB)(e.callback,t),r()}]:"trackGaze"===e.name?[e.options||{},t=>{(0,_.nB)(e.callbackOnCalibrationEnd,t),r()},e.callbackTrack||null]:"trackDistance"===e.name?[e.options||{},t=>{(0,_.nB)(e.callbackStatic,t),r()},e.callbackTrack||null]:void 0},qj=e=>{e._panelStatus.panelResolveIntervals.forEach((e=>clearInterval(e))),e._panelStatus.panelResolveIntervals=[]},jj=(e,t,n)=>{let s=`<select name="rc-lang" id="rc-panel-lang-picker" style="color: ${n} !important">`;for(let t of e.supportedLanguages)e.L===t.language&&(s+=`<option value="${t.language}" selected>${t.languageNameNative}</option>`);for(let t of e.supportedLanguages)e.L!==t.language&&(s+=`<option value="${t.language}">${t.languageNameNative}</option>`);s+="</select>",t.innerHTML=s,document.querySelector("#rc-panel-lang-picker").onchange=()=>{e.newLanguage(document.querySelector("#rc-panel-lang-picker").value),e.resetPanel()}};E.A.prototype.backgroundColor=function(e=null){if(!this.checkInitialized())return null;null!==e&&/^#([0-9A-F]{3}){1,2}$/i.test(e)?this._params.backgroundColor=e:this._params.backgroundColor="#eee";let t=document.querySelector("#calibration-background");return t&&(t.style.background=this.params.backgroundColor),this.params.backgroundColor},E.A.prototype.videoOpacity=function(e=null){if(!this.checkInitialized())return null;null===e||Number(e)!==e||Number(e)>1||Number(e)<0?this._params.videoOpacity=.8:this._params.videoOpacity=e;let t=document.querySelector("#webgazerVideoContainer");return t&&(t.style.opacity=this.params.videoOpacity),this.params.videoOpacity},E.A.prototype.showCancelButton=function(e=!0){return this.checkInitialized()?(this._params.showCancelButton=!!e,this.params.showCancelButton):null};var Hj=__webpack_require__(9725),$j={};$j.styleTagTransform=Oj(),$j.setAttributes=_j(),$j.insert=Sj().bind(null,"head"),$j.domAPI=kj(),$j.insertStyleElement=Tj();xj()(Hj.A,$j);Hj.A&&Hj.A.locals&&Hj.A.locals;var Kj=__webpack_require__(5151),Xj={};Xj.styleTagTransform=Oj(),Xj.setAttributes=_j(),Xj.insert=Sj().bind(null,"head"),Xj.domAPI=kj(),Xj.insertStyleElement=Tj();xj()(Kj.A,Xj);Kj.A&&Kj.A.locals&&Kj.A.locals;var Zj=__webpack_require__(2945),Yj={};Yj.styleTagTransform=Oj(),Yj.setAttributes=_j(),Yj.insert=Sj().bind(null,"head"),Yj.domAPI=kj(),Yj.insertStyleElement=Tj();xj()(Zj.A,Yj);Zj.A&&Zj.A.locals&&Zj.A.locals;var Qj=__webpack_require__(9057),Jj={};Jj.styleTagTransform=Oj(),Jj.setAttributes=_j(),Jj.insert=Sj().bind(null,"head"),Jj.domAPI=kj(),Jj.insertStyleElement=Tj();xj()(Qj.A,Jj);Qj.A&&Qj.A.locals&&Qj.A.locals;var eH=__webpack_require__(4889),tH={};tH.styleTagTransform=Oj(),tH.setAttributes=_j(),tH.insert=Sj().bind(null,"head"),tH.domAPI=kj(),tH.insertStyleElement=Tj();xj()(eH.A,tH);eH.A&&eH.A.locals&&eH.A.locals;var nH=__webpack_require__(2636),sH={};sH.styleTagTransform=Oj(),sH.setAttributes=_j(),sH.insert=Sj().bind(null,"head"),sH.domAPI=kj(),sH.insertStyleElement=Tj();xj()(nH.A,sH);nH.A&&nH.A.locals&&nH.A.locals;var rH=__webpack_require__(2921),aH={};aH.styleTagTransform=Oj(),aH.setAttributes=_j(),aH.insert=Sj().bind(null,"head"),aH.domAPI=kj(),aH.insertStyleElement=Tj();xj()(rH.A,aH);rH.A&&rH.A.locals&&rH.A.locals;var iH=__webpack_require__(7271),oH={};oH.styleTagTransform=Oj(),oH.setAttributes=_j(),oH.insert=Sj().bind(null,"head"),oH.domAPI=kj(),oH.insertStyleElement=Tj();xj()(iH.A,oH);iH.A&&iH.A.locals&&iH.A.locals;var lH=__webpack_require__(2551),uH={};uH.styleTagTransform=Oj(),uH.setAttributes=_j(),uH.insert=Sj().bind(null,"head"),uH.domAPI=kj(),uH.insertStyleElement=Tj();xj()(lH.A,uH);lH.A&&lH.A.locals&&lH.A.locals;var cH=__webpack_require__(8470),hH={};hH.styleTagTransform=Oj(),hH.setAttributes=_j(),hH.insert=Sj().bind(null,"head"),hH.domAPI=kj(),hH.insertStyleElement=Tj();xj()(cH.A,hH);cH.A&&cH.A.locals&&cH.A.locals;var dH=__webpack_require__(2535),pH={};pH.styleTagTransform=Oj(),pH.setAttributes=_j(),pH.insert=Sj().bind(null,"head"),pH.domAPI=kj(),pH.insertStyleElement=Tj();xj()(dH.A,pH);dH.A&&dH.A.locals&&dH.A.locals;var fH=__webpack_require__(663),mH={};mH.styleTagTransform=Oj(),mH.setAttributes=_j(),mH.insert=Sj().bind(null,"head"),mH.domAPI=kj(),mH.insertStyleElement=Tj();xj()(fH.A,mH);fH.A&&fH.A.locals&&fH.A.locals;var gH=__webpack_require__(5319),yH={};yH.styleTagTransform=Oj(),yH.setAttributes=_j(),yH.insert=Sj().bind(null,"head"),yH.domAPI=kj(),yH.insertStyleElement=Tj();xj()(gH.A,yH);gH.A&&gH.A.locals&&gH.A.locals;var bH=__webpack_require__(290),wH={};wH.styleTagTransform=Oj(),wH.setAttributes=_j(),wH.insert=Sj().bind(null,"head"),wH.domAPI=kj(),wH.insertStyleElement=Tj();xj()(bH.A,wH);bH.A&&bH.A.locals&&bH.A.locals;const vH=new E.A;vH.gazeTracker=new rj(vH);const xH=vH})(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})()));
//# sourceMappingURL=RemoteCalibrator.min.js.map